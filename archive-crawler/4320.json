{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":202034705,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"P_8TDJ8eEO08oCFtSGKuDW6V4SPqtlY3QeKf41HTrYCTpgLjiL6SsUv_Rsfo3qdqadnToWRSQNu0WQxfPVWzmF4Jyia4an8","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Getting offset of the next archive record for archive reader","postDate":"1182130581","msgId":4320,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2NzVFMTk1LjcwNjA0MDJAZHVib2NlLm5ldD4=","inReplyToHeader":"PGY0dHJrbStoMzI1QGVHcm91cHMuY29tPg==","referencesHeader":"PGY0dHJrbStoMzI1QGVHcm91cHMuY29tPg=="},"prevInTopic":4312,"nextInTopic":4321,"prevInTime":4319,"nextInTime":4321,"topicId":4312,"numMessagesInTopic":3,"msgSnippet":"... ARCReader does not know the offset of the next record -- not until its read the current record to figure how long the current record is (The offset of","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 80743 invoked from network); 18 Jun 2007 01:35:27 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m43.grp.scd.yahoo.com with QMQP; 18 Jun 2007 01:35:27 -0000\r\nReceived: from unknown (HELO mail5.epsilon.netvigour.com) (208.229.144.195)\n  by mta14.grp.scd.yahoo.com with SMTP; 18 Jun 2007 01:35:25 -0000\r\nReceived: from incoming-imf1.netvigour.com ([10.201.10.9]) by mail5.epsilon.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Sun, 17 Jun 2007 21:33:22 -0400\r\nReceived: from [192.168.1.125] ([63.203.238.117]) by incoming-imf1.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Sun, 17 Jun 2007 21:33:22 -0400\r\nMessage-ID: &lt;4675E195.7060402@...&gt;\r\nDate: Sun, 17 Jun 2007 18:36:21 -0700\r\nUser-Agent: Thunderbird 1.5.0.12 (Macintosh/20070509)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f4trkm+h325@...&gt;\r\nIn-Reply-To: &lt;f4trkm+h325@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: stack@...\r\nX-OriginalArrivalTime: 18 Jun 2007 01:33:22.0533 (UTC) FILETIME=[A874B150:01C7B148]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Getting offset of the next archive record for\n archive reader\r\nX-Yahoo-Group-Post: member; u=202034705; y=0rJ9pGG6VcbsrFva2i8GaqgCePvgTyP5x11EdULMpPinzWSDkgYyXIgN\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nCetin Sert wrote:\n&gt;\n&gt; How is it possible to determine the offset of the next archive record\n&gt; while reading an arc file through ArchiveReader?\n&gt;\n\n\n\n\nARCReader does not know the offset of the &#39;next&#39; record -- not until its \nread the current record to figure how long the current record is (The \noffset of the current record can be obtained from the current record&#39;s \nmetadata. See \nhttp://crawler.archive.org/apidocs/org/archive/io/arc/ARCRecord.html#getMetaData()).\n\nYou could do a one-type pass over your ARCs to find all offsets and save \nthis to the side keyed by URL or whatever your fancy as an &#39;index&#39;.  You \ncould then do extractions of particular records by passing offsets when \nyou invoke the ArchiveReaderFactory.get() or Reader.get() or use the \nindex for skipping the current record to get quickly to the next.\n\nSt.Ack\n\n\n\n&gt;\n&gt; record.available() does not work. o__O&quot; I want to be able to use it a\n&gt; function like this.\n&gt;\n&gt; public static String get(String file, long offset)\n&gt; throws MalformedURLException, IOException {\n&gt; ArchiveReader reader = ArchiveReaderFactory.get(file);\n&gt; ArchiveRecord record = reader.get(offset);\n&gt; return getRecordContents(record, &quot;UTF8&quot;);\n&gt; }\n&gt;\n&gt; Best Regards,\n&gt; Cetin Sert\n&gt;\n&gt;  \n\n\n"}}