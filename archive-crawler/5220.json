{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":190931801,"authorName":"Gerwin van Doorn","from":"&quot;Gerwin van Doorn&quot; &lt;g.h.vandoorn@...&gt;","profile":"gvd78","replyTo":"LIST","senderId":"Tih2rsDPtVyhYQlFeQ4-HlMVxjV9bqirBgCmrh7L6vMvtj197Ou3Y9Lz7bw0cfyAykQl_oqIM_bHay562FNli4_uYVO6FEZR0T0gV0bUl076Rw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"How to read a seed.txt using JMX on Heritrix 2?","postDate":"1211202625","msgId":5220,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGcwcnU4MSt2NjVnQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":5228,"prevInTime":5219,"nextInTime":5221,"topicId":5220,"numMessagesInTopic":2,"msgSnippet":"Hi! We are using Heritrix 2 as a crawler and would like to read and write the seed file of a job using JMX. We use the code from org.archive.webui.Seeds","rawEmail":"Return-Path: &lt;g.h.vandoorn@...&gt;\r\nX-Sender: g.h.vandoorn@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 65571 invoked from network); 19 May 2008 13:10:26 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m45.grp.scd.yahoo.com with QMQP; 19 May 2008 13:10:26 -0000\r\nX-Received: from unknown (HELO n47a.bullet.mail.sp1.yahoo.com) (66.163.168.141)\n  by mta17.grp.scd.yahoo.com with SMTP; 19 May 2008 13:10:26 -0000\r\nX-Received: from [216.252.122.219] by n47.bullet.mail.sp1.yahoo.com with NNFMP; 19 May 2008 13:10:26 -0000\r\nX-Received: from [66.218.69.3] by t4.bullet.sp1.yahoo.com with NNFMP; 19 May 2008 13:10:26 -0000\r\nX-Received: from [66.218.67.197] by t3.bullet.scd.yahoo.com with NNFMP; 19 May 2008 13:10:26 -0000\r\nDate: Mon, 19 May 2008 13:10:25 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;g0ru81+v65g@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gerwin van Doorn&quot; &lt;g.h.vandoorn@...&gt;\r\nSubject: How to read a seed.txt using JMX on Heritrix 2?\r\nX-Yahoo-Group-Post: member; u=190931801; y=gK9Xc6lodrEXwutOflbwQDr8-tl-S01tJf7mTe-1WTE\r\nX-Yahoo-Profile: gvd78\r\n\r\nHi!\n\nWe are using Heritrix 2 as a crawler and would like to read and write\n=\r\nthe seed file of a job using JMX. We use the code from\norg.archive.webui.Se=\r\neds (.java, see below) but it does not work.\n\nWhen calling long size =3D en=\r\ngine.getFileSize(job.encode(),            \n        SETTINGS_PATH); we get a=\r\nn error saying root:seeds:seedsfile\ndoesnt exist. Removing this line gives =\r\nthe error :\n\nroot:seeds:seedsFile is invalid because\norg.archive.modules.se=\r\neds.SeedModuleImpl does not define a key named\nseedsFile\n\nwhen calling shee=\r\ntManager.getFilePath(SETTINGS_PATH)...\n\nAny hints on how to retrieve the se=\r\ned file remotely using JMX?\n\n\n public static void showSeeds(\n            Se=\r\nrvletContext sc,\n            HttpServletRequest request,\n            HttpSe=\r\nrvletResponse response) throws Exception {\n      \n    \tCrawler crawler =3D =\r\nHome.getCrawler(request);\n        Remote&lt;JMXSheetManager&gt; remote =3D  Sheet=\r\ns.getSheetManager(request);\n\n        try {\n            CrawlJob job =3D (Cr=\r\nawlJob)request.getAttribute(&quot;job&quot;);\n            JMXConnector jmxc =3D remot=\r\ne.getJMXConnector();\n            JMXSheetManager sheetManager =3D remote.ge=\r\ntObject(); \n            Engine engine =3D BeanProxy.proxy(\n                =\r\n    jmxc.getMBeanServerConnection(), \n                    crawler.getObject=\r\nName(), \n                    Engine.class);\n\n            long size =3D engi=\r\nne.getFileSize(job.encode(), \n                    SETTINGS_PATH);\n         =\r\n   request.setAttribute(&quot;overflow&quot;, size &gt; MAX_FILE_SIZE);\n\n            Fil=\r\ne f =3D new File(sheetManager.getFilePath(SETTINGS_PATH));\n            Stri=\r\nng seeds =3D engine.readFile(job.encode(),\n                    SETTINGS_PAT=\r\nH,\n                    null,\n                    0,\n                    MAX=\r\n_FILE_SIZE);\n\n  request.setAttribute(&quot;seeds&quot;, seeds);\n            request.s=\r\netAttribute(&quot;seedfile&quot;, f.getAbsolutePath());\n            Misc.forward(requ=\r\nest, response, \n                &quot;/seeds/page_seed_editor.jsp&quot;);\n        } f=\r\ninally {\n            remote.close();\n        }\n}\n\n\n"}}