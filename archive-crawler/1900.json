{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":214587980,"authorName":"Christian Kohlschuetter","from":"Christian Kohlschuetter &lt;ck-heritrix@...&gt;","replyTo":"LIST","senderId":"fZvIh02RJvestRqU8Pw4AHOTjTn0-cX_u-_pZyDtbmtgwSd6wIrGlKS5lbgUV0LO40ZsYuTXU7IvqJUQqBiOWwDHlLnEHTmcf6HV9uEN3-RajRqXnD5PZg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] BDB, state, and disk usage, and other questions","postDate":"1117613622","msgId":1900,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDUwNjAxMTAxMy40MzA2Ni5jay1oZXJpdHJpeEBuZXdzY2x1Yi5kZT4=","inReplyToHeader":"PDQyOUNCRjQ5LjQwNDA0MDZAYXJjaGl2ZS5vcmc+","referencesHeader":"PDE3MDQxLjYzNDc0LjkxNzcyLjkwMjI4MEB0aXBoYXJlcy5iYXNpc3RlY2gubmV0PiA8MjAwNTA1MzAxMzI0LjI3OTI5LmNrLWhlcml0cml4QG5ld3NjbHViLmRlPiA8NDI5Q0JGNDkuNDA0MDQwNkBhcmNoaXZlLm9yZz4="},"prevInTopic":1899,"nextInTopic":0,"prevInTime":1899,"nextInTime":1901,"topicId":1868,"numMessagesInTopic":9,"msgSnippet":"... The error might only occur if the % is at the end of the query string (see stacktrace). ... I would consider passing invalid URIs the queue as a bug. We","rawEmail":"Return-Path: &lt;ck-heritrix@...&gt;\r\nX-Sender: ck-heritrix@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 51018 invoked from network); 1 Jun 2005 08:38:19 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m29.grp.scd.yahoo.com with QMQP; 1 Jun 2005 08:38:19 -0000\r\nReceived: from unknown (HELO mail.newsclub.de) (130.75.2.42)\n  by mta1.grp.scd.yahoo.com with SMTP; 1 Jun 2005 08:38:19 -0000\r\nReceived: (qmail 13930 invoked by uid 2002); 1 Jun 2005 08:13:45 -0000\r\nReceived: from ck-heritrix@... by nhf3.rrzn.uni-hannover.de by uid 207 with qmail-scanner-1.21 \n (clamscan: 0.67. spamassassin: 2.63.  Clear:RC:0(130.75.87.112):SA:0(-2.6/5.0):. \n Processed in 1.570432 secs); 01 Jun 2005 08:13:45 -0000\r\nX-Spam-Status: No, hits=-2.6 required=5.0\r\nReceived: from pc112.l3s.uni-hannover.de (HELO mail.newsclub.de) (webmail@...@130.75.87.112)\n  by nhf3.rrzn.uni-hannover.de with RC4-MD5 encrypted SMTP; 1 Jun 2005 08:13:43 -0000\r\nOrganization: NewsClub\r\nTo: archive-crawler@yahoogroups.com\r\nDate: Wed, 1 Jun 2005 10:13:42 +0200\r\nUser-Agent: KMail/1.8\r\nCc: Gordon Mohr &lt;gojomo@...&gt;\r\nReferences: &lt;17041.63474.91772.902280@...&gt; &lt;200505301324.27929.ck-heritrix@...&gt; &lt;429CBF49.4040406@...&gt;\r\nIn-Reply-To: &lt;429CBF49.4040406@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n  charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nMessage-Id: &lt;200506011013.43066.ck-heritrix@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Christian Kohlschuetter &lt;ck-heritrix@...&gt;\r\nSubject: Re: [archive-crawler] BDB, state, and disk usage, and other questions\r\nX-Yahoo-Group-Post: member; u=214587980\r\n\r\nOn Tuesday 31 May 2005 21:47, Gordon Mohr wrote:\n&gt; Thanks for the report. I=\r\nt seems that problem URIs that would be\n&gt; harmlessly ignored at a later ste=\r\np are now causing problems in\n&gt; the optimized serialization.\n&gt;\n&gt; I&#39;ve been =\r\nable to reproduce the &quot;Relative URI but no base&quot;\n&gt; exception on serializati=\r\non, but not the &quot;Invalid URL encoding&quot;\n&gt; esception on deserialization, even=\r\n trying a URI with trailing\n&gt; &#39;%&#39;.  Can you suggest a URI or page context w=\r\nhere this is\n&gt; triggered?\n\nThe error might only occur if the &#39;%&#39; is at the =\r\nend of the query string (see \nstacktrace).\n\n&gt; I think the fix will be twofo=\r\nld: (1) ensure these bad URIs are\n&gt; discarded earlier, so they are never qu=\r\neued; (2) making the\n&gt; queueing more robust against any case where a bad UR=\r\nI slips\n&gt; through.\n\nI would consider passing invalid URIs the queue\nas a bu=\r\ng. We should concentrate on (1).\n\nIn this special case (&#39;%&#39;), I suggest to =\r\nmodify the URI parser instead -- we \nare already very generous when parsing=\r\n bad URIs (and my Firefox browser \nhappily accepts that URI, too).\n\n\nAll th=\r\ne best,\n\nChristian\n\n\n  Stacktrace:\njava.lang.RuntimeException: Could not en=\r\nqueue \nhttp://www.ecmrecords.com/Catalogue/ECM/1700/1792.php?lvredir=3D712&=\r\ncat=3D%2FArtists%  \n-- message: Invalid URL encoding\n\tat org.archive.crawle=\r\nr.frontier.WorkQueue.enqueue(WorkQueue.java:126)\n\tat \norg.archive.crawler.f=\r\nrontier.WorkQueueFrontier.sendToQueue(WorkQueueFrontier.java:338)\n\tat \norg.=\r\narchive.crawler.frontier.WorkQueueFrontier.receive(WorkQueueFrontier.java:3=\r\n25)\n\tat org.archive.crawler.util.NewUriUniqFilter.addNow(NewUriUniqFilter.j=\r\nava:90)\n\tat org.archive.crawler.util.NewUriUniqFilter.add(NewUriUniqFilter.=\r\njava:68)\n\tat \norg.archive.crawler.frontier.WorkQueueFrontier.schedule(WorkQ=\r\nueueFrontier.java:308)\n\tat \norg.archive.crawler.frontier.AbstractFrontier.l=\r\noadSeeds(AbstractFrontier.java:472)\n\tat \norg.archive.crawler.frontier.WorkQ=\r\nueueFrontier.initialize(WorkQueueFrontier.java:230)\n\tat \norg.archive.crawle=\r\nr.framework.CrawlController.setupCrawlModules(CrawlController.java:572)\n\tat=\r\n \norg.archive.crawler.framework.CrawlController.initialize(CrawlController.=\r\njava:336)\n\tat \norg.archive.crawler.admin.CrawlJobHandler.startNextJobIntern=\r\nal(CrawlJobHandler.java:1066)\n\tat org.archive.crawler.admin.CrawlJobHandler=\r\n$2.run(CrawlJobHandler.java:1032)\n\tat java.lang.Thread.run(Thread.java:595)=\r\n\nCaused by: org.apache.commons.httpclient.URIException: Invalid URL encodin=\r\ng\n\tat org.apache.commons.httpclient.URI.decode(URI.java:1768)\n\tat org.apach=\r\ne.commons.httpclient.URI.decode(URI.java:1724)\n\tat org.apache.commons.httpc=\r\nlient.URI.getURI(URI.java:3743)\n\tat \norg.archive.crawler.datamodel.Candidat=\r\neURI.writeObject(CandidateURI.java:517)\n\tat sun.reflect.GeneratedMethodAcce=\r\nssor2.invoke(Unknown Source)\n\tat \nsun.reflect.DelegatingMethodAccessorImpl.=\r\ninvoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.i=\r\nnvoke(Method.java:585)\n\tat java.io.ObjectStreamClass.invokeWriteObject(Obje=\r\nctStreamClass.java:890)\n\tat java.io.ObjectOutputStream.writeSerialData(Obje=\r\nctOutputStream.java:1333)\n\tat \njava.io.ObjectOutputStream.writeOrdinaryObje=\r\nct(ObjectOutputStream.java:1284)\n\tat java.io.ObjectOutputStream.writeObject=\r\n0(ObjectOutputStream.java:1073)\n\tat java.io.ObjectOutputStream.writeObject(=\r\nObjectOutputStream.java:291)\n\tat \nde.kohlschuetter.collections.queues.Bucke=\r\ntQueue.enqueue(BucketQueue.java:221)\n\tat org.archive.crawler.frontier.NewWo=\r\nrkQueue.insertItem(NewWorkQueue.java:53)\n\tat org.archive.crawler.frontier.W=\r\norkQueue.insert(WorkQueue.java:352)\n\tat org.archive.crawler.frontier.WorkQu=\r\neue.enqueue(WorkQueue.java:122)\n\t... 12 more\n-- \nChristian Kohlsch=FCtter\nm=\r\nailto: ck -at- NewsClub.de\n\n"}}