{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":502766824,"authorName":"crawltst","from":"&quot;crawltst&quot; &lt;crawltst@...&gt;","profile":"crawltst","replyTo":"LIST","senderId":"74DcIx6TJnDBOUgOX2YA97zXlpueKrhKPnrtM9KoaqA11zDwM9KgyaaG7bUxstU_GqI-cQktmuKXEj7EbXJHr47pHT6xpQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Crawling everything but only store images","postDate":"1324141440","msgId":7460,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGpjaWkyMCs2YWVtQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRFRUJBMjI4LjQwODAwMDBAYXJjaGl2ZS5vcmc+"},"prevInTopic":7455,"nextInTopic":0,"prevInTime":7459,"nextInTime":7461,"topicId":7451,"numMessagesInTopic":3,"msgSnippet":"Hi Thank you very much. You re right. But is it possible to use DecideRules inside warcWriter beans? I want to do this with MirrorWriterProcessor is it","rawEmail":"Return-Path: &lt;crawltst@...&gt;\r\nX-Sender: crawltst@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 57461 invoked from network); 17 Dec 2011 17:04:10 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m6.grp.sp2.yahoo.com with QMQP; 17 Dec 2011 17:04:10 -0000\r\nX-Received: from unknown (HELO ng8-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.171)\n  by mta1.grp.sp2.yahoo.com with SMTP; 17 Dec 2011 17:04:10 -0000\r\nX-Received: from [98.138.217.182] by ng8.bullet.mail.ne1.yahoo.com with NNFMP; 17 Dec 2011 17:04:01 -0000\r\nX-Received: from [69.147.65.150] by tg7.bullet.mail.ne1.yahoo.com with NNFMP; 17 Dec 2011 17:04:01 -0000\r\nX-Received: from [98.137.34.119] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 17 Dec 2011 17:04:01 -0000\r\nDate: Sat, 17 Dec 2011 17:04:00 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;jcii20+6aem@...&gt;\r\nIn-Reply-To: &lt;4EEBA228.4080000@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;crawltst&quot; &lt;crawltst@...&gt;\r\nSubject: Re: Crawling everything but only store images\r\nX-Yahoo-Group-Post: member; u=502766824; y=vDrGQXZWsIsXwIxOj3GzMH8lSom9arSqg8HTci3z3Tx2jLw\r\nX-Yahoo-Profile: crawltst\r\n\r\nHi\nThank you very much. You&#39;re right.\nBut is it possible to use &quot;DecideRule=\r\ns&quot; inside &quot;warcWriter&quot; beans?\nI want to do this with &quot;MirrorWriterProcessor=\r\n&quot; is it possible to?\n\nThanks\n\n--- In archive-crawler@yahoogroups.com, Noah =\r\nLevitt &lt;nlevitt@...&gt; wrote:\n&gt;\n&gt; Hello,\n&gt;\n&gt; Your question sort of contains t=\r\nhe answer. You want to crawl\neverything, but the ContentTypeNotMatchesRegex=\r\nDecideRule you added to\nthe scope prevents anything from being crawled. Ins=\r\ntead you need to put\na rule on the writer to only store images. Something l=\r\nike this should\nwork:\n&gt;\n&gt;   &lt;bean id=3D&quot;warcWriter&quot;\nclass=3D&quot;org.archive.mo=\r\ndules.writer.WARCWriterProcessor&quot;&gt;\n&gt;    &lt;property name=3D&quot;shouldProcessRule=\r\n&quot;&gt;\n&gt;     &lt;bean class=3D&#39;org.archive.modules.deciderules.DecideRuleSequence&#39;=\r\n&gt;\n&gt;      &lt;property name=3D&quot;rules&quot;&gt;\n&gt;       &lt;list&gt;\n&gt;        &lt;bean class=3D&quot;o=\r\nrg.archive.modules.deciderules.RejectDecideRule&quot;\n/&gt;\n&gt;        &lt;bean\nclass=3D=\r\n&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDecideRule&#92;\n&quot;&gt;\n&gt;   =\r\n      &lt;property name=3D&quot;regex&quot; value=3D&quot;^image/.*$&quot; /&gt;\n&gt;        &lt;/bean&gt;\n&gt;  =\r\n     &lt;/list&gt;\n&gt;      &lt;/property&gt;\n&gt;     &lt;/bean&gt;\n&gt;     ...\n&gt;\n&gt; Noah\n&gt;\n&gt;\n&gt; On 2=\r\n011-12-16 01:56 , crawltst wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi\n&gt; &gt; I want to crawl everyt=\r\nhing is found in seed list but only saving\nimages\n&gt; &gt; I customized the deci=\r\nde rules but when i start crawling it finishes\nimmediately by giving report=\r\ning lines like this in crawl log:\n&gt; &gt;\n&gt; &gt; 2011-12-16T09:31:04.712Z   -63   =\r\n       - http://bachehayeghalam.ir/\n- - unknown #001 - - - -\n&gt; &gt;\n&gt; &gt; What i=\r\ns the problem?\n&gt; &gt; My decide rules are:\n&gt; &gt;\n&gt; &gt; &lt;property name=3D&quot;rules&quot;&gt;\n&gt;=\r\n &gt; &lt;list&gt;\n&gt; &gt; &lt;!-- Begin by ACCEPTing all... --&gt;\n&gt; &gt; &lt;bean class=3D&quot;org.arc=\r\nhive.modules.deciderules.AcceptDecideRule&quot;&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...then AC=\r\nCEPT those within configured/seed-implied SURT\nprefixes... --&gt;\n&gt; &gt; &lt;bean\ncl=\r\nass=3D&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt; &gt; &lt;!=\r\n-- &lt;property name=3D&quot;seedsAsSurtPrefixes&quot; value=3D&quot;true&quot; /&gt; --&gt;\n&gt; &gt; &lt;!-- &lt;p=\r\nrope rty name=3D&quot;alsoCheckVia&quot; value=3D&quot;false&quot; /&gt; --&gt;\n&gt; &gt; &lt;!-- &lt;property na=\r\nme=3D&quot;surtsSourceFile&quot; value=3D&quot;&quot; /&gt; --&gt;\n&gt; &gt; &lt;!-- &lt;property name=3D&quot;surtsDu=\r\nmpFile&quot; value=3D&quot;${launchId}/surts.dump&quot;\n/&gt; --&gt;\n&gt; &gt; &lt;!-- &lt;property name=3D&quot;=\r\nsurtsSource&quot;&gt;\n&gt; &gt; &lt;bean class=3D&quot;org.archive.spring.ConfigString&quot;&gt;\n&gt; &gt; &lt;pro=\r\nperty name=3D&quot;value&quot;&gt;\n&gt; &gt; &lt;value&gt;\n&gt; &gt; # example.com\n&gt; &gt; # http://www.exampl=\r\ne.edu/path1/\n&gt; &gt; # +http://(org,example,\n&gt; &gt; &n bsp; &lt;/value&gt;\n&gt; &gt; &lt;/propert=\r\ny&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;/property&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...but REJECT those=\r\n more than a configured link-hop-count from\nstart... --&gt;\n&gt; &gt; &lt;bean class=3D=\r\n&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n&gt; &gt; &lt;!-- &lt;property=\r\n name=3D&quot;maxHops&quot; value=3D&quot;20&quot; /&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...but ACCEPT th=\r\nose more than a configured link-hop-count from\nstart... --&gt;\n&gt; &gt; &lt;bean\nclass=\r\n=3D&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;&gt;\n&gt; &gt; &lt;!-- &lt;prop=\r\nerty name=3D&quot;maxTransHops&quot; value=3D&quot;2&quot; /&gt; --&gt;\n&gt; &gt; &nb sp; &lt;!-- &lt;property na=\r\nme=3D&quot;maxSpeculativeHops&quot; value=3D&quot;1&quot; /&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...but RE=\r\nJECT those from a configurable (initially empty) set\nof REJECT SURTs... --&gt;=\r\n\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecide=\r\nRule&quot;&gt;\n&gt; &gt; &lt;property name=3D&quot;decision&quot; value=3D&quot;REJECT&quot;/&gt;\n&gt; &gt; &lt;property nam=\r\ne=3D&quot;seedsAsSurtPrefixes&quot; value=3D&quot;false&quot;/&gt;\n&gt; &gt; &lt;property name=3D&quot;surtsDump=\r\nFile&quot;\nvalue=3D&quot;${launchId}/negative-surts.dump&quot; /&gt;\n&gt; &gt; &lt;!-- &lt;property name=\r\n=3D&quot;surtsSource&quot;&gt;\n&gt; &gt; &lt;bean class=3D&quot;org.archive.spring.ConfigFile&quot;&gt;\n&gt; &gt; &lt;p=\r\nroperty name=3D&quot;path&quot; value=3D&quot; negative-surts.txt&quot; /&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;/pr=\r\noperty&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...and REJECT those from a configurable (i=\r\nnitially empty) set\nof URI regexes... --&gt;\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archive.mo=\r\ndules.deciderules.MatchesListRegexDecideRule&quot;&gt;\n&gt; &gt; &lt;property name=3D&quot;decisi=\r\non&quot; value=3D&quot;REJECT&quot;/&gt;\n&gt; &gt; &lt;!-- &lt;property name=3D&quot;listLogicalOr&quot; value=3D&quot;t=\r\nrue&quot; /&gt; --&gt;\n&gt; &gt; &lt;!-- &lt;property name=3D&quot;regexList&quot;&gt;\n&gt; &gt; &lt;list&gt;\n&gt; &gt; &lt;/list&gt;\n&gt;=\r\n &gt; &lt;/property&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;&lt; br&gt; &lt;!-- ...and REJECT those with suspiciou=\r\ns repeating\npath-segments... --&gt;\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archive.modules.dec=\r\niderules.PathologicalPathDecideRule&quot;&gt;\n&gt; &gt; &lt;!-- &lt;property name=3D&quot;maxRepetit=\r\nions&quot; value=3D&quot;2&quot; /&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...and REJECT those with more=\r\n than threshold number of\npath-segments... --&gt;\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archi=\r\nve.modules.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n&gt; &gt; &lt;!-- &lt;property n=\r\name=3D&quot;maxPathDepth&quot; value=3D&quot;20&quot; /&gt; --&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;!-- ...but always=\r\n ACCEPT those marked as prerequisitee for another\nURI... --&gt;\n&gt; &gt; &lt;bean\nclas=\r\ns=3D&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;&gt;\n&gt; &gt; &lt;/b=\r\nean&gt;\n&gt; &gt; &lt;!-- ...but always REJECT those with unsup ported URI schemes --&gt;\n=\r\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archive.modules.deciderules.SchemeNotInSetDecideRule=\r\n&quot;&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;bean\nclass=3D&quot;org.archive.modules.deciderules.ContentTy=\r\npeNotMatchesRegexDecideR&#92;\nule&quot;&gt;\n&gt; &gt; &lt;property name=3D&quot;decision&quot; value=3D&quot;RE=\r\nJECT&quot;/&gt;\n&gt; &gt; &lt;property name=3D&quot;regex&quot; value=3D&quot;^image/.*$&quot;/&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt;=\r\n &lt;/list&gt;\n&gt; &gt; &lt;/property&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}