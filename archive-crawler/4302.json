{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":241416423,"authorName":"Andrea Goethals","from":"&quot;Andrea Goethals&quot; &lt;andrea_goethals@...&gt;","replyTo":"LIST","senderId":"M2atfyFTqiC9QsdzKZGONJ6XJcObKFIXsoQX0YRNPQhE7sUolWdDdkD7tsngJaCVYCyx92Nc9yiEQxtnB2sct11UbMzIfX9Y5fVEb9NZPonoRDL1mgA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] many questions about hcc","postDate":"1181675661","msgId":4302,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDVhMWMzNGFhMDcwNjEyMTIxNHc0MWViNDk4NXE2MDJkNzU2ZWI4Zjg0ZDM0QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDQ2NTc3MTFGLjYwMjA4MDdAZHVib2NlLm5ldD4=","referencesHeader":"PDVhMWMzNGFhMDcwNTI1MTQxMXYxOTljZTVhZXI2NDU5YTY2Njc4ZGNlMzE3QG1haWwuZ21haWwuY29tPgkgPDQ2NTc3MTFGLjYwMjA4MDdAZHVib2NlLm5ldD4="},"prevInTopic":4275,"nextInTopic":4304,"prevInTime":4301,"nextInTime":4303,"topicId":4274,"numMessagesInTopic":7,"msgSnippet":"Michael, Thanks for the help - it s gotten me part of the way there. ... Yes I needed the -Dcom.sun.management.jmxremote added to the script that starts the","rawEmail":"Return-Path: &lt;diglibrary@...&gt;\r\nX-Sender: diglibrary@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 21653 invoked from network); 12 Jun 2007 19:15:59 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m48.grp.scd.yahoo.com with QMQP; 12 Jun 2007 19:15:59 -0000\r\nReceived: from unknown (HELO wa-out-1112.google.com) (209.85.146.176)\n  by mta14.grp.scd.yahoo.com with SMTP; 12 Jun 2007 19:15:59 -0000\r\nReceived: by wa-out-1112.google.com with SMTP id m16so2507087waf\n        for &lt;archive-crawler@yahoogroups.com&gt;; Tue, 12 Jun 2007 12:14:22 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;\n        b=kfan5t9zN8gWibzOkkjpjq8FKkK68Dhw/J9Dtlbbd8tuvuhITD6+NUTgCKmLkpdU8UcpjB/cAWO4ihnMYbkbBOqZ0ZB9szL5ohOMJLG5pwUG8BqVrQCc8zwbFv2v7Q9LE4czXueSaFAov/l6jnbtfA1bvRYfdVqg/vC1Hzp6bVo=\r\nReceived: by 10.114.161.11 with SMTP id j11mr6994087wae.1181675662010;\n        Tue, 12 Jun 2007 12:14:22 -0700 (PDT)\r\nReceived: by 10.114.132.12 with HTTP; Tue, 12 Jun 2007 12:14:21 -0700 (PDT)\r\nMessage-ID: &lt;5a1c34aa0706121214w41eb4985q602d756eb8f84d34@...&gt;\r\nDate: Tue, 12 Jun 2007 15:14:21 -0400\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;4657711F.6020807@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;5a1c34aa0705251411v199ce5aer6459a66678dce317@...&gt;\n\t &lt;4657711F.6020807@...&gt;\r\nX-Google-Sender-Auth: c1014ff4e62feff4\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Andrea Goethals&quot; &lt;andrea_goethals@...&gt;\r\nSubject: Re: [archive-crawler] many questions about hcc\r\nX-Yahoo-Group-Post: member; u=241416423\r\n\r\nMichael,\n\nThanks for the help - it&#39;s gotten me part of the way there.\n\n&gt;\n&gt;  The NPE seems to indicate the mbeanServer has not been set:\n&gt;  http://crawler.archive.org/hcc/xref/org/archive/hcc/ClusterControllerBean.html#831.\n&gt;  This can happen if createMBeanServer finds nothing.  Do you have the JMX\n&gt;  flags enabled for the JVM you are hosting hcc in?  (Or is hcc hosted in\n&gt;  JBOSS?  If the latter, then there *should* be JMX servers available.)\n\nYes I needed the -Dcom.sun.management.jmxremote added to the script\nthat starts the hcc CrawlController.\n\n\n&gt;  Heritrix should be deregistering with JNDI each instance if its been a\n&gt;  clean shutdown.  See\n&gt;  http://crawler.archive.org/xref/org/archive/crawler/Heritrix.html#1545.\n&gt;  See in same file the getJndiContainerName method which constructs the\n&gt;  JNDI name per instance -- they take a similar format to names used\n&gt;  registering with JMX.\n&gt;\n&gt;  The JNDI registry in JBOSS is RAM-based so with a controlled start/stop\n&gt;  of JBOSS followed by startup and shutdown of Heritrix, you should see a\n&gt;  Heritrix instance come and go in the JNDI registry (JBOSS MBean screen\n&gt;  can be hard to navigate: you might search using a string like\n&gt;  &#39;org.archive.crawler:*&#39;).\n\nThis was due to my inexperience with JBoss - when an object\nderegisters itself with JBoss&#39; JNDI service the line that says:\n+- org.archive.crawler (class: org.jnp.interfaces.NamingContext)\nstays there in JNDIView - just the lines below it for the guiport and\nthe crawler&#39;s host go away.\n\nIf I ever get the hcc fully working I&#39;ll write up a how-to for it. The\nhcc doc at http://crawler.archive.org/hcc/apidocs/index.html  is\nhelpful but it leaves a lot out. Currently I can get heritrix\ninstances registered with the JBoss JNDI server that are running on\nthe same machine and remote machines, then I can get the hcc&#39;s\nClusterControllerBean to find the crawlers through the JNDI server.\n\nThe  thing I haven&#39;t been able to get working is the hcc\nClusterControllerClient. If I do the same thing as in the jndi doc:\n\npublic void main(String[] args){\n       //initialize the cluster controller bean\n      ClusterControllerBean ccbean = new ClusterControllerBean();\n      ccbean.init();\n\n       //obtain a handle to the cluster controller client.\n      ClusterControllerClient cc =\n      ClusterControllerClientManager.getDefaultClient();\n\n                   ...\n}\n\nI get an exception on the getDefaultClient part:\n\nStarted ClusterControllerBean\nJun 12, 2007 2:29:11 PM\norg.archive.hcc.util.jmx.MBeanServerConnectionFactory\ncreateJMXServiceUrl\nINFO: service url:\nservice:jmx:rmi://chaz.hul.harvard.edu:8849/jndi/rmi://chaz.hul.harvard.edu:8849/jmxrmi\nJun 12, 2007 2:29:11 PM\norg.archive.hcc.util.jmx.MBeanServerConnectionFactory createConnection\nINFO: successfully created mbeanServerConnection on\nchaz.hul.harvard.edu/128.103.151.249:8849\njavax.management.InstanceNotFoundException: no mbean found matching\nquery:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n        at org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n        at org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n        at edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\njava.lang.RuntimeException:\njavax.management.InstanceNotFoundException: no mbean found matching\nquery:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:113)\n        at org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n        at org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n        at edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\nCaused by: javax.management.InstanceNotFoundException: no mbean found\nmatching query:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n        ... 3 more\nJun 12, 2007 2:29:11 PM\norg.archive.hcc.client.ClusterControllerClientManager getDefaultClient\nSEVERE: : javax.management.InstanceNotFoundException: no mbean found\nmatching query:org.archive.hcc:type=ClusterControllerBean,*\nException in thread &quot;main&quot; java.lang.RuntimeException:\njava.lang.RuntimeException:\njavax.management.InstanceNotFoundException: no mbean found matching\nquery:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:80)\n        at edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\nCaused by: java.lang.RuntimeException:\njavax.management.InstanceNotFoundException: no mbean found matching\nquery:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:113)\n        at org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n        at org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n        ... 1 more\nCaused by: javax.management.InstanceNotFoundException: no mbean found\nmatching query:org.archive.hcc:type=ClusterControllerBean,*\n        at org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n        ... 3 more\nJun 12, 2007 2:30:11 PM org.archive.hcc.ClusterControllerBean$3 run\nINFO: running poll task...\n\nI do see a ClusterControllerBean in my JConsole. And I can invoke\noperations on the crawlers and the ClusterControllerBean using\nJConsole but I want to be able to use the hcc API programatically.\n\nShould I have started an instance of Cluster Controller Client before\nthe ClusterControllerBean? Any help with this is very much\nappreciated!\n\nthanks,\nAndrea\n\n&gt;\n&gt;  HTH,\n&gt;  St.Ack\n&gt;\n&gt;\n&gt;  Andrea Goethals wrote:\n&gt;  &gt;\n&gt;  &gt; Hello,\n&gt;  &gt;\n&gt;  &gt; I&#39;ve been trying for a few days to get hcc working but still am having\n&gt;  &gt; trouble figuring out all the pieces. I&#39;ve followed the hcc Overview\n&gt;  &gt; page (http://crawler.archive.org/hcc/apidocs/index.html\n&gt;  &gt; &lt;http://crawler.archive.org/hcc/apidocs/index.html&gt;) and the\n&gt;  &gt; emails we have about it from this list. I&#39;m new to JBOSS and JMX but\n&gt;  &gt; have gotten the JBOSS part of it working. I can start up JBOSS as a\n&gt;  &gt; name service, start a heritrix instance up and then initialize an hcc\n&gt;  &gt; ClusterControllerBean. After I call init() on the\n&gt;  &gt; ClusterControllerBean I get a NullPointerException in my console:\n&gt;  &gt;\n&gt;  &gt; Starting ClusterControllerBean\n&gt;  &gt; May 24, 2007 1:56:15 PM org.archive.hcc.ClusterControllerBean init\n&gt;  &gt; INFO: maxPerContainer setting: 1\n&gt;  &gt; May 24, 2007 1:56:15 PM org.archive.hcc.ClusterControllerBean$3 run\n&gt;  &gt; INFO: running poll task...\n&gt;  &gt; java.lang.NullPointerException\n&gt;  &gt; at\n&gt;  &gt; org.archive.hcc.ClusterControllerBean.registerMBean(ClusterControllerBean.java:833)\n&gt;  &gt; at\n&gt;  &gt; org.archive.hcc.ClusterControllerBean.init(ClusterControllerBean.java:817)\n&gt;  &gt; at\n&gt;  &gt; edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:44)\n&gt;  &gt; Started ClusterControllerBean\n&gt;  &gt; May 24, 2007 1:56:15 PM org.archive.hcc.ClusterControllerBean$3 run\n&gt;  &gt; INFO: poll task done.\n&gt;  &gt; May 24, 2007 1:57:15 PM org.archive.hcc.ClusterControllerBean$3 run\n&gt;  &gt; INFO: running poll task...\n&gt;  &gt;\n&gt;  &gt; Besides getting help with this exception - how can I get the hcc\n&gt;  &gt; source? It&#39;s not bundled with the heritrix src code and I only get the\n&gt;  &gt; *.class files in the hcc jar from CruiseControl.\n&gt;  &gt;\n&gt;  &gt; I see this in JBOSS&#39; JNDIView:\n&gt;  &gt; +- org.archive.crawler (class: org.jnp.interfaces.NamingContext)\n&gt;  &gt;\n&gt;  &gt; Is this the Heritrix instance? Even when I stop my heritrix instance\n&gt;  &gt; it still is listed in the JNDIView.\n&gt;  &gt;\n&gt;  &gt; Is there a way to name the heritrix crawler from the command line\n&gt;  &gt; start-up? I saw that you can do this from the heritrix web GUI.\n&gt;  &gt;\n&gt;  &gt; Also, I&#39;m having trouble understanding which ports are needed to get\n&gt;  &gt; hcc & heritrix working. I need to change the default ports for JBOSS,\n&gt;  &gt; hcc and heritrix to keep my used ports within a certain range on some\n&gt;  &gt; overused machines. I have these set:\n&gt;  &gt; * JNDI port set in JBOSS and in the jndi.properties accessible by all\n&gt;  &gt; 3 of the ClusterControllerClient, ClusterControllerServer and the\n&gt;  &gt; heritrix instances\n&gt;  &gt; * Heritrix GUI port\n&gt;  &gt; * JBOSS JMX Client ports\n&gt;  &gt; Is the JNDI port all that the hcc and heritrix classes need or do they\n&gt;  &gt; also need a JMX port? By using JBOSS for the name service does this\n&gt;  &gt; mean we are using it for the JMX agent?\n&gt;  &gt;\n&gt;  &gt; Sorry about the number of questions here!\n&gt;  &gt;\n&gt;  &gt; thanks,\n&gt;  &gt; Andrea\n&gt;  &gt;\n&gt;  &gt;\n&gt;\n&gt;\n&gt;\n&gt;                   \n\n"}}