{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":413122819,"authorName":"Nicolas Giraud","from":"Nicolas Giraud &lt;nikokode@...&gt;","profile":"nicosensei","replyTo":"LIST","senderId":"tSg6Puj-UeqqTw8HFkngQMKK27TjNWVQEsu0f2JF7SUXZpBBbuDIv_vrOK3HEwAtSdxaZyXlCCGQgD1aBsBcfGs8oM6FYNnFank","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Wayback 1.6.0 - NullPointerException in SelfRedirectFilter [1 Attachment]","postDate":"1351075953","msgId":7832,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTTBocXlKdFpiaUQtT1RlY3VCNHFwZ0xNdnVxWVhnN3MxTHlEMUpGVEUxYllRU3luZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBTTBocXlKc1RLSkxnVXowYXBRcTdmWUQ9QjBQMk5kVTRIcnNLSEJ2dHZmemhOdmVaQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBTTBocXkrQXNKNzNjZVVQMEtMdGlOUWFIMlp2ZHlTVThKYkxSRzJ4eXR3a3p3NU5rd0BtYWlsLmdtYWlsLmNvbT4JPENBTTBocXlKc1RLSkxnVXowYXBRcTdmWUQ9QjBQMk5kVTRIcnNLSEJ2dHZmemhOdmVaQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":7829,"nextInTopic":0,"prevInTime":7831,"nextInTime":7833,"topicId":7829,"numMessagesInTopic":2,"msgSnippet":"Hi again, A bit of investigation revealed that this issue is fixed in the trunk (1.7.1 version). Is Wayback 1.7.1 usable in production, or would you recommend","rawEmail":"Return-Path: &lt;nikokode@...&gt;\r\nX-Sender: nikokode@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 60002 invoked from network); 24 Oct 2012 10:52:35 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m6.grp.sp2.yahoo.com with QMQP; 24 Oct 2012 10:52:35 -0000\r\nX-Received: from unknown (HELO mail-wi0-f171.google.com) (209.85.212.171)\n  by mta1.grp.sp2.yahoo.com with SMTP; 24 Oct 2012 10:52:35 -0000\r\nX-Received: by mail-wi0-f171.google.com with SMTP id hj13so3525012wib.0\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 24 Oct 2012 03:52:34 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.204.138 with SMTP id h10mr9409832weo.168.1351075953981;\n Wed, 24 Oct 2012 03:52:33 -0700 (PDT)\r\nX-Received: by 10.194.47.231 with HTTP; Wed, 24 Oct 2012 03:52:33 -0700 (PDT)\r\nIn-Reply-To: &lt;CAM0hqyJsTKJLgUz0apQq7fYD=B0P2NdU4HrsKHBvtvfzhNveZA@...&gt;\r\nReferences: &lt;CAM0hqy+AsJ73ceUP0KLtiNQaH2ZvdySU8JbLRG2xytwkzw5Nkw@...&gt;\n\t&lt;CAM0hqyJsTKJLgUz0apQq7fYD=B0P2NdU4HrsKHBvtvfzhNveZA@...&gt;\r\nDate: Wed, 24 Oct 2012 12:52:33 +0200\r\nMessage-ID: &lt;CAM0hqyJtZbiD-OTecuB4qpgLMvuqYXg7s1LyD1JFTE1bYQSyng@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=0016e6d58a994d386f04cccbe243\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Nicolas Giraud &lt;nikokode@...&gt;\r\nSubject: Re: [archive-crawler] Wayback 1.6.0 - NullPointerException in\n SelfRedirectFilter [1 Attachment]\r\nX-Yahoo-Group-Post: member; u=413122819; y=8D_JZE2_mAHs75P_GZtx1yjkVncFBP4RuqQwvfFEZ5IpgYaKnQ\r\nX-Yahoo-Profile: nicosensei\r\n\r\n\r\n--0016e6d58a994d386f04cccbe243\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi again,\n\nA bit of investigation revealed that this issue is fixed in the =\r\ntrunk\n(1.7.1 version). Is Wayback 1.7.1 usable in production, or would you\n=\r\nrecommend to backport the fix?\n\nBest regards,\n\nNicolas\n\n2012/10/23 Nicolas =\r\nGiraud &lt;nikokode@...&gt;\n\n&gt; **\n&gt;\n&gt;  [Attachment(s) &lt;#13a8dca655fcd1c9_To=\r\npText&gt; from Nicolas Giraud included\n&gt; below]\n&gt;\n&gt; ---------- Forwarded messa=\r\nge ----------\n&gt; From: Nicolas Giraud &lt;nikokode@...&gt;\n&gt; Date: 2012/10/2=\r\n3Hi again,\n&gt; Subject: Wayback 1.6.0 - NullPointerException in SelfRedirectF=\r\nilter\n&gt; To: Wayback ML &lt;archive-access-discuss@...&gt;\n&gt;\n&gt; H=\r\ni,\n&gt;\n&gt; I have deployed Wayback 1.6.0 in proxy mode. When I try to start a\n&gt;=\r\n replay session on some websites (&quot;http://www.bnf.fr&quot; for instance) I\n&gt; get=\r\n the following exception:\n&gt;\n&gt; java.lang.NullPointerException\n&gt; java.lang.St=\r\nring.compareTo(String.java:1167)\n&gt;\n&gt; org.archive.wayback.resourceindex.filt=\r\ners.SelfRedirectFilter.filterObject(SelfRedirectFilter.java:63)\n&gt;\n&gt; org.arc=\r\nhive.wayback.resourceindex.filters.SelfRedirectFilter.filterObject(SelfRedi=\r\nrectFilter.java:36)\n&gt;\n&gt; org.archive.wayback.util.ObjectFilterChain.filterOb=\r\nject(ObjectFilterChain.java:81)\n&gt;\n&gt; org.archive.wayback.util.ObjectFilterIt=\r\nerator.hasNext(ObjectFilterIterator.java:61)\n&gt;\n&gt; org.archive.wayback.resour=\r\nceindex.LocalResourceIndex.doCaptureQuery(LocalResourceIndex.java:185)\n&gt;\n&gt; =\r\norg.archive.wayback.resourceindex.LocalResourceIndex.query(LocalResourceInd=\r\nex.java:275)\n&gt; org.archive.wayback.webapp.AccessPoint.handleReplay(AccessPo=\r\nint.java:309)\n&gt; org.archive.wayback.webapp.AccessPoint.handleRequest(Access=\r\nPoint.java:213)\n&gt;\n&gt; org.archive.wayback.util.webapp.RequestMapper.handleReq=\r\nuest(RequestMapper.java:183)\n&gt;\n&gt; org.archive.wayback.util.webapp.RequestFil=\r\nter.doFilter(RequestFilter.java:109)\n&gt;\n&gt; Looking at the code it expects to =\r\nfind a scheme at the beginning of\n&gt; the redirected URL, but if it come from=\r\n the location header there is\n&gt; absolutely no guarantee about that. Is this=\r\n a bug, or is there some\n&gt; kind of configuration I got wrong? I&#39;ve included=\r\n my wayback.xml file.\n&gt;\n&gt; Best regards,\n&gt;\n&gt; --\n&gt;\n&gt; Nicolas Giraud\n&gt; -------=\r\n---------------------------------------------------\n&gt; D=E9veloppeur Archive=\r\ns du Web - Biblioth=E8que Nationale de France\n&gt; Web Archiving Developper - =\r\nNational Library of France\n&gt; ----------------------------------------------=\r\n------------\n&gt;\n&gt; --\n&gt; Nicolas Giraud\n&gt; ------------------------------------=\r\n----------------------\n&gt; D=E9veloppeur Archives du Web - Biblioth=E8que Nat=\r\nionale de France\n&gt; Web Archiving Developper - National Library of France\n&gt; =\r\n----------------------------------------------------------\n&gt;  \n&gt;\n\n\n\n-- \nNic=\r\nolas Giraud\n---------------------------------------------------------------=\r\n------------------------------\nD=E9veloppeur Archives du Web - Biblioth=E8q=\r\nue Nationale de France\nWeb Archiving Developper - National Library of Franc=\r\ne\n-------------------------------------------------------------------------=\r\n--------------------\n\r\n--0016e6d58a994d386f04cccbe243\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi again,&lt;br&gt;&lt;br&gt;A bit of investigation revealed that this issue is fixed i=\r\nn the trunk (1.7.1 version). Is Wayback 1.7.1 usable in production, or woul=\r\nd you recommend to backport the fix?&lt;br&gt;&lt;br&gt;Best regards,&lt;br&gt;&lt;br&gt;Nicolas&lt;br=\r\n&gt;\n&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;2012/10/23 Nicolas Giraud &lt;span dir=3D&quot;ltr=\r\n&quot;&gt;&lt;&lt;a href=3D&quot;mailto:nikokode@...&quot; target=3D&quot;_blank&quot;&gt;nikokode@gmai=\r\nl.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0=\r\n 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n=\r\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n         =\r\n     \n        &lt;span style=3D&quot;font-weight:700;font-size:12px;display:block;m=\r\nargin-bottom:20px&quot;&gt;[&lt;a style=3D&quot;text-decoration:none&quot; href=3D&quot;#13a8dca655fc=\r\nd1c9_TopText&quot;&gt;Attachment(s)&lt;/a&gt; from Nicolas Giraud included below]&lt;/span&gt;\n=\r\n        \n      \n      &lt;p&gt;---------- Forwarded message ----------&lt;br&gt;\nFrom: =\r\nNicolas Giraud &lt;&lt;a href=3D&quot;mailto:nikokode%40gmail.com&quot; target=3D&quot;_blank=\r\n&quot;&gt;nikokode@...&lt;/a&gt;&gt;&lt;br&gt;\nDate: 2012/10/23Hi again,&lt;br&gt;\nSubject: Way=\r\nback 1.6.0 - NullPointerException in SelfRedirectFilter&lt;br&gt;\nTo: Wayback ML =\r\n&lt;&lt;a href=3D&quot;mailto:archive-access-discuss%40lists.sourceforge.net&quot; targe=\r\nt=3D&quot;_blank&quot;&gt;archive-access-discuss@...&lt;/a&gt;&gt;&lt;br&gt;\n&lt;br&gt;\n=\r\nHi,&lt;br&gt;\n&lt;br&gt;\nI have deployed Wayback 1.6.0 in proxy mode. When I try to sta=\r\nrt a&lt;br&gt;\nreplay session on some websites (&quot;&lt;a href=3D&quot;http://www.bnf.f=\r\nr&quot; target=3D&quot;_blank&quot;&gt;http://www.bnf.fr&lt;/a&gt;&quot; for instance) I&lt;br&gt;\nget th=\r\ne following exception:&lt;br&gt;\n&lt;br&gt;\njava.lang.NullPointerException&lt;br&gt;\njava.lan=\r\ng.String.compareTo(String.java:1167)&lt;br&gt;\norg.archive.wayback.resourceindex.=\r\nfilters.SelfRedirectFilter.filterObject(SelfRedirectFilter.java:63)&lt;br&gt;\norg=\r\n.archive.wayback.resourceindex.filters.SelfRedirectFilter.filterObject(Self=\r\nRedirectFilter.java:36)&lt;br&gt;\norg.archive.wayback.util.ObjectFilterChain.filt=\r\nerObject(ObjectFilterChain.java:81)&lt;br&gt;\norg.archive.wayback.util.ObjectFilt=\r\nerIterator.hasNext(ObjectFilterIterator.java:61)&lt;br&gt;\norg.archive.wayback.re=\r\nsourceindex.LocalResourceIndex.doCaptureQuery(LocalResourceIndex.java:185)&lt;=\r\nbr&gt;\norg.archive.wayback.resourceindex.LocalResourceIndex.query(LocalResourc=\r\neIndex.java:275)&lt;br&gt;\norg.archive.wayback.webapp.AccessPoint.handleReplay(Ac=\r\ncessPoint.java:309)&lt;br&gt;\norg.archive.wayback.webapp.AccessPoint.handleReques=\r\nt(AccessPoint.java:213)&lt;br&gt;\norg.archive.wayback.util.webapp.RequestMapper.h=\r\nandleRequest(RequestMapper.java:183)&lt;br&gt;\norg.archive.wayback.util.webapp.Re=\r\nquestFilter.doFilter(RequestFilter.java:109)&lt;br&gt;\n&lt;br&gt;\nLooking at the code i=\r\nt expects to find a scheme at the beginning of&lt;br&gt;\nthe redirected URL, but =\r\nif it come from the location header there is&lt;br&gt;\nabsolutely no guarantee ab=\r\nout that. Is this a bug, or is there some&lt;br&gt;\nkind of configuration I got w=\r\nrong? I&#39;ve included my wayback.xml file.&lt;br&gt;\n&lt;br&gt;\nBest regards,&lt;br&gt;\n&lt;br=\r\n&gt;\n--&lt;br&gt;\n&lt;br&gt;\nNicolas Giraud&lt;br&gt;\n------------------------------------------=\r\n----------------&lt;br&gt;\nD=E9veloppeur Archives du Web - Biblioth=E8que Nationa=\r\nle de France&lt;br&gt;\nWeb Archiving Developper - National Library of France&lt;br&gt;\n=\r\n----------------------------------------------------------&lt;br&gt;\n&lt;br&gt;\n-- &lt;br&gt;=\r\n\nNicolas Giraud&lt;br&gt;\n-------------------------------------------------------=\r\n---&lt;br&gt;\nD=E9veloppeur Archives du Web - Biblioth=E8que Nationale de France&lt;=\r\nbr&gt;\nWeb Archiving Developper - National Library of France&lt;br&gt;\n-------------=\r\n---------------------------------------------&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n =\r\n   \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n=\r\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br clear=3D&quot;all&quot;&gt;&lt;br&gt;-- &lt;br&gt;Nicolas Giraud&lt;br&gt;-----=\r\n---------------------------------------------------------------------------=\r\n-------------&lt;br&gt;D=E9veloppeur Archives du Web - Biblioth=E8que Nationale d=\r\ne France&lt;br&gt;\nWeb Archiving Developper - National Library of France&lt;br&gt;-----=\r\n---------------------------------------------------------------------------=\r\n-------------&lt;br&gt;\n\r\n--0016e6d58a994d386f04cccbe243--\r\n\n"}}