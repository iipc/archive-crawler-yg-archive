{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"pq9g-qfenYrAtphoa1QgUMQ8EGpWpEbprFt7dDt6BxvmnDYb_Nd75ifGhE9CZ48AmxVgDBV8dIp-C-xvMuBQb6B8C1vzYyBr","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix script to evaluate decide rule","postDate":"1411070449","msgId":8610,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBLNk9raDJlNnNpRDFLcEM3QjFPTWNkWVcyK3pOOVF2VVFEVDNwN09MNkFqQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEQwNDA2NzI2LkM0N0UlYWFsc3VtQHN0YW5mb3JkLmVkdT4=","referencesHeader":"PEQwNDA2NzI2LkM0N0UlYWFsc3VtQHN0YW5mb3JkLmVkdT4="},"prevInTopic":8609,"nextInTopic":0,"prevInTime":8609,"nextInTime":8611,"topicId":8609,"numMessagesInTopic":2,"msgSnippet":"Hello Ahmed, You need to construct a CrawlURI run a decide rule against it. Some rules look at more than just the url. You could get different decisions by ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 38206 invoked by uid 102); 19 Sep 2014 01:55:47 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m7.grp.bf1.yahoo.com with SMTP; 19 Sep 2014 01:55:47 -0000\r\nX-Received: (qmail 22929 invoked from network); 19 Sep 2014 01:55:47 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (98.138.100.121)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 19 Sep 2014 01:55:47 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id A452B79142B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 18 Sep 2014 13:00:50 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 6s8OLzvdeqYx for &lt;archive-crawler@yahoogroups.com&gt;;\n\tThu, 18 Sep 2014 13:00:50 -0700 (PDT)\r\nX-Received: from mail-ob0-f172.google.com (mail-ob0-f172.google.com [209.85.214.172])\n\tby mail.archive.org (Postfix) with ESMTPSA id 186D6791425\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 18 Sep 2014 13:00:50 -0700 (PDT)\r\nX-Received: by mail-ob0-f172.google.com with SMTP id uy5so944412obc.3\n        for &lt;archive-crawler@yahoogroups.com&gt;; Thu, 18 Sep 2014 13:00:49 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.209.101 with SMTP id ml5mr1177478obc.2.1411070449261;\n Thu, 18 Sep 2014 13:00:49 -0700 (PDT)\r\nX-Received: by 10.76.153.233 with HTTP; Thu, 18 Sep 2014 13:00:49 -0700 (PDT)\r\nIn-Reply-To: &lt;D0406726.C47E%aalsum@...&gt;\r\nReferences: &lt;D0406726.C47E%aalsum@...&gt;\r\nDate: Thu, 18 Sep 2014 13:00:49 -0700\r\nMessage-ID: &lt;CAA-z70K6Okh2e6siD1KpC7B1OMcdYW2+zN9QvUQDT3p7OL6AjA@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=e89a8ff1ca20e1a50d05035c705e\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [archive-crawler] Heritrix script to evaluate decide rule\r\nX-Yahoo-Group-Post: member; u=325624130; y=4B6qn52WeYel7XCLUmXxY9EDQ7hAXk3Ggpm0Zij_LnHndQ\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\n\r\n--e89a8ff1ca20e1a50d05035c705e\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHello Ahmed,\n\nYou need to construct a CrawlURI run a decide rule against it=\r\n. Some rules\nlook at more than just the url. You could get different decisi=\r\nons by\nsetting different values for pathFromSeed, for example. This of cour=\r\nse\nmeans that the same url may be in scope and out of scope in the same cra=\r\nwl\njob, depending on the context where it&#39;s discovered. With that caveat in=\r\n\nmind, this works for me in groovy:\n\nuuri =3D org.archive.net.UURIFactory.g=\r\netInstance(&quot;http://www.stanford.edu&quot;);\ncuri =3D new org.archive.modules.Cra=\r\nwlURI(uuri);\ndecision =3D appCtx.getBean(&quot;scope&quot;).decisionFor(curi);\nrawOut=\r\n.println(&quot;decision=3D&quot; + decision + &quot; for &quot; + curi);\n\nNoah\n\n\nOn Thu, Sep 18=\r\n, 2014 at 10:40 AM, Ahmed Alsum aalsum@...\n[archive-crawler] &lt;arch=\r\nive-crawler@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hello,\n&gt;\n&gt; I=E2=80=99m looking f=\r\nor Heritirx console script to evaluate the decide rule to see\n&gt; what is the=\r\n status for each rule for specific URI. Something similar to the\n&gt; output o=\r\nf scope.log output.\n&gt;\n&gt; Does anyone write a similar code?\n&gt;\n&gt; Example:\n&gt; ev=\r\naluate(=E2=80=9Cwww.stanford.edu=E2=80=9D)\n&gt;\n&gt; Output:\n&gt;\n&gt; SurtPrefixedDeci=\r\ndeRule ACCEPT\n&gt;\n&gt; Regards,\n&gt; Ahmed AlSum, Ph.D.\n&gt; Web Archiving Engineer\n&gt; =\r\nDigital Library System and Services\n&gt; Stanford University Library\n&gt; Work: 6=\r\n50-868-7449\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n\r\n--e89a8ff1ca20e1a50d05035c705e\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,he=\r\nlvetica,sans-serif&quot;&gt;Hello Ahmed,&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D=\r\n&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;You need to construct a CrawlU=\r\nRI run a decide rule against it. Some rules look at more than just the url.=\r\n You could get different decisions by setting different values for pathFrom=\r\nSeed, for example. This of course means that the same url may be in scope a=\r\nnd out of scope in the same crawl job, depending on the context where it&#3=\r\n9;s discovered. With that caveat in mind, this works for me in groovy:&lt;/div=\r\n&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-ser=\r\nif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helve=\r\ntica,sans-serif&quot;&gt;&lt;div class=3D&quot;gmail_default&quot;&gt;uuri =3D org.archive.net.UURI=\r\nFactory.getInstance(&quot;&lt;a href=3D&quot;http://www.stanford.edu&quot;&gt;http://www.st=\r\nanford.edu&lt;/a&gt;&quot;);&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot;&gt;curi =3D new org.a=\r\nrchive.modules.CrawlURI(uuri);&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot;&gt;decisi=\r\non =3D appCtx.getBean(&quot;scope&quot;).decisionFor(curi);&lt;br&gt;&lt;/div&gt;&lt;div c=\r\nlass=3D&quot;gmail_default&quot;&gt;rawOut.println(&quot;decision=3D&quot; + decision + =\r\n&quot; for &quot; + curi);&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div=\r\n class=3D&quot;gmail_default&quot;&gt;Noah&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;=\r\n/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Thu=\r\n, Sep 18, 2014 at 10:40 AM, Ahmed Alsum &lt;a href=3D&quot;mailto:aalsum@stanford.e=\r\ndu&quot;&gt;aalsum@...&lt;/a&gt; [archive-crawler] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=\r\n=3D&quot;mailto:archive-crawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;archive-crawl=\r\ner@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quot=\r\ne&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;=\r\n\n\n\n\n\n\n\n        \n&lt;div style=3D&quot;word-wrap:break-word;color:rgb(0,0,0);font-si=\r\nze:14px;font-family:Calibri,sans-serif&quot;&gt;\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div&gt;Hello,&lt;/div&gt;=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I=E2=80=99m looking for Heritirx console script to eval=\r\nuate the decide rule to see what is the status for each rule for specific U=\r\nRI. Something similar to the output of scope.log output.=C2=A0&lt;/div&gt;&lt;div&gt;&lt;b=\r\nr&gt;&lt;/div&gt;&lt;div&gt;Does anyone write a similar code?=C2=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;d=\r\niv&gt;Example:&lt;/div&gt;&lt;div&gt;evaluate(=E2=80=9C&lt;a href=3D&quot;http://www.stanford.edu&quot;=\r\n target=3D&quot;_blank&quot;&gt;www.stanford.edu&lt;/a&gt;=E2=80=9D)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=\r\nOutput:&lt;/div&gt;&lt;div&gt;&lt;p style=3D&quot;margin:0px;font-size:11px;font-family:Menlo&quot;&gt;=\r\nSurtPrefixedDecideRule ACCEPT&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;d=\r\niv&gt;&lt;div&gt;&lt;div style=3D&quot;font-size:12px&quot;&gt;&lt;div style=3D&quot;font-size:medium&quot;&gt;Ahmed=\r\n AlSum, Ph.D.&lt;/div&gt;&lt;div style=3D&quot;font-size:medium&quot;&gt;Web Archiving Engineer&lt;/=\r\ndiv&gt;&lt;div style=3D&quot;font-size:medium&quot;&gt;Digital Library System and Services&lt;/di=\r\nv&gt;&lt;div style=3D&quot;font-size:medium&quot;&gt;Stanford University Library&lt;/div&gt;&lt;div sty=\r\nle=3D&quot;font-size:medium&quot;&gt;Work: &lt;a href=3D&quot;tel:650-868-7449&quot; value=3D&quot;+165086=\r\n87449&quot; target=3D&quot;_blank&quot;&gt;650-868-7449&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;=\r\n/div&gt;\n\n\n\n\n\n&lt;br&gt;\n\n\n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both=\r\n&quot;&gt;&lt;/div&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--e89a8ff1ca20e1a50d05035c705e--\r\n\n"}}