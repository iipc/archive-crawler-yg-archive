{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":183106698,"authorName":"zhousp","from":"&quot;zhousp&quot; &lt;zhousp@...&gt;","replyTo":"LIST","senderId":"ED2FBKgj6R_9ZG4ts_oMLxsZMHpbdD7yFyDCyxnqRZRz_1nTKOYPezivVIB_FpQFbBhVRiSIeTHaLDK_N3T1uZc","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Re: [archive-crawler] Does Heritrix support Unicode?","postDate":"1085555578","msgId":451,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{},"prevInTopic":438,"nextInTopic":453,"prevInTime":450,"nextInTime":452,"topicId":431,"numMessagesInTopic":6,"msgSnippet":"hi,Michael Stack, how about try to add some properties to the seed url? For example, when add a seed url, I tell the hetrilex that this site is Chinese sites.","rawEmail":"Return-Path: &lt;zhousp@...&gt;\r\nX-Sender: zhousp@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 98801 invoked from network); 26 May 2004 07:14:44 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m4.grp.scd.yahoo.com with QMQP; 26 May 2004 07:14:44 -0000\r\nReceived: from unknown (HELO 6636.net) (218.28.21.21)\n  by mta4.grp.scd.yahoo.com with SMTP; 26 May 2004 07:14:43 -0000\r\nReceived: from ansi2003 by 6636.net\n\t(MDaemon.PRO.v7.1.0.R)\n\twith ESMTP id md50000001395.msg\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 26 May 2004 15:11:16 +0800\r\nDate: Wed, 26 May 2004 15:12:58 +0800\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nOrganization: nxt\r\nX-mailer: Foxmail 5.0 [cn]\r\nMime-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;gb2312&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Authenticated-Sender: ansi@...\r\nX-Spam-Processed: 6636.net, Wed, 26 May 2004 15:11:16 +0800\n\t(not processed: spam filter disabled)\r\nX-MDRemoteIP: 61.48.0.18\r\nX-Return-Path: zhousp@...\r\nX-MDaemon-Deliver-To: archive-crawler@yahoogroups.com\r\nX-MDAV-Processed: 6636.net, Wed, 26 May 2004 15:11:21 +0800\r\nX-eGroups-Remote-IP: 218.28.21.21\r\nFrom: &quot;zhousp&quot; &lt;zhousp@...&gt;\r\nReply-To: zhousp@...\r\nSubject: Re: Re: [archive-crawler] Does Heritrix support Unicode?\r\nX-Yahoo-Group-Post: member; u=183106698\r\n\r\nhi,Michael Stack,\n\nhow about try to add some properties to the seed url?\nFor example, when add a seed url, I tell the hetrilex that this site\nis Chinese sites. Then hetrilex will use zh-cn as her default encode?\n\nI have try another opensource crawler which named &quot;JSpider&quot; and it can\nencode the url correctly. But I like hetrilex  because we are more actively\nthan JSpider group.\n\nansi zhou\n\n\t\n\n======= 2004-05-22 08:23:32 =======\n\n&gt;There&#39;s a few things going on here. If the character encoding is not\n&gt;specified in the http header but in the HTML HEAD META Content-Type tag,\n&gt;our HTML extractors don&#39;t see it and all is treated as single-byte\n&gt;content (The issue &quot;[ 913687 ] Make extractors interrogate for charset&quot;\n&gt;covers fixing this). Heritrix currently only respects encodings\n&gt;specified in the http-header content-type line (Also in the mix is, as\n&gt;far as I know, there is no sanctioned way of representing multibyte\n&gt;characters in an URI. You can URI encode the bytes but theres no means\n&gt;for passing the charset used encoding).\n&gt;\n&gt;The site www.anfeed.com is returning an http-header whose content-type\n&gt;looks like this:\n&gt;\n&gt;Content-Type: text/html\n&gt;\n&gt;This means that all page processing will be done as though the content\n&gt;were single-byte.\n&gt;\n&gt;The pages themselves indeed specify the encoding using headers like the\n&gt;following:\n&gt;\n&gt;&lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;zh-cn&quot;&gt;\n&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot;&gt;\n&gt;\n&gt;If we fixed our extractors so they read the page with the correct\n&gt;encoding, we&#39;d have some hope of extracting the URIs unmangled. Even\n&gt;then, while in the page, before we pass the URI to the frontier queue,\n&gt;we should URI escape the multibyte characters using the charset of the\n&gt;page they came from (This seems to be what mozilla is doing at least --\n&gt;I&#39;d have to look closer).\n&gt;\n&gt;I&#39;ve made a new issue to cover this last item -- &quot;Encode multibyte URIs\n&gt;using page charset before queuing&quot; -- to ensure heritrix carries URIs\n&gt;encoded with their source page encoding.\n&gt;\n&gt;Thanks for reporting the below,\n&gt;Yours,\n&gt;St.Ack\n&gt;\n&gt;zhousp wrote:\n&gt;\n&gt;&gt;hi,everyone\n&gt;&gt;\n&gt;&gt;I found when the url contains some unicode char,Heritrix give some error messages in the log file.\n&gt;&gt;\n&gt;&gt;--------------------log start-------------------------------\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;20040521013203062 http://www.anfeed.com/ &quot;Failed parse of class.asp?typeid=????&quot; class.asp?typeid=????\n&gt;&gt;-----------------------------------------------------------\n&gt;&gt;\n&gt;&gt;The &quot;????&quot; in the url are some Chinese words.\n&gt;&gt;\n&gt;&gt;ansi zhou\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;\n\n\n\n\n\n\n"}}