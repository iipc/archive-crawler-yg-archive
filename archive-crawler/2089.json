{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"kdp9SsXynNg6ErYLeYcBm34cT9JuZC4kD_fPtg9vyyaF_pqcuwoDmoGq16TpNluVvCH9p_zJfunGcLmcqTY5YQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Slowdown in LinkScoper? - Followup","postDate":"1123526069","msgId":2089,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyRjdBNUI1LjkwOTAyMDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGRkN3ZlcytjOGhxQGVHcm91cHMuY29tPg==","referencesHeader":"PGRkN3ZlcytjOGhxQGVHcm91cHMuY29tPg=="},"prevInTopic":2086,"nextInTopic":2090,"prevInTime":2088,"nextInTime":2090,"topicId":2062,"numMessagesInTopic":10,"msgSnippet":"... Yes.  Its kinda sweet.  Only available on 1.5.x JVM though (Feature courtesy of Christian Kohlschütter). ... expungeStaleEntries is called everytime we","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 37479 invoked from network); 8 Aug 2005 18:44:01 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m31.grp.scd.yahoo.com with QMQP; 8 Aug 2005 18:44:01 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 8 Aug 2005 18:44:01 -0000\r\nReceived: (qmail 4368 invoked by uid 100); 8 Aug 2005 18:43:57 -0000\r\nReceived: from adsl-71-130-102-78.dsl.pltn13.pacbell.net (HELO ?192.168.1.8?) (stack@...@71.130.102.78)\n  by mail-dev.archive.org with SMTP; 8 Aug 2005 18:43:57 -0000\r\nMessage-ID: &lt;42F7A5B5.9090203@...&gt;\r\nDate: Mon, 08 Aug 2005 11:34:29 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.8) Gecko/20050513 Debian/1.7.8-1\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;dd7ves+c8hq@...&gt;\r\nIn-Reply-To: &lt;dd7ves+c8hq@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-86.9 required=7.0 tests=AWL,USER_IN_WHITELIST \n\tautolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Slowdown in LinkScoper? - Followup\r\nX-Yahoo-Group-Post: member; u=168599281; y=lpxebejKKFH7hRZpFYpdGi_TtSiokqy8Z0DexTUw1ATuSY4O8SNg8EhQ\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nryanatl wrote:\n\n&gt; I took OS/X and Java 1.4.2 out of the picture, by starting up a crawl \n&gt; on a RedHat Linux\n&gt; machine with Java 1.5.  I noticed Java 1.5 provides toe thread stack \n&gt; dumps.\n\nYes.  Its kinda sweet.  Only available on 1.5.x JVM though (Feature \ncourtesy of Christian Kohlsch�tter).\n\n&gt;\n&gt; Seems like a lot of time is being spent in &quot;expungeStaleEntries&quot; -- is \n&gt; this normal behavior\n&gt; as the crawl gets bigger?\n\nexpungeStaleEntries is called everytime we access an element in our \nbdb-backed BigMaps (The method clears the references queue and ensures \nwhats on disk is synced with the copy in memory).  It makes sense that \nsyncing with disk would take more time as the crawl progresses (and as \nthe bdb dbs get bigger) but the below stack seems to show it stuck on \nthe Queue poll.  Poll should be returning immediately.  I&#39;d imagine \nyou&#39;re seeing a new poll each time refetch the thread report.\n\n(Let me continue by responding to your mail from earlier last week).\nSt.Ack\n\n&gt;\n&gt;    ToeThread #3\n&gt; [ToeThread #3: http://www.scanspyware.net/info/W32.Francette.H.htm\n&gt; CrawlURI http://www.scanspyware.net/info/W32.Francette.H.htm LL http://\n&gt; www.scanspyware.net/sitemap.htm    0 attempts\n&gt;     in processor: LinksScoper\n&gt;     ACTIVE for 5m44s543ms\n&gt;     step: ABOUT_TO_BEGIN_PROCESSOR for 5m33s530ms\n&gt;     java.lang.ref.ReferenceQueue.poll(Unknown Source)\n&gt;     org.archive.crawler.settings.SoftSettingsHash.expungeStaleEntries\n&gt; (SoftSettingsHash.java:119)\n&gt;     \n&gt; org.archive.crawler.settings.SoftSettingsHash.get(SoftSettingsHash.java:171)\n&gt;     \n&gt; org.archive.crawler.settings.SettingsCache.getSettings(SettingsCache.java:60)\n&gt;     \n&gt; org.archive.crawler.settings.SettingsHandler.getSettingsForHost(SettingsHandler.java:\n&gt; 268)\n&gt;     \n&gt; org.archive.crawler.settings.SettingsHandler.getSettings(SettingsHandler.java:264)\n&gt;     \n&gt; org.archive.crawler.settings.ComplexType.getSettingsFromObject(ComplexType.java:\n&gt; 331)\n&gt;     \n&gt; org.archive.crawler.settings.ComplexType.getSettingsFromObject(ComplexType.java:\n&gt; 371)\n&gt;     \n&gt; org.archive.crawler.settings.ComplexType.getAttribute(ComplexType.java:449)\n&gt;     \n&gt; org.archive.crawler.filter.URIRegExpFilter.getRegexp(URIRegExpFilter.java:96)\n&gt;     \n&gt; org.archive.crawler.filter.URIRegExpFilter.innerAccepts(URIRegExpFilter.java:76)\n&gt;     org.archive.crawler.framework.Filter.accepts(Filter.java:90)\n&gt;     org.archive.crawler.filter.OrFilter.innerAccepts(OrFilter.java:98)\n&gt;     org.archive.crawler.framework.Filter.accepts(Filter.java:90)\n&gt;     \n&gt; org.archive.crawler.scope.ClassicScope.excludeAccepts(ClassicScope.java:179)\n&gt;     \n&gt; org.archive.crawler.scope.ClassicScope.innerAccepts(ClassicScope.java:122)\n&gt;     org.archive.crawler.framework.Filter.accepts(Filter.java:90)\n&gt;     org.archive.crawler.framework.Scoper.isInScope(Scoper.java:115)\n&gt;     \n&gt; org.archive.crawler.postprocessor.LinksScoper.innerProcess(LinksScoper.java:151)\n&gt;     org.archive.crawler.framework.Processor.process(Processor.java:103)\n&gt;     \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:301)\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:149)\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}