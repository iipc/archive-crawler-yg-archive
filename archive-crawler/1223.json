{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":204968710,"authorName":"ozimmels","from":"&quot;ozimmels&quot; &lt;oz.heritrix@...&gt;","profile":"ozimmels","replyTo":"LIST","senderId":"2vY_SX6a8L-uxZDM_pKo5J74_193ZsMqRKSdRF-IhSELYNvcWd9zaZXGbvu6UpsLw2hjPgXz0efpQIvyLr4XQpOtfGqq7oIrpOs","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: crawling the top 5 sports stories of the wpost - with explorer","postDate":"1101327321","msgId":1223,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGNvMnE0cCtwaDBzQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQxQTREMDg1LjEwNTAxMDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":1222,"nextInTopic":1224,"prevInTime":1222,"nextInTime":1224,"topicId":1211,"numMessagesInTopic":11,"msgSnippet":"first - thanks for all the help and support. so - i was at a dead end with heritirx. though i m a linux fan , my boss is a windows fan ( what can one do ? ) ","rawEmail":"Return-Path: &lt;oz.heritrix@...&gt;\r\nX-Sender: oz.heritrix@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 18859 invoked from network); 24 Nov 2004 20:16:04 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m25.grp.scd.yahoo.com with QMQP; 24 Nov 2004 20:16:04 -0000\r\nReceived: from unknown (HELO n20a.bulk.scd.yahoo.com) (66.94.237.49)\n  by mta1.grp.scd.yahoo.com with SMTP; 24 Nov 2004 20:16:04 -0000\r\nReceived: from [66.218.66.58] by n20.bulk.scd.yahoo.com with NNFMP; 24 Nov 2004 20:15:24 -0000\r\nReceived: from [66.218.67.128] by mailer7.bulk.scd.yahoo.com with NNFMP; 24 Nov 2004 20:15:24 -0000\r\nDate: Wed, 24 Nov 2004 20:15:21 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;co2q4p+ph0s@...&gt;\r\nIn-Reply-To: &lt;41A4D085.1050102@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 8541\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Remote-IP: 66.94.237.49\r\nFrom: &quot;ozimmels&quot; &lt;oz.heritrix@...&gt;\r\nSubject: Re: crawling the top 5 sports stories of the wpost - with explorer\r\nX-Yahoo-Group-Post: member; u=204968710\r\nX-Yahoo-Profile: ozimmels\r\n\r\n\nfirst - thanks for all the help and support.\n\nso - i was at a dead end with heritirx. \n\nthough i&#39;m a linux fan , my boss is a windows fan ( what can one do ? )\n\nand we had to solve the problem asap.\n\nIE (windoz - internet explorer) had a download option (sync a web site\nto disk )  - but it looks at robots.txt\nso you proxy ie and make sure it doesn&#39;t get robots.txt. \n(shhhhh - don&#39;t tell anyone :-)\n\nwhich brings me to my next subject: \nthere is no way one can keep up with the capabilities of the major\nbrowsers ( ie, firefox .. )\n\nweb sites are interested in having those browsers work and so the\nbrowsers know every trick in the book.\n\nweb sites are firefox friendly but not heritirx friendly.\n\ntaking that into consideration - \nwhy not build heritrix into firefox, or using firefox , or something\nlike that.\n\nthen ...\nthere is no need to battle javascript , web tricks , etc ....\nand firefox will always be compatible.\n\nheritrix is the engine that uses firefox as the browser part.\n\nbut .....\ni know that anytime i come up with any idea - someone already thought\nof it before me.\nif that is the case my apologies.\n\nand thanks you so much for the help .\n\n\n\n\n--- In archive-crawler@yahoogroups.com, stack &lt;stack@a...&gt; wrote:\n&gt; ozimmels wrote:\n&gt; \n&gt; &gt;\n&gt; &gt; well - i have been workin on this for 2 weeks now.\n&gt; &gt; and .. nothing.\n&gt; &gt;\n&gt; &gt; to be honest - i&#39;m at the point where i&#39;m thinking of paying someone\n&gt; &gt; to descover how to do it.\n&gt; &gt;\n&gt; &gt; what ever i do - wpost always sends me to the registration page.\n&gt; &gt;\n&gt; &gt; i myself have written a prel crawler a couple of years ago and i used\n&gt; &gt; cookies from a mozilla cookie file.\n&gt; &gt;\n&gt; &gt; anyone interested in pursuing this ?\n&gt; &gt; maybe as a contract job ?\n&gt; &gt;\n&gt; I took a look.  Apart from the two JS-set cookies, TEST_P, and TEST_S, \n&gt; there are other interesting issues around WP login.\n&gt; \n&gt; The expiry date sent over by the washington post is beginning of the \n&gt; epoch.  The httpclient lib that underpins heritrix is choosing to treat \n&gt; cookies marked with this expiration date as &#39;expired&#39; which seems\nproper.\n&gt; \n&gt; Here are the set-cookie headers sent by the WP login page:\n&gt; \n&gt; 1. Set-Cookie: TEST_P=; domain=.washingtonpost.com; expires=Thursday, \n&gt; 01-Jan-1970 01:00:00 GMT; path=/\n&gt; 2. Set-Cookie: TEST_S=; domain=.washingtonpost.com; expires=Thursday, \n&gt; 01-Jan-1970 01:00:00 GMT; path=/\n&gt; 3. Set-Cookie: \n&gt;\nUPROF=WU9CPTE5NjArRz1tYWxlK1pJUD05NDExNytVVD1leHBsaWNpdCtDPVVuaXRlZCBTdGF0ZXMrQj1QUk9GRVMrQj1FTkdOK0I9U09GVERFVitCPVNJWkVfMQ==;\n\n&gt; domain=.washingtonpost.com; expires=Thursday, 01-Jan-1970 01:00:00 GMT; \n&gt; path=/\n&gt; 4. Set-Cookie: UPDATED=1101314587; domain=.washingtonpost.com; \n&gt; expires=Thursday, 01-Jan-1970 01:00:00 GMT; path=/\n&gt; 5. Set-Cookie: wpniuser=stack@d...; domain=.washingtonpost.com; \n&gt; expires=Thursday, 01-Jan-1970 01:00:00 GMT; path=/\n&gt; NODATE,NODOMAIN BUT GETS RETURNED BY CRAWLER+++Set-Cookie: \n&gt;\nWebLogicSessionAc2=Bk6bKOkXvrj1aj0sF81Sd2RCmzF4j1B7g3t1ni1qSzcL3fdLrNd5!1390141459!-763422351;\n\n&gt; path=/+Set-Cookie: \n&gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3; \n&gt; domain=.washingtonpost.com; path=/\n&gt; 6. Set-Cookie: \n&gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3; \n&gt; domain=.washingtonpost.com; expires=Saturday, 26-Jan-2008 02:29:46 GMT; \n&gt; path=/\n&gt; 7. Set-Cookie: SESSIONREM=stack@d...; domain=.washingtonpost.com; \n&gt; path=/\n&gt; \n&gt; Here is what the browser sends back when it goes against the \n&gt; washingtonpost.com domain:\n&gt; \n&gt; Cookie: \n&gt;\nUPROF=WU9CPTE5NjArRz1tYWxlK1pJUD05NDExNytVVD1leHBsaWNpdCtDPVVuaXRlZCBTdGF0ZXMrQj1QUk9GRVMrQj1FTkdOK0I9U09GVERFVitCPVNJWkVfMQ==;\n\n&gt; UPDATED=1101314409; SESSIONREM=stack@d...; \n&gt; wpniuser=stack@d...; \n&gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3\n&gt; \n&gt; Here is what Heritrix sends back if its under the &#39;/ac&#39; path:\n&gt; \n&gt; Cookie: SESSIONREM=stack@d...; \n&gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3\n&gt; \n&gt; Heritrix is missing the &#39;UPROF&#39;, &#39;UPDATED&#39;, and &#39;wpniuser&#39; cookie \n&gt; elements (Items 3., 4., and 5. above).  Notice that the expiration date \n&gt; set on these cookie elements is &#39;Thursday, 01-Jan-1970 01:00:00 GMT&#39;.  \n&gt; Browsers seem to return cookies marked with this date as unexpired.\n The \n&gt; httpclient lib passes them over.\n&gt; \n&gt; There&#39;s a configuration on the heritrix CookiePolicy to say whether \n&gt; cookie policy should be strict or browser compatible.   Heritrix has it \n&gt; set to browser compatible but looks like 1970 is a special date as far \n&gt; as browsers are concerned (Looking in httpclient lib source, there\nis no \n&gt; special handling for the 1970 date that I can see).  Anyone know \n&gt; anything about this?  Otherwise, time to look in browser src.\n&gt; \n&gt; I tried using the cookies file from the browser.  That got me\nfurther in \n&gt; that the Heritrix &#39;cookie&#39; header looked more like the browsers but I&#39;m \n&gt; still not getting in (Perhaps something to do with TEST_P and TEST_S).\n&gt; St.Ack\n&gt; \n&gt; \n&gt; &gt; write to me.\n&gt; &gt; thanks.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In archive-crawler@yahoogroups.com, stack &lt;stack@a...&gt; wrote:\n&gt; &gt; &gt; ozimmels wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; i want to crawl the top 5 stories of wpost.com\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; but of course wpost has login etc ...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; i&#39;ve tried using firefox cookie files\n&gt; &gt; &gt; &gt; and i&#39;ve tried to do a credentials login with heritrix.\n&gt; &gt; &gt; &gt; but alas i have failed\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; anyone have a clue ?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; help .......\n&gt; &gt; &gt;\n&gt; &gt; &gt; You&#39;ll have to supply  more info. if we&#39;re to help.\n&gt; &gt; &gt;\n&gt; &gt; &gt; &lt;aside&gt;Does WPOST let crawlers get content (Is there a robots.txt on\n&gt; &gt; &gt; this site that bars crawler access?)  Does the online policy\nexplicitly\n&gt; &gt; &gt; bar robots?  The NYT policy seems to allow crawler access if the\n&gt; &gt; &gt; downloads are for personal use only.  Perhaps WPOST is the\nsame.&lt;/aside&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Back to debugging.  You can log in with your browser, right? \n&gt; &gt; &gt; Programmatic login by Heritrix is difficult to debug;  You could\n&gt; &gt; look in\n&gt; &gt; &gt; crawl logs to see whats happening on submission (Are you\nredirected, is\n&gt; &gt; &gt; it 200 on POST?) and in the ARC files to see what the login result\n&gt; &gt; pages\n&gt; &gt; &gt; you&#39;re getting back look like -- how do they compare to the browser\n&gt; &gt; &gt; pages?  You might try doing the login negotiation using CURL\nfirst --\n&gt; &gt; &gt; because it&#39;ll be easier to follow the login vagaries in a tool like\n&gt; &gt; CURL\n&gt; &gt; &gt; -- to learn more about how it works before trying the login in\nHeritrix.\n&gt; &gt; &gt;\n&gt; &gt; &gt; St.Ack\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; *Yahoo! Groups Sponsor*\n&gt; &gt; &gt; &gt; ADVERTISEMENT\n&gt; &gt; &gt; &gt; click here\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&lt;http://us.ard.yahoo.com/SIG=129q2nfnt/M=298184.5584357.6650215.3001176/D=groups/S=1705004924:HM/EXP=1101238079/A=2434971/R=0/SIG=11eeoolb0/*http://www.netflix.com/Default?mqso=60185400&gt;\n&gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n------------------------------------------------------------------------\n&gt; &gt; &gt; &gt; *Yahoo! Groups Links*\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;     * To visit your group on the web, go to:\n&gt; &gt; &gt; &gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt; &gt; &gt;       \n&gt; &gt; &gt; &gt;     * To unsubscribe from this group, send an email to:\n&gt; &gt; &gt; &gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt; &gt;     \n&gt; &gt;\n&lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt; &gt;       \n&gt; &gt; &gt; &gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; *Yahoo! Groups Sponsor*\n&gt; &gt;\n&lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=0/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449&gt;\n\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Get unlimited calls to\n&gt; &gt;\n&gt; &gt; U.S./Canada\n&gt; &gt;\n&gt; &gt;\n&lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=1/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449&gt;\n\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n------------------------------------------------------------------------\n&gt; &gt; *Yahoo! Groups Links*\n&gt; &gt;\n&gt; &gt;     * To visit your group on the web, go to:\n&gt; &gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt;        \n&gt; &gt;     * To unsubscribe from this group, send an email to:\n&gt; &gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt;      \n&lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt;        \n&gt; &gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;\n&gt; &gt;\n\n\n\n\n"}}