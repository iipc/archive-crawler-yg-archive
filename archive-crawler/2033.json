{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":165458231,"authorName":"bja@statsbiblioteket.dk","from":"bja@...","profile":"bjarne_dk2000","replyTo":"LIST","senderId":"KskDPgevPQAsMMS4t59s6D8y42aEZ8rZfwo-8hUFTrwBVG91Btb8Hx15ioBZbeThcj_rP01GPSjC0ikRZHU","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] new QueueAssignmentPolicy","postDate":"1120589944","msgId":2033,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDlmMGRmYTQxZjEuYTQxZjE5ZjBkZkBzdGF0c2JpYmxpb3Rla2V0LmRrPg=="},"prevInTopic":2032,"nextInTopic":0,"prevInTime":2032,"nextInTime":2034,"topicId":2032,"numMessagesInTopic":2,"msgSnippet":"To use the new DomainnameQueueAssignmentPolicy a minor change has to be made in AbstractFrontier.java private final static String []","rawEmail":"Return-Path: &lt;bja@...&gt;\r\nX-Sender: bja@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 33019 invoked from network); 5 Jul 2005 19:59:41 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m26.grp.scd.yahoo.com with QMQP; 5 Jul 2005 19:59:41 -0000\r\nReceived: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta1.grp.scd.yahoo.com with SMTP; 5 Jul 2005 19:59:41 -0000\r\nReceived: from statsbiblioteket.dk (localhost [127.0.0.1])\n by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IJ600LFG4QG15@...&gt; for\n archive-crawler@yahoogroups.com; Tue, 05 Jul 2005 20:59:04 +0200 (MEST)\r\nReceived: from [130.225.25.71] by luna.statsbiblioteket.dk (mshttpd); Tue,\n 05 Jul 2005 20:59:04 +0200\r\nDate: Tue, 05 Jul 2005 20:59:04 +0200\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-id: &lt;9f0dfa41f1.a41f19f0df@...&gt;\r\nMIME-version: 1.0\r\nX-Mailer: iPlanet Messenger Express 5.2 HotFix 1.16 (built May 14 2003)\r\nContent-type: multipart/mixed; boundary=&quot;Boundary_(ID_nFxanXX2Pl3FnaqG2NuGwA)&quot;\r\nContent-language: en\r\nX-Accept-Language: en\r\nPriority: normal\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: bja@...\r\nSubject: Re: [archive-crawler] new QueueAssignmentPolicy\r\nX-Yahoo-Group-Post: member; u=165458231; y=ozr9Ado_vI0Y3fo1jAp3OwOI3d2NXw11LU1ITqItOHSY97KvzD-Tcw\r\nX-Yahoo-Profile: bjarne_dk2000\r\n\r\n\r\n--Boundary_(ID_nFxanXX2Pl3FnaqG2NuGwA)\r\nContent-type: text/plain; charset=us-ascii\r\nContent-disposition: inline\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_nFxanXX2Pl3FnaqG2NuGwA)\r\nContent-type: text/html; charset=US-ASCII\r\nContent-transfer-encoding: 7BIT\r\n\r\n&lt;html&gt;&lt;body&gt;\n\n\n&lt;tt&gt;\nI&#39;ve made a simple new DomainnameQueueAssignmentPolicy that bases queues on domain-names instead of host-names (domain defined as 2 last names in the hostname)&lt;BR&gt;\n&lt;BR&gt;\nthis means:&lt;BR&gt;\nx.y.z -&gt; y.z&lt;BR&gt;\ny.z -&gt; y.z&lt;BR&gt;\n&lt;BR&gt;\nIt&#39;s not very useful for e.g. UK-domains where at least 3 last names in the host-name should be used. So a feature for further enhancement could be a setting that says how many names to use&lt;BR&gt;\n&lt;BR&gt;\nbest&lt;BR&gt;\nBjarne Andersen&lt;BR&gt;\n&lt;BR&gt;\npackage org.archive.crawler.frontier;&lt;BR&gt;\n&lt;BR&gt;\nimport org.apache.commons.httpclient.URIException;&lt;BR&gt;\nimport org.archive.crawler.datamodel.CandidateURI;&lt;BR&gt;\nimport org.archive.crawler.datamodel.UURI;&lt;BR&gt;\nimport org.archive.crawler.datamodel.UURIFactory;&lt;BR&gt;\nimport org.archive.crawler.framework.CrawlController;&lt;BR&gt;\nimport org.archive.util.DevUtils;&lt;BR&gt;\n&lt;BR&gt;\n/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n * Using the domain as the queue-name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n * Domain defined as the last two names in the entire hostname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n * x.y.z -&gt; y.z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n * y.z -&gt; y.z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n */&lt;BR&gt;\npublic class DomainnameQueueAssignmentPolicy extends HostnameQueueAssignmentPolicy {&lt;BR&gt;\n&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp; public String getClassKey(CrawlController controller, CandidateURI cauri) {&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String candidate = super.getClassKey(controller, cauri);&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] names = candidate.split(&quot;&#92;&#92;.&quot;);&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (names.length &gt; 2) { // we have a hostname x.y.z (at least 3 names)&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; candidate = names[names.length-2] + &quot;.&quot; + names[names.length-1];&nbsp; // use only the last two names&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&lt;BR&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return candidate;&lt;BR&gt;\n&nbsp;&nbsp;&nbsp; }&lt;BR&gt;\n}&lt;BR&gt;\n&lt;BR&gt;\n&lt;/tt&gt;\n\n\n&lt;?---- LSpots keywords ?&gt;\n  &lt;?---- HM ADS ?&gt;\n  \n\n\n\n\n&lt;/body&gt;&lt;/html&gt;\n\r\n--Boundary_(ID_nFxanXX2Pl3FnaqG2NuGwA)\r\nContent-type: text/x-vcard; name=bja.vcf; charset=windows-1252\r\nContent-disposition: attachment; filename=bja.vcf\r\nContent-description: Card for &lt;bja@...&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_nFxanXX2Pl3FnaqG2NuGwA)--\r\n\n"}}