{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":468364830,"authorName":"Mahmoud Mubarak","from":"Mahmoud Mubarak &lt;mahmoud.mubarak@...&gt;","profile":"mahmoudmubarak@ymail.com","replyTo":"LIST","senderId":"nTe-3objNbovDiSW9oUEjlCMahAe2ysVHl_oDU_dn-kDUT8LACUWw6UefCSBBfh8QoN_iajtg9I3Et6ikSJORrE4Ih5mTUhp0HRnRFmP-v9s3kEU","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Checkpoint recover problem","postDate":"1296116038","msgId":6990,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRENDEyOTQ2LjUwNDA2MDNAYmliYWxleC5vcmc+","inReplyToHeader":"PDRENDA3OTk0LjkwMjA1MDFAYXJjaGl2ZS5vcmc+","referencesHeader":"PDRENDAyRkZBLjMwNzA4MDNAYmliYWxleC5vcmc+IDw0RDQwNzk5NC45MDIwNTAxQGFyY2hpdmUub3JnPg=="},"prevInTopic":6989,"nextInTopic":6991,"prevInTime":6989,"nextInTime":6991,"topicId":6988,"numMessagesInTopic":6,"msgSnippet":"... Is it possible to determine which .DEL files representing .JDB files referenced by the checkpoint? Another question, is it enough to stop the cron job","rawEmail":"Return-Path: &lt;Mahmoud.Mubarak@...&gt;\r\nX-Sender: Mahmoud.Mubarak@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 29013 invoked from network); 27 Jan 2011 08:13:04 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m15.grp.re1.yahoo.com with QMQP; 27 Jan 2011 08:13:04 -0000\r\nX-Received: from unknown (HELO mail.bibalex.org) (196.204.161.5)\n  by mta1.grp.re1.yahoo.com with SMTP; 27 Jan 2011 08:13:04 -0000\r\nX-Received: from [10.8.32.100] (10.8.32.100) by mail.bibalex.org (10.202.2.22)\n with Microsoft SMTP Server (TLS) id 8.3.137.0; Thu, 27 Jan 2011 10:13:03\n +0200\r\nMessage-ID: &lt;4D412946.5040603@...&gt;\r\nDate: Thu, 27 Jan 2011 10:13:58 +0200\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7\r\nMIME-Version: 1.0\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nReferences: &lt;4D402FFA.3070803@...&gt; &lt;4D407994.9020501@...&gt;\r\nIn-Reply-To: &lt;4D407994.9020501@...&gt;\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: mahmoud.mubarak@...\r\nFrom: Mahmoud Mubarak &lt;mahmoud.mubarak@...&gt;\r\nSubject: Re: [archive-crawler] Checkpoint recover problem\r\nX-Yahoo-Group-Post: member; u=468364830; y=ECQHYBc5ZYYT0xXX_wmqI8io7K6g1ESvShlqpCjXoe1qoEDH3dyxqDqGBrx-m_OQI6Lv\r\nX-Yahoo-Profile: mahmoudmubarak@...\r\n\r\n\nOn 01/26/2011 09:44 PM, Gordon Mohr wrote:\n&gt; You do need to keep the &#39;DEL&#39; files that correspond to checkpoints you\n&gt; want to recover. (The active crawl renames JDB files as DEL when it no\n&gt; longer needs them, but checkpoints may still need them.) So, that may be\n&gt; your problem.\nIs it possible to determine which .DEL files representing .JDB files \nreferenced by the checkpoint?\nAnother question, is it enough to stop the cron job before making a \ncheckpoint?\n&gt; (A future version may make checkpoint directories with hard links to all\n&gt; necessary files, so that necessary files cannot be easily deleted, and\n&gt; add better checkpoint-file-management to the web UI.)\n&gt;\n&gt; Without a checkpoint, you could still use any &#39;frontier-recover&#39; logs to\n&gt; *roughly* reproduce the crawl state as of a certain point in time. (Not\n&gt; all stats/reporting is reproduced, but the accounting of URIs\n&gt; already-fetched and needing-fetching is correct.) Note that in H3 you\n&gt; make a launch consult a recovery-log by placing a copy of it in the\n&gt; &#39;action&#39; directory, rather than specifying its path in an optional\n&gt; settings field.\nDo I need to place a copy of &#39;frontier-recover.gz&#39; only in &#39;action&#39; \ndirectory, or I need also to place a copy of crawl.log?\n&gt; - Gordon @ IA\n&gt;\n&gt; On 1/26/11 6:30 AM, Mahmoud Mubarak wrote:\n&gt;&gt; I used to make a checkpoint for backing up the crawling in case of any\n&gt;&gt; crash. When I tried to launch Heritrix from the latest check point, this\n&gt;&gt; error arises:\n&gt;&gt;\n&gt;&gt; 2011-01-26T13:01:22.449Z SEVERE IllegalStateException:\n&gt;&gt; com.sleepycat.je.EnvironmentFailureException: (JE 4.0.71) Environment\n&gt;&gt; must be closed, caused by: com.sleepycat.je.EnvironmentFailureException:\n&gt;&gt; Environment invalid because of previous exception: (JE 4.0.71)\n&gt;&gt; /usr/local/heritrix-3.1.1-SNAPSHOT/./jobs/arab-league/state\n&gt;&gt; java.io.FileNotFoundException:\n&gt;&gt; /usr/local/heritrix-3.1.1-SNAPSHOT/./jobs/arab-league/state/000026b4.jdb\n&gt;&gt; (No such file or directory) LOG_FILE_NOT_FOUND: Log file missing, log is\n&gt;&gt; likely invalid. Environment is invalid and must be closed. (in thread\n&gt;&gt; &#39;arab-league launchthread&#39;)\n&gt;&gt;\n&gt;&gt; 2011-01-26T13:01:21.989Z SEVERE needed log files missing: [00002673.jdb,\n&gt;&gt; 0000266d.jdb, 0000257a.jdb, 000026a8.jdb, 00002684.jdb, 0000254d.jdb,\n&gt;&gt; 00002651.jdb, 00002683.jdb, 00002627.jdb, 00002574.jdb, 0000259c.jdb,\n&gt;&gt; 00002647.jdb, 00000d9a.jdb, 0000263c.jdb, 00002553.jdb, 000025f7.jdb,\n&gt;&gt; 0000260b.jdb, 000001cb.jdb, 000025ba.jdb] (in thread &#39;arab-league\n&gt;&gt; launchthread&#39;)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; I use a crontab to delete .del files only, does that make a porblem in\n&gt;&gt; the recovery?\n&gt;&gt;\n&gt;&gt;\n\n\n\n"}}