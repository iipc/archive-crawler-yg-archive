{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":526355047,"authorName":"matteo.ceccarello@ymail.com","from":"&quot;matteo.ceccarello@...&quot; &lt;matteo.ceccarello@...&gt;","profile":"matteo.ceccarello@ymail.com","replyTo":"LIST","senderId":"TTrXtQevJW_JJiCzfj1WMGl_sNgiWIpR9MrHuzyijDFidd6hne_q1aQsRHj40z7YBssdfYbDS_-zxGFdPtEokvHtDUHb-4jo1QtEHykvBo-xXFXVx1PYMDl0QNp6CjF7JRQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Disabling speculative hops","postDate":"1363716799","msgId":7988,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGtpYTlyditpN2tzQGVHcm91cHMuY29tPg==","inReplyToHeader":"PENBQS16NzArMm11SDczMWFxMF9ibTB5ZnFoZXRoUHFVc1pNcHZ6bjF0eVBVMjY9YndfQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":7987,"nextInTopic":0,"prevInTime":7987,"nextInTime":7989,"topicId":7981,"numMessagesInTopic":8,"msgSnippet":"Thank you for all these answers. Actually we are using version 3.1.0, we ll upgrade to the latest build as soon as possible. Will a TransclusionDecideRule with","rawEmail":"Return-Path: &lt;matteo.ceccarello@...&gt;\r\nX-Sender: matteo.ceccarello@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 84022 invoked by uid 102); 19 Mar 2013 18:13:19 -0000\r\nX-Received: from unknown (HELO mta1.grp.bf1.yahoo.com) (10.193.84.135)\n  by m8.grp.bf1.yahoo.com with SMTP; 19 Mar 2013 18:13:19 -0000\r\nX-Received: (qmail 12610 invoked from network); 19 Mar 2013 18:13:19 -0000\r\nX-Received: from unknown (HELO ng16-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.138)\n  by mta1.grp.bf1.yahoo.com with SMTP; 19 Mar 2013 18:13:19 -0000\r\nX-Received: from [98.139.164.123] by ng16.bullet.mail.bf1.yahoo.com with NNFMP; 19 Mar 2013 18:13:19 -0000\r\nX-Received: from [10.193.94.105] by tg4.bullet.mail.bf1.yahoo.com with NNFMP; 19 Mar 2013 18:13:19 -0000\r\nDate: Tue, 19 Mar 2013 18:13:19 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;kia9rv+i7ks@...&gt;\r\nIn-Reply-To: &lt;CAA-z70+2muH731aq0_bm0yfqhethPqUsZMpvzn1tyPU26=bw_A@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;matteo.ceccarello@...&quot; &lt;matteo.ceccarello@...&gt;\r\nSubject: Re: Disabling speculative hops\r\nX-Yahoo-Group-Post: member; u=526355047; y=TOJJiD1B0P_244pBfEDNaVhZAeUT3YOaBXy7SyF7xPwQKSc51Cex16yhdw-3VbGQS7r_S9a1\r\nX-Yahoo-Profile: matteo.ceccarello@...\r\n\r\nThank you for all these answers.\nActually we are using version 3.1.0, we&#39;ll=\r\n upgrade to the latest build as soon as possible.\n\nWill a TransclusionDecid=\r\neRule with maxSpeculativeHops equals to 0 do the trick? Or something like \n=\r\nhttps://webarchive.jira.com/wiki/display/Heritrix/Heritrix3+Useful+Scripts#=\r\nHeritrix3UsefulScripts-AddaDecideRuletoscoperejectingthesecondspeculativeho=\r\np\n\nwith a modified regular expression: ~/.*X.*X.*/ ?\n\nThanks\n\n--- In archiv=\r\ne-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt; wrote:\n&gt;\n&gt; +1 sounds c=\r\nool.\n&gt; \n&gt; Noah\n&gt; \n&gt; \n&gt; On Tue, Mar 19, 2013 at 10:32 AM, Bjarne Andersen\n&gt; =\r\n&lt;bja@...&gt;wrote:\n&gt; \n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi Andy\n&gt; &gt; Do you have code / documentation=\r\n about your FantomJS service and\n&gt; &gt; heritrix-module calling that for seed-=\r\nURIs ?\n&gt; &gt;\n&gt; &gt; Seems like a fairly good approach that at least Will ensure =\r\njavascript\n&gt; &gt; used for menus and the like that is equal on all pages of a =\r\nsite\n&gt; &gt;\n&gt; &gt; Best\n&gt; &gt; Bjarne Andersen\n&gt; &gt;\n&gt; &gt; Sendt fra min iPhone\n&gt; &gt;\n&gt; &gt; =\r\nDen 19/03/2013 kl. 18.28 skrev &quot;Andrew Jackson&quot; &lt;anj@...&gt;:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; =\r\nHi,\n&gt; &gt;\n&gt; &gt; As Roger can&#39;t answer right now, I&#39;ll answer on his behalf and =\r\nhe correct\n&gt; &gt; me if I get anything wrong.\n&gt; &gt;\n&gt; &gt; We had this problem when=\r\n using 3.1.1-SNAPSHOT, so we may evaluate the\n&gt; &gt; fixes in 3.1.2-SNAPSHOT. =\r\nHowever, at domain-crawl scale this kind of thing\n&gt; &gt; can generate a lot of=\r\n negative feeling, so we&#39;ll probably stick with out\n&gt; &gt; alternative, which =\r\nis as follows:\n&gt; &gt;\n&gt; &gt; Instead of using the JavaScript extractor, we sent a=\r\n subset of pages\n&gt; &gt; (specifically, the seeds) to a headless browser servic=\r\ne based on PhantomJS.\n&gt; &gt; That renders each seed and enumerates all the res=\r\nource dependencies\n&gt; &gt; (including JavaScript ones). The URLs discovered in =\r\nthis way are then\n&gt; &gt; passed back to H3 and downloaded. We believe this is =\r\na preferable approach,\n&gt; &gt; but it is difficult to find decent quality-based=\r\n metrics to allow these\n&gt; &gt; alternatives to be compared meaningfully. We&#39;re=\r\n doing some work on\n&gt; &gt; developing quality metrics, but it&#39;s still early da=\r\nys.\n&gt; &gt;\n&gt; &gt; Andy Jackson\n&gt; &gt;\n&gt; &gt; On 19 Mar 2013, at 17:19, Noah Levitt wrot=\r\ne:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yes, indeed, that&#39;s how to do it.\n&gt; &gt;\n&gt; &gt; I&#39;m wondering =\r\nwhich build of heritrix you guys are using. Javascript\n&gt; &gt; extraction is co=\r\nnsiderably tighter since\n&gt; &gt; https://webarchive.jira.com/browse/HER-1523 wa=\r\ns addressed. If you are\n&gt; &gt; using a recent build, I&#39;d be curious to know ab=\r\nout what kinds of patterns\n&gt; &gt; of bad urls you&#39;re seeing.\n&gt; &gt;\n&gt; &gt; You can f=\r\nind recent builds at\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; http://builds.archive.org:8080/maven2/org/=\r\narchive/heritrix/heritrix/3.1.2-SNAPSHOT/\n&gt; &gt;\n&gt; &gt; Noah\n&gt; &gt;\n&gt; &gt; On Tue, Mar =\r\n19, 2013 at 5:16 AM, Coram, Roger &lt;Roger.Coram@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; =\r\n&gt;&gt;  Hi Matteo,****\n&gt; &gt;&gt;\n&gt; &gt;&gt; We ran into a similar problem and ended up dis=\r\nabling Javascript\n&gt; &gt;&gt; extraction entirely:****\n&gt; &gt;&gt;\n&gt; &gt;&gt; **=B7         **R=\r\nemove the *ExtractorJs* bean in its entirety.****\n&gt; &gt;&gt;\n&gt; &gt;&gt; **=B7         *=\r\n*The *ExtractorHTML* has an *extractJavascript* property\n&gt; &gt;&gt; which you can=\r\n set to `false&#39;. ****\n&gt; &gt;&gt;\n&gt; &gt;&gt; ** **\n&gt; &gt;&gt;\n&gt; &gt;&gt; Thanks,****\n&gt; &gt;&gt;\n&gt; &gt;&gt; Roger=\r\n****\n&gt; &gt;&gt;\n&gt; &gt;&gt; ** **\n&gt; &gt;&gt;\n&gt; &gt;&gt; *From:* archive-crawler@yahoogroups.com [mai=\r\nlto:\n&gt; &gt;&gt; archive-crawler@yahoogroups.com] *On Behalf Of *\n&gt; &gt;&gt; matteo.cecc=\r\narello@...\n&gt; &gt;&gt; *Sent:* 19 March 2013 11:44\n&gt; &gt;&gt; *To:* archive-crawler@yaho=\r\nogroups.com\n&gt; &gt;&gt; *Subject:* [archive-crawler] Disabling speculative hops***=\r\n*\n&gt; &gt;&gt;\n&gt; &gt;&gt; ** **\n&gt; &gt;&gt;\n&gt; &gt;&gt;   ****\n&gt; &gt;&gt;\n&gt; &gt;&gt; Hi all\n&gt; &gt;&gt;\n&gt; &gt;&gt; we are perfor=\r\nming a large crawl with heritrix 3 and some hosts we are\n&gt; &gt;&gt; visiting comp=\r\nlain about lots of 404 errors that generate a lot of traffic\n&gt; &gt;&gt; on their =\r\nsites. All these sites have a similarity: they contain javascript\n&gt; &gt;&gt; code=\r\n that contains strings looking as fragments of URLs.\n&gt; &gt;&gt;\n&gt; &gt;&gt; So I suspect=\r\n that all these requests are generated because of speculative\n&gt; &gt;&gt; links.\n&gt;=\r\n &gt;&gt;\n&gt; &gt;&gt; Is there a way to tweak how &quot;aggressive&quot; they are? I mean, is ther=\r\ne a way\n&gt; &gt;&gt; to tell heritrix: &quot;perform only the speculative hops you are r=\r\neasonably\n&gt; &gt;&gt; sure about&quot;?\n&gt; &gt;&gt;\n&gt; &gt;&gt; Or, in alternative, is there a way to=\r\n completely disable speculative hops?\n&gt; &gt;&gt;\n&gt; &gt;&gt; Thank you very much\n&gt; &gt;&gt; Ma=\r\ntteo****\n&gt; &gt;&gt;\n&gt; &gt;&gt; ****\n&gt; &gt;&gt;\n&gt; &gt;&gt; *****************************************=\r\n*********************************\n&gt; &gt;&gt; Experience the British Library onlin=\r\ne at www.bl.uk\n&gt; &gt;&gt;\n&gt; &gt;&gt; The British Library&#39;s latest Annual Report and Acc=\r\nounts :\n&gt; &gt;&gt; www.bl.uk/aboutus/annrep/index.html\n&gt; &gt;&gt;\n&gt; &gt;&gt; Help the British=\r\n Library conserve the world&#39;s knowledge. Adopt a Book.\n&gt; &gt;&gt; www.bl.uk/adopt=\r\nabook\n&gt; &gt;&gt;\n&gt; &gt;&gt; The Library&#39;s St Pancras site is WiFi - enabled\n&gt; &gt;&gt;\n&gt; &gt;&gt; *=\r\n************************************************************************\n&gt; =\r\n&gt;&gt;\n&gt; &gt;&gt; The information contained in this e-mail is confidential and may be=\r\n\n&gt; &gt;&gt; legally privileged. It is intended for the addressee(s) only. If you =\r\nare\n&gt; &gt;&gt; not the intended recipient, please delete this e-mail and notify t=\r\nhe\n&gt; &gt;&gt; postmaster@... : The contents of this e-mail must not be disclosed =\r\nor\n&gt; &gt;&gt; copied without the sender&#39;s consent.\n&gt; &gt;&gt;\n&gt; &gt;&gt; The statements and o=\r\npinions expressed in this message are those of the\n&gt; &gt;&gt; author and do not n=\r\necessarily reflect those of the British Library. The\n&gt; &gt;&gt; British Library d=\r\noes not take any responsibility for the views of the\n&gt; &gt;&gt; author.\n&gt; &gt;&gt;\n&gt; &gt;&gt;=\r\n *************************************************************************\n=\r\n&gt; &gt;&gt;  Think before you print\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}