{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":256346715,"authorName":"Adam Fisk","from":"&quot;Adam Fisk&quot; &lt;adamfisk@...&gt;","profile":"afisk3","replyTo":"LIST","senderId":"4ncK7iov82mmunwZiJs0H9zGTLu80Etdm_KGKetYg9gdZrDtlb0yVDuF9Cu0V1hVZYsq5fM37BwapOse0V8SzYdL9zmCCPw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: midFecthFilter question","postDate":"1141233131","msgId":2726,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGR1NGtsYitjZTRnQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGR1MmhzYSs2cWdwQGVHcm91cHMuY29tPg=="},"prevInTopic":2722,"nextInTopic":0,"prevInTime":2725,"nextInTime":2727,"topicId":2717,"numMessagesInTopic":4,"msgSnippet":"I believe you want false in your case, no?  Tree s filter is for *including* only html in the crawl.  If you want","rawEmail":"Return-Path: &lt;adamfisk@...&gt;\r\nX-Sender: adamfisk@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 13289 invoked from network); 1 Mar 2006 17:12:18 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m31.grp.scd.yahoo.com with QMQP; 1 Mar 2006 17:12:18 -0000\r\nReceived: from unknown (HELO n7a.bullet.scd.yahoo.com) (66.94.237.41)\n  by mta3.grp.scd.yahoo.com with SMTP; 1 Mar 2006 17:12:18 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.2] by n7.bullet.scd.yahoo.com with NNFMP; 01 Mar 2006 17:12:12 -0000\r\nReceived: from [66.218.66.86] by t2.bullet.scd.yahoo.com with NNFMP; 01 Mar 2006 17:12:12 -0000\r\nDate: Wed, 01 Mar 2006 17:12:11 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;du4klb+ce4g@...&gt;\r\nIn-Reply-To: &lt;du2hsa+6qgp@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Adam Fisk&quot; &lt;adamfisk@...&gt;\r\nSubject: Re: midFecthFilter question\r\nX-Yahoo-Group-Post: member; u=256346715; y=Axmp5CjCahyiuOVynSpkMyPrwPEpsjKHH5-2uMHNXki_\r\nX-Yahoo-Profile: afisk3\r\n\r\nI believe you want &#39;&lt;boolean name=3D&quot;if-match-return&quot;&gt;false&lt;/boolean&gt;&#39; \nin =\r\nyour case, no?  Tree&#39;s filter is for *including* only html in the \ncrawl.  =\r\nIf you want to exclude images, I believe setting if-match-\nreturn to false =\r\nshould do the trick.\n\nHere&#39;s my midfetch filter for *including* only html i=\r\nn the crawl:\n\n  &lt;map name=3D&quot;midfetch-filters&quot;&gt;\n      &lt;newObject name=3D&quot;ht=\r\nmlContentType&quot; class=3D&quot;org.archive.crawler/\nfilter.ContentTypeRegExpFilter=\r\n&quot;&gt;\n          &lt;boolean name=3D&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n          &lt;boolean na=\r\nme=3D&quot;if-match-return&quot;&gt;true&lt;/boolean&gt;\n          &lt;string name=3D&quot;regexp&quot;&gt;(?i=\r\n)text/html.*&lt;/string&gt;\n      &lt;/newObject&gt;\n  &lt;/map&gt;\n\n-Adam\n\n\n--- In archive-c=\r\nrawler@yahoogroups.com, &quot;Franck Mangin&quot; &lt;bizmangin@...\n&gt; wrote:\n&gt;\n&gt; I am us=\r\ning the dropdowns in the web UI, and the spelling is correct\n&gt; there, so th=\r\nis doesn&#39;t seem to be the issue.\n&gt; \n&gt; A related issue that I discovered tod=\r\nay is that the similar filter\n&gt; defined on the Writer doesn&#39;t seem to have =\r\nany effect after I \ndropped\n&gt; the midfetch filter. The GIFs are still writt=\r\nen to the ARC files. \nThe\n&gt; relevant section of order.xml looks like this:\n=\r\n&gt; \n&gt; &lt;map name=3D&quot;write-processors&quot;&gt;\n&gt;       &lt;newObject name=3D&quot;Archiver&quot;\n&gt;=\r\n class=3D&quot;org.archive.crawler.writer.ARCWriterProcessor&quot;&gt;\n&gt;         &lt;boolea=\r\nn name=3D&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n&gt;         &lt;map name=3D&quot;filters&quot;&gt;\n&gt;       =\r\n    &lt;newObject name=3D&quot;NoImages&quot;\n&gt; class=3D&quot;org.archive.crawler.filter.Cont=\r\nentTypeRegExpFilter&quot;&gt;\n&gt;             &lt;boolean name=3D&quot;enabled&quot;&gt;true&lt;/boolean=\r\n&gt;\n&gt;             &lt;boolean name=3D&quot;if-match-return&quot;&gt;true&lt;/boolean&gt;\n&gt;         =\r\n    &lt;string name=3D&quot;regexp&quot;&gt;(?i)image/.*&lt;/string&gt;\n&gt;           &lt;/newObject&gt;\n=\r\n&gt;         &lt;/map&gt;\n&gt; \n&gt; Any suggestion would be greatly appreciated!\n&gt; \n&gt; Tha=\r\nnks,\n&gt; Franck\n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, &quot;Adam Fisk&quot; &lt;ada=\r\nmfisk@&gt; \nwrote:\n&gt; &gt;\n&gt; &gt; I know &quot;ContentTypeRegExFilter&quot; should be \n&quot;Content=\r\nTypeRegExpFilter&quot; -- \n&gt; &gt; it was mispelled on Tree&#39;s blog if I remember cor=\r\nrectly.\n&gt; &gt; \n&gt; &gt; I assume this isn&#39;t your problem, but given I don&#39;t know a=\r\nnything \n&gt; &gt; about how you&#39;re running your crawl, I thought I&#39;d throw it ou=\r\nt \nthere.\n&gt; &gt; \n&gt; &gt; -Adam\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; --- In archive-crawler@yahoogroups.c=\r\nom, &quot;Franck Mangin&quot; \n&lt;bizmangin@\n&gt; &gt; &gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi,\n&gt; &gt; &gt; \n&gt; &gt; &gt; =\r\nI am trying to exclude images from my crawl. I read the Tree&#39;s \nblog\n&gt; &gt; &gt; =\r\nposting and I set up a ContentTypeRegExFilter as a midfetch \nfilter,\n&gt; &gt; &gt; =\r\nwith if-match-return=3DTrue and the regexp set to (?i)image/.*\n&gt; &gt; &gt; \n&gt; &gt; &gt;=\r\n While images do get filtered out, I seem to also be losing many\n&gt; &gt; &gt; text=\r\n/html documents, e.g.:\n&gt; &gt; &gt; \n&gt; &gt; &gt; crawl.log:2006-02-27T12:02:57.663Z   20=\r\n0          0\n&gt; &gt; &gt; http://qwerks.com/product.asp?ProductID=3D5758 - - text/=\r\nhtml #026\n&gt; &gt; &gt; 20060227120257431+227 3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ \n&gt; &gt;=\r\n midFetchAbort,3t\n&gt; &gt; &gt; \n&gt; &gt; &gt; I have added this to heritrix.properties to =\r\ntry to pin down the \npb:\n&gt; &gt; &gt; org.archive.crawler.filter.ContentTypeRegExp=\r\nFilter.level=3DFINER\n&gt; &gt; &gt; ...but this doesn&#39;t generate any logging.\n&gt; &gt; &gt; =\r\n\n&gt; &gt; &gt; Any suggestion? If the midfetch abort isn&#39;t due to the filter \nhow \n=\r\n&gt; &gt; can\n&gt; &gt; &gt; I find out what is causing it?\n&gt; &gt; &gt; \n&gt; &gt; &gt; Thanks!\n&gt; &gt; &gt; Fra=\r\nnck\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n\n\n"}}