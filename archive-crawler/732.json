{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":193638946,"authorName":"Yousef Ourabi","from":"Yousef Ourabi &lt;yousef_ourabi@...&gt;","profile":"yousef_ourabi","replyTo":"LIST","senderId":"YzUKRt99GUgnNfnAWb9MbEHfl5VeC_a2orudEAO_U_2YADRsKOJTf4vAPyUVTjyrrRJBV5TcYK45LKdySwcYOsgHt8AGt5IZ3bf1wzsH","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Reading the files in Arc files","postDate":"1091434055","msgId":732,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDIwMDQwODAyMDgwNzM2LjYwNTg3LnFtYWlsQHdlYjkwMDEwLm1haWwuc2NkLnlhaG9vLmNvbT4=","inReplyToHeader":"PDQxMEE5Q0UwLjYwNDA4MDZAYXJjaGl2ZS5vcmc+"},"prevInTopic":728,"nextInTopic":734,"prevInTime":731,"nextInTime":733,"topicId":727,"numMessagesInTopic":11,"msgSnippet":"Hi, I have a question about the arcwriter in heretix/bin. when I passin an arc.gz file here is what I get. ","rawEmail":"Return-Path: &lt;yousef_ourabi@...&gt;\r\nX-Sender: yousef_ourabi@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 13387 invoked from network); 2 Aug 2004 08:07:36 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m23.grp.scd.yahoo.com with QMQP; 2 Aug 2004 08:07:36 -0000\r\nReceived: from unknown (HELO web90010.mail.scd.yahoo.com) (66.218.94.68)\n  by mta4.grp.scd.yahoo.com with SMTP; 2 Aug 2004 08:07:36 -0000\r\nMessage-ID: &lt;20040802080736.60587.qmail@...&gt;\r\nReceived: from [67.180.39.195] by web90010.mail.scd.yahoo.com via HTTP; Mon, 02 Aug 2004 01:07:35 PDT\r\nDate: Mon, 2 Aug 2004 01:07:35 -0700 (PDT)\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;410A9CE0.6040806@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nX-eGroups-Remote-IP: 66.218.94.68\r\nFrom: Yousef Ourabi &lt;yousef_ourabi@...&gt;\r\nSubject: Re: Reading the files in Arc files\r\nX-Yahoo-Group-Post: member; u=193638946\r\nX-Yahoo-Profile: yousef_ourabi\r\n\r\nHi,\nI have a question about the arcwriter in heretix/bin.\nwhen I passin an arc.gz file here is what I get.\n\nhttp://mx.dir.yahoo.com/Zonas_geograficas/Paises/Puerto_Rico/Municipios/San_Juan/Ciudades/San_Juan/\n20040802075300 1203789 9489 text/html 216.136.232.200\nhttp://personals.sfgate.com/Images/icon_poweredby.gif\n20040802075311 1414203 905 image/gif 67.72.16.92\n\n\nNow so its says there are this files in the arc file.\nAre the av_* programs on the IA&#39;s site the ones to use\nto actually read the contents of those files?\n\nThank you very much for your time.\n\n\n\n\n--- stack &lt;stack@...&gt; wrote:\n\n&gt; Good stuff.  See comments below.\n&gt; \n&gt; nhckbdk wrote:\n&gt; \n&gt; &gt;Hi,\n&gt; &gt;\n&gt; &gt;...\n&gt; &gt;\n&gt; \n&gt; &gt;pools of ARC writers and sockets for receiving data\n&gt; to be written to \n&gt; &gt;ARC files.\n&gt; &gt;  \n&gt; &gt;\n&gt; The socket implementation won&#39;t work with SSL.  I&#39;d\n&gt; call it a deadend.\n&gt; \n&gt; &gt;  - ARCInputStream features a handy readAll()\n&gt; method returning a byte\n&gt; &gt;[]\n&gt; &gt;    with the complete object.\n&gt; &gt;  \n&gt; &gt;\n&gt; &gt;The reading seems to be better optimized in the IA\n&gt; package\n&gt; &gt;(though we haven&#39;t tried to measure the difference\n&gt; in performance).\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; No real profiling has been done on ARCReader (I&#39;d\n&gt; say both are dogs \n&gt; compared to the av tools or Tom Emerson&#39;s libarc:\n&gt; smile).\n&gt; \n&gt; &gt;Traversing an entire file is not directly supported\n&gt; in the DK package,\n&gt; &gt;but the ExtractCDX class implements a traversal for\n&gt; its own purposes.\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; FYI: The ARCReader#main default output is now as\n&gt; pseudo-CDX using the \n&gt; following template: &#39;CDX b e a m s c V (or v if\n&gt; uncompressed) n g&#39;.  The \n&gt; hash is SHA-1, the form of hash recently added by\n&gt; Gordon to crawl.log \n&gt; output.  Calculating the hash slows the reader\n&gt; (Later, when the hash is \n&gt; added to the ARC itself, having the reader calculate\n&gt; the hash would be \n&gt; something you&#39;d turn or off; you&#39;d turn it on when\n&gt; you want to validate \n&gt; the ARC content).  Missing are outputting normalized\n&gt; versions of the \n&gt; original URL and the special Alexa hash that is made\n&gt; up of some \n&gt; combination of document attributes rather just a\n&gt; straight hash of the \n&gt; content.\n&gt; \n&gt; &gt; \n&gt; &gt;\n&gt; &gt;We would like to see at some point of time a\n&gt; package that combines\n&gt; &gt;the best features of both the DK and the IA\n&gt; package. Ideally this \n&gt; &gt;package should:\n&gt; &gt;  - Be a small, closed enitity.\n&gt; &gt;  - Be able to mimic the most important Alexa\n&gt; tools.\n&gt; &gt;  - Support both .arc and .arc.gz.\n&gt; &gt;  - Provide efficient and convenient access to a\n&gt; single object\n&gt; &gt;    given a file and an offset.\n&gt; &gt;  - Provide efficient and convenient traversal of\n&gt; archives.\n&gt; &gt;  - Provide convenient writing of ARC (and .arc.gz)\n&gt; files.\n&gt; &gt;    (Large-scale efficient writing may be left out\n&gt; - this is more of\n&gt; &gt;     a harvester issue).\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; All of the above sounds good.  Would be good to\n&gt; break the reading and \n&gt; writing of ARCs out of the crawler and have it\n&gt; instead include a jar.\n&gt; \n&gt; &gt;First step\n&gt; &gt;----------\n&gt; &gt;\n&gt; &gt;As a first step, we are developing a version of the\n&gt; DK package\n&gt; &gt;that still provides all functionalities of the\n&gt; package but builds on \n&gt; &gt;top\n&gt; &gt;of the IA package. The replacement for\n&gt; ARCInputStream is called\n&gt; &gt;ShareableARCRecord and should have the following\n&gt; public members:\n&gt; &gt;\n&gt; &gt;public class ShareableARCRecord{\n&gt; &gt;    public ShareableARCRecord(ARCRecord record,File\n&gt; file);\n&gt; &gt;    public File getFile();\n&gt; &gt;    public ARCRecordMetaData getMetaData();\n&gt; &gt;    public byte[] readAll() throws IOException;\n&gt; &gt;    public InputStream getObjectAsInputStream()\n&gt; throws IOException;\n&gt; &gt;}\n&gt; &gt;\n&gt; &gt;The File is just the name of the file in which the\n&gt; record was found.\n&gt; &gt;This is useful for indexing information.\n&gt; &gt;As the class name indicates, the two latter methods\n&gt; may be called\n&gt; &gt;any number of times without &quot;interference&quot;.\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; Should we add the arc file name to ARCRecord\n&gt; metadata?   (Not \n&gt; full-path,  just the name)?\n&gt; \n&gt; &gt;In order to support CDX extraction we need to\n&gt; extend the package\n&gt; &gt;with more explicit support for batch jobs (i.e.\n&gt; &quot;convenient ARC file \n&gt; &gt;traversal).\n&gt; &gt;This should be implemented through a class with the\n&gt; following public \n&gt; &gt;members:\n&gt; &gt;\n&gt; &gt;public class ARCBatchData {\n&gt; &gt;\tpublic static ARCBatchData fromArcs(File[]\n&gt; arcFiles);\n&gt; &gt;\tpublic ARCReadingException[] run(ARCBatchJob job);\n&gt; &gt;\tpublic ARCReadingException[] run(ARCBatchJob[]\n&gt; jobs);\n&gt; &gt;}\n&gt; &gt;\n&gt; &gt;The class will do its best to read past any\n&gt; &quot;damages&quot; of the given\n&gt; &gt;ARC files and process as many records as it can\n&gt; find. Problems \n&gt; &gt;encountered\n&gt; &gt;on the way (e.g. EOF within a record) are encoded\n&gt; in the \n&gt; &gt;ARCReadingException\n&gt; &gt;class. In particular, the following code prints out\n&gt; an error report\n&gt; &gt;for the ARC file &quot;foo.arc&quot;:\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; ARCReader needs to be made more robust here.  It\n&gt; fails the ARC read \n&gt; currently whenever it hits a parse error.  It should\n&gt; instead try and \n&gt; move on to the next record in the file.\n&gt; \n&gt; Above is good stuff.\n&gt; St.Ack\n&gt; \n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; \n&gt; &gt;Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; \n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n\n\n\n\t\t\n__________________________________\nDo you Yahoo!?\nYahoo! Mail - 50x more storage than other providers!\nhttp://promotions.yahoo.com/new_mail\n\n"}}