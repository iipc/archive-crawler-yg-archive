{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":501493342,"authorName":"paul.ihde","from":"&quot;paul.ihde&quot; &lt;paul.ihde@...&gt;","profile":"paul.ihde","replyTo":"LIST","senderId":"RwuECyaUhQ0q4TrO5PhbCr43uoxC8YTL5_qs9KC7M3__ZrAtDTZtguNz0rBoX4f5wy3WNDp21dSxgLeLt7BZVB_A7orpA6X0","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Heritrix 3 : How to enable the Javascript engine in DOM building","postDate":"1318364932","msgId":7346,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGo3Mjh1NCt0ZXVpQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRFOTM0N0VCLjQwOTAzMDFAYXJjaGl2ZS5vcmc+"},"prevInTopic":7344,"nextInTopic":0,"prevInTime":7345,"nextInTime":7347,"topicId":7343,"numMessagesInTopic":3,"msgSnippet":"Hi Gordon, Thanks a lot for your detailed answer. Could you please point to some of the Archive projects that have started to tackle this issue? I believe that","rawEmail":"Return-Path: &lt;paul.ihde@...&gt;\r\nX-Sender: paul.ihde@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 71648 invoked from network); 11 Oct 2011 20:29:08 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m13.grp.sp2.yahoo.com with QMQP; 11 Oct 2011 20:29:08 -0000\r\nX-Received: from unknown (HELO ng10-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.78)\n  by mta4.grp.sp2.yahoo.com with SMTP; 11 Oct 2011 20:29:08 -0000\r\nX-Received: from [98.139.164.121] by ng10.bullet.mail.bf1.yahoo.com with NNFMP; 11 Oct 2011 20:28:53 -0000\r\nX-Received: from [69.147.65.149] by tg2.bullet.mail.bf1.yahoo.com with NNFMP; 11 Oct 2011 20:28:53 -0000\r\nX-Received: from [98.137.34.73] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 11 Oct 2011 20:28:53 -0000\r\nDate: Tue, 11 Oct 2011 20:28:52 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j728u4+teui@...&gt;\r\nIn-Reply-To: &lt;4E9347EB.4090301@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;paul.ihde&quot; &lt;paul.ihde@...&gt;\r\nSubject: Re: Heritrix 3 : How to enable the Javascript engine in DOM building\r\nX-Yahoo-Group-Post: member; u=501493342; y=fbC0-sMyZud-yY3sAPp636n5mctHfDo2qxR8LswWFfCTHcb2\r\nX-Yahoo-Profile: paul.ihde\r\n\r\nHi Gordon,\n\nThanks a lot for your detailed answer. Could you please point t=\r\no some of the Archive projects that have started to tackle this issue?\n\nI b=\r\nelieve that this information is usefull. Maybe if someone wants to implemen=\r\nt such a solution he could find some good starting point in those projects.=\r\n\n\nThanx.\n\n--- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; =\r\nwrote:\n&gt;\n&gt; On 10/9/11 2:13 PM, paul.ihde wrote:\n&gt; &gt; Hi,\n&gt; &gt;\n&gt; &gt; I understoo=\r\nd that Heritrix 3 has Javascript support. As such I&#39;m\n&gt; &gt; wondering if it&#39;s=\r\n possible (and anyone actually has experience with\n&gt; &gt; that) to crawl the p=\r\nages with javascript enabled?\n&gt; &gt;\n&gt; &gt; By Javascript support I mean : behavi=\r\nng like a browser with\n&gt; &gt; decent/standard javascript capabilities. As such=\r\n all the pages that\n&gt; &gt; are crawled would be first (before the HTML link ex=\r\ntraction) loaded\n&gt; &gt; in a Webkit like environment and then once the javascr=\r\nipt code is\n&gt; &gt; loaded and finished running =3D&gt;  the DOM is builded. Once =\r\nthis is done\n&gt; &gt; the HTML extractor kicks in and continues the crawl.\n&gt; &gt;\n&gt;=\r\n &gt; I know that Heritrix 3 has support for extracting URL&#39;s from JS code\n&gt; &gt;=\r\n and I understood how that works. But that doesn&#39;t help to much if an\n&gt; &gt; A=\r\nJAX request has to be done/finished for the DOM to be complete.\n&gt; \n&gt; The &#39;J=\r\navascript support&#39; currently in H3 is only:\n&gt; \n&gt; =95 scanning Javascript re=\r\nsources (and &lt;SCRIPT&gt; areas) for likely URIs \n&gt; using crude regex-based heu=\r\nristics\n&gt; \n&gt; =95 the ability to use Javascript as a scripting language to i=\r\nmplement \n&gt; Processors/DecideRules or run operator scripts in the control c=\r\nonsole\n&gt; \n&gt; There&#39;s not yet the ability to simulate a real browser DOM, and=\r\n things \n&gt; like AJAX requests to new URIs as a result of executed Javascrip=\r\nt.\n&gt; \n&gt; There are two main ways that could eventually be achieved:\n&gt; \n&gt; =95=\r\n embed a mock browser into the crawling process, using something like \n&gt; th=\r\ne java HtmlUnit library -- which is apparently good enough that it can \n&gt; t=\r\nest pages using major Javascript AJAX libraries and pages created by \n&gt; Goo=\r\ngle&#39;s GWT toolkit\n&gt; \n&gt; =95 use an actual browser that&#39;s been configured to =\r\nvisit and exercise \n&gt; pages based on external triggers. Again, the tools fr=\r\nom the testing \n&gt; world have led the way here, and some crawls at the Inter=\r\nnet Archive go \n&gt; through an automated QA process that as a side-effect fil=\r\nls gaps left by \n&gt; the limited javascript support in Heritrix.\n&gt; \n&gt; In both=\r\n cases, a major choice to be made is how the many fetches \n&gt; required to co=\r\nmplete the entire DOM/loaded-page/AJAX-modified-page \n&gt; should be handled w=\r\nith respect to the traditional [fetch-1-URI, \n&gt; discover-many-URIs, enqueue=\r\n, repeat] loop. Some of the possible \n&gt; alternatives there include:\n&gt; \n&gt; =\r\n=95 let the component (HtmlUnit or external browser) do all its own \n&gt; fetc=\r\nhing; decide separately whether those fetches are independently \n&gt; archived=\r\n (they wouldn&#39;t all go through all queuing/Processing steps)\n&gt; \n&gt; =95 stall=\r\n the browser-simulation while waiting for followup fetches \n&gt; (inline &lt;SCRI=\r\nPT SRC=3D&gt;, AJAX) to go through the normal queue-fetch loop, \n&gt; though perh=\r\naps at high priority)\n&gt; \n&gt; =95 have both the crawler and the extracting-bro=\r\nwser go through a caching \n&gt; proxy that allows each to be somewhat less com=\r\nplex, within some \n&gt; time-window, about whether the URIs they need have alr=\r\neady been \n&gt; recently/redundantly fetched by the other component.\n&gt; \n&gt; Each=\r\n of these choices could have different effects on whether the same \n&gt; URIs =\r\nare redundantly fetched/stored many times, whether the archived \n&gt; resource=\r\n set is identical to what was used to discover URIs, and whether \n&gt; the arc=\r\nhived/used set of URIs really matches the tight associations a \n&gt; real huma=\r\nn-driven browser would have seen.\n&gt; \n&gt; Some projects at the Archive are wor=\r\nking on this, but there&#39;s not yet \n&gt; any target dates/releases where a solu=\r\ntion will become a standard \n&gt; &#39;out-of-the-box&#39; part of Heritrix.\n&gt; \n&gt; - Go=\r\nrdon\n&gt;\n\n\n\n"}}