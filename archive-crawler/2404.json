{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":165458231,"authorName":"Bjarne Andersen","from":"Bjarne Andersen &lt;bja@...&gt;","profile":"bjarne_dk2000","replyTo":"LIST","senderId":"yjd1XlI_twfNMcrk8_oXxVmaQ4484l1T-zsmZY2xUbvH_iCzAEsDRGNEPQAj1m7fcaARZfP6geUtHurKC_9CFAaX1y3t_qH9Ut-VpDp8lno","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Interpreting bytes harvested when using the group-max-success-kb (QuotaEnforcer)","postDate":"1134073561","msgId":2404,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDYzNDI3NjBjYTIuNjBjYTI2MzQyN0BzdGF0c2JpYmxpb3Rla2V0LmRrPg=="},"prevInTopic":2401,"nextInTopic":0,"prevInTime":2403,"nextInTime":2405,"topicId":2396,"numMessagesInTopic":3,"msgSnippet":"We found the error in our own logic (and code) It was a simple rounding error (500000 bytes/1024 is 488Kb but  488Kb*1024 is not 500000 bytes) best Bjarne","rawEmail":"Return-Path: &lt;bja@...&gt;\r\nX-Sender: bja@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 31545 invoked from network); 8 Dec 2005 20:37:18 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m14.grp.scd.yahoo.com with QMQP; 8 Dec 2005 20:37:18 -0000\r\nReceived: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta4.grp.scd.yahoo.com with SMTP; 8 Dec 2005 20:37:18 -0000\r\nReceived: from statsbiblioteket.dk (localhost [127.0.0.1])\n by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IR700BY74RD67@...&gt; for\n archive-crawler@yahoogroups.com; Thu, 08 Dec 2005 21:26:01 +0100 (MET)\r\nReceived: from [80.199.10.178] by luna.statsbiblioteket.dk (mshttpd); Thu,\n 08 Dec 2005 21:26:01 +0100\r\nDate: Thu, 08 Dec 2005 21:26:01 +0100\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-id: &lt;6342760ca2.60ca263427@...&gt;\r\nMIME-version: 1.0\r\nX-Mailer: iPlanet Messenger Express 5.2 HotFix 1.16 (built May 14 2003)\r\nContent-type: multipart/mixed; boundary=&quot;Boundary_(ID_lG5SlqAGc7P5WPqHGApkwg)&quot;\r\nContent-language: en\r\nX-Accept-Language: en\r\nPriority: normal\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Bjarne Andersen &lt;bja@...&gt;\r\nSubject: Re: [archive-crawler] Interpreting bytes harvested when using the\n group-max-success-kb (QuotaEnforcer)\r\nX-Yahoo-Group-Post: member; u=165458231; y=DQrTHcska4tc7joEXCD7vAOID4Jp3xG82NeWXBCxocRDA48fXLn39Q\r\nX-Yahoo-Profile: bjarne_dk2000\r\n\r\n\r\n--Boundary_(ID_lG5SlqAGc7P5WPqHGApkwg)\r\nContent-type: text/plain; charset=us-ascii\r\nContent-disposition: inline\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_lG5SlqAGc7P5WPqHGApkwg)\r\nContent-type: message/rfc822\r\n\r\nReturn-path:\n &lt;sentto-8759867-2401-1133999555-bjastatsbiblioteket.dk@...&gt;\r\nReceived: from pollux.statsbiblioteket.dk\n (pollux.statsbiblioteket.dk [130.225.24.27]) by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IR5006VOJO4KE@...&gt; for\n bja@...; Thu, 08 Dec 2005 00:52:53 +0100 (MET)\r\nReceived: from n3a.bulk.scd.yahoo.com (n3a.bulk.scd.yahoo.com [66.94.237.37])\n\tby pollux.statsbiblioteket.dk (8.11.6/8.11.6) with SMTP id jB7NlPQ28082\tfor\n &lt;bja@...&gt;; Thu, 08 Dec 2005 00:47:25 +0100\r\nReceived: from [66.218.66.58] by n3.bullet.scd.yahoo.com with NNFMP; Wed,\n 07 Dec 2005 23:52:37 +0000\r\nReceived: from [66.218.66.61] by mailer7.bulk.scd.yahoo.com with NNFMP; Wed,\n 07 Dec 2005 23:52:36 +0000\r\nReceived: (qmail 26902 invoked from network); Wed, 07 Dec 2005 23:52:34 +0000\r\nReceived: from unknown (66.218.66.167) by m35.grp.scd.yahoo.com with QMQP; Wed,\n 07 Dec 2005 23:52:34 +0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.171)\n by mta6.grp.scd.yahoo.com with SMTP; Wed, 07 Dec 2005 23:52:34 +0000\r\nReceived: (qmail 2390 invoked by uid 100); Wed, 07 Dec 2005 23:48:37 +0000\r\nReceived: from adsl-71-130-102-78.dsl.pltn13.pacbell.net (HELO ?192.168.1.8?)\n (stack@...@71.130.102.78) by mail-dev.archive.org with SMTP; Wed,\n 07 Dec 2005 23:48:37 +0000\r\nDate: Wed, 07 Dec 2005 16:43:46 -0800\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Interpreting bytes harvested when using the\n group-max-success-kb (QuotaEnforcer)\r\nIn-reply-to: &lt;dn6r8b+gre9@...&gt;\r\nSender: archive-crawler@yahoogroups.com\r\nX-Sender: stack@...\r\nTo: archive-crawler@yahoogroups.com\r\nReply-to: archive-crawler@yahoogroups.com\r\nMessage-id: &lt;439781C2.9000907@...&gt;\r\nMIME-version: 1.0\r\nContent-type: text/html; charsetISO-8859-1=\r\nContent-transfer-encoding: quoted-printable\r\nX-Accept-Language: en-us, en\r\nPrecedence: bulk\r\nDelivered-to: mailing list archive-crawler@yahoogroups.com\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nDomainKey-Signature: arsa-sha1; qdns; cnofws; slima; dyahoogroups.com;\n\tbsPoZGn2yqFTH929Y6GYE+NvVA10v5S3bae632j42PR6QgRh8+CQUIRkp/5JmIIyB1hALRD7B5Gt6HyyfdoY75q37CLAheyiaIU++P+47nrMJGGwDJCrdO1yR6WZLM+PM;\r\nUser-Agent: Debian Thunderbird 1.0.7 (X11/20051017)\r\nMailing-List: list archive-crawler@yahoogroups.com; contact\n archive-crawler-owner@yahoogroups.com\r\nX-Yahoo-Newman-Property: groups-email\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Spam-DCC: :\r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level:\r\nX-Spam-Status: No, hits-96.1 required7.0 testsAWL,USER_IN_WHITELIST\tautolearnno\n version2.63\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nX-Yahoo-Profile: stackarchiveorg\r\nX-Statsbiblioteket-MailScanner: Found to be clean\r\nX-Statsbiblioteket-MailScanner-SpamCheck: not spam,\tSpamAssassin (score0.284,\n required 5, HTML_50_60 0.18,\tHTML_MESSAGE 0.00, MIME_HTML_ONLY 0.10)\r\nX-Statsbiblioteket-MailScanner-From:\n sentto-8759867-2401-1133999555-bjastatsbiblioteket.dk@...\r\nReferences: &lt;dn6r8b+gre9@...&gt;\r\nList-Unsubscribe: &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com&gt;\r\nList-Id: &lt;archive-crawler.yahoogroups.com&gt;\r\nOriginal-recipient: rfc822;bja@...\r\n\r\n&lt;html&gt;&lt;body&gt;\n\n\n&lt;tt&gt;\nS=F8ren Vejrup Carlsen wrote:&lt;BR&gt;\n&lt;BR&gt;\n&gt; Dear all.&lt;B=\r\nR&gt;\n&gt; We have just started using the group-max-success-kb&lt;BR&gt;\n&gt; in the=\r\n QuotaEnforcer available with heritrix 1.6.0.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; If we set t=\r\nhe limit to X bytes, and get less than X bytes for a&lt;BR&gt;\n&gt; certain domai=\r\nn, can be we sure, that we have finished harvesting this&lt;BR&gt;\n&gt; domain?&lt;B=\r\nR&gt;\n&lt;BR&gt;\nYou might try crawling a known small site whose size you know letti=\r\nng &lt;BR&gt;\nHeritrix crawl it to completion.&nbsp; Do it first without QuotaEnf=\r\norcer, &lt;BR&gt;\nthen with, adjusting group-max-success-kb sizing to see how it =\r\neffects &lt;BR&gt;\nhow Heritrix finishes the crawl.&lt;BR&gt;\n&lt;BR&gt;\nSt.Ack&lt;BR&gt;\n&lt;BR&gt;\n&gt;=\r\n&lt;BR&gt;\n&gt; We have some logic that uses the data in the heritrix-host-report=\r\n&lt;BR&gt;\n&gt; to decide, if we now have finished harvesting a domain, or&lt;BR&gt;\n&g=\r\nt; we still need to harvest some more from this domain.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; T=\r\nhe logic now goes:&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; if (bytesReceivedFromDomain &gt;=3D ma=\r\nxBytesPerDomain) {&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // st=\r\nill needs to harvest more from this domain&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp; ...&lt;BR&gt;\n&gt; } else {&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&n=\r\nbsp;&nbsp;&nbsp; // Finished harvesting this domain&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp; ..&lt;BR&gt;\n&gt; }&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; After =\r\ntesting, we can see that the if-clause:&lt;BR&gt;\n&gt;&nbsp;&nbsp; bytesReceivedF=\r\nromDomain &gt;=3D maxBytesPerDomain&lt;BR&gt;\n&gt; is not always correct.&lt;BR&gt;\n&gt=\r\n; Sometimes the bytesReceived is a little less than MaxBytesPerDomain,&lt;BR&gt;\n=\r\n&gt; when byte-limit has been reached.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; Have anyo=\r\nne got any suggestions to make this logic work?&lt;BR&gt;\n&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n=\r\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; -------------------------------------------=\r\n-----------------------------&lt;BR&gt;\n&gt; YAHOO! GROUPS LINKS&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt=\r\n;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp; Visit your group &quot;archive-crawler&lt;BR=\r\n&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;a href=3D&quot;http://groups.yah=\r\noo.com/group/archive-crawler&quot;&gt;http://groups.yahoo.com/group/archive-crawler=\r\n&lt;/a&gt;&gt;&quot; on the web.&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=\r\np; &lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp; To unsubscribe from this group=\r\n, send an email to:&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arch=\r\nive-crawler-unsubscribe@yahoogroups.com&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=3D=\r\nUnsubscribe&gt;&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;BR&gt;\n&gt=\r\n;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp; Your use of Yahoo! Groups is subject to t=\r\nhe Yahoo! Terms of&lt;BR&gt;\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Service &lt=\r\n;&lt;a href=3D&quot;http://docs.yahoo.com/info/terms/&quot;&gt;http://docs.yahoo.com/info/t=\r\nerms/&lt;/a&gt;&gt;.&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt;&lt;BR&gt;\n&gt; ---------------------------------=\r\n---------------------------------------&lt;BR&gt;\n&gt;&lt;BR&gt;\n&lt;BR&gt;\n&lt;/tt&gt;\n\n\n    \n\n\n\n\n=\r\n\n\n\n&lt;/body&gt;&lt;/html&gt;\n\n\n\r\n--Boundary_(ID_lG5SlqAGc7P5WPqHGApkwg)\r\nContent-type: text/x-vcard; name=bja.vcf; charset=windows-1252\r\nContent-disposition: attachment; filename=bja.vcf\r\nContent-description: Card for Bjarne Andersen &lt;bja@...&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_lG5SlqAGc7P5WPqHGApkwg)--\r\n\n"}}