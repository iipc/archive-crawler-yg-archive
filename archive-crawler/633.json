{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"Wvhp5tOmo9MuuNgPnuVrRBLBjG9_Uh472CWc47qC29067JbEBbnnRLfsuJrPC3K9W5RoDp3XTZSP6dRmAZZbyw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] add some method on org.archive.io.arc.ARCReader","postDate":"1089818989","msgId":633,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwRjU1MTZELjEwMzAwMDBAYXJjaGl2ZS5vcmc+"},"prevInTopic":627,"nextInTopic":640,"prevInTime":632,"nextInTime":634,"topicId":627,"numMessagesInTopic":4,"msgSnippet":"... As Lars suggests in a later mail, you probably don t want to be reading raw offsets if the underlying stream is compressed. But if you re looking for a","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 75484 invoked from network); 14 Jul 2004 15:29:36 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 14 Jul 2004 15:29:36 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta2.grp.scd.yahoo.com with SMTP; 14 Jul 2004 15:29:36 -0000\r\nReceived: from archive.org ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id i6EEp7q19135\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 14 Jul 2004 07:51:07 -0700\r\nMessage-ID: &lt;40F5516D.1030000@...&gt;\r\nDate: Wed, 14 Jul 2004 08:29:49 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7b) Gecko/20040421\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=GB2312\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 63.203.238.114\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] add some method on org.archive.io.arc.ARCReader\r\nX-Yahoo-Group-Post: member; u=168599281\r\n\r\nzhousp wrote:\n\n&gt;hi,developers,\n&gt;\n&gt;I want use lucene to index the Arcfile, and save the url posion into the index .\n&gt;\n&gt;At first I want write my own ARCReader from extends the org.archive.io.arc.ARCReader,\n&gt;\n&gt;But the variable &quot;InputStream in&quot; is protected and I can&#39;t get it from my class.\n&gt;\n&gt;Would you like change \n&gt;\n&gt;protected InputStream in = null;\n&gt;\n&gt;to public or add this method :\n&gt;\n&gt;public long getPoint() throws IOException{\n&gt;    \treturn ((Position)this.in).getFilePointer();\n&gt;    }\n&gt;\n&gt;  \n&gt;\nAs Lars suggests in a later mail, you probably don&#39;t want to be reading\nraw offsets if the underlying stream is compressed.\n\nBut if you&#39;re looking for a particular ARC record&#39;s offset, the\ninformation is made available to you as you read through the ARC with\nARCReader whether the underlying stream is compressed or not. Have you\nstudied ARCReader#main()? Below I reproduce the section I think you&#39;d be\nin interested in. Remarks follow the code.\n\n\n598                 ARCReader arc =\n599                     ARCReaderFactory.get(new File((String)i.next()));\n600                 for (Iterator ii = arc.iterator(); ii.hasNext();) {\n601                     ARCRecord r = (ARCRecord)ii.next();\n602                     ARCRecordMetaData meta = r.getMetaData();\n603                     System.out.println(meta.getUrl() + &quot; &quot; +\n604                         meta.getDate() + &quot; &quot; +\n605                         meta.getOffset() + &quot; &quot; +\n606                         meta.getLength() + &quot; &quot; +\n607                         meta.getMimetype() + &quot; &quot; +\n608                         meta.getIp() + &quot; &quot;);\n609                     r.close();\n610                     System.out.flush();\n\n\nOn line 598, we&#39;re asking the ARCReaderFactory to give us back an\nARCReader instance. The factory takes care of returning an appropriate\nreader dependent upon whether the ARC is compressed or not.\n\nOn line 600 we start up a for loop that gets an iterator out of the\nARCReader.\n\nOn line 601 we call iterator#next(). This returns an ARCRecord. See\nhttp://crawler.archive.org/xref/org/archive/io/arc/ARCRecord.html. An\nARCRecord wraps an entry in the ARC file. Use its read methods to\nreading the record (Using the ARCReader&#39;s read methods directly, there\nis the danger you&#39;ll overrun the current record). The ARCRecord also has\nthe ARCRecord&#39;s metadata. The metadata includes all entries from the\nline that begins an ARCRecord -- URI, mimetype, etc. -- and the\nARCRecord offset (The offset returned is start of record. If original\nARC was compressed, the offset returned is the offset at which the\nARCRecord&#39;s gzip member begins).\n\nLine 603 is dumb printout our the metadata record.\n\nElsewhere in ARCReader#main it shows how to pull an ARCRecord from an\nARC file (whether its compressed or not).\n\nBut filling a Lucene index, I&#39;d imagine, your loop would look much the\none reproduced above except you&#39;d do things like interrogate the\nARCRecord mimetype before you started reading to see which document\nstrainer/filter -- PDF, MSWORD, HTML -- you need to give the ARCReader\nstreams to for extract raw text.\n\nSt.Ack\n\nP.S. On a seperate issue, you asked about hops-from-seeds setting a few\ndays back. I still haven&#39;t gotten to an answer for you. There seems to\nbe a bug therein. I need to look closer.\n\n\n\n\n&gt;?\n&gt;\n&gt;ansi \n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;  \n&gt;\n\n\n"}}