{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"FF_xIc6P3NY0mcQ-9bYgLOGSwuSp94NJYaPFyu-b2bHhfCv2CvJTsK0d5iV9iBhr7fmYe1KJB58YZe0m7AiOFx_b406LJ2U","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Quota per group with multiple seeds in one queue","postDate":"1274913635","msgId":6547,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCRkRBMzYzLjgwNjA5MDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGh0MWxzNCtjcmFoQGVHcm91cHMuY29tPg==","referencesHeader":"PGh0MWxzNCtjcmFoQGVHcm91cHMuY29tPg=="},"prevInTopic":6527,"nextInTopic":6550,"prevInTime":6546,"nextInTime":6548,"topicId":6527,"numMessagesInTopic":3,"msgSnippet":"In this case, both seeds land in the same queue ( com,yahoo, ). Whether or not other parts of the yahoo.com domain are crawled depend on how scoping has been","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 99977 invoked from network); 26 May 2010 22:40:38 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m4.grp.sp2.yahoo.com with QMQP; 26 May 2010 22:40:38 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 May 2010 22:40:38 -0000\r\nX-Received: (qmail 88408 invoked from network); 26 May 2010 22:40:36 -0000\r\nX-Received: from 208.70.27.190 (HELO silverbook.local) (208.70.27.190)\n  by relay03.pair.com with SMTP; 26 May 2010 22:40:36 -0000\r\nX-pair-Authenticated: 208.70.27.190\r\nMessage-ID: &lt;4BFDA363.8060907@...&gt;\r\nDate: Wed, 26 May 2010 15:40:35 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: dechouxb &lt;dechouxb@...&gt;\r\nReferences: &lt;ht1ls4+crah@...&gt;\r\nIn-Reply-To: &lt;ht1ls4+crah@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Quota per group with multiple seeds in one\n queue\r\nX-Yahoo-Group-Post: member; u=137285340; y=QZiLqBnQBp24Rb0Iocyi6Ppw-CCAjNnah5sEzXW_Yjnu\r\nX-Yahoo-Profile: gojomo\r\n\r\nIn this case, both seeds land in the same queue (&quot;com,yahoo,&quot;).\n\nWhether or not other parts of the yahoo.com domain are crawled depend on \nhow scoping has been set up.\n\nWith the default scoping as is implied by the seeds, only URIs that are \nextensions of the &#39;/business/&#39; and &#39;/mobile/&#39; path will be ruled-in by \nSURT prefix. Other URIs may come in by &#39;transclusion&#39;, if they appear \nnecessary to render other crawled pages, but this won&#39;t bring in all \nyahoo.com.\n\nIf you&#39;re using queue-based budgeting or quotas, URIs as discovered from \neach seed will draw against the same budget/quota. However, it&#39;s not the \ncase that one seed will be crawled until &#39;over quota&#39; with the second \nseed never reached. Rather, each of the seeds will be tried fairly \nearly, then all discovered outlinks from each will be interleaved as \nthey are discovered.\n\nThere might be a slight bias towards paths from the seed listed first, \nbut unless in a contrived situation (tiny quota or giant outlink \nfan-out, for example if the first seed visited has enough outlinks to \nexhaust the entire quota), I doubt this would be noticeable.\n\nWe haven&#39;t implemented anything which tries to offer balanced-quotas \nbetween two subsections of the same &#39;site&#39;/hostname. It might be \npossible to acheive that effect with a novel queue-assignment-policy, \nthat uses hostname and one or more of the URI&#39;s path-segments to choose \na target queue. (This might have deleterious effects on politeness and \npreqrequisite-fetching, though -- more research needed.) I wouldn&#39;t try \nthat path unless you were sure, from test crawls, that the usual \napproach wasn&#39;t working for you.\n\nHope this helps,\n\n- Gordon @ IA\n\nOn 5/19/10 2:40 PM, dechouxb wrote:\n&gt; Hello,\n&gt;\n&gt; I have a question about Heritrix 3 behavior : what happens if two seeds have the same authority and the quota is based on the group?\n&gt;\n&gt; Due to the AssignementPolicy (SurtAuthorityQueueAssignmentPolicy), the two seeds should be added to the same queue. Is there any garantee that the two seeds will be crawled &#39;efficiently&#39;? (i.e. that the quota will not be only used for one of them.)\n&gt;\n&gt;  From what I understand Heritrix could crawl the first seed, go over quota and then try the next one but it would be too late. (Assuming that force retire is set to false.)\n&gt;\n&gt; As a practical example, the two seeds could be\n&gt; http://yahoo.com/business/\n&gt; http://yahoo.com/mobile/\n&gt; In that fictional case, we would want to crawl only the business and mobile parts of the yaho.com site but not the whole domain (which could be very huge).\n&gt;\n&gt; Is that a scenario that is likely to happens? What would be the best way(s) to prevent it?\n&gt;\n&gt; Thanks in advance\n&gt;\n&gt; Bertrand Dechoux\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}