{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":359291536,"authorName":"alihoaliho","from":"&quot;alihoaliho&quot; &lt;alihoaliho@...&gt;","profile":"alihoaliho","replyTo":"LIST","senderId":"gZKEaFbPTrMYupf-nKO_pCPLnuUppQB_54xeqwRdqJzPZpCM_hEYD6lxsiC95mvdztaoFv0mif5gmlAExkEskdqkOeibvPgX93Y","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: What&#39;s the easiest way of getting the original seed in a customized writer?","postDate":"1221833389","msgId":5487,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGdiMGJyZCtwZ2UyQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGdhdmowcCt0YTc5QGVHcm91cHMuY29tPg=="},"prevInTopic":5486,"nextInTopic":0,"prevInTime":5486,"nextInTime":5488,"topicId":5473,"numMessagesInTopic":8,"msgSnippet":"We have a local business search engine (similar to yellowpages.com) in which you can search for business using name or some keywords. We are planning to crawl","rawEmail":"Return-Path: &lt;alihoaliho@...&gt;\r\nX-Sender: alihoaliho@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 96112 invoked from network); 19 Sep 2008 14:09:50 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m51.grp.scd.yahoo.com with QMQP; 19 Sep 2008 14:09:50 -0000\r\nX-Received: from unknown (HELO n46a.bullet.mail.sp1.yahoo.com) (66.163.168.140)\n  by mta15.grp.scd.yahoo.com with SMTP; 19 Sep 2008 14:09:50 -0000\r\nX-Received: from [69.147.65.174] by n46.bullet.mail.sp1.yahoo.com with NNFMP; 19 Sep 2008 14:09:50 -0000\r\nX-Received: from [66.218.66.83] by t12.bullet.mail.sp1.yahoo.com with NNFMP; 19 Sep 2008 14:09:50 -0000\r\nDate: Fri, 19 Sep 2008 14:09:49 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;gb0brd+pge2@...&gt;\r\nIn-Reply-To: &lt;gavj0p+ta79@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;alihoaliho&quot; &lt;alihoaliho@...&gt;\r\nSubject: Re: What&#39;s the easiest way of getting the original seed in a customized writer?\r\nX-Yahoo-Group-Post: member; u=359291536; y=D_3waTlzAu71xcAQ-kL8-VG_xPA0XLr3D2D_-SG2gcwCOdWcaQ\r\nX-Yahoo-Profile: alihoaliho\r\n\r\nWe have a local business search engine (similar to yellowpages.com) in\nwhic=\r\nh you can search for business using name or some keywords. We are\nplanning =\r\nto crawl our business listings&#39; websitess (the ones that do\nhave a website =\r\nof course) and to index these pages in order to provide\na better search. (t=\r\nhe query for &#39;big mac&#39; will return &#39;McDonald&#39; for\ninstance). \n\nWe have a co=\r\nuple million url seeds and we are planning to crawl them\nusing amazon&#39;s EC2=\r\n servers. \n\nSo my questions are, \n1. Assuming we have unlimited bandwidth a=\r\nnd 3 servers, and we are\nlimiting all crawling to the domain scope, how lon=\r\ng would heritrix\ntake to crawl say 2 million seeds? Further assuming that w=\r\ne are\nlimiting 500 pages max per seed and we are using 50 threads per serve=\r\nr?\n\n2. Can the ARF sustain/scale up to a couple millions seeds?\n\nWe are loo=\r\nking at ARF because we want to save bandwidth and do not\nwant to take a sna=\r\npshot at some fix interval.\n\n--- In archive-crawler@yahoogroups.com, &quot;Krist=\r\ninn Sigurdsson&quot;\n&lt;kris@...&gt; wrote:\n&gt;\n&gt; The reason that ARFrontier does not s=\r\nupport that is because it was\n&gt; introduced much later than the ARFrontier. =\r\nThe ARFrontier, while an\n&gt; intersting experiment, was ultimately abandoned =\r\nby myself and other\n&gt; Heritrix developers due to scaling issues mostly. The=\r\n idea behind it\n&gt; is still being worked on at the Internet Archive and work=\r\n towards it\n&gt; will be in the upcoming 2.2 version and more in 2.4 next year=\r\n. You\n&gt; should however expect the ARFrontier itself to eventually go away\n&gt;=\r\n unless someone fights for it and (more importantly) maintains it.\n&gt; \n&gt; As =\r\nfor your fix, it sounds like it should work.\n&gt; \n&gt; I&#39;d be very interested in=\r\n knowing why/how you are using the ARF if you\n&gt; can/want to share?\n&gt; \n&gt; - K=\r\nristinn Sigur=F0sson\n&gt; \n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, &quot;aliho=\r\naliho&quot; &lt;alihoaliho@&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt; ah... i can see how this &#39;source-tag&#39;=\r\n work..\n&gt; &gt; \n&gt; &gt; so if i just copy that attribute and these lines over to A=\r\nRF&#39;s\n&gt; &gt; loadseed method\n&gt; &gt; \n&gt; &gt; if (((Boolean)getUncheckedAttribute(null,=\r\n ATTR_SOURCE_TAG_SEEDS))\n&gt; &gt;                     .booleanValue()) {\n&gt; &gt;    =\r\n            \n&gt; &gt; caUri.putString(CoreAttributeConstants.A_SOURCE_TAG,caUri.=\r\ntoString());\n&gt; &gt;                \n&gt; caUri.makeHeritable(CoreAttributeConstan=\r\nts.A_SOURCE_TAG);\n&gt; &gt;             }\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; it should have the same f=\r\neature correct?\n&gt; &gt; \n&gt; &gt; --- In archive-crawler@yahoogroups.com, &quot;alihoalih=\r\no&quot; &lt;alihoaliho@&gt;\n&gt; &gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thanks.\n&gt; &gt; &gt; I found this &#39;source-=\r\ntag&#39; option in the bdbfrontier, but I am using\n&gt; &gt; &gt; AdaptiveRevisitFrontie=\r\nr, the source-tage option seems to be\nmissing on\n&gt; &gt; &gt; this frontier, or am=\r\n I missing something?\n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; --- In archive-crawler@yahoogroup=\r\ns.com, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The &#39;source-tag&#39; is inh=\r\nerited by each discovered URI. So when it\n&gt; &gt; is set \n&gt; &gt; &gt; &gt; to be the see=\r\nd URI, that seed URI appears on all subsequent\n&gt; URIs. The \n&gt; &gt; &gt; &gt; immedia=\r\nte-predecessor URI is available as the &#39;via&#39; URI, which\nalso \n&gt; &gt; &gt; &gt; appea=\r\nrs in the crawl.log.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; For example, starting with...\n&gt; &gt; &gt; &gt;=\r\n \n&gt; &gt; &gt; &gt; seed:\n&gt; &gt; &gt; &gt;   uri: http://www.example.com\n&gt; &gt; &gt; &gt;   hops-path: =\r\n(none)\n&gt; &gt; &gt; &gt;   via: (none)\n&gt; &gt; &gt; &gt;   source-tag: http://www.example.com\n&gt;=\r\n &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; ...you might then discover an clickable outlink (an &#39;N&#39; hop=\r\n) in an\n&gt; &gt; &lt;A&gt; \n&gt; &gt; &gt; &gt; HREF attribute...\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; first discovere=\r\nd URI:\n&gt; &gt; &gt; &gt;   uri: http://www.example.com/subsection\n&gt; &gt; &gt; &gt;   hops-path=\r\n: N\n&gt; &gt; &gt; &gt;   via: http://www.example.com\n&gt; &gt; &gt; &gt;   source-tag: http://www.=\r\nexample.com\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; ...and then discover an inline image URI (an &#39;=\r\nE&#39; hop) in an\n&gt; &lt;IMG&gt; SRC \n&gt; &gt; &gt; &gt; attribute...\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; second dis=\r\ncovered URI:\n&gt; &gt; &gt; &gt;   uri: http://www.example.com/images/header.gif\n&gt; &gt; &gt; =\r\n&gt;   hops-path: NE\n&gt; &gt; &gt; &gt;   via: http://www.example.com/subsection\n&gt; &gt; &gt; &gt; =\r\n  source-tag: http://www.example.com\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; So you can construct =\r\nthe graph *as the crawler followed it* from\n&gt; the \n&gt; &gt; &gt; &gt; crawl.log, but y=\r\nou can also read the origin-seed and \n&gt; &gt; &gt; &gt; immediate-predecessor URIs fr=\r\nom each line.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; - Gordon @ IA\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; alihoaliho wr=\r\note:\n&gt; &gt; &gt; &gt; &gt; is the &#39;source&#39; just the parent page of which the url was\n&gt; =\r\nextracted\n&gt; &gt; &gt; &gt; &gt; from? So to get all the way to the originate seed, i ne=\r\ned to\n&gt; &gt; construct\n&gt; &gt; &gt; &gt; &gt; a graph and follow the path to the root?\n&gt; &gt; =\r\n&gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojom=\r\no@&gt;\n&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;&gt; If you set the &#39;source-tag-seeds&#39; setting of your F=\r\nrontier to\n&gt; &gt; &gt; &#39;true&#39;, \n&gt; &gt; &gt; &gt; &gt;&gt; each seed URI will be tagged with itse=\r\nlf, and then each URI\n&gt; &gt; &gt; discovered \n&gt; &gt; &gt; &gt; &gt;&gt; from those seeds will in=\r\nherit this same source seed. This\n&gt; &gt; source tag \n&gt; &gt; &gt; &gt; &gt;&gt; will appear in=\r\n the second-to-last field of the crawl.log.\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; So, you&#39;l=\r\nl be able to see from the crawl.log the seed from\n&gt; &gt; which any\n&gt; &gt; &gt; &gt; &gt; U=\r\nRI \n&gt; &gt; &gt; &gt; &gt;&gt; was discovered.\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; Note that it&#39;s not gua=\r\nranteed to be the seed from which the\n&gt; &gt; shortest \n&gt; &gt; &gt; &gt; &gt;&gt; path to the =\r\nURI can be found -- the crawler sometimes follows\n&gt; &gt; &gt; &gt; &gt; longer-hop \n&gt; &gt;=\r\n &gt; &gt; &gt;&gt; paths more quickly than shorter-hop paths, and the source tag\n&gt; &gt; &gt;=\r\n will be \n&gt; &gt; &gt; &gt; &gt;&gt; the seed from which the URi was actually discovered.\n&gt;=\r\n &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; (The above is true for 1.14.1; it looks like a bug in =\r\n2.0.1 is \n&gt; &gt; &gt; &gt; &gt;&gt; preventing the source tag from appearing in the crawl.=\r\nlog.)\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; - Gordon @ IA\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; alihoaliho =\r\nwrote:\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Hi, i am trying to create a customize writer that needs =\r\nto\n&gt; &gt; write out\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; the crawled document as well as the seed of wh=\r\nich the\n&gt; document was\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; originated from (so that I can tell whic=\r\nh document was from\n&gt; which\n&gt; &gt; &gt; &gt; &gt; seed).\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; I&#39;ve tried a few t=\r\nhings (modifying/recompiling the sources\n&gt; &gt; &gt; codes) and\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; none =\r\nof the solution are elegant because it touches too many\n&gt; &gt; files.\n&gt; &gt; &gt; &gt; =\r\n&gt;&gt;&gt; Can someone who knows the heritrix codebase tell me what would\n&gt; &gt; &gt; be=\r\n the\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; easiest way to achieve this?\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; thank=\r\ns\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; ------------------------------------\n=\r\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt;=\r\n &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; ---------------------------=\r\n---------\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; \n&gt; =\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}