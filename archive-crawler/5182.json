{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":340369307,"authorName":"Pratyush Banerjee","from":"Pratyush Banerjee &lt;Pratyushbanerjee@...&gt;","replyTo":"LIST","senderId":"7hUYc2ZeWvxBcKVj9HaG673JZ_4wrRJkQIuEVUMSbYNCLGbQf3MYcLkBsbp8c_FMj2xd6SLhgAhiDoR2Ivq-XfEFpJI6wWkKN3ayeV6_tHU8KJA","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Exception in usage of BucketQueueAssignmentPolicy in Heritrix-2.0.0","postDate":"1210155972","msgId":5182,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDhDQTdFNDNFN0VGQzMwMi01NkMtMTExQHdlYm1haWwtbmMxMy5zeXNvcHMuYW9sLmNvbT4=","inReplyToHeader":"PDQ4MjE2MDg3LjcwOTA0MDZAYXJjaGl2ZS5vcmc+","referencesHeader":"PDhDQTdDRTFEOTNBMDIwRC1GRTgtMzczOEB3ZWJtYWlsLWRkMTQuc3lzb3BzLmFvbC5jb20+IDw0ODFGQjM5MS4zMDMwMDA2QGFyY2hpdmUub3JnPiA8OENBN0Q2NTdGQzZEREUzLTEyNTAtNzk2NUB3ZWJtYWlsLW5mMTYuc2ltLmFvbC5jb20+IDw0ODIwQzcyMC4zMDkwNDA2QGFyY2hpdmUub3JnPiA8OENBN0UyMDE2ODRGODhDLTFGMjQtMzRFM0B3ZWJtYWlsLW5iMTEuc3lzb3BzLmFvbC5jb20+IDw0ODIxNjA4Ny43MDkwNDA2QGFyY2hpdmUub3JnPg=="},"prevInTopic":5181,"nextInTopic":5183,"prevInTime":5181,"nextInTime":5183,"topicId":5174,"numMessagesInTopic":10,"msgSnippet":"Hi Gordon, Thanks for your effort. But i tried doing the same you mentioned. Heritrix-2.0.0 still throws up the same errors as before. I modified the global","rawEmail":"Return-Path: &lt;Pratyushbanerjee@...&gt;\r\nX-Sender: Pratyushbanerjee@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 49025 invoked from network); 7 May 2008 10:26:42 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m56.grp.scd.yahoo.com with QMQP; 7 May 2008 10:26:42 -0000\r\nX-Received: from unknown (HELO imo-d21.mx.aol.com) (205.188.144.207)\n  by mta17.grp.scd.yahoo.com with SMTP; 7 May 2008 10:26:41 -0000\r\nX-Received: from Pratyushbanerjee@...\n\tby imo-d21.mx.aol.com (mail_out_v38_r9.4.) id r.d38.2924176d (34931)\n\t for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 7 May 2008 06:26:13 -0400 (EDT)\r\nX-Received: from webmail-nc13 (webmail-nc13.sim.aol.com [207.200.67.34]) by cia-da04.mx.aol.com (v121.5) with ESMTP id MAILCIADA044-8873482183c42af; Wed, 07 May 2008 06:26:12 -0400\r\nReferences: &lt;8CA7CE1D93A020D-FE8-3738@...&gt; &lt;481FB391.3030006@...&gt; &lt;8CA7D657FC6DDE3-1250-7965@...&gt; &lt;4820C720.3090406@...&gt; &lt;8CA7E201684F88C-1F24-34E3@...&gt; &lt;48216087.7090406@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nDate: Wed, 07 May 2008 06:26:12 -0400\r\nX-AOL-IP: 10.146.163.253\r\nIn-Reply-To: &lt;48216087.7090406@...&gt;\r\nX-MB-Message-Source: WebUI\r\nMIME-Version: 1.0\r\nX-MB-Message-Type: User\r\nContent-Type: multipart/alternative; \n boundary=&quot;--------MB_8CA7E43E866F79C_56C_22B_webmail-nc13.sysops.aol.com&quot;\r\nX-Mailer: AOL Webmail 36240-STANDARD\r\nX-Received: from 10.146.163.253 by webmail-nc13.sysops.aol.com (207.200.67.34) with HTTP (WebMailUI); Wed, 07 May 2008 06:26:12 -0400\r\nMessage-Id: &lt;8CA7E43E7EFC302-56C-111@...&gt;\r\nX-Spam-Flag: NO\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Pratyush Banerjee &lt;Pratyushbanerjee@...&gt;\r\nSubject: Re: [archive-crawler] Exception in usage of BucketQueueAssignmentPolicy in\n Heritrix-2.0.0\r\nX-Yahoo-Group-Post: member; u=340369307\r\n\r\n\r\n----------MB_8CA7E43E866F79C_56C_22B_webmail-nc13.sysops.aol.com\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\n\r\n\n Hi Gordon,\n\nThanks for your effort. But i tried doing the same you mentioned. Heritrix-2.0.0 still throws up the same errors as before.\n\nI modified the global sheet? to place root:server-cache before root:Queue-Assignment-Policy . Then started the engine , and changed?  Queue-Assignment-Policy to BucketQueueAssignmentPolicy from the web-UI. and saved the settings. \nOnce i launched the crawl only the header of the heritrix crawl page was displayed. the console could not be seen. The heritrix_out.log \nfile logged the following.\n\njava.lang.NullPointerException\n??? at org.archive.crawler.frontier.WorkQueueFrontier.congestionRatio(WorkQueueFrontier.java:1456)\n??? at org.archive.crawler.framework.StatisticsTrackerImpl.congestionRatio(StatisticsTrackerImpl.java:723)\n??? at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n??? at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n??? at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n??? at java.lang.reflect.Method.invoke(Method.java:597)\n??? at org.archive.openmbeans.annotations.Bean.invoke(Bean.java:236)\n??? at org.archive.settings.jmx.LoggingDynamicMBean.invoke(LoggingDynamicMBean.java:158)\n??? at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\n??? at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n??? at org.archive.openmbeans.annotations.BeanProxy.invoke(BeanProxy.java:87)\n??? at $Proxy14.congestionRatio(Unknown Source)\n??? at jsp.console.page_005fjob_005fconsole_jsp._jspService(jsp.console.page_005fjob_005fconsole_jsp:332)\n??? at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n??? at javax.servlet.http.HttpServlet.service(HttpServlet.java:809)\n??? at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:459)\n??? at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)\n??? at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:231)\n??? at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:629)\n??? at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:453)\n??? at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:268)\n??? at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)\n??? at org.archive.crawler.webui.Misc.forward(Misc.java:104)\n??? at org.archive.crawler.webui.Console.consoleAction(Console.java:114)\n??? at org.archive.crawler.webui.Console.showJobConsole(Console.java:133)\n??? at jsp.console.do_005fshow_005fjob_005fconsole_jsp._jspService(jsp.console.do_005fshow_005fjob_005fconsole_jsp:45)\n??? at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n??? at javax.servlet.http.HttpServlet.service(HttpServlet.java:809)\n??? at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:459)\n??? at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1054)\n??? at org.archive.crawler.webui.AuthFilter.doFilter(AuthFilter.java:79)\n??? at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1045)\n??? at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:358)\n??? at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:231)\n??? at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:629)\n??? at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:453)\n??? at org.mortbay.jetty.handler.HandlerList.handle(HandlerList.java:49)\n??? at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:141)\n??? at org.mortbay.jetty.Server.handle(Server.java:303)\n??? at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:452)\n??? at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:721)\n??? at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:509)\n??? at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:209)\n??? at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:349)\n??? at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:217)\n??? at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)\n\n\n\n I even tried the experiment with a fresh copy of heritrix and near default settings. But the issue remains the same.\n\nPratyush\n\n\n \n\n-----Original Message-----\nFrom: Gordon Mohr &lt;gojomo@...&gt;\nTo: archive-crawler@yahoogroups.com\nSent: Wed, 7 May 2008 1:25 pm\nSubject: Re: [archive-crawler] Exception in usage of BucketQueueAssignmentPolicy in Heritrix-2.0.0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \n\n            \nI was able to reproduce the problem starting from a working, \n\nnearly-default configuration and substituting \n\nBucketQueueAssignmentPolicy via the web UI&#39;s &#39;details&#39; option for the \n\n&#39;root: .\n\n\n\nThe problem appears to be that the definition of certain shared modules \n\nby name inside the root map -- specifically &#39;queue-assignment-policy&#39; \n\nand then &#39;server-cache&#39; -- is in a problematic order once a \n\nBucketQueueAssignmentPolicy is introduced.\n\n\n\nThe &#39;queue-assignment-policy&#39; comes first and unlike other policies, \n\nBucketQueueAssignmentPolicy needs a reference to a ServerCache. There \n\nshould only be one ServerCache, so an instance is created there, and all \n\nlater ServerCache references should refer back to it. However, the \n\nimmediately following &#39;server-cache&#39; definition inside the &#39;root&#39; map \n\ncan&#39;t be filled by autowire references, as the exception indicates.\n\n\n\nI&#39;m not certain if that&#39;s a truly necessary restriction, but a \n\nworkaround that removed the problem for me was to ensure that the \n\n&#39;root:server-cache&#39; definition comes right before, rather than right \n\nafter, &#39;root:queue-assignment-policy&#39;.\n\n\n\nThis can&#39;t be done via the web UI; I did it in the on-disk global.sheet \n\nbefore attempting to swap in BucketQueueAssignmentPolicy.\n\n\n\nA small test crawl with BucketQueueAssignmentPolicy then launched and \n\ncompleted.\n\n\n\nHope this helps,\n\n\n\n- Gordon @ IA\n\n\n\nPratyush Banerjee wrote:\n\n&gt; \n\n&gt; Hi Gordon,\n\n&gt; \n\n&gt; Initially my application crashed due to selection of the \n\n&gt; BucketQueueAssignmentPolicy. Obviously i had changed other default \n\n&gt; options like the\n\n&gt; Archiver, and the politeness settings including max-retry and \n\n&gt; retry-del;ay and fetch-http-timeout.\n\n&gt; \n\n&gt; However after the application crashed i tried changing the \n\n&gt; queueAssignmentPolicy in a frtesh installation of heritrix-2.0 and i \n\n&gt; chose the profile basic-seed-sites crawl. But still the app crashed with \n\n&gt; the same errors.\n\n&gt; \n\n&gt; I also tried selecting optionally a BdbServerCache or a \n\n&gt; DefaultServerCache along with the BucketQueueAssignmentPolicy but to no \n\n&gt; avail.\n\n&gt; \n\n&gt; Pratyush\n\n&gt; \n\n&gt; \n\n&gt; -----Original Message-----\n\n&gt; From: Gordon Mohr &lt;gojomo@...&gt;\n\n&gt; To: archive-crawler@yahoogroups.com\n\n&gt; Sent: Wed, 7 May 2008 2:31 am\n\n&gt; Subject: Re: [archive-crawler] Exception in usage of \n\n&gt; BucketQueueAssignmentPolicy in Heritrix-2.0.0\n\n&gt; \n\n&gt; I suspect this is a different issue entirely. Have you made other\n\n&gt; changes to the default configuration, besides specifying a\n\n&gt; BucketQueueAssignme ntPolicy?\n\n&gt; \n\n&gt; Or is starting with a default configuration and only changing to\n\n&gt; BucketQueueAssignme ntPolicy enough to trigger this error on launch?\n\n&gt; \n\n&gt; - Gordon @ IA\n\n&gt; \n\n&gt; Pratyush Banerjee wrote:\n\n&gt;  &gt; Thanks Gordon for your prompt reply.\n\n&gt;  &gt;\n\n&gt;  &gt; I already tried the changes you suggested.? But that does not however \n\n&gt; solve the problem. I tried making the Key public and getting a \n\n&gt; KeyManager to add keys in a static block within the class.? The previous \n\n&gt; error was gone? obviously.\n\n&gt;  &gt;\n\n&gt;  &gt; But when i ran that code it again crashed giving me the following error.\n\n&gt;  &gt;\n\n&gt;  &gt; java.lang.RuntimeEx ception: org.archive. settings. path.PathChangeE \n\n&gt; xception: Can&#39;t autowire map elements.\n\n&gt;  &gt; ??? at org.archive. crawler.framewor k.EngineImpl. launchJob( \n\n&gt; EngineImpl. java:378)\n\n&gt;  &gt; ??? at sun.reflect. NativeMethodAcce ssorImpl. invoke0(Native Method)\n\n&gt;  &gt; ??? at sun.reflect. NativeMethodAcce ssorImpl. invoke(NativeMet \n\n&gt; hodAccessorImpl. java:39)\n\n\n\n    \n  \n\n    \n    \n    \n    \n\n\n\n\n    \n    \n \n\n\r\n----------MB_8CA7E43E866F79C_56C_22B_webmail-nc13.sysops.aol.com\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/html; charset=&quot;us-ascii&quot;\r\n\r\n\n&lt;div&gt; Hi Gordon,&lt;br&gt;\n&lt;font face=&quot;Arial, Helvetica, sans-serif&quot;&gt;&lt;br&gt;\nThanks for your effort. But i tried doing the same you mentioned. Heritrix-2.0.0 still throws up the same errors as before.&lt;br&gt;\n&lt;br&gt;\nI modified the global sheet&nbsp; to place root:server-cache before root:Queue-Assignment-Policy . Then started the engine , and changed&nbsp;  &lt;/font&gt;&lt;font face=&quot;Arial, Helvetica, sans-serif&quot;&gt;Queue-Assignment-Policy to Bucket&lt;/font&gt;&lt;font face=&quot;Arial, Helvetica, sans-serif&quot;&gt;QueueAssignmentPolicy from the web-UI. and saved the settings. &lt;br&gt;\nOnce i launched the crawl only the header of the heritrix crawl page was displayed. the console could not be seen. The heritrix_out.log &lt;br&gt;\nfile logged the following.&lt;br&gt;\n&lt;br&gt;\n&lt;font face=&quot;Courier New, Courier, mono&quot;&gt;java.lang.NullPointerException&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.frontier.WorkQueueFrontier.congestionRatio(WorkQueueFrontier.java:1456)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.framework.StatisticsTrackerImpl.congestionRatio(StatisticsTrackerImpl.java:723)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at java.lang.reflect.Method.invoke(Method.java:597)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.openmbeans.annotations.Bean.invoke(Bean.java:236)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.settings.jmx.LoggingDynamicMBean.invoke(LoggingDynamicMBean.java:158)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.openmbeans.annotations.BeanProxy.invoke(BeanProxy.java:87)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at $Proxy14.congestionRatio(Unknown Source)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at jsp.console.page_005fjob_005fconsole_jsp._jspService(jsp.console.page_005fjob_005fconsole_jsp:332)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at javax.servlet.http.HttpServlet.service(HttpServlet.java:809)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:459)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:231)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:629)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:453)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:268)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.webui.Misc.forward(Misc.java:104)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.webui.Console.consoleAction(Console.java:114)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.webui.Console.showJobConsole(Console.java:133)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at jsp.console.do_005fshow_005fjob_005fconsole_jsp._jspService(jsp.console.do_005fshow_005fjob_005fconsole_jsp:45)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at javax.servlet.http.HttpServlet.service(HttpServlet.java:809)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:459)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1054)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.archive.crawler.webui.AuthFilter.doFilter(AuthFilter.java:79)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1045)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:358)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:231)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:629)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:453)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.handler.HandlerList.handle(HandlerList.java:49)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:141)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.Server.handle(Server.java:303)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:452)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:721)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:509)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:209)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:349)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:217)&lt;br&gt;\n&nbsp;&nbsp;&nbsp; at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)&lt;br&gt;\n&lt;/font&gt;&lt;br&gt;\n&lt;/font&gt;&lt;/div&gt;\n\n&lt;div&gt; &lt;font face=&quot;Arial, Helvetica, sans-serif&quot;&gt;I even tried the experiment with a fresh copy of heritrix and near default settings. But the issue remains the same.&lt;br&gt;\n&lt;br&gt;\nPratyush&lt;br&gt;\n&lt;/font&gt;&lt;/div&gt;\n\n&lt;div&gt; &lt;br&gt;\n&lt;/div&gt;\n-----Original Message-----&lt;br&gt;\nFrom: Gordon Mohr &lt;gojomo@...&gt;&lt;br&gt;\nTo: archive-crawler@yahoogroups.com&lt;br&gt;\nSent: Wed, 7 May 2008 1:25 pm&lt;br&gt;\nSubject: Re: [archive-crawler] Exception in usage of BucketQueueAssignmentPolicy in Heritrix-2.0.0&lt;br&gt;\n&lt;br&gt;\n\n\n\n\n\n\n&lt;div id=&quot;AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e&quot;&gt;\n\n\n\n\n\n\n\n\n\n&lt;div id=&quot;ygrp-mlmsg&quot; style=&quot;width: 655px; position: relative;&quot;&gt;\n\n&lt;div id=&quot;ygrp-msg&quot; style=&quot;margin: 0pt; padding: 0pt 25px 0pt 0pt; width: 470px; float: left; z-index: 1;&quot;&gt;\n\n\n    \n&lt;div id=&quot;ygrp-text&quot;&gt;\n            \n&lt;div&gt;I was able to reproduce the problem starting from a working, &lt;br&gt;\n\nnearly-default configuration and substituting &lt;br&gt;\n\nBucketQueueAssignme&lt;wbr&gt;ntPolicy via the web UI&#39;s &#39;details&#39; option for the &lt;br&gt;\n\n&#39;root: .&lt;br&gt;\n\n&lt;br&gt;\n\nThe problem appears to be that the definition of certain shared modules &lt;br&gt;\n\nby name inside the root map -- specifically &#39;queue-assignment-&lt;wbr&gt;policy&#39; &lt;br&gt;\n\nand then &#39;server-cache&#39; -- is in a problematic order once a &lt;br&gt;\n\nBucketQueueAssignme&lt;wbr&gt;ntPolicy is introduced.&lt;br&gt;\n\n&lt;br&gt;\n\nThe &#39;queue-assignment-&lt;wbr&gt;policy&#39; comes first and unlike other policies, &lt;br&gt;\n\nBucketQueueAssignme&lt;wbr&gt;ntPolicy needs a reference to a ServerCache. There &lt;br&gt;\n\nshould only be one ServerCache, so an instance is created there, and all &lt;br&gt;\n\nlater ServerCache references should refer back to it. However, the &lt;br&gt;\n\nimmediately following &#39;server-cache&#39; definition inside the &#39;root&#39; map &lt;br&gt;\n\ncan&#39;t be filled by autowire references, as the exception indicates.&lt;br&gt;\n\n&lt;br&gt;\n\nI&#39;m not certain if that&#39;s a truly necessary restriction, but a &lt;br&gt;\n\nworkaround that removed the problem for me was to ensure that the &lt;br&gt;\n\n&#39;root:server-&lt;wbr&gt;cache&#39; definition comes right before, rather than right &lt;br&gt;\n\nafter, &#39;root:queue-&lt;wbr&gt;assignment-&lt;wbr&gt;policy&#39;.&lt;br&gt;\n\n&lt;br&gt;\n\nThis can&#39;t be done via the web UI; I did it in the on-disk global.sheet &lt;br&gt;\n\nbefore attempting to swap in BucketQueueAssignme&lt;wbr&gt;ntPolicy.&lt;br&gt;\n\n&lt;br&gt;\n\nA small test crawl with BucketQueueAssignme&lt;wbr&gt;ntPolicy then launched and &lt;br&gt;\n\ncompleted.&lt;br&gt;\n\n&lt;br&gt;\n\nHope this helps,&lt;br&gt;\n\n&lt;br&gt;\n\n- Gordon @ IA&lt;br&gt;\n\n&lt;br&gt;\n\nPratyush Banerjee wrote:&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; Hi Gordon,&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; Initially my application crashed due to selection of the &lt;br&gt;\n\n&gt; BucketQueueAssignme&lt;wbr&gt;ntPolicy. Obviously i had changed other default &lt;br&gt;\n\n&gt; options like the&lt;br&gt;\n\n&gt; Archiver, and the politeness settings including max-retry and &lt;br&gt;\n\n&gt; retry-del;ay and fetch-http-timeout.&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; However after the application crashed i tried changing the &lt;br&gt;\n\n&gt; queueAssignmentPoli&lt;wbr&gt;cy in a frtesh installation of heritrix-2.0 and i &lt;br&gt;\n\n&gt; chose the profile basic-seed-sites crawl. But still the app crashed with &lt;br&gt;\n\n&gt; the same errors.&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; I also tried selecting optionally a BdbServerCache or a &lt;br&gt;\n\n&gt; DefaultServerCache along with the BucketQueueAssignme&lt;wbr&gt;ntPolicy but to no &lt;br&gt;\n\n&gt; avail.&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; Pratyush&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; -----Original Message-----&lt;br&gt;\n\n&gt; From: Gordon Mohr &lt;&lt;a href=&quot;mailto:gojomo%40archive.org&quot;&gt;gojomo@archive.&lt;wbr&gt;org&lt;/a&gt;&gt;&lt;br&gt;\n\n&gt; To: &lt;a href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@&lt;wbr&gt;yahoogroups.&lt;wbr&gt;com&lt;/a&gt;&lt;br&gt;\n\n&gt; Sent: Wed, 7 May 2008 2:31 am&lt;br&gt;\n\n&gt; Subject: Re: [archive-crawler] Exception in usage of &lt;br&gt;\n\n&gt; BucketQueueAssignme&lt;wbr&gt;ntPolicy in Heritrix-2.0.&lt;wbr&gt;0&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; I suspect this is a different issue entirely. Have you made other&lt;br&gt;\n\n&gt; changes to the default configuration, besides specifying a&lt;br&gt;\n\n&gt; BucketQueueAssignme ntPolicy?&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; Or is starting with a default configuration and only changing to&lt;br&gt;\n\n&gt; BucketQueueAssignme ntPolicy enough to trigger this error on launch?&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; - Gordon @ IA&lt;br&gt;\n\n&gt; &lt;br&gt;\n\n&gt; Pratyush Banerjee wrote:&lt;br&gt;\n\n&gt;  &gt; Thanks Gordon for your prompt reply.&lt;br&gt;\n\n&gt;  &gt;&lt;br&gt;\n\n&gt;  &gt; I already tried the changes you suggested.? But that does not however &lt;br&gt;\n\n&gt; solve the problem. I tried making the Key public and getting a &lt;br&gt;\n\n&gt; KeyManager to add keys in a static block within the class.? The previous &lt;br&gt;\n\n&gt; error was gone? obviously.&lt;br&gt;\n\n&gt;  &gt;&lt;br&gt;\n\n&gt;  &gt; But when i ran that code it again crashed giving me the following error.&lt;br&gt;\n\n&gt;  &gt;&lt;br&gt;\n\n&gt;  &gt; java.lang.RuntimeEx ception: org.archive. settings. path.PathChangeE &lt;br&gt;\n\n&gt; xception: Can&#39;t autowire map elements.&lt;br&gt;\n\n&gt;  &gt; ??? at org.archive. crawler.framewor k.EngineImpl. launchJob( &lt;br&gt;\n\n&gt; EngineImpl. java:378)&lt;br&gt;\n\n&gt;  &gt; ??? at sun.reflect. NativeMethodAcce ssorImpl. invoke0(Native Method)&lt;br&gt;\n\n&gt;  &gt; ??? at sun.reflect. NativeMethodAcce ssorImpl. invoke(NativeMet &lt;br&gt;\n\n&gt; hodAccessorImpl. java:39)&lt;br&gt;\n\n&lt;/div&gt;\n\n    &lt;/div&gt;\n  \n\n    \n    &lt;span width=&quot;1&quot; style=&quot;color: white;&quot;&gt;&lt;/span&gt;\n    \n    \n&lt;style type=&quot;text/css&quot;&gt;#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp{  border: 1px solid #d8d8d8;  font-family: Arial;  margin: 14px 0px;  padding: 0px 14px;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp hr{  border: 1px solid #d8d8d8;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp #hd{  color: #628c2a;  font-size: 85%;  font-weight: bold;  line-height: 122%;  margin: 10px 0px;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp #ads{  margin-bottom: 10px;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp .ad{  padding: 0 0;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mkp .ad a{  color: #0000ff;  text-decoration: none;}&lt;/style&gt;\n\n&lt;style type=&quot;text/css&quot;&gt;#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ygrp-lc{  font-family: Arial;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ygrp-lc #hd{  margin: 10px 0px;  font-weight: bold;  font-size: 78%;  line-height: 122%;}#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ygrp-lc .ad{  margin-bottom: 10px;  padding: 0 0;}&lt;/style&gt;\n\n    &lt;style type=&quot;text/css&quot;&gt;     #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg {font-size:13px; font-family: arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg table {font-size:inherit;font:100%;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg select,#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e  input,#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e  textarea {font:99% arial,helvetica,clean,sans-serif;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg pre,#AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e  code {font:115% monospace;*font-size:100%;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg * {line-height:1.22em;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-text{     font-family: Georgia;  } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-text p{     margin: 0 0 1em 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-tpmsgs{     font-family: Arial;      clear: both; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vitnav{  padding-top: 10px;  font-family: Verdana;  font-size: 77%;  margin: 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vitnav a{  padding: 0 1px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-actbar{  clear: both;  margin: 25px 0;  white-space:nowrap;  color: #666;  text-align: right; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-actbar .left{  float: left;  white-space:nowrap; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e .bld{font-weight:bold;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-grft{  font-family: Verdana;  font-size: 77%;  padding: 15px 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-ft{   font-family: verdana;   font-size: 77%;   border-top: 1px solid #666;    padding: 5px 0;  } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-mlmsg #logo{   padding-bottom: 10px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-reco { margin-bottom: 20px; padding: 0px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-reco #reco-head {  font-weight: bold;  color: #ff7900; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #reco-grpname{        font-weight: bold;        margin-top: 10px;   } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #reco-category{         font-size: 77%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #reco-desc{         font-size: 77%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital{  background-color: #e0ecee;  margin-bottom: 20px;  padding: 2px 0 8px 8px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital #vithd{  font-size: 77%;  font-family: Verdana;  font-weight: bold;  color: #333;  text-transform: uppercase; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital ul{  padding: 0;  margin: 2px 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital ul li{   list-style-type: none;   clear: both;   border: 1px solid #e0ecee;   } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital ul li .ct{   font-weight: bold;   color: #ff7900;   float: right;   width: 2em;   text-align:right;   padding-right: .5em; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital ul li .cat{   font-weight: bold; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital a{  text-decoration: none; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-vital a:hover{   text-decoration: underline; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #hd{  color: #999;  font-size: 77%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ov{  padding: 6px 13px;  background-color: #e0ecee;  margin-bottom: 20px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ov ul{  padding: 0 0 0 8px;  margin: 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ov li{  list-style-type: square;  padding: 6px 0;  font-size: 77%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #ov li a{  text-decoration: none;  font-size: 130%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor #nc{   background-color: #eee;   margin-bottom: 20px;   padding: 0 8px; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor .ad{  padding: 8px 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor .ad #hd1{  font-family: Arial;  font-weight: bold;  color: #628c2a;  font-size: 100%;  line-height: 122%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor .ad a{  text-decoration: none; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor .ad a:hover{  text-decoration: underline; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-sponsor .ad p{  margin: 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e o{font-size: 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e .MsoNormal{    margin: 0 0 0 0; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e #ygrp-text tt{   font-size: 120%; } #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e blockquote{margin: 0 0 0 4px;} #AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e .replbq{margin:4}     &lt;/style&gt;\n    &lt;/div&gt;\n &lt;!-- end of AOLMsgPart_2_874f6d2f-9b87-4815-a78f-8a7abe00059e --&gt;\n\n&lt;div id=&#39;u8CA7E43E7EFC302-56C-111&#39; class=&#39;aol_ad_footer&#39;&gt;&lt;FONT style=&quot;color: black; font: normal 10pt ARIAL, SAN-SERIF;&quot;&gt;&lt;HR style=&quot;MARGIN-TOP: 10px&quot;&gt;Plan your next roadtrip with &lt;A title=&quot;http://www.mapquest.com/?ncid=mpqmap00030000000004&quot; href=&quot;http://www.mapquest.com/?ncid=mpqmap00030000000004&quot; target=&quot;_blank&quot;&gt;MapQuest.com&lt;/A&gt;: America&#39;s #1 Mapping Site.&lt;/FONT&gt; &lt;/div&gt;\n\r\n----------MB_8CA7E43E866F79C_56C_22B_webmail-nc13.sysops.aol.com--\r\n\n"}}