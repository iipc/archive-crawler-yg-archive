{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":254719850,"authorName":"steve@archive.org","from":"&quot;steve@...&quot; &lt;steve@...&gt;","profile":"stearcorg","replyTo":"LIST","senderId":"1elODWkOJXYOkfch8uQ6cHLb9Kl0TJFdLYkqGvKEeSDU1-PFXKzo6ASxr5FfFHLwZg-CNYBUmyrAJVX7y1Xb2vmN5WQK3XwcG8sh3MbT","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: weird content-type in WARC","postDate":"1276874130","msgId":6585,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDMUI4RDkyLjQwMjAzMDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGh2ZjQxZStlN2RvQGVHcm91cHMuY29tPg==","referencesHeader":"PGh2ZjQxZStlN2RvQGVHcm91cHMuY29tPg=="},"prevInTopic":6584,"nextInTopic":0,"prevInTime":6584,"nextInTime":6586,"topicId":6219,"numMessagesInTopic":8,"msgSnippet":"hi Bernd, your question seemed directed at the WARC format, which is not under our control. we re just going to adjust our WARCReader accessor methods. sorry","rawEmail":"Return-Path: &lt;steve@...&gt;\r\nX-Sender: steve@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 31220 invoked from network); 18 Jun 2010 15:15:32 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m4.grp.sp2.yahoo.com with QMQP; 18 Jun 2010 15:15:32 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.231.239)\n  by mta2.grp.sp2.yahoo.com with SMTP; 18 Jun 2010 15:15:32 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id B452634CC6;\n\tFri, 18 Jun 2010 08:15:31 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id XopI0ei01Bkz; Fri, 18 Jun 2010 08:15:30 -0700 (PDT)\r\nX-Received: from SiznaxMBP.local (router300.sf.archive.org [208.70.27.190])\n\tby mail.archive.org (Postfix) with ESMTPSA id 93BCD3198E;\n\tFri, 18 Jun 2010 08:15:30 -0700 (PDT)\r\nMessage-ID: &lt;4C1B8D92.4020308@...&gt;\r\nDate: Fri, 18 Jun 2010 08:15:30 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Bernd &lt;bernd.fehling@...&gt;\r\nReferences: &lt;hvf41e+e7do@...&gt;\r\nIn-Reply-To: &lt;hvf41e+e7do@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nFrom: &quot;steve@...&quot; &lt;steve@...&gt;\r\nSubject: Re: [archive-crawler] Re: weird content-type in WARC\r\nX-Yahoo-Group-Post: member; u=254719850; y=sm7vGUPAb6W308aZHkyUWnB2FqOlWUpKVTwUfQgmTY7H\r\nX-Yahoo-Profile: stearcorg\r\n\r\nhi Bernd,\n\nyour question seemed directed at the WARC format, which is\nnot under our control. we&#39;re just going to adjust our\nWARCReader accessor methods. sorry for the misunderstanding.\n\n/steve@...\n\n\nOn 6/17/10 11:34 PM, Bernd wrote:\n&gt;\n&gt;\n&gt; Wow, that was a quick decision...\n&gt; Just two month ago my wish/idea was ignored.\n&gt;\n&gt; http://tech.groups.yahoo.com/group/archive-crawler/message/6465\n&gt;\n&gt; Hmmm, may be the wrong person asked...\n&gt; Anyway, I&#39;m glad it will be done.\n&gt;\n&gt; Thanks, Bernd\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com\n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, &quot;steve@...&quot; &lt;steve@...&gt; wrote:\n&gt;  &gt;\n&gt;  &gt; heh, i meant &quot;alluded&quot;, not &quot;eluded&quot;.\n&gt;  &gt;\n&gt;  &gt; thanks for the further info Erik. now i see the problem. running\n&gt;  &gt; H3/org.archive.io.ArchiveTest, i see that it gives &quot;text/html&quot;\n&gt;  &gt; mimetype in CDX mode for an ARC, but for WARC it reports:\n&gt;  &gt;\n&gt;  &gt; application/http; msgtype=response\n&gt;  &gt; application/http; msgtype=request\n&gt;  &gt; application/warc-fields\n&gt;  &gt;\n&gt;  &gt; so, i&#39;ve opened an issue for us to make sure that\n&gt;  &gt; ArchiveRecordHeader.getMimetype() gives payload-content-type for\n&gt;  &gt; WARCs (for consistency), and to add a method which still gives\n&gt;  &gt; access to the WARC record container-content-type.\n&gt;  &gt;\n&gt;  &gt; https://webarchive.jira.com/browse/HER-1788\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; /steve@...\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; /steve@...\n&gt;  &gt;\n&gt;  &gt; On 6/17/10 12:44 PM, Erik Hetzner wrote:\n&gt;  &gt; &gt; At Thu, 17 Jun 2010 12:27:52 -0700,\n&gt;  &gt; &gt; steve@... wrote:\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; you want to examine the HTTP header Content-Type contained\n&gt;  &gt; &gt;&gt; _within_ the WARC record, rather than the WARC header\n&gt;  &gt; &gt;&gt; Content-Type.\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; the crawl-report reports HTTP header Content-Type(s). WARC files\n&gt;  &gt; &gt;&gt; also contain WARC header Content-Type(s) as eluded to by Erik.\n&gt;  &gt; &gt;&gt; there will be a request, response, and metadata WARC record\n&gt;  &gt; &gt;&gt; header for each target-URI, which also contain their own\n&gt;  &gt; &gt;&gt; Content-Type field.\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; e.g. for &quot;WARC-Target-URI: http://www.archive.org/&quot; the\n&gt;  &gt; &gt;&gt; following &quot;Content-Type&quot; entries will be reported in a WARC\n&gt;  &gt; &gt;&gt; record (with other selected fields):\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; [â€¦]\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; org.archive.io.ArchiveRecordHeader.getMimetype() should report\n&gt;  &gt; &gt;&gt; the mimetype you&#39;re interested in.\n&gt;  &gt; &gt;&gt;\n&gt;  &gt; &gt;&gt; hope that helps.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Hi Steve, all,\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Thanks for the very clear explanation of the issue, Steve.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; I just had another look at this because I will need to be parsing WARC\n&gt;  &gt; &gt; records myself soon.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; I tested getMimetype - it seems to return the WARC Content-type rather\n&gt;  &gt; &gt; than the body Content-Type.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; The WARCIndexer tool bundled with the open source wayback does,\n&gt;  &gt; &gt; however, extract the MIME type from the actual response. It does this\n&gt;  &gt; &gt; by parsing the HTTP headers itself. Here is a good starting place to\n&gt;  &gt; &gt; see how to extract the HTTP headers from the WARC record:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt; https://archive-access.svn.sourceforge.net/svnroot/archive-access/trunk/archive-access/projects/wayback/wayback-core/src/main/java/org/archive/wayback/resourcestore/indexer/WARCRecordToSearchResultAdapter.java\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Hopefully the WARC/ARC API will be cleaned up soon; it is strange to\n&gt;  &gt; &gt; have the same method (getMimetype) with completely different\n&gt;  &gt; &gt; semantics.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; If you are only using WARCs, an alternative might be to use the WARC\n&gt;  &gt; &gt; tools here:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt; http://law.dsi.unimi.it/index.php?option=com_content&task=view&id=35&Itemid=42\n&gt; &lt;http://law.dsi.unimi.it/index.php?option=com_content&task=view&id=35&Itemid=42&gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Which contains code for parsing the HTTP response itself.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; best, Erik\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Sent from my free software system&lt;http://fsf.org/&gt;.\n&gt;  &gt;\n&gt;\n&gt; \n\n"}}