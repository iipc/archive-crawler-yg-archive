{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"PNTUzxZ_OEMFudp8N7RzN_CxTFnnXAFPHPilxuPBwaP2VAc08CrNh12QfdmT_CNO_FAV49eDcBNpqPOdANpZJfD4shG0-LNh","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Dealing with Thread Contention","postDate":"1312853402","msgId":7266,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFNDA4RDlBLjUwNjAyMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGoxbGl1OCtsb2swQGVHcm91cHMuY29tPg==","referencesHeader":"PGoxbGl1OCtsb2swQGVHcm91cHMuY29tPg=="},"prevInTopic":7257,"nextInTopic":0,"prevInTime":7265,"nextInTime":7267,"topicId":7250,"numMessagesInTopic":4,"msgSnippet":"By default heritrix 1 listens for jmx on port 8849 when started with the script bin/heritrix. You can change this by setting the environment variable JMX_PORT","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 95260 invoked from network); 9 Aug 2011 01:29:30 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m7.grp.sp2.yahoo.com with QMQP; 9 Aug 2011 01:29:30 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mta3.grp.sp2.yahoo.com with SMTP; 9 Aug 2011 01:29:30 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id C076B6841066;\n\tMon,  8 Aug 2011 18:29:26 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id doekG6NBffYb; Mon,  8 Aug 2011 18:29:25 -0700 (PDT)\r\nX-Received: from [208.70.27.155] (desktop-nlevitt.sf.archive.org [208.70.27.155])\n\tby mail.archive.org (Postfix) with ESMTPSA id C6F026840148;\n\tMon,  8 Aug 2011 18:29:25 -0700 (PDT)\r\nMessage-ID: &lt;4E408D9A.5060209@...&gt;\r\nDate: Mon, 08 Aug 2011 18:30:02 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.18) Gecko/20110617 Thunderbird/3.1.11\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: eimhee &lt;eimhee@...&gt;\r\nReferences: &lt;j1liu8+lok0@...&gt;\r\nIn-Reply-To: &lt;j1liu8+lok0@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Re: Dealing with Thread Contention\r\nX-Yahoo-Group-Post: member; u=325624130; y=7G3tIYnVfZXezRistddZUwK2QgfWdSAx1ELGyFfGcMOi4w\r\nX-Yahoo-Profile: nlevitt\r\n\r\nBy default heritrix 1 listens for jmx on port 8849 when started with the \nscript bin/heritrix. You can change this by setting the environment \nvariable JMX_PORT at startup. Take a look at bin/heritrix for more \ninformation.\n\nHeritrix 3 doesn&#39;t use jmx. Instead most everything can be done through \nthe restful http interface.\n\nNoah\n\nOn 08/07/2011 01:38 AM, eimhee wrote:\n&gt; how to connect to Heritrix using JMX,\n&gt; I cann&#39;t found the JMX port in the setting?\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, &quot;helloitsmaxine&quot;&lt;itsmaxine@...&gt;  wrote:\n&gt;&gt; I&#39;ve been asking a lot about this same problem I&#39;ve been having so sorry for all the questions!\n&gt;&gt;\n&gt;&gt; The general overview is that my crawl starts out fast and slows down to an extremely slow rate after a few hours. At the slow-down time, the max heap is being used, congestion ratio high, and all threads active.\n&gt;&gt;\n&gt;&gt; Recently after trying to monitor crawl progress using jvisualvm I the heap usage is generally steady rising and falling near the max heap. The thread activity shows most of the threads stopped at &quot;Monitor.&quot; A thread dump shows messages like:\n&gt;&gt; &quot;ToeThread #159: http://xqueso.tumblr.com/ask&quot; prio=4 tid=196954800 nid=0x1a50db000 waiting for monitor entry [1a50da000]\n&gt;&gt;     java.lang.Thread.State: BLOCKED (on object monitor)\n&gt;&gt; \tat org.archive.crawler.postprocessor.FrontierScheduler.innerProcess(FrontierScheduler.java:76)\n&gt;&gt; \t- waiting to lock&lt;111c81320&gt;  (a org.archive.crawler.postprocessor.FrontierScheduler)\n&gt;&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:109)\n&gt;&gt; \tat org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt;&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:154)\n&gt;&gt;\n&gt;&gt;     Locked ownable synchronizers:\n&gt;&gt; \t- None\n&gt;&gt;\n&gt;&gt; It looks like the reason for the slow-down is that most of the threads are blocked, with only some of them actually running.\n&gt;&gt;\n&gt;&gt; Does anyone have strategies for how to reduce this sort of thread contention by changing settings?\n&gt;&gt;\n&gt;&gt; Lately I&#39;ve been trying to see if changing the # of threads will help reduce it-I was originally using 160 as max-threads, and now I&#39;m testing 80, but it doesn&#39;t seem to be making a significant difference, except in the latter case the maximum heap gets used up immediately within a few minutes, while in the former it takes about an hour to reach max heap usage.\n&gt;&gt;\n&gt;&gt; Anyway, the point is I&#39;m a little stuck and any insights or suggestions would be really appreciated!\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n\n"}}