{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"yyI1ZYpfWAausAuOaIQ07OURnJkPYe36IUnDTduAIMKcbDcCcPGubaEDV1KfLH9pF79cPPLoapBY7kjDQi4XF69CBkXccdia","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] Re: heritrix stuck","postDate":"1166812343","msgId":3610,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1OEMyNEI3LjEwOTA1MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVtZzk2OCsxZGRiQGVHcm91cHMuY29tPg==","referencesHeader":"PGVtZzk2OCsxZGRiQGVHcm91cHMuY29tPg=="},"prevInTopic":3604,"nextInTopic":3611,"prevInTime":3609,"nextInTime":3611,"topicId":3603,"numMessagesInTopic":9,"msgSnippet":"Regards your first mail, did you do anything custom to the FetchHTTP (or FetchDNS)?  These are usually responsible for closing the RecordingInputStream (RIS).","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 63708 invoked from network); 22 Dec 2006 19:00:08 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m41.grp.scd.yahoo.com with QMQP; 22 Dec 2006 19:00:08 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.117)\n  by mta2.grp.scd.yahoo.com with SMTP; 22 Dec 2006 19:00:08 -0000\r\nReceived: by dns.duboce.net (Postfix, from userid 1008)\n\tid 3CE04C51D; Fri, 22 Dec 2006 09:12:45 -0800 (PST)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on dns.duboce.net\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-3.1 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00,\n\tHTML_MESSAGE,HTML_TINY_FONT,INTERRUPTUS autolearn=no version=3.1.4\r\nReceived: from [192.168.1.107] (unknown [192.168.1.107])\n\tby dns.duboce.net (Postfix) with ESMTP id 9C8AEC256;\n\tFri, 22 Dec 2006 09:12:40 -0800 (PST)\r\nMessage-ID: &lt;458C24B7.1090508@...&gt;\r\nDate: Fri, 22 Dec 2006 10:32:23 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.0.7) Gecko/20060910 SeaMonkey/1.0.5\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;emg968+1ddb@...&gt;\r\nIn-Reply-To: &lt;emg968+1ddb@...&gt;\r\nContent-Type: multipart/alternative;\n boundary=&quot;------------000505020100030101070006&quot;\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: heritrix stuck\r\nX-Yahoo-Group-Post: member; u=168599281; y=PjLtajjGCU7Hnf9ZQ5qQvuWVhbhcWWIZaBkfWhW4nzjhjjbCmDfu8OH_\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\n\r\n--------------000505020100030101070006\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nRegards your first mail, did you do anything custom to the FetchHTTP (or \nFetchDNS)?  These are usually responsible for closing the \nRecordingInputStream (RIS).  There is a RIS per thread.  Its opened and \nclosed in the fetcher per trip down along the processing chain.  In the \npast the close would sometimes fail but this was addressed a while back \n(You are using a recent Heritrix?).  \n\nHeritrix is embedded into your WAR or does your WAR run a remote \nHeritrix instance?  Does crawling usually work well?  Its just the odd \ntime it goes awry?\n\nYour second mail &#39;seems&#39; to describe a different phenomenon.  After \nfetchers are finished, extractors go to work and get a character stream \non the fetchers&#39; download (A ReplayCharSequence).   If we determine it a \nmulti-byte stream, we first convert downloaded bytes to a CharSequence \nwriting the encoding to a temporary file -- the one with the UTF-16BE \nsuffix -- and its this file we pass back to the extractor to run its \ncharacter-based regexes across.  When an extractor is done, its supposed \nto clean up the temporary file.  The delete is failing silently?  Just \nbefore the delete, there is a log (&#39;...because of...&#39;).  Whats it say in \nyour case?\n\nThanks,\nSt.Ack\n\n\n\n\n\nblah_1977 wrote:\n&gt;\n&gt; After digging around a bit trying to debug this problem, I think the\n&gt; root cause is in the class\n&gt; ReplayCharSequenceFactory.MultiByteReplayCharSequence at the method\n&gt;\n&gt; private void deleteFile(File fileToDelete, final Exception e) {\n&gt; if (e != null) {\n&gt; // Log why the delete to help with debug of\n&gt; java.io.FileNotFoundException:\n&gt; // ....tt53http.ris.UTF-16BE.\n&gt; logger.severe(&quot;Deleting &quot; + fileToDelete + &quot; because of &quot;\n&gt; + e.toString());\n&gt; }\n&gt; if (fileToDelete != null && fileToDelete.exists()) {\n&gt; fileToDelete.delete();\n&gt; }\n&gt; }\n&gt;\n&gt; The last line &quot;fileToDelete.delete()&quot; seems to always return false\n&gt; when invoked from ExtractorHTML, indicating that the file cannot be\n&gt; deleted (perhaps due to a stream still being open on it). This then\n&gt; snowballs into the error seen in my previous post.\n&gt; Has anyone any idea on what&#39;s causing this, and how to fix?\n&gt; Thanks much in advance.\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, &quot;blah_1977&quot; &lt;hwangs@...&gt; \n&gt; wrote:\n&gt; &gt;\n&gt; &gt; I&#39;ve written a little web app running on tomcat, which uses heritrix\n&gt; &gt; to crawl specific sites. Lately, I&#39;ve been running into the following\n&gt; &gt; error messages on the command line, after which it seems like the\n&gt; &gt; whole application becomes &quot;stuck&quot;. i.e., no more progress being made\n&gt; &gt; on the crawl. Here are the error messages:\n&gt; &gt;\n&gt; &gt; INFO HttpMethodDirector:434 - I/O exception caught when processing\n&gt; &gt; request: RIS already open for ToeThread #35:\n&gt; &gt;\n&gt; http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&i2=532335723616234&i3=DETAIL&hash=508826133&i5=&i6=12%2f21%2f2006%207:12:23%20PM&i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&i8=&i9=&i10=J.Job_Title%20Desc&pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM \n&gt; &lt;http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&i2=532335723616234&i3=DETAIL&hash=508826133&i5=&i6=12%2f21%2f2006%207:12:23%20PM&i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&i8=&i9=&i10=J.Job_Title%20Desc&pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&gt;\n&gt; &gt;\n&gt; &gt; [ToeThread #35:\n&gt; &gt;\n&gt; http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&i2=532335723616234&i3=DETAIL&hash=508826133&i5=&i6=12%2f21%2f2006%207:12:23%20PM&i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&i8=&i9=&i10=J.Job_Title%20Desc&pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM \n&gt; &lt;http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&i2=532335723616234&i3=DETAIL&hash=508826133&i5=&i6=12%2f21%2f2006%207:12:23%20PM&i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&i8=&i9=&i10=J.Job_Title%20Desc&pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&gt;]\n&gt; &gt; 19:14:03,516 INFO HttpMethodDirector:440 - Retrying request\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Has anybody seen anything like this before? Thanks much in advance.\n&gt; &gt;\n&gt;\n&gt;  \n\n\r\n--------------000505020100030101070006\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\n\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;\n&lt;/head&gt;\n&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\nRegards your first mail, did you do anything custom to the FetchHTTP\n(or FetchDNS)?&nbsp; These are usually responsible for closing the\nRecordingInputStream (RIS).&nbsp; There is a RIS per thread.&nbsp; Its opened and\nclosed in the fetcher per trip down along the processing chain.&nbsp; In the\npast the close would sometimes fail but this was addressed a while back\n(You are using a recent Heritrix?).&nbsp;&nbsp; &lt;br&gt;\n&lt;br&gt;\nHeritrix is embedded into your WAR or does your WAR run a remote\nHeritrix instance?&nbsp; Does crawling usually work well?&nbsp; Its just the odd\ntime it goes awry?&lt;br&gt;\n&lt;br&gt;\nYour second mail &#39;seems&#39; to describe a different phenomenon.&nbsp; After\nfetchers are finished, extractors go to work and get a character stream\non the fetchers&#39; download (A ReplayCharSequence).&nbsp;&nbsp; If we determine it\na multi-byte stream, we first convert downloaded bytes to a\nCharSequence writing the encoding to a temporary file -- the one with\nthe UTF-16BE suffix -- and its this file we pass back to the extractor\nto run its character-based regexes across.&nbsp; When an extractor is done,\nits supposed to clean up the temporary file.&nbsp; The delete is failing\nsilently?&nbsp; Just before the delete, there is a log (&#39;...because\nof...&#39;).&nbsp; Whats it say in your case?&lt;br&gt;\n&lt;br&gt;\nThanks,&lt;br&gt;\nSt.Ack&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nblah_1977 wrote:\n&lt;blockquote cite=&quot;midemg968+1ddb@...&quot; type=&quot;cite&quot;&gt;&lt;!-- Network content --&gt;\n\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;After digging around a bit trying to debug this problem, I think\nthe&lt;br&gt;\nroot cause is in the class&lt;br&gt;\nReplayCharSequenceF&lt;wbr&gt;actory.MultiByte&lt;wbr&gt;ReplayCharSequen&lt;wbr&gt;ce at\nthe method&lt;br&gt;\n  &lt;br&gt;\nprivate void deleteFile(File fileToDelete, final Exception e) {&lt;br&gt;\nif (e != null) {&lt;br&gt;\n// Log why the delete to help with debug of&lt;br&gt;\njava.io.FileNotFoun&lt;wbr&gt;dException:&lt;br&gt;\n// ....tt53http.&lt;wbr&gt;ris.UTF-16BE.&lt;br&gt;\nlogger.severe(&lt;wbr&gt;&quot;Deleting &quot; + fileToDelete + &quot; because of &quot;&lt;br&gt;\n+ e.toString()&lt;wbr&gt;);&lt;br&gt;\n}&lt;br&gt;\nif (fileToDelete != null &amp;&amp; fileToDelete.&lt;wbr&gt;exists()) {&lt;br&gt;\nfileToDelete.&lt;wbr&gt;delete();&lt;br&gt;\n}&lt;br&gt;\n}&lt;br&gt;\n  &lt;br&gt;\nThe last line &quot;fileToDelete.&lt;wbr&gt;delete()&quot; seems to always return false&lt;br&gt;\nwhen invoked from ExtractorHTML, indicating that the file cannot be&lt;br&gt;\ndeleted (perhaps due to a stream still being open on it). This then&lt;br&gt;\nsnowballs into the error seen in my previous post.&lt;br&gt;\nHas anyone any idea on what&#39;s causing this, and how to fix? &lt;br&gt;\nThanks much in advance.&lt;br&gt;\n  &lt;br&gt;\n--- In &lt;a href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@&lt;wbr&gt;yahoogroups.&lt;wbr&gt;com&lt;/a&gt;,\n&quot;blah_1977&quot; &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:hwangs@...&quot;&gt;&lt;hwangs@...&gt;&lt;/a&gt; wrote:&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; I&#39;ve written a little web app running on tomcat, which uses\nheritrix&lt;br&gt;\n&gt; to crawl specific sites. Lately, I&#39;ve been running into the\nfollowing&lt;br&gt;\n&gt; error messages on the command line, after which it seems like the&lt;br&gt;\n&gt; whole application becomes &quot;stuck&quot;. i.e., no more progress being\nmade&lt;br&gt;\n&gt; on the crawl. Here are the error messages:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; INFO HttpMethodDirector:&lt;wbr&gt;434 - I/O exception caught when\nprocessing&lt;br&gt;\n&gt; request: RIS already open for ToeThread #35:&lt;br&gt;\n&gt;&lt;br&gt;\n  &lt;a\n href=&quot;http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&amp;i2=532335723616234&amp;i3=DETAIL&amp;hash=508826133&amp;i5=&amp;i6=12%2f21%2f2006%207:12:23%20PM&amp;i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&amp;i8=&amp;i9=&amp;i10=J.Job_Title%20Desc&amp;pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&quot;&gt;http://www.pcrecrui&lt;wbr&gt;ter.net/pcrbin/&lt;wbr&gt;reg5.exe?&lt;wbr&gt;i1=WEBGUEST&amp;&lt;wbr&gt;i2=5323357236162&lt;wbr&gt;34&amp;i3=DETAIL&amp;&lt;wbr&gt;hash=508826133&amp;&lt;wbr&gt;i5=&amp;i6=12%&lt;wbr&gt;2f21%2f2006%&lt;wbr&gt;207:12:23%&lt;wbr&gt;20PM&amp;i7=Senior%&lt;wbr&gt;20software%&lt;wbr&gt;20engineer%&lt;wbr&gt;20%20-%20Content&lt;wbr&gt;%20%26%20Syndica&lt;wbr&gt;tion&amp;i8=&amp;&lt;wbr&gt;i9=&amp;i10=J.&lt;wbr&gt;Job_Title%&lt;wbr&gt;20Desc&amp;pcr-&lt;wbr&gt;id=P4SAo2E%&lt;wbr&gt;2fQbHmzBnzOGfIEY&lt;wbr&gt;m775gf6WWf7H%&lt;wbr&gt;2fBydd2pvkAJ%&lt;wbr&gt;2fXKJ%2bHqhT0Ky%&lt;wbr&gt;2b49HifRK6eix7A8&lt;wbr&gt;nL6t%0d%0abj8hq%&lt;wbr&gt;2b%2fiNyiM&lt;/a&gt;&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; [ToeThread #35:&lt;br&gt;\n&gt;&lt;br&gt;\n  &lt;a\n href=&quot;http://www.pcrecruiter.net/pcrbin/reg5.exe?i1=WEBGUEST&amp;i2=532335723616234&amp;i3=DETAIL&amp;hash=508826133&amp;i5=&amp;i6=12%2f21%2f2006%207:12:23%20PM&amp;i7=Senior%20software%20engineer%20%20-%20Content%20%26%20Syndication&amp;i8=&amp;i9=&amp;i10=J.Job_Title%20Desc&amp;pcr-id=P4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&quot;&gt;http://www.pcrecrui&lt;wbr&gt;ter.net/pcrbin/&lt;wbr&gt;reg5.exe?&lt;wbr&gt;i1=WEBGUEST&amp;&lt;wbr&gt;i2=5323357236162&lt;wbr&gt;34&amp;i3=DETAIL&amp;&lt;wbr&gt;hash=508826133&amp;&lt;wbr&gt;i5=&amp;i6=12%&lt;wbr&gt;2f21%2f2006%&lt;wbr&gt;207:12:23%&lt;wbr&gt;20PM&amp;i7=Senior%&lt;wbr&gt;20software%&lt;wbr&gt;20engineer%&lt;wbr&gt;20%20-%20Content&lt;wbr&gt;%20%26%20Syndica&lt;wbr&gt;tion&amp;i8=&amp;&lt;wbr&gt;i9=&amp;i10=J.&lt;wbr&gt;Job_Title%&lt;wbr&gt;20Desc&amp;pcr-&lt;wbr&gt;id=P4SAo2E%&lt;wbr&gt;2fQbHmzBnzOGfIEY&lt;wbr&gt;m775gf6WWf7H%&lt;wbr&gt;2fBydd2pvkAJ%&lt;wbr&gt;2fXKJ%2bHqhT0Ky%&lt;wbr&gt;2b49HifRK6eix7A8&lt;wbr&gt;nL6t%0d%0abj8hq%&lt;wbr&gt;2b%2fiNyiM&lt;/a&gt;]&lt;br&gt;\n&gt; 19:14:03,516 INFO HttpMethodDirector:&lt;wbr&gt;440 - Retrying request&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Has anybody seen anything like this before? Thanks much in advance.&lt;br&gt;\n&gt;&lt;br&gt;\n  &lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n\n&lt;!--End group email --&gt;&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------000505020100030101070006--\r\n\n"}}