{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt0","replyTo":"LIST","senderId":"vh9H3EgCOg4BNnQ8yDPn2vqXIsaMLOs8HIdVvqLE77tkrobK-kZgssidbw8zRnjSueOA-RiZ4DtxbzevXodUcjDmSpl0D6jA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Change request for Heritrix 2.0","postDate":"1204229506","msgId":5020,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3QzcxNTgyLjYwMzA0MDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGZxNzFoZisxMHFjNUBlR3JvdXBzLmNvbT4=","referencesHeader":"PGZxNzFoZisxMHFjNUBlR3JvdXBzLmNvbT4="},"prevInTopic":5019,"nextInTopic":5021,"prevInTime":5019,"nextInTime":5021,"topicId":5015,"numMessagesInTopic":9,"msgSnippet":"Hello Nick, I don t think the change you propose is necessary. This code: String message = Problem  + e + [...] implicitly calls e.toString(), which includes","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 55054 invoked from network); 28 Feb 2008 20:11:48 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m57.grp.scd.yahoo.com with QMQP; 28 Feb 2008 20:11:48 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta17.grp.scd.yahoo.com with SMTP; 28 Feb 2008 20:11:48 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id D2BD6D1903\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 28 Feb 2008 12:11:48 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id o0Alndfryd6C for &lt;archive-crawler@yahoogroups.com&gt;;\n\tThu, 28 Feb 2008 12:11:47 -0800 (PST)\r\nX-Received: from [192.168.1.204] (c-71-204-189-79.hsd1.ca.comcast.net [71.204.189.79])\n\tby mail.archive.org (Postfix) with ESMTP id 3F8B6D1DBF\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 28 Feb 2008 12:11:47 -0800 (PST)\r\nMessage-ID: &lt;47C71582.6030403@...&gt;\r\nDate: Thu, 28 Feb 2008 12:11:46 -0800\r\nUser-Agent: Thunderbird 2.0.0.6 (X11/20071022)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fq71hf+10qc5@...&gt;\r\nIn-Reply-To: &lt;fq71hf+10qc5@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Change request for Heritrix 2.0\r\nX-Yahoo-Group-Post: member; u=325624130; y=mzyTMqjyYPFijcLD_ssnOvRppubo4Rwm2b5yDYPUxFn02ZY\r\nX-Yahoo-Profile: nlevitt0\r\n\r\nHello Nick,\n\nI don&#39;t think the change you propose is necessary. This code:\n\n\tString message = &quot;Problem &quot; + e + [...]\n\nimplicitly calls e.toString(), which includes e.getLocalizedMessage(). See \nhttp://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#toString()\n\nThe problem you&#39;re seeing is the frustrating fact that java doesn&#39;t attach a \nmessage to NullPointerException.\n\nNoah\n\nnfoscarini wrote:\n&gt; Hi,\n&gt; \n&gt; I would like to make a change request to some of the source code in\n&gt; Heritrix 2.0, but I&#39;m not sure how to do this. Do I open a Jira issue,\n&gt; or is there a way to submit code to CVS for the developers to review?\n&gt; \n&gt; Anyway, here is my change request.\n&gt; \n&gt; Description:\n&gt; \n&gt; Developers creating add-ons sometimes need to throw exceptions to\n&gt; report to Heritrix that a recoverable exception has happen. Heritrix\n&gt; then logs this error into the &quot;runtime-errors.log&quot; has an -5 code on\n&gt; the URI.\n&gt; \n&gt; I would like to change the description that is logged, because it\n&gt; contains the exception stack trace, but not the exception description.\n&gt; \n&gt; For example; If I catch an exception like &quot;null pointer&quot;, and can not\n&gt; handle the exception. I&#39;ll wrap the exception, and throw a\n&gt; RuntimeException. Like this.\n&gt; \n&gt; catch( NullPointerException e )\n&gt; {\n&gt; // do some stuff\n&gt; throw new RuntimeException( e.getLocalizedMessage() );\n&gt; }\n&gt; \n&gt; Afterwards, when reviewing the &quot;runtime-errors.log&quot; the entry would\n&gt; look something like this.\n&gt; \n&gt; 2008-02-28T18:46:08.473Z    -5      18428 http://www.abc.com/ - -\n&gt; text/html #002 20080228184607809+440\n&gt; sha1:3SLSHIHACO4E3RJCBEHHX5WDZJKCD6RS - err=java.lang.RuntimeException,3t\n&gt;  java.lang.RuntimeException\n&gt; \tat\n&gt; centipede.writer.Scripts3DWriterProcessor.innerProcess(Scripts3DWriterProcessor.java:266)\n&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt; \tat\n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; \n&gt; Change effects:\n&gt; org.archive.crawler.framework.recoverableProblem(Throwable e)\n&gt; \n&gt; My problem with this log entry is that it doesn&#39;t describe the cause\n&gt; of the exception. If your library doesn&#39;t contain debug information,\n&gt; then the stack trace won&#39;t provide where the problem happened.\n&gt; \n&gt; So I recommend using e.getLocalizedMessage() in the log file, along\n&gt; with the stack trace.\n&gt; \n&gt; Current source code:\n&gt; \n&gt;     private void recoverableProblem(Throwable e) {\n&gt;         Object previousStep = step;\n&gt;         setStep(STEP_HANDLING_RUNTIME_EXCEPTION);\n&gt;         e.printStackTrace(System.err);\n&gt;         currentCuri.setFetchStatus(S_RUNTIME_EXCEPTION);\n&gt;         // store exception temporarily for logging\n&gt;         currentCuri.getAnnotations().add(&quot;err=&quot;+e.getClass().getName());\n&gt;         currentCuri.getData().put(A_RUNTIME_EXCEPTION, e);\n&gt;         String message = &quot;Problem &quot; + e + \n&gt;                 &quot; occured when trying to process &#39;&quot;\n&gt;                 + currentCuri.toString()\n&gt;                 + &quot;&#39; at step &quot; + previousStep \n&gt;                 + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n&gt;         logger.log(Level.SEVERE, message.toString(), e);\n&gt;     }\n&gt; \n&gt; Desired change:\n&gt; \n&gt;     private void recoverableProblem(Throwable e) {\n&gt;         Object previousStep = step;\n&gt;         setStep(STEP_HANDLING_RUNTIME_EXCEPTION);\n&gt;         e.printStackTrace(System.err);\n&gt;         currentCuri.setFetchStatus(S_RUNTIME_EXCEPTION);\n&gt;         // store exception temporarily for logging\n&gt;         currentCuri.getAnnotations().add(&quot;err=&quot;+e.getClass().getName());\n&gt;         currentCuri.getData().put(A_RUNTIME_EXCEPTION, e);\n&gt;         String message = &quot;Problem &quot; + e.getLocalizedMessage() + \n&gt;                 &quot; occured when trying to process &#39;&quot;\n&gt;                 + currentCuri.toString()\n&gt;                 + &quot;&#39; at step &quot; + previousStep \n&gt;                 + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n&gt;         logger.log(Level.SEVERE, message.toString(), e);\n&gt;     }\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}