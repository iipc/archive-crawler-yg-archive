{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"VbWYBw6heBS5viW81j4_h-mQYmNJQHUmplX6XaWWXe7pzmzYxY8TOnID5fDraRZiGG4vydjbAGiphOyDJLq9gyBtZCMH1R8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Crawl.log issues.","postDate":"1361848851","msgId":7967,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUxMkMyQTEzLjcwMzA2MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGtnNWdiZCsxMDBnZkBlR3JvdXBzLmNvbT4=","referencesHeader":"PGtnNWdiZCsxMDBnZkBlR3JvdXBzLmNvbT4="},"prevInTopic":7966,"nextInTopic":0,"prevInTime":7966,"nextInTime":7968,"topicId":7966,"numMessagesInTopic":2,"msgSnippet":"... Many threads are supplying log lines to a single file. As much pre-composition as possible is done in the separate (non-exclusive) threads, and this","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 27939 invoked from network); 26 Feb 2013 03:20:52 -0000\r\nX-Received: from unknown (10.193.84.135)\n  by m3.grp.bf1.yahoo.com with QMQP; 26 Feb 2013 03:20:52 -0000\r\nX-Received: from unknown (HELO relay00.pair.com) (209.68.5.9)\n  by mta1.grp.bf1.yahoo.com with SMTP; 26 Feb 2013 03:20:52 -0000\r\nX-Received: (qmail 32743 invoked by uid 0); 26 Feb 2013 03:20:51 -0000\r\nX-Received: from 70.36.143.102 (HELO silverbook.local) (70.36.143.102)\n  by relay00.pair.com with SMTP; 26 Feb 2013 03:20:51 -0000\r\nX-pair-Authenticated: 70.36.143.102\r\nMessage-ID: &lt;512C2A13.7030605@...&gt;\r\nDate: Mon, 25 Feb 2013 19:20:51 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:17.0) Gecko/20130107 Thunderbird/17.0.2\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;kg5gbd+100gf@...&gt;\r\nIn-Reply-To: &lt;kg5gbd+100gf@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Crawl.log issues.\r\nX-Yahoo-Group-Post: member; u=137285340; y=6l3W1zQD3UHyYWelVwjb1J0iAiyTPD18aMr36arfCVIo\r\nX-Yahoo-Profile: gojomo\r\n\r\nOn 2/21/13 8:00 AM, Elverton wrote:\n&gt; Hello everybody,\n&gt;\n&gt; I have two &quot;problems&quot; with the crawl.log&#39;s file.\n&gt;\n&gt; The first one is about timestamp. Is right a\n&gt; line has timestamp lower than the previous line?\n&gt; If yes, it means that crawl.log is unordered?\n&gt; I think that it could be a write error but I really\n&gt; want to know if it&#39;s possible.\n\nMany threads are supplying log lines to a single file. As much \npre-composition as possible is done in the separate (non-exclusive) \nthreads, and this includes the creation of the line-leading timestamp. \nThat timestamp is essentially the moment when the log line is &#39;minted&#39; \nas a string. That string log line is then written to the file with an \nexclusive lock on the file.\n\nBecause of the vagaries of thread scheduling and obtaining the exclusive \nfile writing permission, the composing of the log-line and the \nwriting-to-the-file may not happen in exactly the same order. Lines \nshouldn&#39;t be &quot;far&quot; out of order, but &quot;far&quot; is difficult to quantify. (In \nmy experience, on very busy systems and virtualized environments, thread \nscheduling can seem especially uneven/unfair.)\n\nSo: seeing a few lines somewhat out of timestamp order is to be \nexpected, and is not an indication anything is wrong.\n\nNote also that the 9th field in the crawl.log is another timestamp, \nwhich matches the instant when the network connection to fetch the \nresource was begun (possibly with a &quot;+[duration]&quot; suffix). Because of \nwide variation in how long resources take to fetch and process -- and \nmuch more opportunity for thread scheduling to vary across these longer \nsteps -- these timestamps will be even more varied in their ordering.\n\n(Log format docs are at: \nhttps://webarchive.jira.com/wiki/display/Heritrix/Logs )\n\n&gt; The second is HTML content inside crawl.log like:\n&gt; 190556535:&lt;!DOCTYPE html PUBLIC\n&gt; Anyone knows why this appears inside the crawl.log&#39;s file?\n\nI can&#39;t think of any reason that would happen; is that the entire line, \nbetween two other valid-looking lines? Have you seen it more than once?\n\nIf it recurs with more examples (or reliably recurs on certain crawls), \nit could be worth investigating as a potential Heritrix bug. But, as a \nsingle random occurence, it could be a momentary glitch in RAM/IO/disk/etc.\n\nI would check the dates on surrounding lines, to see if the unexpected \njunk seems correlated with a possibly larger gap of lost log data. You \ncould also cross-reference the adjacent URIs against data in W/ARCs or \nthe frontier-recovery log, to see if perhaps some URIs aren&#39;t reported \naround the time of the junk.\n\n- Gordon\n\n"}}