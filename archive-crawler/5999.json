{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt0","replyTo":"LIST","senderId":"42umxPoTrrO7y1eGyWo6941ARoV6gwak1yz7B-29JAlrr0NlpOWQfCvIIwCz93psaLGyk9cW3jykhS006J_vnEHbZi-H-iMs","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] H3 - Possible memory leak?","postDate":"1251135886","msgId":5999,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBOTJEMThFLjMwODAzMDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGg2dTQwMytmaGJnQGVHcm91cHMuY29tPg==","referencesHeader":"PGg2dTQwMytmaGJnQGVHcm91cHMuY29tPg=="},"prevInTopic":5998,"nextInTopic":6000,"prevInTime":5998,"nextInTime":6000,"topicId":5998,"numMessagesInTopic":7,"msgSnippet":"Thanks Ikrom for the report. More than likely, much of the slowness you see happens when the GenericReplayCharSequence is created, since the entire file is","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 32344 invoked from network); 24 Aug 2009 17:45:50 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m1.grp.sp2.yahoo.com with QMQP; 24 Aug 2009 17:45:50 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.231.239)\n  by mta3.grp.re1.yahoo.com with SMTP; 24 Aug 2009 17:45:50 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id F27F32B6E0B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 24 Aug 2009 10:45:06 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id xeQw20qVV1G9 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 24 Aug 2009 10:45:05 -0700 (PDT)\r\nX-Received: from localhost.local (c-67-188-36-206.hsd1.ca.comcast.net [67.188.36.206])\n\tby mail.archive.org (Postfix) with ESMTPSA id CA9B22B6E07\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 24 Aug 2009 10:44:39 -0700 (PDT)\r\nMessage-ID: &lt;4A92D18E.3080300@...&gt;\r\nDate: Mon, 24 Aug 2009 10:44:46 -0700\r\nUser-Agent: Thunderbird 2.0.0.23 (Macintosh/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;h6u403+fhbg@...&gt;\r\nIn-Reply-To: &lt;h6u403+fhbg@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] H3 - Possible memory leak?\r\nX-Yahoo-Group-Post: member; u=325624130; y=sP3HTySrH_HJDOBbljDTDcTDNdYcOgT0aKdFc8v7uH0PnSY\r\nX-Yahoo-Profile: nlevitt0\r\n\r\nThanks Ikrom for the report. More than likely, much of the slowness you \nsee happens when the GenericReplayCharSequence is created, since the \nentire file is decoded and written to disk in UTF-16.\n\nDo you have any example urls that trigger the slowness?\n\nGordon, I see the change you made falls back to utf-8 when the web page \nspecifies a bogus encoding. Is that because you found cases where utf-8 \nwas the correct encoding, or did you choose utf-8 just as a standard \ndefault? If the latter, it might be better to fall back on on \nsingle-byte encoding like latin1. Then GenericReplayCharSequence will \nnot need to create a second UTF-16 temp file.\n\nNoah\n\n\nprogre55 wrote:\n&gt; Hi people!\n&gt;\n&gt; I&#39;ve been using heritrix3 now, and as I have written before, after Gordon has changed default character encding to utf-8 and the ReplayCharSequence().toString() method, there has been some significant drop in the crawl performance. Here is a snapshot from a profiler that shows that there might even be a memory-leak in some of those methods http://dl.getdropbox.com/u/1571029/yourkitprofiler.jpg\n&gt;\n&gt; Gordon, could you please have a look at that and possibly try to fix it?\n&gt;\n&gt; Thanks in advance.\n&gt;\n&gt; cheers,\n&gt; Ikrom (@...)\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;   \n\n"}}