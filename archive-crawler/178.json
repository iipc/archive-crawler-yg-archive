{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"LsvjqvKSCDLRuBYLGs2yKpkiLU2vAJvYdJ6WL5frZaQ7Sdqqx7QcsVJkek-IQ61Ht5d-iRCL51Uk7lEpXIp_98DlmXycxf4","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Checkpointing","postDate":"1069282899","msgId":178,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNGQkJGNjUzLjkwNjAxMDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":0,"nextInTopic":199,"prevInTime":177,"nextInTime":179,"topicId":178,"numMessagesInTopic":7,"msgSnippet":"The top frustration during our recent evaluation crawl was that we don t yet have a working system for resuming a crawl in progress from disk-based state, aka","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 86522 invoked from network); 19 Nov 2003 22:59:43 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m15.grp.scd.yahoo.com with QMQP; 19 Nov 2003 22:59:43 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (209.237.232.202)\n  by mta1.grp.scd.yahoo.com with SMTP; 19 Nov 2003 22:59:43 -0000\r\nReceived: (qmail 9859 invoked by uid 100); 19 Nov 2003 22:52:57 -0000\r\nReceived: from b116-dyn-42.archive.org (HELO archive.org) (gojomo@...@209.237.240.42)\n  by ia00524.archive.org with SMTP; 19 Nov 2003 22:52:57 -0000\r\nMessage-ID: &lt;3FBBF653.9060107@...&gt;\r\nDate: Wed, 19 Nov 2003 15:01:39 -0800\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5) Gecko/20031013 Thunderbird/0.3\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nSubject: Checkpointing\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-Status: No, hits=-5.4 required=6.0\n\ttests=AWL,BAYES_01,USER_AGENT_MOZILLA_UA\n\tversion=2.55\r\nX-Spam-Level: \r\nX-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nX-Yahoo-Group-Post: member; u=137285340\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe top frustration during our recent evaluation crawl was\nthat we don&#39;t yet have a working system for resuming a crawl\nin progress from disk-based state, aka &quot;checkpointing&quot;.\n\nThere are many ways we could remedy this shortcoming,\nsome incremental, some comprehensive.\n\nTwo extremes of checkpoint functionality would be &quot;just enough\nto ensure coverage&quot; and &quot;total crawler state&quot;.\n\nIn &quot;just enough to ensure coverage&quot;, a resumption might not\nhave internal state and running totals that closely match\nthose that the crawler would have had, if not interrupted.\nHowever, it would be trusted to still visit every URI that\nthe original crawler would have. (In some ways, this could be\nconsidered a &quot;checkpoint Frontier only&quot; or &quot;checkpoint\nsimplified view of Frontier&quot;.)\n\nIn &quot;total crawler state&quot;, a resumption would reliably reload\nthe state of any component which accumulates information --\nsuch as the statistics tracker or a hypothetical postprocessor\nwhich tallies relative proportions of document features -- such\nthat a resumption makes the crawler work exactly like it had\nnever stopped.\n\nSeveral different approaches fall along a continuum of\nincreasing sophistication at crawl/checkpoint time:\n\nA &quot;forensic&quot; approach would require almost no crawl-time\nsupport. A resume would simply look at the output generated\nby the crawler, essentially &quot;replaying&quot; the crawl at an\naccelerated rate (perhaps even repeating the extraction\nsteps against ARCed resources), eventually winding up at\na state closely mimicking that of the previously-suspended\ncrawler. This requires little to no support at crawl/checkpoint\ntime, but a sophisticated resumption routing.\n\nA &quot;transaction log&quot; approach would generate extra logs\nat crawl-time to assist in rapid resumption -- for example,\nall inserts to the froniter would be logged, to save the\nresumption from having to re-scan source material. This\nremains very straightforward, if we&#39;re only considering\nthe matter of including/excluding URIs for visitation, and\ncould have other debugging benefits.\n\nA &quot;snapshot&quot; approach would, at certain intervals or at\noperator request, dump some or all of the crawler&#39;s state\nto files. A resumption could occur quickly, and mimic the\ndumped state as accurately as we care to enable.\n\n==\nThere are merits and tradeoffs to each approach. My understanding\nis that Mercator implements a &quot;total crawler state&quot;/&quot;snapshot&quot;\napproach, giving every module a chance to persist itself to\ndisk at checkpoint time.\n\nI think our initial implementation should be a &quot;just enough for\ncoverage&quot;/&quot;transaction log&quot; approach, as this requires minimal\ninvasiveness and effectively tackles the largest issue: unbroken\ncoverage across crawler hiccups. We can re-synthesize any\nrunning statistics post-crawl.\n\nLater, we should enable the Mercator-style &quot;total state&quot;/&quot;snapshot&quot;\napproach.\n\nAgree or disagree? Comments? Other ideas?\n\n- Gordon\n\n\n\n"}}