{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"XuODvL1SfuWYrLvAgOeOAreYLF2MjkjTgYWllPypvOOxpvVCF48kc9-fXGkIpO00WtcjA20893YLwNgf5o1AMgrMzZYv3rQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: Heritrix 2.0.3 - ROS already open for ToeThread #XX","postDate":"1245818506","msgId":5903,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBNDFBRThBLjMwMzA4MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGgxcDd1ditmNnJmQGVHcm91cHMuY29tPg==","referencesHeader":"PGgxcDd1ditmNnJmQGVHcm91cHMuY29tPg=="},"prevInTopic":5901,"nextInTopic":0,"prevInTime":5902,"nextInTime":5904,"topicId":5899,"numMessagesInTopic":4,"msgSnippet":"What really sticks out are the error stacks you supplied via pastebin, with a java.lang.InternalError caused during class-loading caused by a ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 9442 invoked from network); 24 Jun 2009 04:43:09 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 24 Jun 2009 04:43:09 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta1.grp.sp2.yahoo.com with SMTP; 24 Jun 2009 04:43:09 -0000\r\nX-Received: (qmail 95827 invoked from network); 24 Jun 2009 04:42:57 -0000\r\nX-Received: from 70.137.158.251 (HELO ?10.0.13.17?) (70.137.158.251)\n  by relay03.pair.com with SMTP; 24 Jun 2009 04:42:57 -0000\r\nX-pair-Authenticated: 70.137.158.251\r\nMessage-ID: &lt;4A41AE8A.3030805@...&gt;\r\nDate: Tue, 23 Jun 2009 21:41:46 -0700\r\nUser-Agent: Thunderbird 2.0.0.22 (Windows/20090605)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;h1p7uv+f6rf@...&gt;\r\nIn-Reply-To: &lt;h1p7uv+f6rf@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Heritrix 2.0.3 - ROS already open for ToeThread\n #XX\r\nX-Yahoo-Group-Post: member; u=137285340; y=E5erExZj_F9ZQ1vTTz0snhLOGPH2bHTcuusuM0YEVqlG\r\nX-Yahoo-Profile: gojomo\r\n\r\nWhat really sticks out are the error stacks you supplied via pastebin, \nwith a java.lang.InternalError caused during class-loading caused by a \njava.util.zip.ZipException.\n\nI haven&#39;t seen that before, either, but it suggests that a JAR on the \nclasspath is corrupt. Such an error could conceivably happen anytime a \nnew class/resource is needed, and might thus leave any sort of operation \nhalf-done, breaking further functionality.\n\nSo I would double check-all JARs used by your installation (including \nyour customizations), perhaps with &#39;unzip -t&#39; (to test validity).\n\nGlad you&#39;ve had some success with the H3 alpha! We&#39;re interested in all \nfeedback: new UI needed, old UI that should be reproduced within the new \nsystem. etc.\n\nRegarding your customizations: usually a crawl won&#39;t proceed at all \nwithout the PreconditionEnforcer in place -- it&#39;s necessary even to \nDNS-lookup your seeds. I imagine you could work around this by including \na DNS URI in your seeds, but there could be other problems down running \nwithout it. (In particular, that sort of &quot;-1 NOTCRAWLED&quot; status reported \non your 1.15.x test would be typical of running without \nPreconditionEnforcer.)\n\n- Gordon @ IA\n\nprogre55 wrote:\n&gt;&gt; As this is logged as a &#39;nonfatal&#39; error, if it is the only symptom, it \n&gt;&gt; shouldn&#39;t be a cause for concern.\n&gt;&gt;\n&gt;&gt; Is the real problem that there is no progress in the crawl on URLs you \n&gt;&gt; expect to be reachable?\n&gt;&gt;\n&gt;&gt; If so:\n&gt;&gt;\n&gt;&gt;   - are there many of these &quot;ROS already open&quot; errors? Do they always \n&gt;&gt; feature the same thread number (as #18 above), or same hostname, or do \n&gt;&gt; they vary?\n&gt;&gt;\n&gt;&gt;   - is there any other error output in the heritrix_out.log or \n&gt;&gt; alerts.log, around the time progress stops?\n&gt;&gt;\n&gt;&gt;   - are you sure the URLs remaining to be crawled are fetchable by other \n&gt;&gt; means? (Usually, a long wait in trying URLs is indicative of some \n&gt;&gt; failure to connect to a remote server.)\n&gt;&gt;\n&gt;&gt;   - does the problem always recur at about the same interval after \n&gt;&gt; start, or against the same hostnames?\n&gt;&gt;\n&gt;&gt;   - what do lines in the progress-statistics.log show around the time of \n&gt;&gt; the error/stop-in-progress?\n&gt;&gt;\n&gt;&gt;   - does the problem recur in 1.14.3?\n&gt;&gt;\n&gt;&gt; This isn&#39;t a known problem, and while it doesn&#39;t look to me like the \n&gt;&gt; &quot;ROS already open&quot; is a proper state, it might just be a symptom of some \n&gt;&gt; other issue, and might not be responsible for the lack-of-progress.\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt; \n&gt; \n&gt; Hi Gordon,\n&gt; \n&gt; Yes, the progress stops, and as all the seeds are from the same domain, no other threads are run during the error. It tries different URIs every 5 minutes (exactly 5 minutes, because that&#39;s the interval for fail-retry).\n&gt; \n&gt;  - yes, as the error starts, there is no single successful crawl, every 5 mins there is this error, and I waited for about 5 hours, and got about 60 errors. But the thread numbers and URI&#39;s are different every time. \n&gt; \n&gt;  - yes, there were a couple of more errors in heritrix_out.log after I tried to open the UI and see what went wrong. The web-interface would give me errors and after a second or third try open the page I requested. Below are the errors taken from heritrix_out.log, that happened during the &quot;ROS already open&quot; error, while trying to interact with the web interface:\n&gt; http://pastebin.com/m28cc94a\n&gt; \n&gt;  - yes, the URLs are fetchable, and I dont think it was a problem with the host. right after I stopped the crawl, I tried to re-run it on the same URLs that were not fetched, and they worked fine. Moreover, I have been able to fetch all using H3 yesterday.\n&gt; \n&gt;  - the error occurred twice. Well, not sure about the time interval, but it occurred after fetching around 1500 URIs.\n&gt; \n&gt;  - the progress-statistics.log shows zeros only, and the averages decrease every time:\n&gt; \n&gt; 2009-06-14T04:21:29Z        3115          14         3101          0(0.99)      0(73)             0             0        51801         84652            1    \n&gt;       10           7\n&gt; .\n&gt; .\n&gt; .\n&gt; 2009-06-14T09:11:09Z        3115          11         3101          0(0.15)      0(11)             3             0        50893         84652            1           8           5\n&gt; \n&gt;  - by the way, I havent tried 1.14.3, but I tried to set up 1.15.4, however it wouldn&#39;t run even with the default profile. I mean, I have entered the minimal info like operator-url and email, etc. but while crawling a seed, it doesnt even start progressing. After I stop it and see the seeds-report, it says &quot;host unreachable&quot; and here is the seeds-report.txt:\n&gt; [code] [status] [seed] [redirect]\n&gt; -1 NOTCRAWLED http://aftonbladet.se/\n&gt; -1 NOTCRAWLED http://google.com/\n&gt; \n&gt; \n&gt; Well for now, I have been able to manage to migrate to H3, but the lack of UI is a little bit of a problem :)\n&gt; Hope the information given above helps.\n&gt; \n&gt; By the way, a couple of more things that might help..\n&gt; I am using only 5 processors, as I have customized heritrix a little bit. I&#39;m not using any of the link-extractors, as I have a database of ready-to-fetch rss links. So I have a custom scheduler that reads those links from the database (MySQL) and schedules them with the frontier. It is basically a replacement for FrontierScheduler, that does exactly the same job, but also based on the amount of scheduled CrawlURI&#39;s adds more URI&#39;s.\n&gt; Moreover, I dont use the ARCWriter, but instead I have a custom processor called MySQLWriter, which processes the fetched content and writes it into a MySQL database.\n&gt; \n&gt; So the processor list looks as follows:\n&gt; DNS              org.archive.modules.fetcher.FetchDNS\n&gt; HTTP             org.archive.modules.fetcher.FetchHTTP\n&gt; MySQLWriter      org.progre55.heritrixprocessor.MySQLWriter\n&gt; Updater          org.archive.crawler.postprocessor.CrawlStateUpdater\n&gt; MySQLScheduler   org.progre55.heritrixprocessor.MySQLScheduler \n&gt; \n&gt; Hope to hear from you soon.\n&gt; \n&gt; King regards,\n&gt; Ikrom\n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}