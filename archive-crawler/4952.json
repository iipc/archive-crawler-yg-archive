{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":333425599,"authorName":"xavier_sautejeau","from":"&quot;xavier_sautejeau&quot; &lt;xvrstj-registration@...&gt;","profile":"xavier_sautejeau","replyTo":"LIST","senderId":"9DMOEYz7OvgVzGUp5zcyipfQwleTZcS46j0ptyBWYxiR1C3ivnDwM-J-OHCz2lbYF8DsyuqFdBlRsAZXf4hSBHyiJvJ_DHb4FRRm_feSTyImYYs-g99JWw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: embedding 2.0 in another app","postDate":"1201860139","msgId":4952,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZudXFuYitoYjR0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PGZudXFmYStzMDRrQGVHcm91cHMuY29tPg=="},"prevInTopic":4951,"nextInTopic":4955,"prevInTime":4951,"nextInTime":4953,"topicId":4949,"numMessagesInTopic":6,"msgSnippet":"I forgot to mention that I used a combination of the code in the selftest package and in the Heritrix webapp to figure out the relevant sequence of calls. X. ","rawEmail":"Return-Path: &lt;xvrstj-registration@...&gt;\r\nX-Sender: xvrstj-registration@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 66976 invoked from network); 1 Feb 2008 10:02:24 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m44.grp.scd.yahoo.com with QMQP; 1 Feb 2008 10:02:24 -0000\r\nX-Received: from unknown (HELO n10b.bullet.sp1.yahoo.com) (69.147.64.104)\n  by mta16.grp.scd.yahoo.com with SMTP; 1 Feb 2008 10:02:24 -0000\r\nX-Received: from [216.252.122.219] by n10.bullet.sp1.yahoo.com with NNFMP; 01 Feb 2008 10:02:22 -0000\r\nX-Received: from [66.218.69.4] by t4.bullet.sp1.yahoo.com with NNFMP; 01 Feb 2008 10:02:22 -0000\r\nX-Received: from [66.218.67.195] by t4.bullet.scd.yahoo.com with NNFMP; 01 Feb 2008 10:02:22 -0000\r\nDate: Fri, 01 Feb 2008 10:02:19 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;fnuqnb+hb4t@...&gt;\r\nIn-Reply-To: &lt;fnuqfa+s04k@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;xavier_sautejeau&quot; &lt;xvrstj-registration@...&gt;\r\nSubject: Re: embedding 2.0 in another app\r\nX-Yahoo-Group-Post: member; u=333425599; y=aR98rwU82vf3dzKcDFY6q_5kMPiEyjf11FiGBye67rsGDdGwNsuf8zAi-Q\r\nX-Yahoo-Profile: xavier_sautejeau\r\n\r\nI forgot to mention that I used a combination of the code in the\nselftest p=\r\nackage and in the Heritrix webapp to figure out the relevant\nsequence of ca=\r\nlls.\n\nX.\n--- In archive-crawler@yahoogroups.com, &quot;xavier_sautejeau&quot;\n&lt;xvrstj=\r\n-registration@...&gt; wrote:\n&gt;\n&gt; Hi,\n&gt; \n&gt; I&#39;ve tried something similar (integr=\r\nating Heritrix with a Tomcat\n&gt; Webapp) and succeeded to a point. Unfortunat=\r\nely I wanted to use the\n&gt; MirrorWriter instead of the ArcWriter and was not=\r\n able to use it with\n&gt; Heritrix 2.0. I therefore reverted to 1.12.\n&gt; \n&gt; Any=\r\nhow, here are the relevant excerpts of my code, hope this helps :\n&gt; \n&gt; ----=\r\n----------------------\n&gt; import org.archive.crawler.Heritrix;\n&gt; \n&gt; import o=\r\nrg.archive.crawler.framework.JobStage;\n&gt; import org.archive.util.JmxWaiter;=\r\n\n&gt; \n&gt; import java.io.*;\n&gt; import java.util.Set;\n&gt; import java.lang.manageme=\r\nnt.ManagementFactory;\n&gt; \n&gt; import javax.management.MBeanServer;\n&gt; import ja=\r\nvax.management.ObjectName;\n&gt; import javax.servlet.*;\n&gt; import javax.servlet=\r\n.http.*;\n&gt; \n&gt; import coreservlets.ServletUtilities;\n&gt; \n&gt; /**\n&gt; * Heritrix 2=\r\n.0 Tentative Integration\n&gt; */\n&gt; public class HeritrixControl extends HttpSe=\r\nrvlet {\n&gt; \n&gt; \tfinal static String HERITRIX_HOME =3D System.getenv(&quot;HERITRIX=\r\n_HOME&quot;);\n&gt; \tfinal static String JAVA_LANG_STRING =3D &quot;java.lang.String&quot;;\n&gt; =\r\n\tfinal static String JAVA_LANG_INTEGER =3D &quot;java.lang.Integer&quot;;\n&gt; \tprivate =\r\nboolean started =3D false;\n&gt; \tprivate ObjectName engine =3D null;\n&gt; \tprivat=\r\ne MBeanServer server =3D null;\n&gt; \n&gt; \n&gt; \n&gt; \tpublic void doPost(HttpServletRe=\r\nquest request,\n&gt; \t\t\t\t\t   HttpServletResponse response)\n&gt; \t\t\tthrows ServletE=\r\nxception, IOException {\n&gt; \t\tdoGet(request, response);\n&gt; \t}\n&gt; \n&gt; \tprotected =\r\nvoid startHeritrix() {\n&gt; \t\ttry {\n&gt; \t\t\tString[] args =3D {\n&gt; \t\t\t\t&quot;-b&quot;, &quot;loca=\r\nlhost&quot;,\n&gt; \t\t\t\t&quot;-p&quot;, &quot;8100&quot;,\n&gt; \t\t\t\t//&quot;-a&quot;,&quot;LOGIN:PASSWORD&quot;,\n&gt; \t\t\t\t&quot;-n&quot;, // n=\r\no WEBUI\n&gt; \t\t\t\t//&quot;-r&quot;, &quot;profile-basic_seed_sites&quot;};\n&gt; \t\t\t\t&quot;-j&quot;, HERITRIX_HOM=\r\nE + &quot;/jobs&quot;};\n&gt; \t\t\tHeritrix.main(args);\n&gt; \t\t// with Tomcat and Heritrix, we=\r\n always get such an exception\n&gt; \t\t} catch (javax.naming.OperationNotSupport=\r\nedException e) {\n&gt; \t\t} catch (Exception e) {\n&gt; \t\t}\n&gt; \n&gt; \t\ttry {\n&gt; \t\t\tengine=\r\n =3D lazyGetEngine();\n&gt; \t\t\tserver =3D ManagementFactory.getPlatformMBeanSer=\r\nver();\n&gt; \t\t\tthis.waitForCrawlFinish();\n&gt; \t\t} catch (Exception e) {\n&gt; \t\t}\n&gt; =\r\n\n&gt; \t}\n&gt; \n&gt; \tprotected void stopHeritrix() {\n&gt; \t\ttry {\n&gt; \t\t\tengine =3DlazyGe=\r\ntEngine();\n&gt; \t\t\tserver =3D ManagementFactory.getPlatformMBeanServer();\n&gt; \t\t=\r\n\tserver.invoke(engine, &quot;close&quot;, new Object[0], new String[0]);\n&gt; \t\t\tengine =\r\n=3D null;\n&gt; \t\t\tserver =3D null;\n&gt; \t\t} catch (Exception e) {\n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt;=\r\n \tprotected void waitForCrawlFinish() throws Exception {\n&gt; \n&gt; \t\t// Above in=\r\nvocation should have created a new SheetManager and a new\n&gt; \t\t// CrawlContr=\r\noller for the job.  Find the CrawlController.\n&gt; \t\tObjectName crawlControlle=\r\nr =3D getCrawlController(&quot;basic&quot;);\n&gt; \t\twaitFor(crawlController);\n&gt; \n&gt; \t\t// =\r\nSet up utility to wait for signal from crawler.\n&gt; \t\tJmxWaiter waiter =3D ne=\r\nw JmxWaiter(server, crawlController, &quot;FINISHED&quot;);\n&gt; \t\twaiter.waitUntilNotif=\r\nication(0L);\n&gt; \t}\n&gt; \n&gt; \tprotected String createNewJob(final String jobName,=\r\n final String[]\n&gt; urls, int pathDepth) throws Exception {\n&gt; \t\tfinal String =\r\nCONTACT_URL =3D &quot;http://www.mycompany.com&quot;;\n&gt; \t\tfinal String CONTACT_EMAIL =\r\n=3D &quot;yournam@...&quot;;\n&gt; \n&gt; \t\t//-- job creation --\n&gt; \t\tString stateJobName =3D =\r\nnull;\n&gt; \t\tObject result =3D server.invoke(\n&gt; \t\t\t\tengine,\n&gt; \t\t\t\t&quot;listJobs&quot;,\n=\r\n&gt; \t\t\t\tnew Object[0],\n&gt; \t\t\t\tnew String[0]\n&gt; \t\t);\n&gt; \n&gt; \t\tfinal String[] resul=\r\ntAsStringArray =3D (String[]) result;\n&gt; \t\tboolean alreadyExists =3D false;\n=\r\n&gt; \t\tlookup:\n&gt; \t\tfor (String s : resultAsStringArray) {\n&gt; \t\t\tfor (JobStage j=\r\ns : JobStage.values()) {\n&gt; \t\t\t\tif (s.equals(js.getPrefix() + jobName)) {\n&gt; =\r\n\t\t\t\t\talreadyExists =3D true;\n&gt; \t\t\t\t\tstateJobName =3D js.getPrefix() + jobNa=\r\nme;\n&gt; \t\t\t\t\tbreak lookup;\n&gt; \t\t\t\t}\n&gt; \t\t\t}\n&gt; \t\t}\n&gt; \n&gt; \t\tif (alreadyExists) {\n&gt;=\r\n \t\t\tserver.invoke(\n&gt; \t\t\t\t\tengine,\n&gt; \t\t\t\t\t&quot;deleteJob&quot;,\n&gt; \t\t\t\t\tnew Object[]{s=\r\ntateJobName},\n&gt; \t\t\t\t\tnew String[]{JAVA_LANG_STRING}\n&gt; \t\t\t);\n&gt; \t\t}\n&gt; \n&gt; \t\tst=\r\nateJobName =3D JobStage.READY.getPrefix() + jobName;\n&gt; \t\tserver.invoke(\n&gt; \t=\r\n\t\t\tengine,\n&gt; \t\t\t\t&quot;copy&quot;,\n&gt; \t\t\t\tnew Object[]{&quot;profile-basic_seed_sites&quot;, sta=\r\nteJobName},\n&gt; \t\t\t\tnew String[]{JAVA_LANG_STRING, JAVA_LANG_STRING}\n&gt; \t\t);\n&gt;=\r\n \n&gt; \t\t//-- job configuration --\n&gt; \t\tserver.invoke(\n&gt; \t\t\t\tengine,\n&gt; \t\t\t\t&quot;get=\r\nSheetManagerStub&quot;,\n&gt; \t\t\t\tnew Object[]{stateJobName},\n&gt; \t\t\t\tnew String[]{JAV=\r\nA_LANG_STRING}\n&gt; \t\t);\n&gt; \n&gt; \t\tObjectName sheetManager =3D getSheetManager(jo=\r\nbName);\n&gt; \n&gt; \t\t//---- seeds setup ----\n&gt; \t\tObject seedsFile =3D server.invo=\r\nke(\n&gt; \t\t\t\tsheetManager,\n&gt; \t\t\t\t&quot;resolve&quot;,\n&gt; \t\t\t\tnew Object[]{&quot;global&quot;, &quot;root=\r\n:seeds:seedsfile&quot;},\n&gt; \t\t\t\tnew String[]{JAVA_LANG_STRING, JAVA_LANG_STRING}\n=\r\n&gt; \t\t);\n&gt; \n&gt; \t\tString pathToFile =3D HERITRIX_HOME + &quot;/jobs/&quot; + stateJobName=\r\n + &quot;/&quot; +\n&gt; seedsFile;\n&gt; \t\tFile f =3D new File(pathToFile);\n&gt; \t\tif (f.exists=\r\n() && f.isFile()) {\n&gt; \t\t\tFileWriter fw =3D new FileWriter(f);\n&gt; \t\t\tfor (Str=\r\ning url : urls) {\n&gt; \t\t\t\tfw.write(url);\n&gt; \t\t\t}\n&gt; \t\t\tfw.close();\n&gt; \t\t}\n&gt; \n&gt; \t=\r\n\t//---- other parameters ----\n&gt; \t\tserver.invoke(\n&gt; \t\t\t\tsheetManager,\n&gt; \t\t\t\t=\r\n&quot;checkout&quot;,\n&gt; \t\t\t\tnew Object[]{&quot;global&quot;},\n&gt; \t\t\t\tnew String[]{JAVA_LANG_STRI=\r\nNG}\n&gt; \t\t);\n&gt; \n&gt; \t\t//arguments to set: sheetName,path,type,value\n&gt; \t\tserver.=\r\ninvoke(\n&gt; \t\t\t\tsheetManager,\n&gt; \t\t\t\t&quot;set&quot;,\n&gt; \t\t\t\tnew Object[]{&quot;global&quot;, &quot;root=\r\n:metadata:operator-contact-url&quot;,\n&gt; &quot;string&quot;, CONTACT_URL},\n&gt; \t\t\t\tnew String=\r\n[]{JAVA_LANG_STRING, JAVA_LANG_STRING, JAVA_LANG_STRING,\n&gt; JAVA_LANG_STRING=\r\n}\n&gt; \t\t);\n&gt; \n&gt; \t\tserver.invoke(\n&gt; \t\t\t\tsheetManager,\n&gt; \t\t\t\t&quot;set&quot;,\n&gt; \t\t\t\tnew O=\r\nbject[]{&quot;global&quot;, &quot;root:metadata:operator-from&quot;, &quot;string&quot;,\n&gt; CONTACT_EMAIL}=\r\n,\n&gt; \t\t\t\tnew String[]{JAVA_LANG_STRING, JAVA_LANG_STRING, JAVA_LANG_STRING,\n=\r\n&gt; JAVA_LANG_STRING}\n&gt; \t\t);\n&gt; \n&gt; \t\tresult =3D server.invoke(\n&gt; \t\t\t\tsheetMana=\r\nger,\n&gt; \t\t\t\t&quot;set&quot;,\n&gt; \t\t\t\tnew Object[]{&quot;global&quot;, &quot;root:scope:rules:5:max-path=\r\n-depth&quot;, &quot;int&quot;,\n&gt; ((Integer)pathDepth).toString()},\n&gt; \t\t\t\tnew String[]{JAVA=\r\n_LANG_STRING, JAVA_LANG_STRING, JAVA_LANG_STRING,\n&gt; JAVA_LANG_STRING}\n&gt; \t\t)=\r\n;\n&gt; \n&gt; //\t\tserver.invoke(\n&gt; //\t\t\t\tsheetManager,\n&gt; //\t\t\t\t&quot;set&quot;,\n&gt; //\t\t\t\tnew =\r\nObject[]{&quot;global&quot;, &quot;root:controller:processors:Archiver&quot;,\n&gt; &quot;object&quot;, &quot;org.=\r\narchive.modules.writer.MirrorWriterProcessor2&quot;},\n&gt; //\t\t\t\tnew String[]{JAVA_=\r\nLANG_STRING, JAVA_LANG_STRING,\n&gt; JAVA_LANG_STRING, JAVA_LANG_STRING}\n&gt; //\t\t=\r\n);\n&gt; \n&gt; \t\tserver.invoke(\n&gt; \t\t\t\tsheetManager,\n&gt; \t\t\t\t&quot;commit&quot;,\n&gt; \t\t\t\tnew Obje=\r\nct[]{&quot;global&quot;},\n&gt; \t\t\t\tnew String[]{JAVA_LANG_STRING}\n&gt; \t\t);\n&gt; \n&gt; \t\treturn s=\r\ntateJobName;\n&gt; \t}\n&gt; \n&gt; \tprotected void createJobs() throws Exception {\n&gt; \n&gt;=\r\n \t\tfinal String jobName1 =3D &quot;newJob1&quot;;\n&gt; \t\tfinal String jobName2 =3D &quot;newJ=\r\nob2&quot;;\n&gt; \t\tfinal String[] job1Urls =3D {&quot;http://www.company.com&quot;};\n&gt; \t\tfinal=\r\n String[] job2Urls =3D {&quot;http://www.organisation.org&quot;};\n&gt; \t\tfinal String st=\r\nateJobName1 =3D createNewJob(jobName1, job1Urls, 3);\n&gt; \t\tfinal String state=\r\nJobName2 =3D createNewJob(jobName2, job2Urls, 3);\n&gt; \n&gt; \t\tserver.invoke(\n&gt; \t=\r\n\t\t\tengine,\n&gt; \t\t\t\t&quot;launchJob&quot;,\n&gt; \t\t\t\tnew Object[]{stateJobName1},\n&gt; \t\t\t\tnew =\r\nString[]{JAVA_LANG_STRING}\n&gt; \t\t);\n&gt; \n&gt; //\t\tserver.invoke(\n&gt; //\t\t\t\tengine,\n&gt;=\r\n //\t\t\t\t&quot;launchJob&quot;,\n&gt; //\t\t\t\tnew Object[]{stateJobName2},\n&gt; //\t\t\t\tnew String=\r\n[]{JAVA_LANG_STRING}\n&gt; //\t\t);\n&gt; \n&gt; \t\tengine =3D null;\n&gt; \t\tserver =3D null;\n=\r\n&gt; \t}\n&gt; \n&gt; \tprotected static ObjectName getCrawlController(final String job)=\r\n\n&gt; throws Exception {\n&gt; \t\tMBeanServer server =3D ManagementFactory.getPlatf=\r\normMBeanServer();\n&gt; \t\t@SuppressWarnings(&quot;unchecked&quot;)\n&gt; \t\tSet&lt;ObjectName&gt; se=\r\nt =3D server.queryNames(null, null);\n&gt; \t\tfor (ObjectName name : set) {\n&gt; \t\t=\r\n\tif (name.getDomain().equals(&quot;org.archive.crawler&quot;)\n&gt; \t\t\t\t\t&& name.getKeyPr=\r\noperty(&quot;name&quot;).equals(job)\n&gt; \t\t\t\t\t&&\n&gt;\nname.getKeyProperty(&quot;type&quot;).equals(&quot;=\r\norg.archive.crawler.framework.CrawlController&quot;))\n&gt; {\n&gt; \t\t\t\treturn name;\n&gt; \t=\r\n\t\t}\n&gt; \t\t}\n&gt; \t\treturn null;\n&gt; \t}\n&gt; \n&gt; \tprotected static ObjectName getEngine=\r\n() throws Exception {\n&gt; \t\treturn waitFor(&quot;org.archive.crawler:*,name=3DEngi=\r\nne&quot;, true);\n&gt; \t}\n&gt; \n&gt; \tprotected ObjectName lazyGetEngine() throws Exceptio=\r\nn {\n&gt; \t\tif ( engine =3D=3D null ) {\n&gt; \t\t\treturn getEngine();\n&gt; \t\t} else {\n&gt;=\r\n \t\t\treturn engine;\n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt; \tprotected static ObjectName getSheetMan=\r\nager(String jobName) throws\n&gt; Exception {\n&gt; \t\treturn waitFor(&quot;org.archive.c=\r\nrawler:*,name=3D&quot; + jobName, true);\n&gt; \t}\n&gt; \n&gt; \t//Utility method to check ex=\r\nistence of MBean with matching name on\nserver\n&gt; \tprotected static void wait=\r\nFor(ObjectName name) throws Exception {\n&gt; \t\tfinal MBeanServer server =3D Ma=\r\nnagementFactory.getPlatformMBeanServer();\n&gt; \t\tint count =3D 0;\n&gt; \t\twhile (s=\r\nerver.queryNames(name, null).isEmpty()) {\n&gt; \t\t\tcount++;\n&gt; \t\t\tif (count &gt; 40=\r\n) {\n&gt; \t\t\t\tthrow new IllegalStateException(&quot;Could not find &quot; +\n&gt; \t\t\t\t\t\tname =\r\n+ &quot; after 20 seconds.&quot;);\n&gt; \t\t\t}\n&gt; \t\t\tThread.sleep(500);\n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt; \t//=\r\nUtility method to retrieve MBean matching query from server\n&gt; \tprotected st=\r\natic ObjectName waitFor(final String query, final boolean\n&gt; exist) throws E=\r\nxception {\n&gt; \t\tfinal MBeanServer server =3D ManagementFactory.getPlatformMB=\r\neanServer();\n&gt; \t\tfinal ObjectName name =3D new ObjectName(query);\n&gt; \n&gt; \t\tSe=\r\nt set =3D server.queryNames(null, name);\n&gt; \t\tint count =3D 0;\n&gt; \n&gt; \t\twhile =\r\n(set.isEmpty() =3D=3D exist) {\n&gt; \t\t\tcount++;\n&gt; \t\t\tif (count &gt; 40) {\n&gt; \t\t\t\tt=\r\nhrow new IllegalStateException(&quot;Could not find &quot; +\n&gt; \t\t\t\t\t\tname + &quot; after 2=\r\n0 seconds.&quot;);\n&gt; \t\t\t}\n&gt; \t\t\tThread.sleep(500);\n&gt; \t\t\tset =3D server.queryNames=\r\n(null, name);\n&gt; \t\t\tif (set.size() &gt; 1) {\n&gt; \t\t\t\tthrow new IllegalStateExcept=\r\nion(set.size() + &quot; matches for &quot; +\nquery);\n&gt; \t\t\t}\n&gt; \t\t}\n&gt; \t\tif (set.isEmpty=\r\n()) {\n&gt; \t\t\treturn null;\n&gt; \t\t} else {\n&gt; \t\t\treturn (ObjectName) set.iterator(=\r\n).next();\n&gt; \t\t}\n&gt; \t}\n&gt; }\n&gt; --------------------------\n&gt; \n&gt; You will want to=\r\n make the following calls at some point :\n&gt; \n&gt; this.startHeritrix();\n&gt; this=\r\n.createJobs();\n&gt; this.stopHeritrix();\n&gt; \n&gt; \n&gt; --- In archive-crawler@yahoog=\r\nroups.com, Micah Wedemeyer &lt;mwedeme@&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi,\n&gt; &gt; \n&gt; &gt; I&#39;ve be=\r\nen playing around with 1.12, and I embedded it into another \n&gt; &gt; applicatio=\r\nn.  I am using the CrawlJobHandler in order to distance\n&gt; myself \n&gt; &gt; from =\r\nthe internals.\n&gt; &gt; \n&gt; &gt; Now, it looks like I&#39;ll have to provide a lot more\n=\r\nconfigurability, and \n&gt; &gt; that means tying in to heritrix a little more tig=\r\nhtly.  So, rather\nthan \n&gt; &gt; continue with 1.12, I decided to try and jump i=\r\nn with 2.0\n&gt; &gt; \n&gt; &gt; Anyways, if I want to treat heritrix as an API or a lib=\r\nrary for \n&gt; &gt; crawling, what&#39;s the procedure for setting everything up and\n=\r\n&gt; executing a \n&gt; &gt; crawl?  Here&#39;s the basic flow I want:\n&gt; &gt; \n&gt; &gt; 1) Config=\r\nure settings (I assume this involves creating sheets)\n&gt; &gt; 2) Pass settings =\r\nto heritrix\n&gt; &gt; 3) Start up heritrix\n&gt; &gt; 4) Periodically check status, and =\r\npossibly send commands like pause\n&gt; or stop\n&gt; &gt; \n&gt; &gt;  From what I&#39;ve seen i=\r\nn the javadocs, I&#39;m confused about where to\n&gt; start. \n&gt; &gt;   Do I need to in=\r\nstantiate an Engine object?  A CrawlController? \n&gt; How do \n&gt; &gt; I create the=\r\n settings (sheets?) and pass them where they need to go?\n&gt; &gt; \n&gt; &gt; A few poi=\r\nnters on how to start would be great.\n&gt; &gt; \n&gt; &gt; Thanks,\n&gt; &gt; Micah Wedemeyer\n=\r\n&gt; &gt;\n&gt;\n\n\n\n"}}