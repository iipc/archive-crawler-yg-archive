{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":362973207,"authorName":"Juergen Umbrich","from":"Juergen Umbrich &lt;juergen@...&gt;","replyTo":"LIST","senderId":"4MaEgBYVNLvQg_QhG8W8994tDJpkc50DoUc7pRN5POWFEhnfH0MiaMtklYXiXJg2Wm-Q6hQDqAjPWgPsNqhCFzy7vfLkg3w8yec3_g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"TooManyOpenFiles with 1M seed and 300 ToeThreads","postDate":"1226513696","msgId":5572,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5MUIxRDIwLjQwNzAzMDBAdW1icmljaC5uZXQ+"},"prevInTopic":0,"nextInTopic":5573,"prevInTime":5571,"nextInTime":5573,"topicId":5572,"numMessagesInTopic":5,"msgSnippet":"Hi all,\n\nwe had a TMOF-Excetpion while we tried to run a crawl with 300 \nToeThreads, 1M seed URIs, and a\n#ulimit -l = 32768. (global sheet attached)\nThe","rawEmail":"Return-Path: &lt;juergen@...&gt;\r\nX-Sender: juergen@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 34798 invoked from network); 12 Nov 2008 18:16:31 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m48.grp.scd.yahoo.com with QMQP; 12 Nov 2008 18:16:31 -0000\r\nX-Received: from unknown (HELO mx1.nuigalway.ie) (140.203.201.100)\n  by mta16.grp.scd.yahoo.com with SMTP; 12 Nov 2008 18:16:30 -0000\r\nX-IronPort-Anti-Spam-Filtered: true\r\nX-IronPort-Anti-Spam-Result: ApoEAGqsGkkKhJ0L/2dsb2JhbADQWINX\r\nX-IronPort-AV: E=Sophos;i=&quot;4.33,591,1220223600&quot;; \n   d=&quot;scan&#39;208&quot;;a=&quot;269562705&quot;\r\nX-Received: from exbe1.ac.nuigalway.ie (HELO EVS1.ac.nuigalway.ie) ([10.132.157.11])\n  by mx1.nuigalway.ie with ESMTP; 12 Nov 2008 18:16:17 +0000\r\nX-Received: from EVS1.ac.nuigalway.ie ([10.132.157.14]) by EVS1.ac.nuigalway.ie with Microsoft SMTPSVC(6.0.3790.3959);\n\t Wed, 12 Nov 2008 18:16:16 +0000\r\nX-Received: from [10.2.17.73] ([140.203.154.12]) by EVS1.ac.nuigalway.ie over TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959);\n\t Wed, 12 Nov 2008 18:16:16 +0000\r\nMessage-ID: &lt;491B1D20.4070300@...&gt;\r\nDate: Wed, 12 Nov 2008 18:14:56 +0000\r\nUser-Agent: Mozilla-Thunderbird 2.0.0.17 (X11/20081018)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/mixed;\n boundary=&quot;------------090307040408090106030407&quot;\r\nReturn-Path: juergen@...\r\nX-OriginalArrivalTime: 12 Nov 2008 18:16:16.0794 (UTC) FILETIME=[C105FFA0:01C944F2]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Juergen Umbrich &lt;juergen@...&gt;\r\nSubject: TooManyOpenFiles with 1M seed and 300 ToeThreads\r\nX-Yahoo-Group-Post: member; u=362973207\r\n\r\n\r\n--------------090307040408090106030407\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nHi all,\n\nwe had a TMOF-Excetpion while we tried to run a crawl with 300 \nToeThreads, 1M seed URIs, and a\n#ulimit -l = 32768. (global sheet attached)\nThe execption happens just at the beginning, when the URIs from the seed \nlist were parsed and loaded and the crawler started.\nThe crawl.log contains 458 entries, with 380 dns - lookups.\nAll the other log files are empty.\n\nI think with a ulimit of 32768 this should not happen! Or am I wrong?\n\nBest juergen\n\n\nalerts.log:\n------------------------------------------------------------------------------------------------------------------------\n\n org.archive.modules.fetcher.FetchDNS storeDNSRecord\nSEVERE: Failed store of DNS Record for dns:breakers.typepad.com (in \nthread &#39;ToeThread #88: dns:breakers.typepad.com&#39;; in processor &#39;DNS&#39;)\njava.io.FileNotFoundException: \n/home/heritrix/heritrix-2.0.1/jobs/active-BenchmarkCrawl-20081026023802/scratch/tt88http.ris \n(Too many open files)\n    at java.io.FileOutputStream.open(Native Method)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:179)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:70)\n    at \norg.archive.io.RecordingOutputStream.open(RecordingOutputStream.java:207)\n    at \norg.archive.io.RecordingOutputStream.open(RecordingOutputStream.java:173)\n    at \norg.archive.io.RecordingInputStream.open(RecordingInputStream.java:92)\n    at org.archive.util.Recorder.inputWrap(Recorder.java:150)\n    at org.archive.modules.fetcher.FetchDNS.recordDNS(FetchDNS.java:270)\n    at \norg.archive.modules.fetcher.FetchDNS.storeDNSRecord(FetchDNS.java:215)\n    at org.archive.modules.fetcher.FetchDNS.innerProcess(FetchDNS.java:170)\n    at org.archive.modules.Processor.innerProcessResult(Processor.java:157)\n    at org.archive.modules.Processor.process(Processor.java:123)\n    at \norg.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:310)\n    at org.archive.crawler.framework.ToeThread.run(ToeThread.java:157)\n26-Oct-2008 04:00:49 org.archive.modules.fetcher.FetchDNS storeDNSRecord\nSEVERE: Failed store of DNS Record for dns:depts.drew.edu (in thread \n&#39;ToeThread #88: dns:depts.drew.edu&#39;; in processor &#39;DNS&#39;)\njava.io.IOException: RIS already open for ToeThread #88: dns:depts.drew.edu\n    at \norg.archive.io.RecordingInputStream.open(RecordingInputStream.java:88)\n    at org.archive.util.Recorder.inputWrap(Recorder.java:150)\n    at org.archive.modules.fetcher.FetchDNS.recordDNS(FetchDNS.java:270)\n    at \norg.archive.modules.fetcher.FetchDNS.storeDNSRecord(FetchDNS.java:215)\n    at org.archive.modules.fetcher.FetchDNS.innerProcess(FetchDNS.java:170)\n    at org.archive.modules.Processor.innerProcessResult(Processor.java:157)\n    at org.archive.modules.Processor.process(Processor.java:123)\n    at \norg.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:310)\n    at org.archive.crawler.framework.ToeThread.run(ToeThread.java:157)\n\n\r\n--------------090307040408090106030407\r\nContent-Type: text/plain;\n name=&quot;global.sheet&quot;\r\nContent-Disposition: inline;\n filename=&quot;global.sheet&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------090307040408090106030407--\r\n\n"}}