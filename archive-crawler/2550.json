{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":225011788,"authorName":"Karl Wright","from":"Karl Wright &lt;kwright@...&gt;","profile":"daddywri","replyTo":"LIST","senderId":"VmjRQOFWNSc0eQ-ton-SjtnUT9bY3Dgw7L25AUp9qKRnmzGX8mzTIwvv5AUKQjou4kSEEiI33WTU26dugDHJNiL2Y86XkiTqy9I","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] DomainScope allows URLs to get into queue that are out of domain","postDate":"1137151844","msgId":2550,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzQzc4RjY0LjQwMTA5MDBAbWV0YWNhcnRhLmNvbT4=","inReplyToHeader":"PDQzQzcwQUZGLjMwNjA4MDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PDQzQzZEMEVDLjQwMjA2MDZAbWV0YWNhcnRhLmNvbT4gPDQzQzcwQUZGLjMwNjA4MDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":2549,"nextInTopic":2552,"prevInTime":2549,"nextInTime":2551,"topicId":2548,"numMessagesInTopic":4,"msgSnippet":"... Yes, I am aware of everything in the message you described above (which I ve included below for clarity).  However, to date I found no correlation between","rawEmail":"Return-Path: &lt;kwright@...&gt;\r\nX-Sender: kwright@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 17501 invoked from network); 13 Jan 2006 11:29:33 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m22.grp.scd.yahoo.com with QMQP; 13 Jan 2006 11:29:33 -0000\r\nReceived: from unknown (HELO metacarta.com) (65.77.47.18)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 Jan 2006 11:29:33 -0000\r\nReceived: from localhost (silene.metacarta.com [65.77.47.24])\n\tby metacarta.com (Postfix) with ESMTP id 1AC6D5181ED\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 13 Jan 2006 06:29:32 -0500 (EST)\r\nReceived: from metacarta.com ([65.77.47.18])\n\tby localhost (silene.metacarta.com [65.77.47.24]) (amavisd-new, port 10024)\n\twith ESMTP id 23845-09 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri, 13 Jan 2006 06:29:29 -0500 (EST)\r\nReceived: from [192.168.1.104] (146-115-66-62.c3-0.lex-ubr1.sbo-lex.ma.cable.rcn.com [146.115.66.62])\n\tby metacarta.com (Postfix) with ESMTP id 8706851814C\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 13 Jan 2006 06:29:28 -0500 (EST)\r\nMessage-ID: &lt;43C78F64.4010900@...&gt;\r\nDate: Fri, 13 Jan 2006 06:30:44 -0500\r\nUser-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;43C6D0EC.4020606@...&gt; &lt;43C70AFF.3060802@...&gt;\r\nIn-Reply-To: &lt;43C70AFF.3060802@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at metacarta.com\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Karl Wright &lt;kwright@...&gt;\r\nSubject: Re: [archive-crawler] DomainScope allows URLs to get into queue that\n are out of domain\r\nX-Yahoo-Group-Post: member; u=225011788; y=UpIl1LfcKjjvRxaRG3ywbXkNzmtBqreMkBR8gD7-RO74XTs\r\nX-Yahoo-Profile: daddywri\r\n\r\nGordon Mohr (archive.org) wrote:\n&gt; Karl Wright wrote:\n&gt; \n&gt;&gt;I&#39;m still trying to figure out how it happens, but with DomainScope I am \n&gt;&gt;seeing cases where URLs that are not part of the seed domains get \n&gt;&gt;included.  Can someone tell me:\n&gt;&gt;\n&gt;&gt;1) Whether (and where) URIs getting queued get filtered by domain, and\n&gt;&gt;2) where the URIs that managed to get queued which are not part of the \n&gt;&gt;seed domains would get filtered out?\n&gt; \n&gt; \n&gt; See this recent message -- everything it says about HostScope goes for\n&gt; DomainScope, too:\n&gt; \n&gt;    http://groups.yahoo.com/group/archive-crawler/message/2518\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; \n\n\nYes, I am aware of everything in the message you described above (which \nI&#39;ve included below for clarity).  However, to date I found no \ncorrelation between trans-hops and domains in the definitions listed, \nand indeed in the code.  I don&#39;t want to stop our crawl from going into \npages that you define as &quot;transitive&quot; as long as they are on the same \ndomain, and it seems I would need to do that in order to restrict the \ncrawl to the domains in the seeds.  Am I wrong?\n\nKarl\n\n&lt;&lt;&lt;\nAndrea Goethals wrote:\n &gt; Hello,\n &gt;\n &gt; I&#39;m trying to understand the HostScope scope better so that I can \nmake very\n &gt; focused crawls. I have a crawl going that was started from 40 seeds using\n &gt; the HostScope. I left the defaults of max-link-hops set to 25,\n &gt; max-trans-hops set to 5 and max-path-depth set to 20. I configured it to\n &gt; log any URIs that it considers out of scope. I can see in the\n &gt; heritrix_out.log file that there are thousands of URIs that it is not\n &gt; crawling because they are outOfScope. But in the crawl job report I \ncan see\n &gt; that is still crawling many hosts and retrieving files successfully from\n &gt; hosts that are not the same as the hosts in the seed list. Is this normal\n &gt; for the HostScope? Ideally I would like to be able to only retrieve files\n &gt; from the hosts in the seed list or maybe go one link &#39;out&#39; past the host.\n &gt;\n &gt; BTW I&#39;m using heritrix 1.6.\n\nBy default, Heritrix will include URIs that appear necessary to fully render\nother URIs in the main scope -- such as embedded images, scripts, frames,\nand resources referred to inside Javascript code.\n\nThis is probably what you are seeing. A way to tell for sure is to look\nclosely at the lines in crawl.log about the off-host URIs that were\nincluded. After the URI itself will be a string of capital letters, such\nas &quot;LLE&quot; or &quot;LXXP&quot;. Each letter in this &#39;hops-path&#39; indicates the type of\none &#39;hop&#39; that led to this URL from a seed:\n\nL regular link (eg &lt;A HREF=&quot;&quot;&gt;)\nE &#39;embed&#39; (eg &lt;IMG SRC=&quot;&quot;&gt; or &lt;FRAME SRC=&quot;&quot;&gt;)\nR redirect/refresh\nP prerequisite (robots or DNS)\nX speculative -- best guess reference (URI-like strings found in Javascript)\n\nA string of E/R/P/X hops, shorter than max-trans-hops, at the end of the\nhops-path will cause otherwise out-of-scope URIs (such as off-host URIs) to\nbe included.\n\nYou can tighten the HostScope to never go off-host by setting \n&#39;max-trans-hops&#39;\nto 0.\n\nOther notes:\n\n- HostScope and its sibling scopes DomainScope and PathScope are rather\ninefficient in their testing of URIs (performing a linear probe of\nall allowed URI patterns). This doesn&#39;t matter much in small crawls\n(up to a few hundred seeds/allowed hosts) but can be a noticeable\nfactor in larger (many thousand seeds/hosts) crawls.\n- HostScope and its siblings also limit your ability to mix domain\n(http://*.example.com), host (http://example.com/*) and path\n(http://example.com/topic/*) scopes in a single crawl.\n- SurtPrefixScope adds a little complexity but both improves the\nefficiency and mixing-flexibility of scope definition -- it can do\neverything HostScope/DomainScope/PathScope can do, and then some,\nmore efficiently.\n- For even finer-grained control, and sometimes greater efficiency,\na DecidingScope with a customizable sequence of DecideRules can be\nused, though understanding/designing such scopes is harder.\n\nHope this helps,\n\n- Gordon @ IA\n&lt;&lt;&lt;\n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n\n"}}