{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":501717968,"authorName":"gerritdevries74","from":"&quot;gerritdevries74&quot; &lt;gerritdevries74@...&gt;","profile":"gerritdevries74","replyTo":"LIST","senderId":"W5wK8It5EeitCzATPrMHrO3-NSFaxbaJDzp4n7KZHWuDQjI-29yj22xvzlDVhEcvUQ5LRmth1LCfXipqPd2vmUvffoesNL8trD6blnJbKbluH0oM","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: How to pass data between linked CrawlURI&#39;s","postDate":"1318412315","msgId":7348,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGo3M242citxY2pyQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRFOTREOUJFLjcwOTA0MDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":7347,"nextInTopic":0,"prevInTime":7347,"nextInTime":7349,"topicId":7345,"numMessagesInTopic":3,"msgSnippet":"Thanks, works like a charm!","rawEmail":"Return-Path: &lt;gerritdevries74@...&gt;\r\nX-Sender: gerritdevries74@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 45076 invoked from network); 12 Oct 2011 09:38:37 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m9.grp.sp2.yahoo.com with QMQP; 12 Oct 2011 09:38:37 -0000\r\nX-Received: from unknown (HELO ng9-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.68)\n  by mta2.grp.sp2.yahoo.com with SMTP; 12 Oct 2011 09:38:37 -0000\r\nX-Received: from [98.139.164.124] by ng9.bullet.mail.bf1.yahoo.com with NNFMP; 12 Oct 2011 09:38:35 -0000\r\nX-Received: from [69.147.65.148] by tg5.bullet.mail.bf1.yahoo.com with NNFMP; 12 Oct 2011 09:38:35 -0000\r\nX-Received: from [98.137.34.36] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 12 Oct 2011 09:38:35 -0000\r\nDate: Wed, 12 Oct 2011 09:38:35 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j73n6r+qcjr@...&gt;\r\nIn-Reply-To: &lt;4E94D9BE.7090407@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;gerritdevries74&quot; &lt;gerritdevries74@...&gt;\r\nSubject: Re: How to pass data between linked CrawlURI&#39;s\r\nX-Yahoo-Group-Post: member; u=501717968; y=U4-NA-8rzku1ykq8JlT3yWpl9FnK3DQIw9bdvmR0dP98gcqX8zDnzwYb\r\nX-Yahoo-Profile: gerritdevries74\r\n\r\nThanks, works like a charm!\n\n--- In archive-crawler@yahoogroups.com, Noah L=\r\nevitt &lt;nlevitt@...&gt; wrote:\n&gt;\n&gt; Hello,\n&gt; \n&gt; The problem is that by the time =\r\nyour processor runs, after \n&gt; CandidatesProcessor, the outlinks have alread=\r\ny been added to the \n&gt; frontier in a serialized form. You need to add your =\r\nmetadata after the \n&gt; outlinks have been promoted to CrawlURIs but before t=\r\nhey&#39;re added to the \n&gt; frontier. Both these things happen inside of Candida=\r\ntesProcessor, so \n&gt; adding a processor to the dispositionChain won&#39;t work (=\r\nbefore \n&gt; CandidatesProcessor is too early, after is too late). There is a =\r\nspot \n&gt; for just this kind of thing though - the CandidateChain. I&#39;d recomm=\r\nend \n&gt; you stick your processor at the end of that chain. Note that in this=\r\n \n&gt; context the CrawlURI passed to the processor is the outlink, so you \n&gt; =\r\nshould operate directly on it rather than iterate over \n&gt; getOutCandidates(=\r\n). (Btw it looks like calling addDataPersistentMember() \n&gt; is indeed the ri=\r\nght thing to do.)\n&gt; \n&gt; Noah\n&gt; \n&gt; \n&gt; On 10/11/2011 03:22 AM, gerritdevries74=\r\n wrote:\n&gt; &gt; We are using Heritrix 3.1.0-RC1 to crawl, and would like to pas=\r\ns metadata from pages that a link occurs in, to the pages that they link to=\r\n. E.g. if we crawl an RSS page, we pass some meta-information from the RSS-=\r\nfeed to the processors for the linked articles.\n&gt; &gt;\n&gt; &gt; I am trying to do t=\r\nhis with the getData/setData methods on CrawlURI. This is the workflow I am=\r\n using:\n&gt; &gt;\n&gt; &gt; In the DispositionChain for the originating link I have a p=\r\nrocessor that adds meta-data to the CrawlURI for all getOutCandidates(). (J=\r\nust after CandidatesProcessor and before DispositionProcessor). I have used=\r\n addDataPersistentMember to make that data persistent.\n&gt; &gt;\n&gt; &gt; However I se=\r\ne that when the CrawlURI is picked up in the FetchChain, it is actually a n=\r\new instance of the CrawlURI, and the data is not available anymore. That ne=\r\nw CrawlURI instance is than passed to the DispositionChain, but the data I =\r\nput on it while it was an out-candadate is lost.\n&gt; &gt;\n&gt; &gt; Is there some othe=\r\nr way I can make this work, or am I missing something?\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}