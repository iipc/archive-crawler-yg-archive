{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"0beCtXliNxC__-Fbaz56k_8lGcuIuVCTJkdlOvmae6tCF4cP8Q6iq9tVVAdKkw5YBcTWTvYJsMYW03EG6TDNeQpB92G-wo0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Mid Fetch filter","postDate":"1212084681","msgId":5246,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4M0VGMUM5LjgwNzAzMDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGcxbGhuNitjZWVkQGVHcm91cHMuY29tPg==","referencesHeader":"PGcxbGhuNitjZWVkQGVHcm91cHMuY29tPg=="},"prevInTopic":5244,"nextInTopic":5257,"prevInTime":5245,"nextInTime":5247,"topicId":5222,"numMessagesInTopic":6,"msgSnippet":"The mid-fetch filter is private to the FetchHTTP processor and has no effects outside that processor. If you want an URL to not even begin processing, it","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 93840 invoked from network); 29 May 2008 18:11:20 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m42.grp.scd.yahoo.com with QMQP; 29 May 2008 18:11:20 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta18.grp.scd.yahoo.com with SMTP; 29 May 2008 18:11:20 -0000\r\nX-Received: (qmail 73819 invoked from network); 29 May 2008 18:11:18 -0000\r\nX-Received: from unknown (HELO ?10.0.10.7?) (unknown)\n  by unknown with SMTP; 29 May 2008 18:11:18 -0000\r\nX-pair-Authenticated: 70.137.189.216\r\nMessage-ID: &lt;483EF1C9.8070308@...&gt;\r\nDate: Thu, 29 May 2008 11:11:21 -0700\r\nUser-Agent: Thunderbird 2.0.0.14 (Windows/20080421)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;g1lhn6+ceed@...&gt;\r\nIn-Reply-To: &lt;g1lhn6+ceed@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Mid Fetch filter\r\nX-Yahoo-Group-Post: member; u=137285340; y=aOoK2vtfxTUmIYlW_JoSjIDkOj52hBhlU4bYeUb3lpRH\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe mid-fetch filter is private to the FetchHTTP processor and has no \neffects outside that processor.\n\nIf you want an URL to not even begin processing, it should be ruled-out \nby the scope rules. If you want it to not be written, rules inside the \nwriter processor can cause writing to be skipped.\n\n- Gordon @ IA\n\ngkbrown22 wrote:\n&gt; Thanks Gordon, I understand that many of these smaller images may not\n&gt; have any bandwidth benefit on this however I am trying to eliminate\n&gt; any images from being captured. Right now, even these that are being\n&gt; logged as &quot;REJECT&quot; are still going to the write processor and are\n&gt; being written. That is what is confusing to me. I understand that the\n&gt; benefit to the server is nill but once the reject is returned why does\n&gt; the FetchHTTP go and get(or reget) the uri?\n&gt; &quot;org.archive.modules.fetcher.FetchHTTP\n&gt;&gt;&gt; innerProcess GET&quot;\n&gt; and then passes it on to the writer? (This is after the rejection by\n&gt; the filter.)\n&gt; \n&gt; This is what has me confused. \n&gt; \n&gt; thanks\n&gt; -glen\n&gt; \n&gt; \n&gt; I will try and capture them on a filter at the writer \n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;&gt; At best, the mid-fetch filter can abort a fetch that&#39;s already begun.\n&gt;&gt;\n&gt;&gt; As your log shows 1x1 GIFs way smaller than a single TCP packet, the \n&gt;&gt; abort in those cases is likely to be irrelevant to the server -- as far \n&gt;&gt; as it&#39;s concerned, it already finished serving the request.\n&gt;&gt;\n&gt;&gt; Even with a large GIF, I don&#39;t know if the server-side log would show \n&gt;&gt; anything other than a successful response. (It would depend on how \n&gt;&gt; broken connections are logged.)\n&gt;&gt;\n&gt;&gt; On the crawler side, I think even a mid-fetch abort leaves the entry in \n&gt;&gt; the crawl.log and at least truncated content available for writing to \n&gt;&gt; W/ARC files. Are you seeing or expecting something different?\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; gkbrown22 wrote:\n&gt;&gt;&gt; I am trying to catch some images in a midfetch filter. I am using the\n&gt;&gt;&gt; ContentTypeMatchesRegExpDecideRule  and from the log the rule seems to\n&gt;&gt;&gt; be working. But the image is fetched anyway. Here&#39;s the output from\n&gt;&gt;&gt; the log that is relevant:\n&gt;&gt;&gt;\n&gt;&gt;&gt; e.commons.httpclient.HttpMethodBase processResponseHeaders enter\n&gt;&gt;&gt; HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE\n&gt;&gt;&gt; org.archive.modules.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt;&gt;&gt; evaluate testing MidFetch Check for CT=image/gif\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE\n&gt;&gt;&gt; org.archive.modules.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt;&gt;&gt; evaluate MidFetch CT results:true\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRule #0\n&gt;&gt;&gt; org.archive.modules.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt;&gt;&gt; returned REJECT\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned REJECT\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned REJECT\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO org.archive.modules.fetcher.FetchHTTP\n&gt;&gt;&gt; checkMidfetchAbort ### checkMidfetchAbort returning true -&gt; abort\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST org.archive.modules.fetcher.FetchHTTP\n&gt;&gt;&gt; doAbort Aborting URI fetch\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE org.archive.util.Recorder close\n&gt;&gt;&gt; ToeThread #11:\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; closing\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE org.archive.io.RecordingInputStream\n&gt;&gt;&gt; close ToeThread #11:\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; closing java.io.BufferedInputStream@17490ad, ToeThread #11:\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection close enter\n&gt;&gt;&gt; HttpConnection.close()\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection closeSocketAndStreams\n&gt;&gt;&gt; enter HttpConnection.closeSockedAndStreams()\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE org.archive.io.RecordingInputStream\n&gt;&gt;&gt; close ToeThread #11:\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; closing null, ToeThread #11:\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection releaseConnection enter\n&gt;&gt;&gt; HttpConnection.releaseConnection()\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection releaseConnection\n&gt;&gt;&gt; Releasing connection back to connection manager.\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection close enter\n&gt;&gt;&gt; HttpConnection.close()\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpConnection closeSocketAndStreams\n&gt;&gt;&gt; enter HttpConnection.closeSockedAndStreams()\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpMethodBase getContentCharSet enter\n&gt;&gt;&gt; getContentCharSet( Header contentheader )\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HeaderElement parseElements enter\n&gt;&gt;&gt; HeaderElement.parseElements(String)\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HeaderElement parseElements enter\n&gt;&gt;&gt; HeaderElement.parseElements(char[])\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.apache.commons.httpclient.HeaderElement getParameterByName enter\n&gt;&gt;&gt; HeaderElement.getParameterByName(String)\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINE\n&gt;&gt;&gt; org.apache.commons.httpclient.HttpMethodBase getContentCharSet Default\n&gt;&gt;&gt; charset used: ISO-8859-1\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO org.archive.modules.fetcher.FetchHTTP\n&gt;&gt;&gt; innerProcess GET\n&gt;&gt;&gt;\n&gt; http://dw.com.com/rubicsimp/c.gif?ver=2&ts=2008.05.20.07.25.46&edId=&onId=&ptId=&sId=-2&appId=19&unitId=45&poolId=1&f1=14&f2=%2d0&f3=%2d0&alg=8&opt=1&off=1610,-1\n&gt;&gt;&gt; 200 353 image/gif\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 INFO\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt;&gt;&gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt;&gt;&gt; DecideRuleSequence returned PASS\n&gt;&gt;&gt;\n&gt;&gt;&gt; Then the link is written. \n&gt;&gt;&gt;\n&gt;&gt;&gt; Any ideas?\n&gt;&gt;&gt; thanks\n&gt;&gt;&gt; -glen\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}