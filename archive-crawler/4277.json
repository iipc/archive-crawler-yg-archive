{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":202034705,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"LoZh_K1UaVloNFYvEASCrb3o-0-63Lgnwjjbp7TrWLT7WT7Cks64iqA1iiv6wbXfV6ztGibx0reGnJ3M0qbaXQBCHZBFYYg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Own environment binding and integration","postDate":"1180386947","msgId":4277,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2NUI0NjgzLjMwMjAwMDRAZHVib2NlLm5ldD4=","inReplyToHeader":"PGYzOHNubis3NGFzQGVHcm91cHMuY29tPg==","referencesHeader":"PGYzOHNubis3NGFzQGVHcm91cHMuY29tPg=="},"prevInTopic":4276,"nextInTopic":0,"prevInTime":4276,"nextInTime":4278,"topicId":4257,"numMessagesInTopic":6,"msgSnippet":"... The comment at http://crawler.archive.org/xref/org/archive/crawler/admin/CrawlJob.html#742 should have been clearer. CrawlController is the crossroads for","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 17359 invoked from network); 28 May 2007 21:15:06 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m46.grp.scd.yahoo.com with QMQP; 28 May 2007 21:15:06 -0000\r\nReceived: from unknown (HELO mail4.omnex.netvigour.com) (208.229.144.195)\n  by mta9.grp.scd.yahoo.com with SMTP; 28 May 2007 21:15:04 -0000\r\nReceived: from mail6.netvigour.com ([10.201.10.1]) by mail4.omnex.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Mon, 28 May 2007 17:13:00 -0400\r\nReceived: from [192.168.1.104] ([76.102.130.38]) by mail6.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Mon, 28 May 2007 17:12:59 -0400\r\nMessage-ID: &lt;465B4683.3020004@...&gt;\r\nDate: Mon, 28 May 2007 14:15:47 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (Macintosh/20070221)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f38snn+74as@...&gt;\r\nIn-Reply-To: &lt;f38snn+74as@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: stack@...\r\nX-OriginalArrivalTime: 28 May 2007 21:13:00.0035 (UTC) FILETIME=[F875AD30:01C7A16C]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Own environment binding and integration\r\nX-Yahoo-Group-Post: member; u=202034705; y=h02bSZfIN9Rbcy0DyAKb4GAavbEhK0hAgn74oBOqX8heBYAx9WguGDq_\r\n\r\nivlcic wrote:\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, &quot;ivlcic&quot; &lt;ivlcic@...&gt; wrote:\n&gt;\n\n\n....\n&gt;\n&gt; This is the simplest code snippet I&#39;ve made till now.\n&gt;\n&gt;\n&gt; CrawlController ctrl = this.getController();\n&gt; if (ctrl instanceof MBeanCrawlController) {\n&gt; MBeanCrawlController mctrl = (MBeanCrawlController)ctrl;\n&gt; CrawlJob job = mctrl.getCrawlJob();\n&gt; }\n&gt;\n&gt; But be ware!!!! that this is a &quot;hack&quot; according to comments in the code.\n&gt; In future releases the CrawlController and CrawlJob will be completely\n&gt; decoupled. MBeanCrawlController might disappear.\n&gt;\n&gt; I have no clue why, because at the moment I see no point why\n&gt; controller is not supposed to see the job\n&gt;\n&gt; Maybe because of decoupling of data model, framework ... I&#39;m lazy and\n&gt; I have no time to study the whole codebase.\n&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe comment at \nhttp://crawler.archive.org/xref/org/archive/crawler/admin/CrawlJob.html#742 \nshould have been clearer.\n\nCrawlController is the crossroads for all important Crawl events.  \nExposing events in JMX came later, after an adhoc JMX view of CrawlJobs \nand Heritrix instances had already been settled on.  Adding CC to the \nJMX view would have confused this simple 2-bean model.  Rather than \nexpose CC in JMX, events were &#39;hacked&#39; into CrawlJob via the \nMBeanCrawlController inner-class.\n\nThe coming Heritrix 2.x exposes a richer JMX view.  In it CC is exposed \nand its here that notification of crawl changes originate: See \nhttp://builds.archive.org:8081/continuum/servlet/browse?file=31/heritrix/src/main/java/org/archive/crawler/framework/CrawlController.java \nand in particular the #emit method.\n\nHTH,\nSt.Ack\n\n\n\n\n&gt;\n&gt; Nikola\n&gt;\n&gt;  \n\n\n"}}