{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":496150545,"authorName":"Markus.Mirsberger","from":"&quot;Markus.Mirsberger&quot; &lt;markus.mirsberger@...&gt;","profile":"mirschi74","replyTo":"LIST","senderId":"HZw5addX8PTVM58-aJ0Wmueb4N1H8Do_s0K3Fhp1rGSlWM9peBi3AJo85l4p_bxceNRget9mUbnuJmvNsl6TtMrv5r2JzMThPQAhWyjKAydvaesxpg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] how get ContentHeader of ArchiveRecord","postDate":"1351848085","msgId":7849,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUwOTM5MDk1LjcwOTA1MDVAZ214LmRlPg==","inReplyToHeader":"PDUwOTM2M0IxLjEwNjA3MDZAZ214LmRlPg==","referencesHeader":"PGs2cjZuYytpanU3QGVHcm91cHMuY29tPiA8NTA5MzYzQjEuMTA2MDcwNkBnbXguZGU+"},"prevInTopic":7848,"nextInTopic":7851,"prevInTime":7848,"nextInTime":7850,"topicId":7845,"numMessagesInTopic":6,"msgSnippet":"Hi, now I found this: https://webarchive.jira.com/browse/HER-1978 At least I understand now why my shouldProcessRule not work if this bug really exist and is","rawEmail":"Return-Path: &lt;markus.mirsberger@...&gt;\r\nX-Sender: markus.mirsberger@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 37971 invoked from network); 2 Nov 2012 09:21:30 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m5.grp.sp2.yahoo.com with QMQP; 2 Nov 2012 09:21:30 -0000\r\nX-Received: from unknown (HELO mailout-de.gmx.net) (213.165.64.23)\n  by mta5.grp.sp2.yahoo.com with SMTP; 2 Nov 2012 09:21:30 -0000\r\nX-Received: (qmail invoked by alias); 02 Nov 2012 09:21:28 -0000\r\nX-Received: from mx-ll-171.6.180-152.dynamic.3bb.co.th (EHLO [192.168.1.12]) [171.6.180.152]\n  by mail.gmx.net (mp037) with SMTP; 02 Nov 2012 10:21:28 +0100\r\nX-Authenticated: #10074639\r\nX-Provags-ID: V01U2FsdGVkX1/BNzYnVwPBl8kKoy8L+9ORZgor3Yhy4v4E1GUX+Q\n\txaTy/jwHs1tHK3\r\nMessage-ID: &lt;50939095.7090505@...&gt;\r\nDate: Fri, 02 Nov 2012 16:21:25 +0700\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:16.0) Gecko/20121028 Thunderbird/16.0.2\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;k6r6nc+iju7@...&gt; &lt;509363B1.1060706@...&gt;\r\nIn-Reply-To: &lt;509363B1.1060706@...&gt;\r\nContent-Type: multipart/alternative;\n boundary=&quot;------------060307080403040508030402&quot;\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Markus.Mirsberger&quot; &lt;markus.mirsberger@...&gt;\r\nSubject: Re: [archive-crawler] how get ContentHeader of ArchiveRecord\r\nX-Yahoo-Group-Post: member; u=496150545; y=i4KUVW_HtL2QPUCFOTlwH3zaJu1ZQNpFld_jTZwXiUhob0yQJJwZL3iFXIZs-DYEFObLvT_1zeh286s\r\nX-Yahoo-Profile: mirschi74\r\n\r\n\r\n--------------060307080403040508030402\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nHi,\n\nnow I found this:\nhttps://webarchive.jira.com/browse/HER-1978\n\nAt least I understand now why my shouldProcessRule not work if this bug \nreally exist and is not solved.\n\n\nRegards,\nMarkus\n\n\nOn 02.11.2012 13:09, Markus.Mirsberger wrote:\n&gt;\n&gt; Hello,\n&gt;\n&gt;\n&gt; I have the situation that I want to ignore crawled binary content when \n&gt; Im parsing the warc files.\n&gt; I filtered most binary files already out during crawl but there always \n&gt; is some binary content in the content.\n&gt; E.g At the moment Im crawling a website which dynamically generates \n&gt; png-captcha pictures through a php file. I can not filter this out \n&gt; with a rule on the filename of course.\n&gt;\n&gt; So...because the content inside the warc file is binary (Content-Type: \n&gt; image/png) I tried a shouldProcessRule inside the warcWriter bean but \n&gt; in this case somehow the rule not take effect and Im still crawling \n&gt; these stupid captcha pictures.\n&gt; Here my rule:\n&gt; *&lt;property name=&quot;shouldProcessRule&quot;&gt;**\n&gt; **    &lt;bean \n&gt; class=&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDecideRule&quot;&gt;**\n&gt; **        &lt;property name=&quot;decision&quot; value=&quot;ACCEPT&quot; /&gt;**\n&gt; **        &lt;property name=&quot;regex&quot; value=&quot;^text/html.*&quot; /&gt;**\n&gt; **    &lt;/bean&gt;**\n&gt; **&lt;/property&gt;*\n&gt;\n&gt;\n&gt; I think the probably best way would be to check the content header \n&gt; when I am iterating through the ArchiveRecords.\n&gt; There is a getHeader() method but this is the ArchiveRecordHeader \n&gt; which shows me for example what kind of record I have but not tell me \n&gt; much about its content.\n&gt; Then there is already a hasContentHeader() method which just shows me \n&gt; if the content has a header or not but I cant find anything which \n&gt; gives me the content header so I can check the content type.\n&gt;\n&gt; Do I have to parse the header out of the content myself or is there a \n&gt; method to get this information?\n&gt; Or is there maybe a completely different way to get rid of binary content?\n&gt;\n&gt; Thanks,\n&gt; Markus Mirsberger\n&gt;\n&gt;\n&gt; \n\n\r\n--------------060307080403040508030402\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\n\r\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta content=&quot;text/html; charset=ISO-8859-1&quot;\n      http-equiv=&quot;Content-Type&quot;&gt;\n  &lt;/head&gt;\n  &lt;body bgcolor=&quot;#FFFFFF&quot; text=&quot;#000000&quot;&gt;\n    Hi,&lt;br&gt;\n    &lt;br&gt;\n    now I found this:&lt;br&gt;\n    &lt;a class=&quot;moz-txt-link-freetext&quot;\n      href=&quot;https://webarchive.jira.com/browse/HER-1978&quot;&gt;https://webarchive.jira.com/browse/HER-1978&lt;/a&gt;&lt;br&gt;\n    &lt;br&gt;\n    At least I understand now why my shouldProcessRule not work if this\n    bug really exist and is not solved.&lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    Regards,&lt;br&gt;\n    Markus&lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;div class=&quot;moz-cite-prefix&quot;&gt;On 02.11.2012 13:09, Markus.Mirsberger\n      wrote:&lt;br&gt;\n    &lt;/div&gt;\n    &lt;blockquote cite=&quot;mid:509363B1.1060706@...&quot; type=&quot;cite&quot;&gt;\n      &lt;span style=&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n      \n          &lt;div id=&quot;ygrp-text&quot;&gt;\n            &lt;p&gt; Hello,&lt;br&gt;\n              &lt;br&gt;\n              &lt;br&gt;\n              I have the situation that I want to ignore crawled binary\n              content when Im parsing the warc files.&lt;br&gt;\n              I filtered most binary files already out during crawl but\n              there always is some binary content in the content.&lt;br&gt;\n              E.g At the moment Im crawling a website which dynamically\n              generates png-captcha pictures through a php file. I can\n              not filter this out with a rule on the filename of course.&lt;br&gt;\n              &lt;br&gt;\n              So...because the content inside the warc file is binary\n              (Content-Type: image/png) I tried a shouldProcessRule\n              inside the warcWriter bean but in this case somehow the\n              rule not take effect and Im still crawling these stupid\n              captcha pictures.&lt;br&gt;\n              Here my rule:&lt;br&gt;\n              &lt;b&gt;&lt;property name=&quot;shouldProcessRule&quot;&gt;&lt;/b&gt;&lt;b&gt;&lt;br&gt;\n              &lt;/b&gt;&lt;b&gt;&nbsp;&nbsp;&nbsp; &lt;bean\nclass=&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDecideRule&quot;&gt;&lt;/b&gt;&lt;b&gt;&lt;br&gt;\n              &lt;/b&gt;&lt;b&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;decision&quot; value=&quot;ACCEPT&quot;\n                /&gt;&lt;/b&gt;&lt;b&gt;&lt;br&gt;\n              &lt;/b&gt;&lt;b&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=&quot;regex&quot;\n                value=&quot;^text/html.*&quot; /&gt;&lt;/b&gt;&lt;b&gt;&lt;br&gt;\n              &lt;/b&gt;&lt;b&gt;&nbsp;&nbsp;&nbsp; &lt;/bean&gt;&lt;/b&gt;&lt;b&gt;&lt;br&gt;\n              &lt;/b&gt;&lt;b&gt;&lt;/property&gt;&lt;/b&gt;&lt;br&gt;\n              &lt;br&gt;\n              &lt;br&gt;\n              I think the probably best way would be to check the\n              content header when I am iterating through the\n              ArchiveRecords.&lt;br&gt;\n              There is a getHeader() method but this is the\n              ArchiveRecordHeader which shows me for example what kind\n              of record I have but not tell me much about its content.&lt;br&gt;\n              Then there is already a hasContentHeader() method which\n              just shows me if the content has a header or not but I\n              cant find anything which gives me the content header so I\n              can check the content type.&lt;br&gt;\n              &lt;br&gt;\n              Do I have to parse the header out of the content myself or\n              is there a method to get this information?&lt;br&gt;\n              Or is there maybe a completely different way to get rid of\n              binary content?&lt;br&gt;\n              &lt;br&gt;\n              Thanks,&lt;br&gt;\n              Markus Mirsberger&lt;br&gt;\n              &lt;br&gt;\n              &lt;br&gt;\n            &lt;/p&gt;\n          &lt;/div&gt;\n          \n      \n      &lt;!-- end group email --&gt;\n    &lt;/blockquote&gt;\n    &lt;br&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------060307080403040508030402--\r\n\n"}}