{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":149694377,"authorName":"Parker Thompson","from":"Parker Thompson &lt;parkert@...&gt;","profile":"michaelparkerthompson","replyTo":"LIST","senderId":"-NrJZ5p9qV1l1K7PS4o8S6LVUFfNSFda8cR212S1TrIpbOFe476V3JYp_A5DICjnFm5vYWLCU3EAwu17cJuEybXxhXRhtZiKGvk5iw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: dns uri writup","postDate":"1055266247","msgId":73,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuTE5YLjQuMzMuMDMwNjEwMTAwNDQxMC4xMjQ0Mi0xMDAwMDBAaG9tZXNlcnZlci5hcmNoaXZlLm9yZz4=","inReplyToHeader":"PDAwZTAwMWMzMmVlZSRkYjUzNzYwMCQ0OGYwZWRkMUBXT1JLU1RBVElPTjIxPg=="},"prevInTopic":0,"nextInTopic":74,"prevInTime":72,"nextInTime":74,"topicId":73,"numMessagesInTopic":2,"msgSnippet":"... No, RFC 2540 prescribes a binary format and a text equivelent, both of which contain the same fields. ... To the best of my understanding no.  I did not","rawEmail":"Return-Path: &lt;parkert@...&gt;\r\nX-Sender: parkert@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 1707 invoked from network); 10 Jun 2003 17:30:48 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m14.grp.scd.yahoo.com with QMQP; 10 Jun 2003 17:30:48 -0000\r\nReceived: from unknown (HELO homeserver.archive.org) (209.237.233.202)\n  by mta1.grp.scd.yahoo.com with SMTP; 10 Jun 2003 17:30:48 -0000\r\nReceived: from localhost (parkert@localhost)\n\tby homeserver.archive.org (8.11.6/8.11.6) with ESMTP id h5AHUlC14977\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 10 Jun 2003 10:30:47 -0700\r\nX-Authentication-Warning: homeserver.archive.org: parkert owned process doing -bs\r\nDate: Tue, 10 Jun 2003 10:30:47 -0700 (PDT)\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nSubject: Re: dns uri writup\r\nIn-Reply-To: &lt;00e001c32eee$db537600$48f0edd1@WORKSTATION21&gt;\r\nMessage-ID: &lt;Pine.LNX.4.33.0306101004410.12442-100000@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Parker Thompson &lt;parkert@...&gt;\r\nX-Yahoo-Group-Post: member; u=149694377\r\nX-Yahoo-Profile: michaelparkerthompson\r\n\r\nOn Mon, 9 Jun 2003, Gordon Mohr wrote:\n\n|In general, we&#39;ll want to archive whatever we got back from \n|out network lookup -- making no judgement as to what is \n|important to keep or not. We also want to save things in\n|as close to &quot;raw&quot; format (as received) as possible -- no\n|parsing/rewriting. With this in mind...\n|\n|- Are we losing anything with the text format that we&#39;d\n|  retain if we wrote the binary RRs? \n\nNo, RFC 2540 prescribes a binary format and a text equivelent, both of\nwhich contain the same fields.\n\n\n|- Similarly, is the binary format in rfc2540 actually losing\n|  anything from the raw DNS response packet -- should we \n|  perhaps archive that instead?\n\n\nTo the best of my understanding no.  I did not encounter this in the\ndocumentation, but my understanding is that the DNS server passes a binary\nrepresentation of the data to the transport layer (UDP), it is received\nand unwrapped as-is on the other side, moving back up into the application\nlayer (the crawler).\n                                                                                \nNote: RFC 1035 assigns a limit of 512 bytes to UDP-based DNS responses,\nbut I do not think that this should really be an issue, and regardless is\na limitation of the protocol, so there&#39;s not much we can do about it\nregardless of our client implementation.\n\n\n|If we are using either the rfc 1035 or rfc 2540 formats,\n|then I think the right content-types to use in the ARC header\n|would be the (Joseffson-proposed) &quot;application/dns&quot; or &quot;text/dns&quot;. \n|If we&#39;re using the raw response, we might have to make up our \n|own scratch type... like &quot;application/dns-packet&quot;\n\nYes, I agree.  The document has been updated to reflect these content \ntypes.  Still up for discussion is the format in which these should be \nstored.  My inclination is to lean toward text, as it&#39;s easy to process \nand store, but I&#39;d be interested in flushing the pro&#39;s/con&#39;s of binary vs \ntext.\n\n\n|Considering the standard crawl-time sequence of events:\n|  (1) HTTP URI for new hostname encountered\n|  (2) /robots.txt at same host is queued for retrieval first\n|  (3) DNS lookup for that host is queued for retrieval first\n|  (4) worker thread gets to the DNS lookup, gets back packet \n|      (or packets?) that should somehow be archived\n|  (5) ...other fetching of HTTP URIs at same host continues...\n|\n|Will we ever expect more than one packet back? (Or can we\n|count on our reasonably configured local nameservers to\n|include all the transitive info we&#39;d need?)\n\nIf we&#39;re running our own nameserver (BIND) we can expect to get a useful \nresponse the first time, i.e. even if a CNAME record is technically all \nthat the server is required to return we will still get the A (and \npossibly the NS) records as well.  This is not prescribed by the RFC, but \nI expect that most implementations adhere to this convention to avoid \nsuccessive (unnecessary) queries.\n\n\n|Have you had a chance to look at the DNSJava code -- can \n|we get at the raw response packet easily if desired? \n\nIt appears that the class org.xbill.DNS.Message is used to represent an \nuncompressed DNS request/response.  The method toWire() returns a byte \narray representing the record in the rfc-prescribed binary format (from \nwhat I can tell).\n\nAllso provided is a toString method which should mean we can get either\nbinary or text equally easily.\n\nThanks,\n\npt.\n--\nParker Thompson\nThe Internet Archive\n510.541.0125\n\n\n"}}