{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"6vgGTJOW6rL0FsvEdijROOKWhIT4PAbQxSqHeo0kVlfqRBTv876pmKNIFdEMPopUX_gPEXVodIx-BZohhdr4Ww","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Problem about link hops","postDate":"1089823473","msgId":638,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwRjU2MkYxLjMwMDA5MDlAYXJjaGl2ZS5vcmc+"},"prevInTopic":630,"nextInTopic":641,"prevInTime":637,"nextInTime":639,"topicId":621,"numMessagesInTopic":10,"msgSnippet":"... To implement the above, you probably need to make a new ARCWriterProcessor that overrides ARCWriterProcessor#writeHttp. Your version would ask the passed","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 38513 invoked from network); 14 Jul 2004 16:45:53 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m12.grp.scd.yahoo.com with QMQP; 14 Jul 2004 16:45:53 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta2.grp.scd.yahoo.com with SMTP; 14 Jul 2004 16:45:53 -0000\r\nReceived: from archive.org ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id i6EG5oq23700\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 14 Jul 2004 09:05:51 -0700\r\nMessage-ID: &lt;40F562F1.3000909@...&gt;\r\nDate: Wed, 14 Jul 2004 09:44:33 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7b) Gecko/20040421\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=GB2312\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 63.203.238.114\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Problem about link hops\r\nX-Yahoo-Group-Post: member; u=168599281\r\n\r\nzhousp wrote:\n\n&gt;hi,Tom Emerson,\n&gt;\n&gt;thanks for your advice.\n&gt;\n&gt;It seems if I just want the HTML pages,there is only one way to check the \n&gt;response HTTP Header,if there is &quot;Content-Type: text/html&quot;\t,then save it \n&gt;to ARC file ,else ,discard it.\n&gt;  \n&gt;\n\nTo implement the above, you probably need to make a new\nARCWriterProcessor that overrides ARCWriterProcessor#writeHttp. Your\nversion would ask the passed CrawlURI for its content type --\nCrawlURI#getContentType -- and then if not text/html, you&#39;d return\notherwise call the parent&#39;s writeHttp implementation.\n\nSt.Ack\n\n&gt;ansi\n&gt;\n&gt;======= 2004-07-14 13:35:01 =======\n&gt;\n&gt;  \n&gt;\n&gt;&gt;It looks like the actual implementation of content negotiation with\n&gt;&gt;the &#39;Accept:&#39; header does not work the way you think it does. I tried\n&gt;&gt;with various servers (IIS, Apache, and GWS) and they all appear to\n&gt;&gt;have the same behavior: if the content type of the requested resource\n&gt;&gt;is a complete mismatch of the Accept: header, the resource is returned\n&gt;&gt;anyway instead of returning a 406 as the HTTP/1.1 specification would\n&gt;&gt;imply they should.\n&gt;&gt;\n&gt;&gt;That would explain why forcing &quot;Accept: text/html&quot; will still return\n&gt;&gt;images with a 200 response.\n&gt;&gt;\n&gt;&gt;It could also be the case that the individual servers have content\n&gt;&gt;negotiation turned off, or it is not fully implemented, or...\n&gt;&gt;\n&gt;&gt;A quick scan of the Apache 2.0.50 content negotiation module would\n&gt;&gt;imply that a 406 should be returned.\n&gt;&gt;\n&gt;&gt;FWIW, I added the &quot;accept-headers&quot; parameter to the HTML fetcher so I\n&gt;&gt;could force the Accept-Language header --- I&#39;ve never used straight\n&gt;&gt;&quot;Accept:&quot;.\n&gt;&gt;\n&gt;&gt;   -tree\n&gt;&gt;\n&gt;&gt;-- \n&gt;&gt;Tom Emerson                                          Basis Technology Corp.\n&gt;&gt;Software Architect                                 http://www.basistech.com\n&gt;&gt; &quot;Beware the lollipop of mediocrity: lick it once and you suck forever&quot;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;  \n&gt;\n\n\n"}}