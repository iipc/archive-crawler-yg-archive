{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"d4L9GLvnnoWF1gc46zgXKpcQecQAUtSa1gOrXVsaZkfsKL6Mc4d-OW1myygnogHJBhDSmzm47MncIdDwivpmnQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Exception in Extractor","postDate":"1122314040","msgId":2058,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyRTUyNzM4LjEwNDA2MDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQyRTI2NjYyLjcwMTA0MDZAY252aS5jb20+","referencesHeader":"PGRiOWEwbytmbm9mQGVHcm91cHMuY29tPiA8NDJFMjY2NjIuNzAxMDQwNkBjbnZpLmNvbT4="},"prevInTopic":2057,"nextInTopic":0,"prevInTime":2057,"nextInTime":2059,"topicId":2046,"numMessagesInTopic":9,"msgSnippet":"... Fixed in HEAD. (There was an assumption that there is always a crawlcontroller available.  This is true crawling but not when using the extractor tool.","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 55133 invoked from network); 25 Jul 2005 18:04:55 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m34.grp.scd.yahoo.com with QMQP; 25 Jul 2005 18:04:55 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 25 Jul 2005 18:04:55 -0000\r\nReceived: (qmail 11396 invoked by uid 100); 25 Jul 2005 18:03:47 -0000\r\nReceived: from adsl-71-130-102-78.dsl.pltn13.pacbell.net (HELO ?192.168.1.8?) (stack@...@71.130.102.78)\n  by mail-dev.archive.org with SMTP; 25 Jul 2005 18:03:47 -0000\r\nMessage-ID: &lt;42E52738.1040606@...&gt;\r\nDate: Mon, 25 Jul 2005 10:54:00 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.8) Gecko/20050513 Debian/1.7.8-1\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;db9a0o+fnof@...&gt; &lt;42E26662.7010406@...&gt;\r\nIn-Reply-To: &lt;42E26662.7010406@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-83.9 required=7.0 tests=AWL,USER_IN_WHITELIST \n\tautolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Exception in Extractor\r\nX-Yahoo-Group-Post: member; u=168599281; y=IQ9a7G4kHxslpiKUFt0FAezYtHpobbxYlUzyhH0MN_mSJvGEtay1GL5e\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nRyan Gran wrote:\n\n&gt; Now using heritrix-1.5.0-200507200429.tar.gz, the command line extractor\n&gt; tool\n&gt; is generating:\n\nFixed in HEAD.\n(There was an assumption that there is always a crawlcontroller \navailable.  This is true crawling but not when using the extractor \ntool.  The HTML Extractor among others had already been amended to not \nassume the crawlcontroller.  The commit made it so the Extractor CSS -- \nand all other extractors -- now do the same).\nSt.Ack\n\n&gt;\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorCSS.processStyleCode(ExtractorCSS.java:152)\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorHTML.processStyle(ExtractorHTML.java:676)\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorHTML.extract(ExtractorHTML.java:543)\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorHTML.innerProcess(ExtractorHTML.java:465)\n&gt;         at\n&gt; org.archive.crawler.framework.Processor.process(Processor.java:103)\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorTool.extract(ExtractorTool.java:143)\n&gt;         at\n&gt; org.archive.crawler.extractor.ExtractorTool.main(ExtractorTool.java:263)\n&gt;\n&gt; Have a couple different ARC&#39;s I can make available if needed.\n&gt;\n&gt; stackarchiveorg wrote:\n&gt;\n&gt; &gt; Thanks for the below (and the ARC).  That helped.\n&gt; &gt;\n&gt; &gt; There&#39;s a fix in HEAD if you want to try it (Bug is\n&gt; &gt; \n&gt; http://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1239155). \n&gt; &lt;http://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1239155%29.&gt; \n&gt;\n&gt; &gt; \n&gt; &lt;http://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1239155%29. \n&gt; &lt;http://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1239155%29.&gt;&gt;\n&gt; &gt;\n&gt; &gt; Yours,\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt; --- In archive-crawler@yahoogroups.com, Ryan Gran &lt;ryan@c...&gt; wrote:\n&gt; &gt; &gt; I&#39;m relatively new working with Heritrix, so please bear with me.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Think I made some progress, but I&#39;ll let you be the judge of that.  If\n&gt; &gt; &gt; you need additional debug\n&gt; &gt; &gt; output, please put it in terms of arcreader/extractor (ARC HTTP\n&gt; &gt; &gt; GETtable) isn&#39;t meaning\n&gt; &gt; &gt; much to me yet. =)\n&gt; &gt; &gt;\n&gt; &gt; &gt; In any case:\n&gt; &gt; &gt;\n&gt; &gt; &gt; I dumped the index with arcreader:\n&gt; &gt; &gt;\n&gt; &gt; &gt; 20050712000538 72.22.69.24\n&gt; &gt; &gt; http://baby-land-usa.com/amazon/type_browse/mode_509380/ text/html -\n&gt; &gt; &gt; AWXCM4YK7M2EV7SSVQ6L732E6L63PX7S 702502 33235\n&gt; &gt; &gt; LC-20050712000448-00068-lcs0001.local\n&gt; &gt; &gt; 20050712000545 65.54.134.190\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; http://groups.msn.com/_Secure/0UgD!AhAarVzuTWgKhM7N81s*goD1Sp6WBvuJTifxpVz81OuknWvyMnUJXs2fxEiJuUUuz2bWtftiz18rgBKUqeSra5RuD5i1pS9V5ke1munGbnjNKs0MCJzWmnx9xb4z/background11.jpg?dc=4675391490255190516 \n&gt; &lt;http://groups.msn.com/_Secure/0UgD%21AhAarVzuTWgKhM7N81s*goD1Sp6WBvuJTifxpVz81OuknWvyMnUJXs2fxEiJuUUuz2bWtftiz18rgBKUqeSra5RuD5i1pS9V5ke1munGbnjNKs0MCJzWmnx9xb4z/background11.jpg?dc=4675391490255190516&gt; \n&gt;\n&gt; &gt; \n&gt; &lt;http://groups.msn.com/_Secure/0UgD%21AhAarVzuTWgKhM7N81s*goD1Sp6WBvuJTifxpVz81OuknWvyMnUJXs2fxEiJuUUuz2bWtftiz18rgBKUqeSra5RuD5i1pS9V5ke1munGbnjNKs0MCJzWmnx9xb4z/background11.jpg?dc=4675391490255190516&gt;\n&gt; &gt;\n&gt; &gt; &gt; no-type - JSK7KMF4PRWWNK7WREP55AASEVONFQJS 706489 289\n&gt; &gt; &gt; LC-20050712000448-00068-lcs0001.local\n&gt; &gt; &gt;\n&gt; &gt; &gt; I thought baby-land-usa.com was the issue, but it extracts fine.\n&gt; &gt; &gt; However, the next entry (which would be about where extractor is \n&gt; dying):\n&gt; &gt; &gt;\n&gt; &gt; &gt; lcm:/Users/admin/heritrix-1.4.0/bin root# ./arcreader --format=dump\n&gt; &gt; &gt; --offset=706489\n&gt; &gt; &gt; \n&gt; /RAID01/1/1_job_1120859484/LC-20050712000448-00068-lcs0001.local.arc.gz\n&gt; &gt; &gt; HTTP/1.1 500 Internal Server Error\n&gt; &gt; &gt; Server: Microsoft-IIS/5.0\n&gt; &gt; &gt; Date: Tue, 12 Jul 2005 00:05:45 GMT\n&gt; &gt; &gt; Srv:GRPWBD03\n&gt; &gt; &gt; P3P:CP=BUS CUR CONo FIN IVDo ONL OUR PHY SAMo TELo\n&gt; &gt; &gt; Set-Cookie: MC1=V=2&GUID=5DD1A7946010405B9789CD06FE51270C;\n&gt; &gt; &gt; domain=.msn.com; expires=Sat, 04-Oct-2003 00:00:00 GMT; path=/\n&gt; &gt; &gt;\n&gt; &gt; &gt; Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException\n&gt; &gt; &gt;         at\n&gt; &gt; &gt; java.util.zip.InflaterInputStream.read(InflaterInputStream.java:122)\n&gt; &gt; &gt;         at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:87)\n&gt; &gt; &gt;         at org.archive.io.arc.ARCRecord.read(ARCRecord.java:411)\n&gt; &gt; &gt;         at\n&gt; &gt; &gt; org.archive.io.arc.ARCReader.outputARCRecordDump(ARCReader.java:962)\n&gt; &gt; &gt;         at\n&gt; &gt; org.archive.io.arc.ARCReader.outputARCRecord(ARCReader.java:936)\n&gt; &gt; &gt;         at org.archive.io.arc.ARCReader.main(ARCReader.java:1146)\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; stack wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; So I think its issue w/ how extractor script is running through ARCs\n&gt; &gt; &gt; &gt; (First thing I&#39;d try is removing the buffering of the gzip stream in\n&gt; &gt; &gt; &gt; HttpRecord#wrapInputStreamWithHttpRecord).  If you make the\n&gt; &gt; problematic\n&gt; &gt; &gt; &gt; ARC HTTP GETtable (You can send me the URL offlist), I&#39;ll take a\n&gt; &gt; look at\n&gt; &gt; &gt; &gt; it over on this end.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------------------------------------------\n&gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt;\n&gt; &gt;     *  Visit your group &quot;archive-crawler\n&gt; &gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt; &gt;       \n&gt; &gt;     *  To unsubscribe from this group, send an email to:\n&gt; &gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt;       \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt;       \n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------------------------------------------\n&gt; &gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}