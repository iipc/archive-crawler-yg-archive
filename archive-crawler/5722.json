{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"OHObM_lMS_tQ1QeujWnofDM2F0pqE1VD-MIG3072z3Asi4bsjCEdI_8kLKc8xtwhPiBFc8qJaTAmV_vjDj2qnVAvJ6tnUMU","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Where I should add rules to? / Don&#39;t fetch if fetched in last N days.","postDate":"1236816225","msgId":5722,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5Qjg1MTYxLjUwNzA1MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGM1MDczNjZmMDkwMzEwMjMyM3U1YzI2ZWI5ZW0zYzJkMWVlMjkxN2U4MmRmQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGM1MDczNjZmMDkwMzEwMjMyM3U1YzI2ZWI5ZW0zYzJkMWVlMjkxN2U4MmRmQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":5719,"nextInTopic":5723,"prevInTime":5721,"nextInTime":5723,"topicId":5719,"numMessagesInTopic":4,"msgSnippet":"... Usually, you should add rules to the scope (DecidingScope s rule chain). For rules that are a URI prefix -- like your example  --","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 72666 invoked from network); 12 Mar 2009 00:03:44 -0000\r\nX-Received: from unknown (69.147.108.201)\n  by m7.grp.re1.yahoo.com with QMQP; 12 Mar 2009 00:03:44 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta2.grp.re1.yahoo.com with SMTP; 12 Mar 2009 00:03:44 -0000\r\nX-Received: (qmail 41144 invoked from network); 12 Mar 2009 00:03:43 -0000\r\nX-Received: from 70.137.162.234 (HELO ?10.0.13.77?) (70.137.162.234)\n  by relay02.pair.com with SMTP; 12 Mar 2009 00:03:43 -0000\r\nX-pair-Authenticated: 70.137.162.234\r\nMessage-ID: &lt;49B85161.5070504@...&gt;\r\nDate: Wed, 11 Mar 2009 17:03:45 -0700\r\nUser-Agent: Thunderbird 2.0.0.19 (Windows/20081209)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;c507366f0903102323u5c26eb9em3c2d1ee2917e82df@...&gt;\r\nIn-Reply-To: &lt;c507366f0903102323u5c26eb9em3c2d1ee2917e82df@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Where I should add rules to? / Don&#39;t fetch\n if fetched in last N days.\r\nX-Yahoo-Group-Post: member; u=137285340; y=RmHhuBUHTm7s3fMf79DKeVNldLURyueTJqdMd6XubYcl\r\nX-Yahoo-Profile: gojomo\r\n\r\ntakeru sasaki wrote:\n&gt; Hello,\n&gt; \n&gt; I am trying version 1.14.3.\n&gt; Thank you for Gordon and development team!!\n&gt; \n&gt; \n&gt; And, I have two question.\n&gt; \n&gt; 1. I want to select fetch or not, per hosts.\n&gt; I create overrides per hosts.\n&gt; Where is I should add rules?\n&gt; \n&gt; DecidingScope#decide-rules\n&gt; or\n&gt; Preselector#decide-rules\n&gt; LinksScoper#decide-rules\n&gt; scope-rejected-url-rules\n&gt; Scheduler#decide-rules\n&gt; or other??\n&gt; \n&gt; I want to filter by url. Than I think\n&gt; MatchesRegExpDecideRule/NotMatchesRegExpDecideRule is good for me.\n&gt; For example, I want to get http://xxxx.com/news/.+.html, but not want\n&gt; to fetch http://xxxx.com/ad/.*, and we have many rules.\n\nUsually, you should add rules to the &#39;scope&#39; (DecidingScope&#39;s rule chain).\n\nFor rules that are a URI prefix -- like your example \n&lt;http://xxxx.com/ad/.*&gt; -- a SurtPrefixDecideRule is often best. To \nunderstand how these work, these readings are helpful:\n\nhttp://crawler.archive.org/articles/user_manual/config.html#scopes\n  (Note that using a SurtPrefixDecideRule inside DecidingScope is\n   now preferred over the SurtPrefixScope.)\n\nhttp://crawler.archive.org/articles/user_manual/glossary.html#surt\n\nThe default scope already has one major SurtPrefixDecideRule for \nruling-in (ACCEPTing) URIs based on your seeds.\n\nYou could add another later in the chain to REJECT those\n\n&gt; 2. Don&#39;t fetch if the url is fetched in last 7 days.\n&gt; I trying with FetchHistoryProcessor/PersistStoreProcessor/PersistLoadProcessor.\n&gt; http://webteam.archive.org/confluence/display/Heritrix/Release+Notes+-+1.14.3\n&gt; http://webteam.archive.org/confluence/display/Heritrix/Feature+Notes+-+1.12.0\n&gt; \n&gt; When recrawling, I don&#39;t send any HTTP request if the URL is fetched\n&gt; in last 7 days.\n&gt; Can I do this ?\n&gt; I think the History has fetched timestamp, then it can do this, I think.\n\nThe duplication-reduction features enabled by the Persist*Processors and \nFetchHistoryProcessor are still based on the idea of repeating a \ncomplete crawl, but skipping the processing or storing of some data that \nappears to be a duplicate.\n\nIt could be adapted to skip fetches based on time of last fetch, but \nthat is not a current feature. It would require new custom development.\n\nA focus of the work for later-in-2009 versions 2.2 and 2.4 is to add a \ngeneralized adaptive recrawling functionality.\n\n&gt; Very sorry to my poor english, every time.\n\nNo worries and no need for apologies! Thanks for your interest in Heritrix.\n\n- Gordon @ IA\n\n\n\n"}}