{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":473207283,"authorName":"Kristinn Sigur√∞sson","from":"=?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"IWhcaGSEEjJOXhRp7HsHqOELkOrNuUP38KZlqvdFpGCeT3nAYeRXqPvqnzTsZB3GdjjSlqU57F52D1VmRoowh5hMCvVJSDWWQ761_dz3mkpaDZWExofylRawuRKry-DBFuMGi2xbAtkM","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Extractors communicating with CandidateChain processors...","postDate":"1368458789","msgId":8079,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFQzVFQGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","inReplyToHeader":"PDZFOTQxNTM3LUQwMjktNEQzRC05NDU3LTYxQ0U0MEI4NjU0M0BhcmNoaXZlLm9yZz4=","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPiA8QjNGOEU4NUItODAxQy00MDVGLThBOTctQzVFMjdDMjk2OUMxQGFyY2hpdmUub3JnPiA8Q0FBLXo3MEtXdjlCOF9VaGtzRD1GZ2tXQ3RYWVNUekVFWlhZanBjSEc4SjNzNTJ0UmNnQG1haWwuZ21haWwuY29tPiA8NkU5NDE1MzctRDAyOS00RDNELTk0NTctNjFDRTQwQjg2NTQzQGFyY2hpdmUub3JnPg=="},"prevInTopic":8076,"nextInTopic":8082,"prevInTime":8078,"nextInTime":8080,"topicId":8073,"numMessagesInTopic":8,"msgSnippet":"Yes, adding a data map to Link would really solve this quite thoroughly. I sketched out how it might work in my H3 fork. See","rawEmail":"Return-Path: &lt;kristinn@...&gt;\r\nX-Sender: kristinn@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 66847 invoked by uid 102); 13 May 2013 15:26:48 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m12.grp.bf1.yahoo.com with SMTP; 13 May 2013 15:26:48 -0000\r\nX-Received: (qmail 3061 invoked from network); 13 May 2013 15:26:47 -0000\r\nX-Received: from unknown (HELO vala.bok.hi.is) (130.208.186.10)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 13 May 2013 15:26:47 -0000\r\nX-Received: from bliki.bokhlada.local (bliki.bok.hi.is [130.208.186.6])\n\tby vala.bok.hi.is (8.13.8/8.13.8) with ESMTP id r4DFQi0r008660\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 13 May 2013 15:26:44 GMT\r\nX-Received: from BLIKI.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) by\n bliki.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) with mapi id\n 14.01.0438.000; Mon, 13 May 2013 15:26:30 +0000\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nThread-Topic: [archive-crawler] Extractors communicating with CandidateChain\n processors...\r\nThread-Index: Ac5NnW3rN0O2rBlOSxGtxBx1B8TMgAADkBoAAAIu8oAAAsPOgACLkTxQ\r\nDate: Mon, 13 May 2013 15:26:29 +0000\r\nMessage-ID: &lt;E486D93E372D8C4282E8DF078392F12D98EC5E@...&gt;\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt;\n &lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt;\n &lt;CAA-z70KWv9B8_UhksD=FgkWCtXYSTzEEZXYjpcHG8J3s52tRcg@...&gt;\n &lt;6E941537-D029-4D3D-9457-61CE40B86543@...&gt;\r\nIn-Reply-To: &lt;6E941537-D029-4D3D-9457-61CE40B86543@...&gt;\r\nAccept-Language: en-US, is-IS\r\nContent-Language: en-US\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Spam-Status: No, score=0.0 required=4.6 tests=none autolearn=disabled\n\tversion=3.3.1\r\nX-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on gleipnir.rhi.hi.is\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;\r\nSubject: RE: [archive-crawler] Extractors communicating with CandidateChain\n processors...\r\nX-Yahoo-Group-Post: member; u=473207283; y=0YrT6imoG05xU75fkE-X9YkcVvLqC_VyEzP5ym3wOWPJJEyL\r\nX-Yahoo-Profile: kristsi25\r\n\r\nYes, adding a data map to Link would really solve this quite thoroughly.\n\nI=\r\n sketched out how it might work in my H3 fork. See https://github.com/kris-=\r\nsigur/heritrix3/commit/7c5b2ceb005ea9ba02cd0a657578514c3caee080\n\n- Kris\n\nP.=\r\nS. Its seems really odd that Link and CrawlURI do not belong to the same pa=\r\nckage. Would have made this easier.\n\n\n-------------------------------------=\r\n------------------------------------\nLandsb=F3kasafn =CDslands - H=E1sk=F3l=\r\nab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Reykjav=EDk\nS=EDmi/Tel: +354 5255600=\r\n | www.landsbokasafn.is\n---------------------------------------------------=\r\n----------------------\nfyrirvari/disclaimer - http://fyrirvari.landsbokasaf=\r\nn.is\n&gt; -----Original Message-----\n&gt; From: archive-crawler@yahoogroups.com [=\r\nmailto:archive-\n&gt; crawler@yahoogroups.com] On Behalf Of Adam Miller\n&gt; Sent:=\r\n 10. ma=ED 2013 20:47\n&gt; To: archive-crawler@yahoogroups.com\n&gt; Subject: Re: =\r\n[archive-crawler] Extractors communicating with\n&gt; CandidateChain processors=\r\n...\n&gt;\n&gt;\n&gt;\n&gt; That sounds very useful to me. It&#39;s better than abusing the con=\r\ntext\n&gt; field for every possible case where someone would want to tag\n&gt; some=\r\nthing onto a URI\n&gt;\n&gt; ~Adam\n&gt;\n&gt;\n&gt;\n&gt; On May 10, 2013, at 12:27 PM, Noah Levit=\r\nt &lt;nlevitt@...&gt;\n&gt; wrote:\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;       It sounds like we have two=\r\n use cases for adding a &quot;flexible\n&gt; dynamic attributes list&quot; like CrawlURI.=\r\ndata to\n&gt; org.archive.modules.extractor.Link\n&gt;       . Would be very cheap =\r\nfor the common case where it&#39;s not used.\n&gt; Would you guys agree that that&#39;s=\r\n the preferred solution?\n&gt;\n&gt;\n&gt;\n&gt;       Noah\n&gt;\n&gt;\n&gt;       On Fri, May 10, 201=\r\n3 at 11:25 AM, Adam Miller\n&gt; &lt;adam@...&gt; wrote:\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;           =\r\n    I have used a custom ViaContext, to annotate a URL for\n&gt; later detectio=\r\nn in the processor chain. This required creating a\n&gt; custom decide rule to =\r\ncheck the context.\n&gt;\n&gt;               An example of this can be seen here:\n&gt;=\r\n               https://github.com/adam-\n&gt; miller/ExternalBrowserExtractorHT=\r\nML\n&gt;\n&gt;               Decide Rule: https://github.com/adam-\n&gt; miller/Externa=\r\nlBrowserExtractorHTML/blob/master/src/main/java/org/arc\n&gt; hive/modules/deci=\r\nderules/ViaContextMatchesRegexDecideRule.java\n&gt;\n&gt;               An example =\r\nfrom ExternalBrowserExtractorHtml.java which\n&gt; gets &#39;processLink()&#39; from Ex=\r\ntractorHtml\n&gt;\n&gt;       processLink(curi,json.getString(&quot;url&quot;),&quot;=3DBROWSER_MI=\r\nSC&quot;.toString\n&gt; ());\n&gt;\n&gt;\n&gt;               ~Adam Miller\n&gt;\n&gt;               On M=\r\nay 10, 2013, at 9:43 AM, Kristinn Sigur=F0sson\n&gt; &lt;kristinn@...=\r\n&gt; wrote:\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;                       I have an extractor that needs to =\r\nbe able to mark\n&gt; up extracted URLs so that a processor in the candidates c=\r\nhain knows\n&gt; how to handle them.\n&gt;\n&gt;                       The only options=\r\n I see is to have the extractor\n&gt; create a CrawlURI itself and add it to th=\r\ne OutCandidates list rather\n&gt; than OutLinks or write all the markup into th=\r\ne parent curi&#39;s data map\n&gt; and retrieve it using the curi.getFullVia() once=\r\n in the candidate\n&gt; chain.\n&gt;\n&gt;                       The latter option feel=\r\ns like a royal hack and the\n&gt; former also feels a bit iffy, so I&#39;m asking i=\r\nf there a recommended or\n&gt; established way of doing this?\n&gt;\n&gt;              =\r\n         Best,\n&gt;                       Kris\n&gt;\n&gt;                       -----=\r\n--------------------------------------------\n&gt; ---------\n&gt;\n&gt;               =\r\n        Landsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn |\n&gt; Arngr=EDmsg=\r\n=F6tu 3 - 107 Reykjav=EDk\n&gt;                       S=EDmi/Tel: +354 5255600 =\r\n&lt;tel:%2B354%205255600&gt;  |\n&gt; www.landsbokasafn.is &lt;http://www.landsbokasafn.=\r\nis/&gt;\n&gt;                       ----------------------------------------------=\r\n---\n&gt; ---------\n&gt;\n&gt;                       fyrirvari/disclaimer -\n&gt; http://f=\r\nyrirvari.landsbokasafn.is\n&gt; &lt;http://fyrirvari.landsbokasafn.is/&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n=\r\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}