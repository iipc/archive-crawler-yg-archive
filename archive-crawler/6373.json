{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"aFxGP5ssrxYwFbrTEL78zGdx_6SoGpmNvblo7ZuB5aF8-7jrCTS5_CzCu6saOPqbhExXD4nwVmQ5Fb9QBUPFqBWfJkPv_Xg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: Heritrix traffic pattern over time","postDate":"1265331990","msgId":6373,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNkI2RjE2LjIwNTA3MDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDk5NEM3MDI2LTc0MkEtNDkyOS1BNkE1LUE4RkYwMjZBODBDMUBnbWFpbC5jb20+","referencesHeader":"PDRCNjkyNjRFLjYwODA5MDJAYXJjaGl2ZS5vcmc+IDxBQTg2QkVCNC0xMzNCLTQ1OTItQjc2Ri02QzQxQTVGNzNDODhAZ21haWwuY29tPiA8NEI2OUM2OTMuNDA4MDUwM0BhcmNoaXZlLm9yZz4gPEIyNTJEMUMyLUExQUItNEZENi04QjVBLTE0RDJGMEIzMjk2MkBnbWFpbC5jb20+IDw0QjZBMTNCNS40MDUwMjAyQGFyY2hpdmUub3JnPiA8NDJEMkZDQ0EtQkQwOS00RTMwLUEwRUMtQzgyMDNGMUY4MzYyQGdtYWlsLmNvbT4gPDRCNkIyMjZBLjcwNzA0MDhAYXJjaGl2ZS5vcmc+IDw5OTRDNzAyNi03NDJBLTQ5MjktQTZBNS1BOEZGMDI2QTgwQzFAZ21haWwuY29tPg=="},"prevInTopic":6371,"nextInTopic":6374,"prevInTime":6372,"nextInTime":6374,"topicId":6359,"numMessagesInTopic":10,"msgSnippet":"... Actually, they still aren t coming through (to me or in the archives - ). But, let s just","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 27414 invoked from network); 5 Feb 2010 01:06:45 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m12.grp.re1.yahoo.com with QMQP; 5 Feb 2010 01:06:45 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta3.grp.re1.yahoo.com with SMTP; 5 Feb 2010 01:06:45 -0000\r\nX-Received: (qmail 48211 invoked from network); 5 Feb 2010 01:06:31 -0000\r\nX-Received: from 71.202.38.39 (HELO ?192.168.23.128?) (71.202.38.39)\n  by relay01.pair.com with SMTP; 5 Feb 2010 01:06:31 -0000\r\nX-pair-Authenticated: 71.202.38.39\r\nMessage-ID: &lt;4B6B6F16.2050700@...&gt;\r\nDate: Thu, 04 Feb 2010 17:06:30 -0800\r\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;4B69264E.6080902@...&gt; &lt;AA86BEB4-133B-4592-B76F-6C41A5F73C88@...&gt; &lt;4B69C693.4080503@...&gt; &lt;B252D1C2-A1AB-4FD6-8B5A-14D2F0B32962@...&gt; &lt;4B6A13B5.4050202@...&gt; &lt;42D2FCCA-BD09-4E30-A0EC-C8203F1F8362@...&gt; &lt;4B6B226A.7070408@...&gt; &lt;994C7026-742A-4929-A6A5-A8FF026A80C1@...&gt;\r\nIn-Reply-To: &lt;994C7026-742A-4929-A6A5-A8FF026A80C1@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Heritrix traffic pattern over time\r\nX-Yahoo-Group-Post: member; u=137285340; y=JwyApsTRjlK-3NNGJhWAtz0wnytRTt_k5ZD14EfOoS92\r\nX-Yahoo-Profile: gojomo\r\n\r\nDerek Pappas wrote:\n&gt; Here are the images that you could not see in the other post.\n\nActually, they still aren&#39;t coming through (to me or in the archives - \n&lt;http://tech.groups.yahoo.com/group/archive-crawler/message/6371&gt;). But, \nlet&#39;s just deal with pasted text unless there&#39;s purely-graphical info \n(like a bandwidth graph) to share.\n\nThis seems to be a different crawl than those in the previous 2 \nmessages, so the issues could be the same or different. (For example, is \nthis one a 1GB or 8GB machine?)\n\nIt&#39;s clear you have at least a few target hosts that are either slow to \nconnect, or failing to connect entirely after a slow timeout. (For \nexample, www-304.ibm.com, www.whirlpool.com -- maybe more would be \nevident in a longer look at the local-errors or full frontier report.)\n\nHowever, the main holdup suggested by the threads report is a lot of \nthreads waiting for exclusive access to FrontierScheduler.innerProcess, \nand the one that has that lock (#17) is doing some disk-access related \nto its BdbUriUniqFilter, the set that remembers already-enqueued URLs. \nSome ways to battle that bottleneck:\n\n- ensure the target disk for queues/uriUniqFilter (where the job&#39;s \n&#39;state&#39; directory lives) isn&#39;t slow or overbusy with other IO (including \nswapping or other log-writing). Our production crawls almost always \ntarget &#39;state&#39; to a dedicated disk, different than where logging and \ncontent-writing occurs.\n\n- replace BdbUriUniqFilter with the purely-in-memory BloomUriUniqFilter, \npresuming you have enough memory, your crawl is expected to grow into \nthe 10&#39;s to 100&#39;s of millions of URIs, and understand the implications \n(like a small false-positive rate where the crawler will skip URIs \nthinking they&#39;ve already been queued when they haven&#39;t).\n\n&gt;&gt; How many machines and applications are sharing that\n&gt;&gt; 20Mbps?\n&gt; \n&gt; 6 machines\n&gt; Effectively no other applications.\n\nDepending on your target sites, each fetched URI could average 20KB or \nmore.\n\n20Mbps / 20KB = 128-per-second\n\nSo totaled over all your crawlers using that same connection, 128 \nURIs/second might be about the peak rate you could hope for, if all \nother issues are resolved.\n\nFor reference, what Heritrix version, Java version, and OS-version are \nyou using?\n\n- Gordon @ IA\n\n"}}