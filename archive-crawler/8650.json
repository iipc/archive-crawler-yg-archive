{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":548003854,"authorName":"Ferencz Marton","from":"&quot;Ferencz Marton&quot; &lt;ferencz.marton@...&gt;","profile":"marton_ferencz","replyTo":"LIST","senderId":"hsVTZdenQyS_5rjvtA2Ibtv69UhK2k_EOhWrZLG8zaO2ZYqhCSxzQAMDqDFoP_x30C0UiIbfDDr68My81iv04kWDCVxTATmPKUwwSc5WXmQ1Ng","spamInfo":{"isSpam":false,"reason":"0"},"subject":"FW: [archive-crawler] DEduplication exclusion","postDate":"1421075430","msgId":8650,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAyMmYwMWQwMmU3OSRlOGMzZjAyMCRiYTRiZDA2MCRAZ21haWwuY29tPg==","inReplyToHeader":"","referencesHeader":"PDAwODkwMWQwMmJlZCQ5OTZlZTZkMCRjYzRjYjQ3MCRAZ21haWwuY29tPiA8OTFEMTI1MUQ5QzY4OEI0RDg0NDhENEZGNTAwMDMzMUQyQUQ0NDA1REBWOEItRVhDSEFOR0UwMS5hZC5ibC51az4g"},"prevInTopic":0,"nextInTopic":0,"prevInTime":8649,"nextInTime":8651,"topicId":8650,"numMessagesInTopic":1,"msgSnippet":"I noticed that the text/html is not logged as duplicate anymore, like to other URI are, but it is logged as “unwritten”. text/html #001","rawEmail":"Return-Path: &lt;ferencz.marton@...&gt;\r\nX-Sender: ferencz.marton@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 24538 invoked by uid 102); 12 Jan 2015 15:17:48 -0000\r\nX-Received: from unknown (HELO mtaq3.grp.bf1.yahoo.com) (10.193.84.142)\n  by m3.grp.bf1.yahoo.com with SMTP; 12 Jan 2015 15:17:48 -0000\r\nX-Received: (qmail 25981 invoked from network); 12 Jan 2015 15:17:47 -0000\r\nX-Received: from unknown (HELO mail-wi0-f173.google.com) (98.139.170.166)\n  by mtaq3.grp.bf1.yahoo.com with SMTP; 12 Jan 2015 15:17:47 -0000\r\nX-Received: by mail-wi0-f173.google.com with SMTP id r20so15129409wiv.0\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 12 Jan 2015 07:17:47 -0800 (PST)\r\nX-Received: by 10.180.210.228 with SMTP id mx4mr31535294wic.57.1421075429366;\n        Mon, 12 Jan 2015 07:10:29 -0800 (PST)\r\nX-Original-Return-Path: &lt;ferencz.marton@...&gt;\r\nX-Received: from Asus (mail.icore.ro. [86.123.18.24])\n        by mx.google.com with ESMTPSA id fm10sm10578989wib.7.2015.01.12.07.10.27\n        for &lt;archive-crawler@yahoogroups.com&gt;\n        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);\n        Mon, 12 Jan 2015 07:10:28 -0800 (PST)\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nReferences: &lt;008901d02bed$996ee6d0$cc4cb470$@...&gt; &lt;91D1251D9C688B4D8448D4FF5000331D2AD4405D@...&gt; \r\nIn-Reply-To: \r\nDate: Mon, 12 Jan 2015 17:10:30 +0200\r\nMessage-ID: &lt;022f01d02e79$e8c3f020$ba4bd060$@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_0230_01D02E8A.AC52DAA0&quot;\r\nX-Mailer: Microsoft Outlook 15.0\r\nThread-Index: AQDBm9pqUPt6hpaXKujysLAzWxgHEgJy6woWnsX5eiCAACm2MA==\r\nContent-Language: en-us\r\nSubject: FW: [archive-crawler] DEduplication exclusion\r\nX-Yahoo-Group-Post: member; u=548003854; y=ZoCQPS3ca43pGgJpodVhjN0NM2syfpcvgx8TyzD3MJylaBgqulWOxG4\r\nX-Yahoo-Profile: marton_ferencz\r\nFrom: &quot;Ferencz Marton&quot; &lt;ferencz.marton@...&gt;\r\n\r\n\r\n------=_NextPart_000_0230_01D02E8A.AC52DAA0\r\nContent-Type: text/plain;\n\tcharset=&quot;UTF-8&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI noticed that the text/html is not logged as duplicate anymore, like to ot=\r\nher URI are, but it is logged as =E2=80=9Cunwritten=E2=80=9D.\n\n \n\ntext/html=\r\n #001 20150112150151874+515 sha1:TZODPPSTSVBPJMWT4VIAXWV4GYIFDIRY - unwritt=\r\nen:identicalDigest,3t\n\nimage/vnd.microsoft.icon #003 20150112150155201+139 =\r\nsha1:JXQASW36R6QN2Q2FOXFV74UTXFLOUOP2 - duplicate:digest,unwritten:identica=\r\nlDigest\n\ntext/css #003 20150112150157344+138 sha1:CALZC7Q662NQLKDKWM4QNAFI2=\r\nJKZZXGS - duplicate:digest,unwritten:identicalDigest\n\n \n\nHow can I force wr=\r\niting the text/html  to the warc each time, without testing it for digest?\n=\r\n\nNow I have skipIdenticalDigests=3Dtrue (just setting it to false, will not=\r\n save the html file)\n\n \n\nThanks!\n\nFrom: Ferencz Marton [mailto:ferencz.mart=\r\non@...] \nSent: Monday, January 12, 2015 2:40 PM\nTo: &#39;archive-crawler@=\r\nyahoogroups.com&#39;\nSubject: RE: [archive-crawler] DEduplication exclusion\n\n \n=\r\n\nHi,\n\nThanks Roger for setting me on the right track.\n\nIf I add the followi=\r\nng shouldProceddRule in the &quot;org.archive.modules.recrawl.FetchHistoryProces=\r\nsor&quot; bean it crawls text/html every time, but only after I deleted the dedu=\r\np history folder.\n\n \n\n   &lt;property name=3D&quot;shouldProcessRule&quot;&gt;\n\n           =\r\n  &lt;bean class=3D&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDec=\r\nideRule&quot;&gt;\n\n                 &lt;property name=3D&quot;decision&quot; value=3D&quot;REJECT&quot; /&gt;=\r\n\n\n                 &lt;property name=3D&quot;regex&quot; value=3D&quot;^text/html.*$&quot; /&gt;\n\n   =\r\n          &lt;/bean&gt;\n\n   &lt;/property&gt;\n\n \n\nHow could I force the reject rule to =\r\nbe applied even if the html is already in the dedup history (so I will not =\r\nneed to full crawl again)?\n\n \n\nThanks!\n\nFrom: archive-crawler@yahoogroups.c=\r\nom &lt;mailto:archive-crawler@yahoogroups.com&gt;  [mailto:archive-crawler@yahoog=\r\nroups.com] \nSent: Friday, January 9, 2015 11:41 AM\nTo: archive-crawler@yaho=\r\nogroups.com &lt;mailto:archive-crawler@yahoogroups.com&gt; \nSubject: RE: [archive=\r\n-crawler] DEduplication exclusion\n\n \n\n  \n\nI think all the deduplication cla=\r\nsses (the newer =E2=80=98ContentDigestHistoryLoader=E2=80=99 and older =E2=\r\n=80=98FetchHistoryProcessor=E2=80=99) extend the Processor class, and thus =\r\nhave a =E2=80=98shouldProcessRule=E2=80=99 attribute allowing you to use De=\r\ncideRules to determine whether it should be applied. You could try using a =\r\n=E2=80=98ContentTypeMatchesRegexDecideRule=E2=80=99 and see if that has the=\r\n desired effect?\n\n \n\nRoger\n\n \n\nFrom: archive-crawler@yahoogroups.com &lt;mailt=\r\no:archive-crawler@yahoogroups.com&gt;  [mailto:archive-crawler@yahoogroups.com=\r\n] \nSent: 09 January 2015 09:21\nTo: archive-crawler@yahoogroups.com &lt;mailto:=\r\narchive-crawler@yahoogroups.com&gt; \nSubject: [archive-crawler] DEduplication =\r\nexclusion\n\n \n\n  \n\nHello,\n\nI=E2=80=99m using H 3.2 with deduplication set up=\r\n. It works very good, but now I would like to exclude text/html from being =\r\ndeduplicated.\n\nAnybody knows what should add the crawlbeans.cxml to exclude=\r\n text/html from being processed by the deduplication part?\n\n \n\nThanks!\n\n\n \n=\r\n***************************************************************************=\r\n***************************************\n\nExperience the British Library onl=\r\nine at  &lt;http://www.bl.uk/&gt; www.bl.uk\n\nThe British Library=E2=80=99s latest=\r\n Annual Report and Accounts :  &lt;http://www.bl.uk/aboutus/annrep/index.html&gt;=\r\n www.bl.uk/aboutus/annrep/index.html\n\nHelp the British Library conserve the=\r\n world&#39;s knowledge. Adopt a Book.  &lt;http://www.bl.uk/adoptabook&gt; www.bl.uk/=\r\nadoptabook\n\nThe Library&#39;s St Pancras site is WiFi - enabled\n\n**************=\r\n***************************************************************************=\r\n************************\n\nThe information contained in this e-mail is confi=\r\ndential and may be legally privileged. It is intended for the addressee(s) =\r\nonly. If you are not the intended recipient, please delete this e-mail and =\r\nnotify the  &lt;mailto:postmaster@...&gt; postmaster@... : The contents of th=\r\nis e-mail must not be disclosed or copied without the sender&#39;s consent. \n\nT=\r\nhe statements and opinions expressed in this message are those of the autho=\r\nr and do not necessarily reflect those of the British Library. The British =\r\nLibrary does not take any responsibility for the views of the author. \n\n***=\r\n***************************************************************************=\r\n*********************************** \n\nThink before you print\n\n\n\n\r\n------=_NextPart_000_0230_01D02E8A.AC52DAA0\r\nContent-Type: text/html;\n\tcharset=&quot;UTF-8&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html xmlns:v=3D&quot;urn:schemas-microsoft-com:vml&quot; xmlns:o=3D&quot;urn:schemas-micr=\r\nosoft-com:office:office&quot; xmlns:w=3D&quot;urn:schemas-microsoft-com:office:word&quot; =\r\nxmlns:m=3D&quot;http://schemas.microsoft.com/office/2004/12/omml&quot; xmlns=3D&quot;http:=\r\n//www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;meta http-equiv=3DContent-Type content=\r\n=3D&quot;text/html; charset=3Dutf-8&quot;&gt;&lt;meta name=3DGenerator content=3D&quot;Microsoft=\r\n Word 15 (filtered medium)&quot;&gt;&lt;!--[if !mso]&gt;&lt;style&gt;v&#92;:* {behavior:url(#defaul=\r\nt#VML);}\no&#92;:* {behavior:url(#default#VML);}\nw&#92;:* {behavior:url(#default#VML=\r\n);}\n.shape {behavior:url(#default#VML);}\n&lt;/style&gt;&lt;![endif]--&gt;&lt;style&gt;&lt;!--\n/*=\r\n Font Definitions */\n@font-face\n\t{font-family:&quot;Cambria Math&quot;;\n\tpanose-1:2 4=\r\n 5 3 5 4 6 3 2 4;}\n@font-face\n\t{font-family:Calibri;\n\tpanose-1:2 15 5 2 2 2=\r\n 4 3 2 4;}\n@font-face\n\t{font-family:Verdana;\n\tpanose-1:2 11 6 4 3 5 4 4 2 4=\r\n;}\n@font-face\n\t{font-family:Consolas;\n\tpanose-1:2 11 6 9 2 2 4 3 2 4;}\n/* S=\r\ntyle Definitions */\np.MsoNormal, li.MsoNormal, div.MsoNormal\n\t{margin:0in;\n=\r\n\tmargin-bottom:.0001pt;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;=\r\nserif&quot;;}\na:link, span.MsoHyperlink\n\t{mso-style-priority:99;\n\tcolor:blue;\n\tt=\r\next-decoration:underline;}\na:visited, span.MsoHyperlinkFollowed\n\t{mso-style=\r\n-priority:99;\n\tcolor:purple;\n\ttext-decoration:underline;}\np\n\t{mso-style-pri=\r\nority:99;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0in;\n\tmso-margin-bottom-a=\r\nlt:auto;\n\tmargin-left:0in;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman=\r\n&quot;,&quot;serif&quot;;}\ncode\n\t{mso-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\npre\n=\r\n\t{mso-style-priority:99;\n\tmso-style-link:&quot;HTML Preformatted Char&quot;;\n\tmargin:=\r\n0in;\n\tmargin-bottom:.0001pt;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Courier New&quot;;=\r\n}\ntt\n\t{mso-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\nspan.HTMLPreform=\r\nattedChar\n\t{mso-style-name:&quot;HTML Preformatted Char&quot;;\n\tmso-style-priority:99=\r\n;\n\tmso-style-link:&quot;HTML Preformatted&quot;;\n\tfont-family:Consolas;}\np.attach, li=\r\n.attach, div.attach\n\t{mso-style-name:attach;\n\tmso-style-priority:99;\n\tmso-m=\r\nargin-top-alt:auto;\n\tmargin-right:0in;\n\tmso-margin-bottom-alt:auto;\n\tmargin=\r\n-left:0in;\n\tfont-size:9.0pt;\n\tfont-family:&quot;Arial&quot;,&quot;sans-serif&quot;;}\np.bold, li=\r\n.bold, div.bold\n\t{mso-style-name:bold;\n\tmso-style-priority:99;\n\tmso-margin-=\r\ntop-alt:auto;\n\tmargin-right:0in;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:=\r\n0in;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Arial&quot;,&quot;sans-serif&quot;;\n\tfont-weight:bol=\r\nd;}\np.green, li.green, div.green\n\t{mso-style-name:green;\n\tmso-style-priorit=\r\ny:99;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0in;\n\tmso-margin-bottom-alt:a=\r\nuto;\n\tmargin-left:0in;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;s=\r\nerif&quot;;\n\tcolor:#628C2A;}\np.replbq, li.replbq, div.replbq\n\t{mso-style-name:re=\r\nplbq;\n\tmso-style-priority:99;\n\tmargin:3.0pt;\n\tfont-size:12.0pt;\n\tfont-famil=\r\ny:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad, li.ad, div.ad\n\t{mso-style-name:ad;\n\tmso=\r\n-style-priority:99;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0in;\n\tmso-margi=\r\nn-bottom-alt:auto;\n\tmargin-left:0in;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times=\r\n New Roman&quot;,&quot;serif&quot;;}\np.underline, li.underline, div.underline\n\t{mso-style-=\r\nname:underline;\n\tmso-style-priority:99;\n\tmso-margin-top-alt:auto;\n\tmargin-r=\r\night:0in;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0in;\n\tfont-size:12.0pt;=\r\n\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad1, li.ad1, div.ad1\n\t{mso-styl=\r\ne-name:ad1;\n\tmso-style-priority:99;\n\tmso-margin-top-alt:auto;\n\tmargin-right=\r\n:0in;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0in;\n\tfont-size:12.0pt;\n\tfo=\r\nnt-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad2, li.ad2, div.ad2\n\t{mso-style-na=\r\nme:ad2;\n\tmso-style-priority:99;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0in=\r\n;\n\tmargin-bottom:7.5pt;\n\tmargin-left:0in;\n\tfont-size:12.0pt;\n\tfont-family:&quot;=\r\nTimes New Roman&quot;,&quot;serif&quot;;}\np.underline1, li.underline1, div.underline1\n\t{ms=\r\no-style-name:underline1;\n\tmso-style-priority:99;\n\tmso-margin-top-alt:auto;\n=\r\n\tmargin-right:0in;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0in;\n\tfont-siz=\r\ne:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;\n\ttext-decoration:underlin=\r\ne;}\nspan.yshortcuts\n\t{mso-style-name:yshortcuts;}\nspan.yshortcuts1\n\t{mso-st=\r\nyle-name:yshortcuts1;\n\tfont-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;\n\tfont-weight:bol=\r\nd;}\nspan.yshortcuts2\n\t{mso-style-name:yshortcuts2;\n\tfont-family:&quot;Verdana&quot;,&quot;=\r\nsans-serif&quot;;\n\tfont-weight:normal;}\nspan.EmailStyle34\n\t{mso-style-type:perso=\r\nnal;\n\tfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tcolor:#1F497D;}\nspan.EmailStyle3=\r\n5\n\t{mso-style-type:personal-reply;\n\tfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tco=\r\nlor:#1F497D;}\n.MsoChpDefault\n\t{mso-style-type:export-only;\n\tfont-size:10.0p=\r\nt;}\n@page WordSection1\n\t{size:8.5in 11.0in;\n\tmargin:1.0in 1.0in 1.0in 1.0in=\r\n;}\ndiv.WordSection1\n\t{page:WordSection1;}\n--&gt;&lt;/style&gt;&lt;!--[if gte mso 9]&gt;&lt;xm=\r\nl&gt;\n&lt;o:shapedefaults v:ext=3D&quot;edit&quot; spidmax=3D&quot;1026&quot; /&gt;\n&lt;/xml&gt;&lt;![endif]--&gt;&lt;!=\r\n--[if gte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapelayout v:ext=3D&quot;edit&quot;&gt;\n&lt;o:idmap v:ext=3D&quot;edi=\r\nt&quot; data=3D&quot;1&quot; /&gt;\n&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body bgcolor=3Dw=\r\nhite lang=3DEN-US link=3Dblue vlink=3Dpurple&gt;&lt;div class=3DWordSection1&gt;&lt;p c=\r\nlass=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;san=\r\ns-serif&quot;;color:#1F497D&#39;&gt;I noticed that the text/html is not logged as dupli=\r\ncate anymore, like to other URI are, but it is logged as =E2=80=9Cunwritten=\r\n=E2=80=9D.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-si=\r\nze:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:=\r\np&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-fami=\r\nly:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;text/html #001 20150112150151874+5=\r\n15 sha1:TZODPPSTSVBPJMWT4VIAXWV4GYIFDIRY - unwritten:identicalDigest,3t&lt;o:p=\r\n&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font=\r\n-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;image/vnd.microsoft.icon #003=\r\n 20150112150155201+139 sha1:JXQASW36R6QN2Q2FOXFV74UTXFLOUOP2 - duplicate:di=\r\ngest,unwritten:identicalDigest&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;s=\r\npan style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F4=\r\n97D&#39;&gt;text/css #003 20150112150157344+138 sha1:CALZC7Q662NQLKDKWM4QNAFI2JKZZ=\r\nXGS - duplicate:digest,unwritten:identicalDigest&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cl=\r\nass=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans=\r\n-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;sp=\r\nan style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F49=\r\n7D&#39;&gt;How can I force writing the text/html =C2=A0to the warc each time, with=\r\nout testing it for digest?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span =\r\nstyle=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;=\r\n&gt;Now I have skipIdenticalDigests=3Dtrue (just setting it to false, will not=\r\n save the html file)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=\r\n=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p=\r\n&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0p=\r\nt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;Thanks!&lt;o:p&gt;&lt;/o:p&gt;&lt;/spa=\r\nn&gt;&lt;/p&gt;&lt;div&gt;&lt;div style=3D&#39;border:none;border-top:solid #E1E1E1 1.0pt;padding=\r\n:3.0pt 0in 0in 0in&#39;&gt;&lt;p class=3DMsoNormal&gt;&lt;b&gt;&lt;span style=3D&#39;font-size:11.0pt=\r\n;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;&#39;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span style=3D&#39;font-si=\r\nze:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;&#39;&gt; Ferencz Marton [mailto:feren=\r\ncz.marton@...] &lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt; Monday, January 12, 2015 2:40 PM&lt;br&gt;&lt;=\r\nb&gt;To:&lt;/b&gt; &#39;archive-crawler@yahoogroups.com&#39;&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt; RE: [archive=\r\n-crawler] DEduplication exclusion&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class=\r\n=3DMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-=\r\nsize:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;Hi,&lt;o:p&gt;&lt;/o:p=\r\n&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-famil=\r\ny:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;Thanks Roger for setting me on the =\r\nright track.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-=\r\nsize:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;If I add the =\r\nfollowing shouldProceddRule in the &quot;org.archive.modules.recrawl.FetchH=\r\nistoryProcessor&quot; bean it crawls text/html every time, but only after I=\r\n deleted the dedup history folder.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNorma=\r\nl&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:=\r\n#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;fo=\r\nnt-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&nbsp;&nbs=\r\np; &lt;property name=3D&quot;shouldProcessRule&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;=\r\n/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibr=\r\ni&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&=\r\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean class=3D&quot;org.archive.modules.dec=\r\niderules.ContentTypeMatchesRegexDecideRule&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;=\r\np class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;=\r\nsans-serif&quot;;color:#1F497D&#39;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=3D&quot;=\r\ndecision&quot; value=3D&quot;REJECT&quot; /&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cla=\r\nss=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-=\r\nserif&quot;;color:#1F497D&#39;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name=3D&quot;regex=\r\n&quot; value=3D&quot;^text/html.*$&quot; /&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p clas=\r\ns=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-s=\r\nerif&quot;;color:#1F497D&#39;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp; &lt;/bean&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;=\r\n&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1=\r\nF497D&#39;&gt;&nbsp;&nbsp; &lt;/property&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNo=\r\nrmal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;col=\r\nor:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D=\r\n&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;How cou=\r\nld I force the reject rule to be applied even if the html is already in the=\r\n dedup history (so I will not need to full crawl again)?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;=\r\n/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibr=\r\ni&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNo=\r\nrmal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;col=\r\nor:#1F497D&#39;&gt;Thanks!&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div style=3D&#39;border:none;bor=\r\nder-top:solid #E1E1E1 1.0pt;padding:3.0pt 0in 0in 0in&#39;&gt;&lt;p class=3DMsoNormal=\r\n&gt;&lt;b&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;&#39;&gt;Fro=\r\nm:&lt;/span&gt;&lt;/b&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-se=\r\nrif&quot;&#39;&gt; &lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;archive-crawler@y=\r\nahoogroups.com&lt;/a&gt; [&lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;mail=\r\nto:archive-crawler@yahoogroups.com&lt;/a&gt;] &lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt; Friday, January 9,=\r\n 2015 11:41 AM&lt;br&gt;&lt;b&gt;To:&lt;/b&gt; &lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.=\r\ncom&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt; RE: [archive-cr=\r\nawler] DEduplication exclusion&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class=3D=\r\nMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&nbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;=\r\ndiv id=3Dygrp-mlmsg&gt;&lt;div id=3Dygrp-msg&gt;&lt;div id=3Dygrp-text&gt;&lt;div&gt;&lt;p class=3D=\r\nMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&lt;spa=\r\nn style=3D&#39;font-size:11.0pt;color:#1F497D&#39;&gt;I think all the deduplication cl=\r\nasses (the newer =E2=80=98ContentDigestHistoryLoader=E2=80=99 and older =E2=\r\n=80=98FetchHistoryProcessor=E2=80=99) extend the &lt;i&gt;Processor&lt;/i&gt; class, an=\r\nd thus have a =E2=80=98shouldProcessRule=E2=80=99 attribute allowing you to=\r\n use DecideRules to determine whether it should be applied. You could try u=\r\nsing a =E2=80=98ContentTypeMatchesRegexDecideRule=E2=80=99 and see if that =\r\nhas the desired effect?&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal style=3D&#39;=\r\nmso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&lt;span style=3D&#39;font-siz=\r\ne:11.0pt;color:#1F497D&#39;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal st=\r\nyle=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&lt;span style=3D&#39;f=\r\nont-size:11.0pt;color:#1F497D&#39;&gt;Roger&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNor=\r\nmal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&lt;span styl=\r\ne=3D&#39;font-size:11.0pt;color:#1F497D&#39;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;div =\r\nstyle=3D&#39;border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in 0in 0=\r\nin&#39;&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom=\r\n-alt:auto&#39;&gt;&lt;b&gt;&lt;span style=3D&#39;font-size:10.0pt&#39;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span style=\r\n=3D&#39;font-size:10.0pt&#39;&gt; &lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;a=\r\nrchive-crawler@yahoogroups.com&lt;/a&gt; [&lt;a href=3D&quot;mailto:archive-crawler@yahoo=\r\ngroups.com&quot;&gt;mailto:archive-crawler@yahoogroups.com&lt;/a&gt;] &lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt; 09=\r\n January 2015 09:21&lt;br&gt;&lt;b&gt;To:&lt;/b&gt; &lt;a href=3D&quot;mailto:archive-crawler@yahoogr=\r\noups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt; [archive-c=\r\nrawler] DEduplication exclusion&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class=\r\n=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&=\r\nnbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;m=\r\nso-margin-bottom-alt:auto&#39;&gt;&nbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div id=3Dygrp-mlmsg&gt;&lt;div =\r\nid=3Dygrp-msg&gt;&lt;div id=3Dygrp-text&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-ma=\r\nrgin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;Hello,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=\r\n=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;I=\r\n=E2=80=99m using H 3.2 with deduplication set up. It works very good, but n=\r\now I would like to exclude text/html from being deduplicated.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p=\r\n&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-al=\r\nt:auto&#39;&gt;Anybody knows what should add the crawlbeans.cxml to exclude text/h=\r\ntml from being processed by the deduplication part?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=\r\n=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&#39;&gt;&=\r\nnbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;m=\r\nso-margin-bottom-alt:auto&#39;&gt;Thanks!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;p =\r\nclass=3DMsoNormal&gt;&lt;br&gt;&nbsp;&lt;br&gt;*******************************************=\r\n***********************************************************************&lt;o:p=\r\n&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-family:&quot;Aria=\r\nl&quot;,&quot;sans-serif&quot;&#39;&gt;Experience the British Library online at &lt;/span&gt;&lt;a href=3D=\r\n&quot;http://www.bl.uk/&quot;&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;www.bl=\r\n.uk&lt;/span&gt;&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D=\r\n&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;The British Library=E2=80=99s latest Ann=\r\nual Report and Accounts : &lt;/span&gt;&lt;a href=3D&quot;http://www.bl.uk/aboutus/annrep=\r\n/index.html&quot;&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;www.bl.uk/abo=\r\nutus/annrep/index.html&lt;/span&gt;&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNo=\r\nrmal&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;Help the British Libr=\r\nary conserve the world&#39;s knowledge. Adopt a Book. &lt;/span&gt;&lt;a href=3D&quot;http://=\r\nwww.bl.uk/adoptabook&quot;&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;www.=\r\nbl.uk/adoptabook&lt;/span&gt;&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;&lt;=\r\nspan style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;The Library&#39;s St Pancras si=\r\nte is WiFi - enabled&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;*=\r\n***************************************************************************=\r\n*************************************&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DM=\r\nsoNormal&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;The information c=\r\nontained in this e-mail is confidential and may be legally privileged. It i=\r\ns intended for the addressee(s) only. If you are not the intended recipient=\r\n, please delete this e-mail and notify the &lt;/span&gt;&lt;a href=3D&quot;mailto:postmas=\r\nter@...&quot;&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;postmaster@bl.u=\r\nk&lt;/span&gt;&lt;/a&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt; : The content=\r\ns of this e-mail must not be disclosed or copied without the sender&#39;s conse=\r\nnt. &lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;fo=\r\nnt-family:&quot;Arial&quot;,&quot;sans-serif&quot;&#39;&gt;The statements and opinions expressed in th=\r\nis message are those of the author and do not necessarily reflect those of =\r\nthe British Library. The British Library does not take any responsibility f=\r\nor the views of the author. &lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMso=\r\nNormal&gt;********************************************************************=\r\n********************************************* &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p =\r\nclass=3DMsoNormal&gt;&lt;span style=3D&#39;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;color:gre=\r\nen&#39;&gt;Think before you print&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;color:white&#39;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/=\r\ndiv&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n------=_NextPart_000_0230_01D02E8A.AC52DAA0--\r\n\n"}}