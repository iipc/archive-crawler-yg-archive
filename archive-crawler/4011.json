{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191295851,"authorName":"Hei","from":"&quot;Hei&quot; &lt;structurechart@...&gt;","profile":"structurechart","replyTo":"LIST","senderId":"bY2cK7yF6MhJjqtP83GSLS6yJURMmimLQQLJwK-tLdSYGcXDnwQGnSmluInT5ZiYTlKLXS9x-UrmoN3cJwQVsZxDxTb0Y2o","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: How can I speed up Heretrix?","postDate":"1175583164","msgId":4011,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGV1c3Rqcys3NzNpQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ1REYyRUU4LjEwNDA4MDVAYXJjaGl2ZS5vcmc+"},"prevInTopic":3845,"nextInTopic":4019,"prevInTime":4010,"nextInTime":4012,"topicId":3839,"numMessagesInTopic":10,"msgSnippet":"Hi Gordon, Is there a reason why Heritrix only fetches 1 URL at a time besides establishing multiple connections to the same host might be considered as DoS","rawEmail":"Return-Path: &lt;structurechart@...&gt;\r\nX-Sender: structurechart@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 51892 invoked from network); 3 Apr 2007 06:52:57 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m50.grp.scd.yahoo.com with QMQP; 3 Apr 2007 06:52:56 -0000\r\nReceived: from unknown (HELO n17a.bullet.sp1.yahoo.com) (69.147.64.124)\n  by mta5.grp.scd.yahoo.com with SMTP; 3 Apr 2007 06:52:54 -0000\r\nReceived: from [216.252.122.217] by n17.bullet.sp1.yahoo.com with NNFMP; 03 Apr 2007 06:52:46 -0000\r\nReceived: from [66.218.69.5] by t2.bullet.sp1.yahoo.com with NNFMP; 03 Apr 2007 06:52:46 -0000\r\nReceived: from [66.218.66.86] by t5.bullet.scd.yahoo.com with NNFMP; 03 Apr 2007 06:52:46 -0000\r\nDate: Tue, 03 Apr 2007 06:52:44 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;eustjs+773i@...&gt;\r\nIn-Reply-To: &lt;45DF2EE8.1040805@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;Hei&quot; &lt;structurechart@...&gt;\r\nSubject: Re: How can I speed up Heretrix?\r\nX-Yahoo-Group-Post: member; u=191295851; y=qlJWm6FbLCNDrUfO838LZ_9niS47Pq9iv_bcpDPcmsgb6SxdDIybkm8\r\nX-Yahoo-Profile: structurechart\r\n\r\nHi Gordon,\n\nIs there a reason why Heritrix only fetches 1 URL at a time bes=\r\nides\nestablishing multiple connections to the same host might be considered=\r\n\nas DoS attack?\n\nThanks in advance.\n\n\nCheers,\nHei\n\n--- In archive-crawler@y=\r\nahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Two notes:\n&gt; \n&gt; (1) Unl=\r\ness you are crawling sites with permission, those &#39;delay&#39; \n&gt; settings are f=\r\nairly aggressive, and may trigger webmaster anger or \n&gt; blocking.\n&gt; \n&gt; (2) =\r\nThe usual reason for the &quot;why isn&#39;t Heritrix crawling faster&quot; \n&gt; concern is=\r\n that a crawl has made enough progress to be narrowed \n&gt; down to just a han=\r\ndful of hosts remaining: typically the largest, \n&gt; slowest, or completely u=\r\nnresponsive hosts.\n&gt; \n&gt; Even with no delay between fetches to a host, Herit=\r\nrix will only \n&gt; retrieve one URL at a time. If the content is large or the=\r\n server \n&gt; slow, it may take many seconds for a single request to finish. I=\r\nf \n&gt; the host does not respond at all, Heritrix goes into the longer \n&gt; &#39;re=\r\ntry-delay-seconds&#39; wait (which is usually many minutes) before \n&gt; reconnect=\r\ning.\n&gt; \n&gt; In addition to the info Paul mentioned, the &#39;frontier report&#39; wil=\r\nl \n&gt; help determine if this is the case -- showing how many queues are \n&gt; s=\r\ntill active with URLs to crawl, and how many are in various \n&gt; stages of &#39;s=\r\nnooze&#39; (to delay the next fetch for politeness or \n&gt; waiting-out-a-problem =\r\nreasons).\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; nt_bdr wrote:\n&gt; &gt; I have already tried th=\r\nat, and does not seem to help speed up the\n&gt; &gt; crawl. Below are some of fro=\r\nntier settings I have\n&gt; &gt; \n&gt; &gt;  \n&gt; &gt;     &lt;long name=3D&quot;max-bytes-download&quot;&gt;=\r\n0&lt;/long&gt;\n&gt; &gt;     &lt;long name=3D&quot;max-document-download&quot;&gt;0&lt;/long&gt;\n&gt; &gt;     &lt;lon=\r\ng name=3D&quot;max-time-sec&quot;&gt;0&lt;/long&gt;\n&gt; &gt;     &lt;integer name=3D&quot;max-toe-threads&quot;&gt;=\r\n100&lt;/integer&gt;\n&gt; &gt;     &lt;integer name=3D&quot;recorder-out-buffer-bytes&quot;&gt;4096&lt;/int=\r\neger&gt;\n&gt; &gt;     &lt;integer name=3D&quot;recorder-in-buffer-bytes&quot;&gt;65536&lt;/integer&gt;\n&gt; =\r\n&gt;     &lt;integer name=3D&quot;bdb-cache-percent&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;     &lt;newObject na=\r\nme=3D&quot;scope&quot;\n&gt; &gt; class=3D&quot;org.archive.crawler.scope.SurtPrefixScope&quot;&gt;\n&gt; &gt;  =\r\n     &lt;boolean name=3D&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n&gt; &gt;       &lt;boolean name=3D&quot;re=\r\nread-seeds-on-config&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;       &lt;integer name=3D&quot;max-link-h=\r\nops&quot;&gt;25&lt;/integer&gt;\n&gt; &gt;       &lt;integer name=3D&quot;max-trans-hops&quot;&gt;5&lt;/integer&gt;\n&gt; =\r\n&gt;       &lt;newObject name=3D&quot;robots-honoring-policy&quot;\n&gt; &gt; class=3D&quot;org.archive=\r\n.crawler.datamodel.RobotsHonoringPolicy&quot;&gt;\n&gt; &gt;       &lt;string name=3D&quot;type&quot;&gt;c=\r\nlassic&lt;/string&gt;\n&gt; &gt;       &lt;boolean name=3D&quot;masquerade&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt; =\r\n      &lt;text name=3D&quot;custom-robots&quot;&gt;&lt;/text&gt;\n&gt; &gt;       &lt;stringList name=3D&quot;us=\r\ner-agents&quot;&gt;\n&gt; &gt;         &lt;string&gt;test-bot&lt;/string&gt;\n&gt; &gt;       &lt;/stringList&gt;\n&gt;=\r\n &gt;     &lt;/newObject&gt;\n&gt; &gt; \n&gt; &gt;     &lt;newObject name=3D&quot;frontier&quot;\n&gt; &gt; class=3D&quot;=\r\norg.archive.crawler.frontier.BdbFrontier&quot;&gt;\n&gt; &gt;       &lt;float name=3D&quot;delay-f=\r\nactor&quot;&gt;0.4&lt;/float&gt;\n&gt; &gt;       &lt;integer name=3D&quot;max-delay-ms&quot;&gt;50&lt;/integer&gt;\n&gt; =\r\n&gt;       &lt;integer name=3D&quot;min-delay-ms&quot;&gt;10&lt;/integer&gt;\n&gt; &gt;       &lt;integer name=\r\n=3D&quot;max-retries&quot;&gt;5&lt;/integer&gt;\n&gt; &gt;       &lt;long name=3D&quot;retry-delay-seconds&quot;&gt;1=\r\n5&lt;/long&gt;\n&gt; &gt;       &lt;integer name=3D&quot;preference-embed-hops&quot;&gt;1&lt;/integer&gt;\n&gt; &gt; =\r\n      &lt;integer name=3D&quot;total-bandwidth-usage-KB-sec&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;       =\r\n&lt;integer name=3D&quot;max-per-host-bandwidth-usage-KB-sec&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;      =\r\n &lt;string\n&gt; &gt;\nname=3D&quot;queue-assignment-policy&quot;&gt;org.archive.crawler.frontier.=\r\nHostnameQueueAssignmentPolicy&lt;/string&gt;\n&gt; &gt;       &lt;string name=3D&quot;force-queu=\r\ne-assignment&quot;&gt;&lt;/string&gt;\n&gt; &gt;       &lt;boolean name=3D&quot;pause-at-start&quot;&gt;false&lt;/b=\r\noolean&gt;\n&gt; &gt;       &lt;boolean name=3D&quot;pause-at-finish&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;    =\r\n   &lt;boolean name=3D&quot;source-tag-seeds&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;       &lt;boolean na=\r\nme=3D&quot;recovery-log-enabled&quot;&gt;true&lt;/boolean&gt;\n&gt; &gt;       &lt;boolean name=3D&quot;hold-=\r\nqueues&quot;&gt;true&lt;/boolean&gt;\n&gt; &gt;       &lt;integer name=3D&quot;balance-replenish-amount&quot;=\r\n&gt;3000&lt;/integer&gt;\n&gt; &gt;       &lt;integer name=3D&quot;error-penalty-amount&quot;&gt;100&lt;/integ=\r\ner&gt;\n&gt; &gt;       &lt;long name=3D&quot;queue-total-budget&quot;&gt;-1&lt;/long&gt;\n&gt; &gt;       &lt;string=\r\n\n&gt; &gt;\nname=3D&quot;cost-policy&quot;&gt;org.archive.crawler.frontier.UnitCostAssignmentPo=\r\nlicy&lt;/string&gt;\n&gt; &gt;       &lt;long name=3D&quot;snooze-deactivate-ms&quot;&gt;1000&lt;/long&gt;\n&gt; &gt;=\r\n       &lt;integer name=3D&quot;target-ready-backlog&quot;&gt;50&lt;/integer&gt;\n&gt; &gt;       &lt;strin=\r\ng\n&gt; &gt;\nname=3D&quot;uri-included-structure&quot;&gt;org.archive.crawler.util.BdbUriUniqFi=\r\nlter&lt;/string&gt;\n&gt; &gt;     &lt;/newObject&gt;\n&gt; &gt; \n&gt; &gt;       &lt;integer name=3D&quot;timeout-=\r\nseconds&quot;&gt;10&lt;/integer&gt;\n&gt; &gt;         &lt;integer name=3D&quot;sotimeout-ms&quot;&gt;5000&lt;/inte=\r\nger&gt;\n&gt; &gt;         &lt;integer name=3D&quot;fetch-bandwidth&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;         =\r\n&lt;long name=3D&quot;max-length-bytes&quot;&gt;0&lt;/long&gt;\n&gt; &gt;         &lt;boolean name=3D&quot;ignor=\r\ne-cookies&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; --- In archive=\r\n-crawler@yahoogroups.com, &quot;Bart Kiers&quot; &lt;bkiers@&gt; wrote:\n&gt; &gt; \n&gt; &gt;&gt;Hi,\n&gt; &gt;&gt;\n&gt;=\r\n &gt;&gt;Try changing some of your frontier-settings under the &quot;settings&quot;-tab\n&gt; &gt;=\r\n \n&gt; &gt; from\n&gt; &gt; \n&gt; &gt;&gt;the WUI.\n&gt; &gt;&gt;Look at Heritrix&#39; manual paragraph 6.3.3: =\r\nFrontier Settings:\n&gt; &gt;&gt;http://crawler.archive.org/articles/user_manual.html=\r\n#settings\n&gt; &gt;&gt;\n&gt; &gt;&gt;Regards,\n&gt; &gt;&gt;Bart.\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;On 2/23/07, nt_bdr &lt;nt_=\r\nbdr@&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt;&gt;  I have heretrix set up on a dual core Linux box wi=\r\nth 2.8Ghz\n&gt; &gt; \n&gt; &gt; cpu&#39;s and\n&gt; &gt; \n&gt; &gt;&gt;&gt;8G memory. And the box does not have=\r\n anything else running on it but\n&gt; &gt;&gt;&gt;heretrix. Heretrix is downloading pag=\r\nes at at very slow rate. On an\n&gt; &gt;&gt;&gt;avg 1.03 Urls/sec. I have max_toe_threa=\r\nds set to 100. And I normally\n&gt; &gt;&gt;&gt;see 1 or 2 threads active at any given p=\r\noint. I would like to\nknow why\n&gt; &gt;&gt;&gt;heretrix is running so slow, and what c=\r\nan I do to speed it up.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; \n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; =\r\n&gt;  \n&gt; &gt; Yahoo! Groups - Join or create groups, clubs, forums &amp;\ncommunit=\r\nies. Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}