{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"David Pane","from":"David Pane &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"sExMLRpu3qK2K6qqQKy2l6L2xvvG6jyxowIFQWtVrFpGiptFwcjVzmA_IV6DjdLKJcIRzkMX0i0WcWFvIPM-mUw_qfI","spamInfo":{"isSpam":false,"reason":"5"},"subject":"cannot recover from checkpoint","postDate":"1326914786","msgId":7532,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMTcxQ0UyLjIwOTAwMDZAY3MuY211LmVkdT4="},"prevInTopic":0,"nextInTopic":7536,"prevInTime":7531,"nextInTime":7533,"topicId":7532,"numMessagesInTopic":6,"msgSnippet":"This morning I shut down all 5 instances.  4 recovered from the last checkpoint and are crawling.  They are all running on less than configured threads due to","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 27337 invoked from network); 18 Jan 2012 19:26:45 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m6.grp.sp2.yahoo.com with QMQP; 18 Jan 2012 19:26:45 -0000\r\nX-Received: from unknown (HELO smtp.andrew.cmu.edu) (128.2.11.96)\n  by mta1.grp.sp2.yahoo.com with SMTP; 18 Jan 2012 19:26:38 -0000\r\nX-Received: from [128.2.209.200] (SAVOY.LTI.CS.CMU.EDU [128.2.209.200])\n\t(user=dpane mech=PLAIN (0 bits))\n\tby smtp.andrew.cmu.edu (8.14.4/8.14.4) with ESMTP id q0IJQQKt029475\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);\n\tWed, 18 Jan 2012 14:26:27 -0500\r\nMessage-ID: &lt;4F171CE2.2090006@...&gt;\r\nDate: Wed, 18 Jan 2012 14:26:26 -0500\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Gordon Mohr &lt;gojomo@...&gt;, Noah Levitt &lt;nlevitt@...&gt;\r\nContent-Type: multipart/mixed;\n boundary=&quot;------------020009010005000508060603&quot;\r\nX-PMX-Version: 5.5.9.388399, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2010.4.9.4220\r\nX-SMTP-Spam-Clean: 8% (\n KNOWN_FREEWEB_URI 0.05, MIME_TEXT_ONLY_MP_MIXED 0.05, BODY_SIZE_10000_PLUS 0, ECARD_KNOWN_DOMAINS 0, TO_NO_NAME 0, __BAT_BOUNDARY 0, __C230066_P5 0, __CP_URI_IN_BODY 0, __CT 0, __CTYPE_HAS_BOUNDARY 0, __CTYPE_MULTIPART 0, __CTYPE_MULTIPART_MIXED 0, __HAS_MSGID 0, __KNOWN_FREEWEB_URI4 0, __KNOWN_FREEWEB_URI7 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __MOZILLA_MSGID 0, __SANE_MSGID 0, __STOCK_PHRASE_7 0, __TO_MALFORMED_2 0, __URI_NO_MAILTO 0, __URI_NO_WWW 0, __USER_AGENT 0)\r\nX-SMTP-Spam-Score: 8%\r\nX-Scanned-By: MIMEDefang 2.60 on 128.2.11.96\r\nX-eGroups-Msg-Info: 1:5:0:0:0\r\nFrom: David Pane &lt;dpane@...&gt;\r\nSubject: cannot recover from checkpoint\r\nX-Yahoo-Group-Post: member; u=500983475; y=SweVMY-TorIYp2Aoeo0SNZMKDG111-tSnarySjN8MSVoohmmDPBqAg\r\nX-Yahoo-Profile: david_pane1\r\n\r\n\r\n--------------020009010005000508060603\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nThis morning I shut down all 5 instances.  4 recovered from the last \ncheckpoint and are crawling.  They are all running on less than \nconfigured threads due to the server errors I&#39;ve seen before.\n\nhttp://tech.groups.yahoo.com/group/archive-crawler/message/7493\n\nIt is more severe than it was the last time.\n\nInstance #0 has 40 less - running with 1160.\nInstance #2 has 234 less - running with 234.\nInstance #3 has 111 less - running with 111.\nInstance #4 has 26 less - running with 26.\n\n-------------\nInstance #1:\n-------------\nWhen attempting to recover from &quot;any&quot; recent checkpoint, I get the \nfollowing errors (see below) and the recover fails.  Although this \ninstance did not give me problems before, there were multiple SEVERE \nerrors in the logs previous to me stopping the crawl.  see attached file \n- I removed all INFO lines from the logs - sorry for the large \nattachment....\n\nI found that the mime-report has two entries for &quot;??text/javascript&quot;\n\n &gt;&gt;&gt; grep javascript mimetype-report.txt.2012-01-17h19m05\n726509 15900289997 application/x-javascript\n277744 5991936365 application/javascript\n127275 3432127316 text/javascript\n561 146075 text/javascript+json\n272 7486875 text/x-javascript\n24 142128 javascript/text\n15 155529 javascript\n10 191371 ?text/javascript?\n6 175283 javascript/x-javascript\n4 80925 application/vnd.javascript\n3 193869 type/javascript\n1 74208 ??text/javascript\n1 33306 txt/javascript\n1 74208 ??text/javascript\n\nI am also ready to start a recover from the frontier.recover but I am \nhoping that there is a way around this problem.... any ideas?????\n\n--David\n\nHere is a sample of what is in the logs.\n\nJob.log:\n\n2012-01-18T17:37:39.992Z SEVERE Failed to start bean \n&#39;statisticsTracker&#39;; nested exception is java.lang.RuntimeException: \norg.json.JSONException: Duplicate key &quot;??text/javascript&quot; (in thread \n&#39;2011-12-23 launchthread&#39;)\n2012-01-18T17:37:39.992Z SEVERE Failed to start bean \n&#39;statisticsTracker&#39;; nested exception is java.lang.RuntimeException: \norg.json.JSONException: Duplicate key &quot;??text/javascript&quot;\n2012-01-18T17:37:39.990Z INFO Job instance discarded\n2012-01-18T17:04:00.791Z SEVERE unable to delete obstructing file \n/scratch/heritrix-3.1.1/jobs/2011-12-23/state/00088669.jdb (in thread \n&#39;2011-12-23 launchthread&#39;)\n2012-01-18T17:03:55.033Z SEVERE unable to create required restore link \n/scratch/heritrix-3.1.1/jobs/2011-12-23/state/00081efd.jdb (in thread \n&#39;2011-12-23 launchthread&#39;)\n2012-01-18T17:02:18.458Z INFO Job launched\n2012-01-18T16:59:19.283Z INFO Job instantiated\n\n\n\n---------------------------------------\ncat heritrix_out.log\n\nWed Jan 18 11:59:05 EST 2012 Starting heritrix\nLinux compute-1-12.local 2.6.18-194.17.4.el5 #1 SMP Mon Oct 25 15:50:53 \nEDT 2010 x86_64 GNU/Linux\njava version &quot;1.6.0_16&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_16-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode)\nJAVA_OPTS=-Xmx55000M\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 530432\nmax locked memory       (kbytes, -l) unlimited\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 4096\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) unlimited\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 530432\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\nSun Microsystems Inc. Java(TM) SE Runtime Environment 1.6.0_16-b01\nUsing ad-hoc HTTPS certificate with fingerprint...\nSHA1:7E:D5:A0:17:AD:CB:03:7D:4C:AD:FB:E7:04:41:AB:0B:1A:42:78:B3\nVerify in browser before accepting exception.\n2012-01-18 16:59:05.737 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/var where job expected from: ./jobs/var\n2012-01-18 16:59:05.758 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/heritrix_dir where job expected from: ./jobs/heritrix_dir\n2012-01-18 16:59:05.892 INFO thread-10 \norg.archive.crawler.framework.Engine.addJobDirectory() added crawl job: \n2011-12-23\n2012-01-18 16:59:05.893 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/heritrix_out.logSAVE~ where job expected from: \n./jobs/heritrix_out.logSAVE~\n2012-01-18 16:59:05.893 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/heritrix_out.logSAVE where job expected from: \n./jobs/heritrix_out.logSAVE\n2012-01-18 16:59:05.894 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/heritrix_out.log20120118 where job expected from: \n./jobs/heritrix_out.log20120118\n2012-01-18 16:59:05.894 WARNING thread-10 \norg.archive.crawler.framework.Engine.findJobConfigs() invalid job \ndirectory: ./jobs/heritrix_out.log20120118no-INFO where job expected \nfrom: ./jobs/heritrix_out.log20120118no-INFO\n2012-01-18 16:59:06.04::INFO:  Logging to STDERR via \norg.mortbay.log.StdErrLog\n2012-01-18 16:59:06.05::INFO:  jetty-6.1.14\n2012-01-18 16:59:06.369::INFO:  Started SslSocketConnector@10.1.1.249:8443\nengine listening at port 8443\noperator login set per file @...\nHeritrix version: 3.1.1-SNAPSHOT-20111222.225453\n2012-01-18 16:59:17.201 INFO thread-11 \norg.springframework.context.support.AbstractApplicationContext.prepareRefresh() \nRefreshing org.archive.spring.PathSharingContext@44ed904: startup date \n[Wed Jan 18 16:59:17 GMT 2012]; root of context hierarchy\n2012-01-18 16:59:19.283 INFO thread-11 \norg.archive.crawler.framework.CrawlJob.instantiateContainer() Job \ninstantiated\n2012-01-18 17:02:18.458 INFO thread-12 \norg.archive.crawler.framework.CrawlJob.launch() Job launched\n2012-01-18 17:02:19.997 INFO thread-13 \norg.archive.spring.PathSharingContext.initLaunchId() launch id \n20120118170219\n2012-01-18 17:02:20.047 INFO thread-13 \norg.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start() \nStarting beans in phase 0\n2012-01-18 17:03:55.033 SEVERE thread-13 \norg.archive.bdb.BdbModule.doRecover() unable to create required restore \nlink /scratch/heritrix-3.1.1/jobs/2011-12-23/state/00081efd.jdb\n2012-01-18 17:04:00.791 SEVERE thread-13 \norg.archive.bdb.BdbModule.doRecover() unable to delete obstructing file \n/scratch/heritrix-3.1.1/jobs/2011-12-23/state/00088669.jdb\n2012-01-18 17:34:12.297 INFO thread-13 \norg.springframework.context.support.AbstractApplicationContext.doClose() \nClosing org.archive.spring.PathSharingContext@44ed904: startup date [Wed \nJan 18 16:59:17 GMT 2012]; root of context hierarchy\n2012-01-18 17:34:12.298 INFO thread-13 \norg.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop() \nStopping beans in phase 0\n2012-01-18 17:37:39.990 INFO thread-13 \norg.archive.crawler.framework.CrawlJob.doTeardown() Job instance discarded\n2012-01-18 17:37:39.992 SEVERE thread-13 \norg.archive.crawler.framework.CrawlJob.beansException() Failed to start \nbean &#39;statisticsTracker&#39;; nested exception is \njava.lang.RuntimeException: org.json.JSONException: Duplicate key \n&quot;??text/javascript&quot;\norg.springframework.context.ApplicationContextException: Failed to start \nbean &#39;statisticsTracker&#39;; nested exception is \njava.lang.RuntimeException: org.json.JSONException: Duplicate key \n&quot;??text/javascript&quot;\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:169)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.access$1(DefaultLifecycleProcessor.java:154)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:335)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:143)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.start(DefaultLifecycleProcessor.java:89)\n         at \norg.springframework.context.support.AbstractApplicationContext.start(AbstractApplicationContext.java:1236)\n         at \norg.archive.spring.PathSharingContext.start(PathSharingContext.java:112)\n         at \norg.archive.crawler.framework.CrawlJob.startContext(CrawlJob.java:458)\n         at org.archive.crawler.framework.CrawlJob$1.run(CrawlJob.java:432)\nCaused by: java.lang.RuntimeException: org.json.JSONException: Duplicate \nkey &quot;??text/javascript&quot;\n         at \norg.archive.checkpointing.Checkpoint.loadJson(Checkpoint.java:142)\n         at \norg.archive.crawler.reporting.StatisticsTracker.start(StatisticsTracker.java:355)\n         at \norg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:166)\n         ... 11 more\nCaused by: org.json.JSONException: Duplicate key &quot;??text/javascript&quot;\n         at org.json.JSONObject.putOnce(JSONObject.java:1076)\n         at org.json.JSONObject.&lt;init&gt;(JSONObject.java:205)\n         at org.json.JSONTokener.nextValue(JSONTokener.java:344)\n         at org.json.JSONObject.&lt;init&gt;(JSONObject.java:205)\n         at org.json.JSONObject.&lt;init&gt;(JSONObject.java:402)\n         at \norg.archive.checkpointing.Checkpoint.loadJson(Checkpoint.java:140)\n         ... 13 more\nException in thread &quot;2011-12-23 launchthread&quot; \norg.springframework.beans.factory.BeanCreationException: Error creating \nbean with name &#39;configPathConfigurer&#39; defined in URL \n[file:/scratch/heritrix-3.1.1/jobs/2011-12-23/crawler-beans.cxml]: \nInitialization of bean failed; nested exception is \njava.lang.IllegalStateException: BeanFactory not initialized or already \nclosed - call &#39;refresh&#39; before accessing beans via the ApplicationContext\n         at \norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\n         at \norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n         at \norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n         at \norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n         at \norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n         at \norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n         at \norg.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:148)\n         at \norg.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:86)\n         at \norg.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)\n         at \norg.archive.crawler.framework.CrawlController.sendCrawlStateChangeEvent(CrawlController.java:326)\n         at \norg.archive.crawler.framework.CrawlController.requestCrawlStart(CrawlController.java:347)\n         at org.archive.crawler.framework.CrawlJob$1.run(CrawlJob.java:434)\nCaused by: java.lang.IllegalStateException: BeanFactory not initialized \nor already closed - call &#39;refresh&#39; before accessing beans via the \nApplicationContext\n         at \norg.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)\n         at \norg.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1091)\n         at \norg.springframework.context.support.AbstractApplicationContext$ApplicationListenerDetector.postProcessAfterInitialization(AbstractApplicationContext.java:1369)\n         at \norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:407)\n         at \norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1426)\n         at \norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n         ... 11 more\n\n\r\n--------------020009010005000508060603\r\nContent-Type: text/plain;\n name=&quot;heritrix_out_20120118noINFO.log&quot;\r\nContent-Disposition: attachment;\n filename=&quot;heritrix_out_20120118noINFO.log&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------020009010005000508060603--\r\n\n"}}