{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"KcorPufZXKdHFx0bDbPq4ZOhclCW3hEX9eE56dz7B20OiQOSOyWF1a77gmQUhTK3tPwHN-ffnkmV0F9jxmuyqfomZsweif0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Interesting Becnhmark of Heritrix 2.0.1 on two different servers","postDate":"1226964351","msgId":5576,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5MjFGRDdGLjEwOTA0MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ5MUIxNDRDLjcwMDAzQHVtYnJpY2gubmV0Pg==","referencesHeader":"PDQ5MUIxNDRDLjcwMDAzQHVtYnJpY2gubmV0Pg=="},"prevInTopic":5570,"nextInTopic":5579,"prevInTime":5575,"nextInTime":5577,"topicId":5570,"numMessagesInTopic":3,"msgSnippet":"I do suspect RAM is the major reason for the difference. In a default configuration, two large, crucial data structures are implemented using disk-backed","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 94613 invoked from network); 17 Nov 2008 23:25:52 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m55.grp.scd.yahoo.com with QMQP; 17 Nov 2008 23:25:52 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta18.grp.scd.yahoo.com with SMTP; 17 Nov 2008 23:25:52 -0000\r\nX-Received: (qmail 6473 invoked from network); 17 Nov 2008 23:25:47 -0000\r\nX-Received: from 67.170.220.186 (HELO ?192.168.1.42?) (67.170.220.186)\n  by relay01.pair.com with SMTP; 17 Nov 2008 23:25:47 -0000\r\nX-pair-Authenticated: 67.170.220.186\r\nMessage-ID: &lt;4921FD7F.1090404@...&gt;\r\nDate: Mon, 17 Nov 2008 15:25:51 -0800\r\nUser-Agent: Thunderbird 2.0.0.17 (Windows/20080914)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;491B144C.70003@...&gt;\r\nIn-Reply-To: &lt;491B144C.70003@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Interesting Becnhmark of Heritrix 2.0.1 on\n two different servers\r\nX-Yahoo-Group-Post: member; u=137285340; y=5moE15UX8vleX4xcYDO4PBmOUIf32FWthum_KyFjEQKP\r\nX-Yahoo-Profile: gojomo\r\n\r\nI do suspect RAM is the major reason for the difference.\n\nIn a default configuration, two large, crucial data structures are \nimplemented using disk-backed BerkeleyDB-JavaEdition (BDBJE) databases: \n(1) the collection of all pending-to-crawl URI queues; (2) the set of \nall URIs already discovered.\n\nBDBJE uses RAM extensively for caching its items; by default 60% of heap \nis used for its cache. Further, any RAM unused by heap on the system may \nbe used by the OS for disk cache. So the longer story regarding both the \nBDBJE and OS disk cache effects is: more RAM helps avoid or forestall \ndisk IO, even as these queues and the set get larger.\n\nYou may want to try a comparison where both test runs use the same size \nheap, just to remove one other variable from the machine comparison.\n\nAny suitably broad crawl tends to get slower as the record of what has \nalready been discovered gets larger, and thus checking whether \ncurrently-discovered URIs need to be crawled becomes ever-more reliant \non disk-based data far larger than RAM.\n\nSeveral elements of the crawler design try to minimize this effect, by \nmaking working on certain sites (queues) at a time (such that certain \nhot portions of the queues/set stay in memory cache until attention \nshifts to other sites), but depending on the link structures you&#39;re \ncrawling, the crawler may still have a hard time achieving cache \nefficiency.\n\n(There&#39;s an alternate approach to maintaining the discovered-URI set, as \ndiscussed in the papers about the Mercator and IRLBot crawlers, we hope \nto implement someday to benefit very-large crawls. See issue [HER-988].)\n\n- Gordon @ IA\n\nJuergen Umbrich wrote:\n&gt; Hi all,\n&gt; \n&gt; we are trying to figure out what is the best heritrix and server setup to run large scale crawls.\n&gt; At our lab we used two different server setups and run the exactly same crawl on both of the servers.\n&gt; \n&gt; Just to make things short, here the summary\n&gt; \n&gt; Aim: What is the best value hardware for running Heritrix and how is\n&gt; craw performance developing throughout a crawl.\n&gt; \n&gt; Test setup: both machines run Linux 64 bit Sun JVM 1.6.0_06\n&gt; \n&gt; Machine A (left in the comparision.png):\n&gt; AMD Athlon 64 X2 5600+ Dual Core, 4GB RAM, 2 * 500GB SATAII drives\n&gt; (SAMSUNG HD501LJ)\n&gt; \n&gt; Machine B (right  in the comparision.png):\n&gt; Interl quad core XEON 2.33GHz, 8GB RAM, disk, 2 * 400GB SATAII drives\n&gt; \n&gt; Except for the disks machine 2 should be aprox. 2 times powerful. We\n&gt; have run a simple crawl with 1 million seeds to check how both machines\n&gt; perform. Results attached.\n&gt; \n&gt; Preliminary  findings:\n&gt; *CPU* A uses about 75% of its cpu, B about 37% of its cpu\n&gt; \n&gt; *RAM* A got 2.5GB and B 5GB heap\n&gt; \n&gt; *Throughput*\n&gt; A got 80-140 docs/sec B got 40-70 docs/sec\n&gt; A got 12-30 MBit/sec B got 40-55 MBit/sec\n&gt; \n&gt; While we do understand the aprox. 2-1 performance relation, we do not\n&gt; understand why the performance of machine A shows a steady decline (50%\n&gt; over 24h) while machine B it is not a steady decline and only around 10%.\n&gt; \n&gt; Our first guess would be the difference in RAM available to the BDB\n&gt; cache. Can anybody confirm this? Will also an 8 GB machine eventually\n&gt; slow down significantly? Does anybody know the reason - is it the\n&gt; queuing of new URIs?\n&gt; \n&gt; Would be nice if we can discuss this \n&gt; Best juergen\n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; \n\n"}}