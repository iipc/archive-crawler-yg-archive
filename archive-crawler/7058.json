{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":476753605,"authorName":"HONGYING YI","from":"HONGYING YI &lt;y195322@...&gt;","profile":"y195322","replyTo":"LIST","senderId":"fkrKspBFtyrKhve2iUim2N_vCQnSaloC5SMaiD-cOTTXtfZ5q3ySG4MAKWbEow4mdni_J5YVaiYluvyb-7Q7lHSAdxHERQRWDQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re-discover links","postDate":"1299707483","msgId":7058,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU4Nzk1Mi45NTAyNC5xbUB3ZWIxNTkwNC5tYWlsLmNuYi55YWhvby5jb20+","inReplyToHeader":"PDRENkVGMDUzLjIwNzA2MDVAYXJjaGl2ZS5vcmc+"},"prevInTopic":7055,"nextInTopic":7066,"prevInTime":7057,"nextInTime":7059,"topicId":7044,"numMessagesInTopic":11,"msgSnippet":"Hi Gordon,   Thanks for your informative reply!   I am using Heritrix 1.14.4 now. For WARCWriterProcessor, if I still use Heritrix 1.14.4, it seems that I","rawEmail":"Return-Path: &lt;y195322@...&gt;\r\nX-Sender: y195322@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 74009 invoked from network); 9 Mar 2011 21:51:26 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 9 Mar 2011 21:51:26 -0000\r\nX-Received: from unknown (HELO web15904.mail.cnb.yahoo.com) (202.165.103.49)\n  by mta3.grp.sp2.yahoo.com with SMTP; 9 Mar 2011 21:51:25 -0000\r\nX-Received: (qmail 95704 invoked by uid 60001); 9 Mar 2011 21:51:23 -0000\r\nMessage-ID: &lt;587952.95024.qm@...&gt;\r\nX-YMail-OSG: 1.Z4OGYVM1kREMmO1tp0pZISozgT50fLUZcRWCpZ8wbWYbv\n 2RaTzt72Y.e7igCl0tsZwM1_RAxzooI7SDggHFSvpOMY9fC4cZ6oINNJYhKZ\n fenF5jjUa7uGDOJsEIdBzv8ZqgGa6ci1kGfZDbxiIpV47v26VfDT5f_ZJIab\n HeuFZ.bQA38md.o7b9znBTkaYSf35riIYslnp4n2.5u41OB14eEjwwEA25ie\n G84hs6K2HzHRXS.vs3Wxs4Bl22zH915K9i_leaPlaJsVFblYdXLfNK3uNc4X\n lT_QxtWrYFz9q5A8sU_UHvs5OdHYcEmft96hT\r\nX-Received: from [64.236.138.1] by web15904.mail.cnb.yahoo.com via HTTP; Thu, 10 Mar 2011 05:51:23 CST\r\nX-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.109.295617\r\nDate: Thu, 10 Mar 2011 05:51:23 +0800 (CST)\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;4D6EF053.2070605@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1858717528-1299707483=:95024&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: HONGYING YI &lt;y195322@...&gt;\r\nSubject: Re: [archive-crawler] Re-discover links\r\nX-Yahoo-Group-Post: member; u=476753605; y=_-7x_o5LeNXsatoeuk1wZR_MiJKDARXErt7U9xr1RLZE4w\r\nX-Yahoo-Profile: y195322\r\n\r\n\r\n--0-1858717528-1299707483=:95024\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Gordon,\n=C2=A0\nThanks for your informative reply!\n=C2=A0\nI am using Heri=\r\ntrix 1.14.4 now. For WARCWriterProcessor, if I still use Heritrix 1.14.4, i=\r\nt seems that I will need to make some changes in the source codes. If I upg=\r\nrade it to Heritrix 3,=C2=A0=C2=A0then I can get all the outlinks in the da=\r\nta without making changes to the source codes. Is that correct?\n=C2=A0\nThan=\r\nks!\n\n\n--- 11=E5=B9=B43=E6=9C=883=E6=97=A5=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordo=\r\nn Mohr &lt;gojomo@...&gt; =E5=86=99=E9=81=93=EF=BC=9A\n\n\n=E5=8F=91=E4=BB=\r\n=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;\n=E4=B8=BB=E9=A2=98: Re: [arc=\r\nhive-crawler] Re-discover links\n=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; =\r\n&lt;y195322@...&gt;\n=E6=8A=84=E9=80=81: archive-crawler@yahoogroups.com\n=\r\n=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=883=E6=97=A5,=E5=91=A8=E5=9B=9B,=\r\n=E4=B8=8A=E5=8D=889:35\n\n\nOn 3/2/11 3:47 PM, HONGYING YI wrote:\n&gt; Hi Gordon,=\r\n\n&gt; \n&gt; Thanks for your reply!\n&gt; \n&gt; I&#39;m still a little confused. Are all the =\r\noutlinks of a URI logged in the\n&gt; crawl.log whether or not those outlinks h=\r\nave already been discovered?\n\nOutlinks (specifically outlinks) are not logg=\r\ned to crawl.log. The crawl.log is a log of *completed* URIs. So to appear i=\r\nn crawl.log, a URI has to:\n\n(1) be discovered (as a seed or outlink from el=\r\nsewhere); then...\n(2) pass scoping rules, so that it is enqueued to be fetc=\r\nhed; then...\n(3) either be successfully fetched, or suffer definitive failu=\r\nre (certain errors from the server or no-success after many retries).\n\nThis=\r\n crawl.log logging happens arbitrarily long after the URI was first discove=\r\nred. (The URI might be waiting in a queue for its chance to be crawled for =\r\nhours, days, weeks, months.)\n\nIn a typical snapshot crawl, most normal URIs=\r\n are only fetched once, so they only appear in the crawl.log once. (The &#39;vi=\r\na&#39; URI that is shown later on the crawl.log line is the one other URI from =\r\nwhich it was specifically discovered first, even though it may have later b=\r\neen found many times.)\n\n(URIs which must be retried to refresh our knowledg=\r\ne, like DNS and /robots.txt, will be fetched and appear in crawl.log multip=\r\nle times. Also, there are certain non-standard ways you can force a URI to =\r\nbe refetched. But you wouldn&#39;t use those mechanisms to achieve what I belie=\r\nve is your goal, discovering all the links to a page.)\n\n&gt; I&#39;m not familiar =\r\nwith WARCWriterProcessor, could you explain more on that?\n\nIn Heritrix 1.x =\r\nreleases, the default way to write web content was the ARCWriterProcessor, =\r\nwhich wrote HTTP responses to long transcript files called ARCs (with exten=\r\nsion .arc.gz). Since only the raw content was written, to get the outlinks =\r\nagain at a later time, you&#39;d need to parse the HTML again.\n\nIn Heritrix 3, =\r\na new &#39;WARC&#39; format is preferred, via the WARCWriterProcessor. While simila=\r\nr to the ARC format it has more places for extra metadata. By default, it w=\r\nrites not just the HTTP response (like in ARC) but also the exact HTTP requ=\r\nest and an extra &#39;metadata&#39; record with a list of the outlinks that were di=\r\nscovered. Outlinks are listed here even if they did not pass scope-testing =\r\n(so would not be enqueued/fetched and thus would never appear in the crawl.=\r\nlog).\n\nYou can use WARCWriterProcessor in H1, also, by replacing the refere=\r\nnce to ARCWriterProcessor with WARCWriterProcessor.\n\nEven if you don&#39;t want=\r\n to use WARCWriterProcessor, you could look at its source code to see how i=\r\nt looks at the list of discovered outlinks, and log them to someplace of yo=\r\nur choosing, by writing your own custom Processor code to plug into Heritri=\r\nx.\n\nHope this helps,\n\n- Gordon @ IA\n\n&gt; Thanks!\n&gt; \n&gt; --- *11=E5=B9=B43=E6=9C=\r\n=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;gojomo@...&gt;=\r\n/* =E5=86=99=E9=81=93=EF=BC=9A\n&gt; \n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E5=8F=91=E4=\r\n=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=\r\n=A0=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...=\r\nm.cn&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=8A=84=E9=80=81: archive-crawler@yahoogr=\r\noups.com\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=\r\n=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=887:40\n&gt; \n&gt;=C2=A0 =C2=A0=\r\n=C2=A0=C2=A0All the outlinks discovered from a URI are inside the CrawlURI =\r\nduring\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0its processing, until it is finished (and =\r\nlogged in the crawl.log).\n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0If you use the WARCW=\r\nriterProcessor, they are part of the data\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0written=\r\n in\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0the &#39;metadata&#39; record associated with the URI=\r\n.\n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Alternatively, you could insert your own cus=\r\ntom processor to log this\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0data somewhere else (us=\r\ning the WARCWriterProcessor&#39;s writeMetadata\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0metho=\r\nd as a model).\n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0In this way, you can get the li=\r\nnk data you want, without revisiting the\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0same URL=\r\ns many times (indeed infinitely via link-loops!).\n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0- Gordon @ IA\n&gt; \n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0On 2/28/11 3:16 PM, HONGYI=\r\nNG YI wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Hi Gordon,\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; We =\r\nwant to know all the out-going links and in-coming links for each\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; page, and in the example, for aol.com, aolhealth.com is an =\r\nout-going\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; link for aol.com, and drugchecker.aolheal=\r\nth.com is an in-coming\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0link for\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt; aol.com. If the link from drugchecker.aolhealth.com to aol.com\n&gt;=\r\n=C2=A0 =C2=A0=C2=A0=C2=A0does not\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; show up, we will =\r\nnot get all the in-coming links for aol.com. Is\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0t=\r\nhere\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; any way to retrieve that link? Can any configu=\r\nration setting in the\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; crawl get round that?\n&gt;=C2=A0=\r\n =C2=A0 =C2=A0 &gt; Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Yang\n&gt;=C2=A0 =C2=A0 =C2=A0=\r\n &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =\r\n--- *11=E5=B9=B43=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Moh=\r\nr /&lt;gojomo@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yaho=\r\no.com/mc/compose?to=3Dgojomo@...&gt;&gt;/*\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E5=\r\n=86=99=E9=81=93=EF=BC=9A\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@arc=\r\nhive.org\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compo=\r\nse?to=3Dgojomo@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E4=B8=BB=E9=A2=98: Re=\r\n: [archive-crawler] Re-discover links\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=94=B6=E4=\r\n=BB=B6=E4=BA=BA: archive-crawler@yahoogroups.com\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=\r\n&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups=\r\n.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=8A=84=E9=80=81: &quot;y195322&quot; &lt;y195322@yahoo.=\r\ncom.cn\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose=\r\n?to=3Dy195322@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=97=A5=E6=9C=9F: 20=\r\n11=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=886:33\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; On 2/28/11 10:20 AM, y195322=\r\n wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Hi!We are doing web crawling using Heritr=\r\nix, and found one issue\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; in that once a link has bee=\r\nn &#39;discovered,&#39; it won&#39;t be\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &#39;rediscovered.&#39; This me=\r\nans that if we have something like:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; aol.com-&gt;aolh=\r\nealth.com\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; aolhealth.com-&gt;drugchecker.aolhealth.co=\r\nm\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; and if drugchecker.ao=\r\nlhealth.com links to aol.com, that link will\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; not sh=\r\now up in the file.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Is t=\r\nhere any way to fix this problem? Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; Usually a single snapshot crawl only wants to retrieve each=\r\n URL\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; once, so\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; this is by-de=\r\nsign, rather than a problem.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 =\r\n&gt; Why do you want to fetch aol.com twice in a single crawl? (Or am I\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; misunderstanding?)\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; - Gordon @ IA\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n=\r\n&gt; \n&gt; \n\n\n\n      \r\n--0-1858717528-1299707483=:95024\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;table cellspacing=3D&quot;0&quot; cellpadding=3D&quot;0&quot; border=3D&quot;0&quot; &gt;&lt;tr&gt;&lt;td valign=3D&quot;=\r\ntop&quot; style=3D&quot;font: inherit;&quot;&gt;&lt;DIV&gt;Hi Gordon,&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;=\r\nThanks for your informative reply!&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;I am using =\r\nHeritrix 1.14.4 now. For WARCWriterProcessor, if I still use Heritrix 1.14.=\r\n4, it seems that I will need to make some changes in the source codes. If I=\r\n upgrade it to Heritrix 3,&nbsp;&nbsp;then I can get all the outlinks in th=\r\ne data without making changes to the source codes. Is that correct?&lt;/DIV&gt;\n&lt;=\r\nDIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;Thanks!&lt;/DIV&gt;\n&lt;DIV&gt;&lt;BR&gt;&lt;BR&gt;--- &lt;B&gt;11=E5=B9=B43=E6=9C=\r\n=883=E6=97=A5=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordon Mohr &lt;I&gt;&lt;gojomo@archive=\r\n.org&gt;&lt;/I&gt;&lt;/B&gt; =E5=86=99=E9=81=93=EF=BC=9A&lt;BR&gt;&lt;/DIV&gt;\n&lt;BLOCKQUOTE style=3D=\r\n&quot;BORDER-LEFT: rgb(16,16,255) 2px solid; PADDING-LEFT: 5px; MARGIN-LEFT: 5px=\r\n&quot;&gt;&lt;BR&gt;=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;&lt;B=\r\nR&gt;=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links&lt;BR&gt;=E6=94=B6=\r\n=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...&gt;&lt;BR&gt;=E6=8A=84=\r\n=E9=80=81: archive-crawler@yahoogroups.com&lt;BR&gt;=E6=97=A5=E6=9C=9F: 2011=E5=\r\n=B9=B43=E6=9C=883=E6=97=A5,=E5=91=A8=E5=9B=9B,=E4=B8=8A=E5=8D=889:35&lt;BR&gt;&lt;BR=\r\n&gt;\n&lt;DIV class=3DplainMail&gt;On 3/2/11 3:47 PM, HONGYING YI wrote:&lt;BR&gt;&gt; Hi G=\r\nordon,&lt;BR&gt;&gt; &lt;BR&gt;&gt; Thanks for your reply!&lt;BR&gt;&gt; &lt;BR&gt;&gt; I&#39;m still a=\r\n little confused. Are all the outlinks of a URI logged in the&lt;BR&gt;&gt; crawl=\r\n.log whether or not those outlinks have already been discovered?&lt;BR&gt;&lt;BR&gt;Out=\r\nlinks (specifically outlinks) are not logged to crawl.log. The crawl.log is=\r\n a log of *completed* URIs. So to appear in crawl.log, a URI has to:&lt;BR&gt;&lt;BR=\r\n&gt;(1) be discovered (as a seed or outlink from elsewhere); then...&lt;BR&gt;(2) pa=\r\nss scoping rules, so that it is enqueued to be fetched; then...&lt;BR&gt;(3) eith=\r\ner be successfully fetched, or suffer definitive failure (certain errors fr=\r\nom the server or no-success after many retries).&lt;BR&gt;&lt;BR&gt;This crawl.log logg=\r\ning happens arbitrarily long after the URI was first discovered. (The URI m=\r\night be waiting in a queue for its chance to be crawled for hours, days, we=\r\neks, months.)&lt;BR&gt;&lt;BR&gt;In a typical snapshot crawl, most normal URIs are\n onl=\r\ny fetched once, so they only appear in the crawl.log once. (The &#39;via&#39; URI t=\r\nhat is shown later on the crawl.log line is the one other URI from which it=\r\n was specifically discovered first, even though it may have later been foun=\r\nd many times.)&lt;BR&gt;&lt;BR&gt;(URIs which must be retried to refresh our knowledge,=\r\n like DNS and /robots.txt, will be fetched and appear in crawl.log multiple=\r\n times. Also, there are certain non-standard ways you can force a URI to be=\r\n refetched. But you wouldn&#39;t use those mechanisms to achieve what I believe=\r\n is your goal, discovering all the links to a page.)&lt;BR&gt;&lt;BR&gt;&gt; I&#39;m not fa=\r\nmiliar with WARCWriterProcessor, could you explain more on that?&lt;BR&gt;&lt;BR&gt;In =\r\nHeritrix 1.x releases, the default way to write web content was the ARCWrit=\r\nerProcessor, which wrote HTTP responses to long transcript files called ARC=\r\ns (with extension .arc.gz). Since only the raw content was written, to get =\r\nthe outlinks again at a later time, you&#39;d need to parse the HTML\n again.&lt;BR=\r\n&gt;&lt;BR&gt;In Heritrix 3, a new &#39;WARC&#39; format is preferred, via the WARCWriterPro=\r\ncessor. While similar to the ARC format it has more places for extra metada=\r\nta. By default, it writes not just the HTTP response (like in ARC) but also=\r\n the exact HTTP request and an extra &#39;metadata&#39; record with a list of the o=\r\nutlinks that were discovered. Outlinks are listed here even if they did not=\r\n pass scope-testing (so would not be enqueued/fetched and thus would never =\r\nappear in the crawl.log).&lt;BR&gt;&lt;BR&gt;You can use WARCWriterProcessor in H1, als=\r\no, by replacing the reference to ARCWriterProcessor with WARCWriterProcesso=\r\nr.&lt;BR&gt;&lt;BR&gt;Even if you don&#39;t want to use WARCWriterProcessor, you could look=\r\n at its source code to see how it looks at the list of discovered outlinks,=\r\n and log them to someplace of your choosing, by writing your own custom Pro=\r\ncessor code to plug into Heritrix.&lt;BR&gt;&lt;BR&gt;Hope this helps,&lt;BR&gt;&lt;BR&gt;- Gordon =\r\n@ IA&lt;BR&gt;&lt;BR&gt;&gt; Thanks!&lt;BR&gt;&gt; &lt;BR&gt;&gt; ---\n *11=E5=B9=B43=E6=9C=881=E6=\r\n=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;&lt;A href=3D&quot;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; ymailto=3D&quot;mailto:go=\r\njomo@...&quot;&gt;gojomo@...&lt;/A&gt;&gt;/* =E5=86=99=E9=81=93=EF=BC=9A&lt;=\r\nBR&gt;&gt; &lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E5=8F=91=E4=BB=B6=E4=BA=\r\n=BA: Gordon Mohr &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?t=\r\no=3Dgojomo@...&quot; ymailto=3D&quot;mailto:gojomo@...&quot;&gt;gojomo@archiv=\r\ne.org&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E4=B8=BB=E9=A2=98: Re: [arch=\r\nive-crawler] Re-discover links&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=94=B6=E4=\r\n=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.co=\r\nm/mc/compose?to=3Dy195322@...&quot; ymailto=3D&quot;mailto:y195322@...=\r\n.cn&quot;&gt;y195322@...&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=8A=84=\r\n=E9=80=81: &lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchiv=\r\ne-crawler@yahoogroups.com&quot; ymailto=3D&quot;mailto:archive-crawler@...=\r\nm&quot;&gt;archive-crawler@yahoogroups.com&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=\r\n=97=A5=E6=9C=9F:\n 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=\r\n=B8=8A=E5=8D=887:40&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;All the outlin=\r\nks discovered from a URI are inside the CrawlURI during&lt;BR&gt;&gt;&nbsp; &nbsp=\r\n;&nbsp;&nbsp;its processing, until it is finished (and logged in the crawl.=\r\nlog).&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;If you use the WARCWriterPro=\r\ncessor, they are part of the data&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;written i=\r\nn&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;the &#39;metadata&#39; record associated with the=\r\n URI.&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Alternatively, you could ins=\r\nert your own custom processor to log this&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;d=\r\nata somewhere else (using the WARCWriterProcessor&#39;s writeMetadata&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp;&nbsp;&nbsp;method as a model).&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nb=\r\nsp;&nbsp;In this way, you can get the link data you want, without revisitin=\r\ng the&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;same URLs many times (indeed infinite=\r\nly via link-loops!).&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp;\n &nbsp;&nbsp;&nbsp;- Gordon @ I=\r\nA&lt;BR&gt;&gt; &lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;On 2/28/11 3:16 PM, HONGYING YI =\r\nwrote:&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Hi Gordon,&lt;BR&gt;&gt;&nbsp; &nbsp; &nb=\r\nsp; &gt; We want to know all the out-going links and in-coming links for ea=\r\nch&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; page, and in the example, for aol.com, =\r\naolhealth.com is an out-going&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; link for aol=\r\n.com, and drugchecker.aolhealth.com is an in-coming&lt;BR&gt;&gt;&nbsp; &nbsp;&nb=\r\nsp;&nbsp;link for&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; aol.com. If the link fro=\r\nm drugchecker.aolhealth.com to aol.com&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;does=\r\n not&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; show up, we will not get all the in-c=\r\noming links for aol.com. Is&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;there&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp; &nbsp; &gt; any way to retrieve that link? Can any configuratio=\r\nn setting in the&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; crawl get round that?&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp; &nbsp; &gt;\n Thanks!&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Yan=\r\ng&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; --- *11=E5=B9=B4=\r\n3=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;&lt;A href=\r\n=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; ymai=\r\nlto=3D&quot;mailto:gojomo@...&quot;&gt;gojomo@...&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbs=\r\np;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Dgojomo@...&quot; target=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/co=\r\nmpose?to=3Dgojomo@...&lt;/A&gt;&gt;&gt;/*&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp=\r\n;=E5=86=99=E9=81=93=EF=BC=9A&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E5=8F=91=E4=BB=B6=E4=\r\n=BA=BA: Gordon Mohr &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compos=\r\ne?to=3Dgojomo@...&quot; ymailto=3D&quot;mailto:gojomo@...&quot;&gt;gojomo@arc=\r\nhive.org&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A\n href=3D&quot;http://cn.mc15=\r\n9.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; target=3D_blank&gt;http:/=\r\n/cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/A&gt;&gt;&gt;&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp; &nbsp; &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-=\r\ndiscover links&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA=\r\n: &lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler=\r\n@yahoogroups.com&quot; ymailto=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;archiv=\r\ne-crawler@yahoogroups.com&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=\r\n=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogro=\r\nups.com&quot; target=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darc=\r\nhive-crawler@yahoogroups.com&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E6=\r\n=8A=84=E9=80=81: &quot;y195322&quot; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Dy195322@...&quot; ymailto=3D&quot;mailto:y195322@...&quot;=\r\n&gt;y195322@...&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A\n href=3D&quot;h=\r\nttp://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&quot; target=\r\n=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@....=\r\ncn&lt;/A&gt;&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E6=97=A5=E6=9C=9F: 2011=E5=\r\n=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=886:33&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; On 2/28/11 10:2=\r\n0 AM, y195322 wrote:&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Hi!We are doing =\r\nweb crawling using Heritrix, and found one issue&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp=\r\n; &gt; in that once a link has been &#39;discovered,&#39; it won&#39;t be&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt; &#39;rediscovered.&#39; This means that if we have something li=\r\nke:&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; aol.com-&gt;aolhealth.com&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt; aolhealth.com-&gt;drugchecker.aolhealth.com&lt;=\r\nBR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;=\r\n and if drugchecker.aolhealth.com links to aol.com, that link will&lt;BR&gt;&gt;&=\r\nnbsp; &nbsp; &nbsp; &gt; not show up in the\n file.&lt;BR&gt;&gt;&nbsp; &nbsp; &nb=\r\nsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Is there any way to fix=\r\n this problem? Thanks!&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; Usually a single snapshot crawl only wants to retrieve each U=\r\nRL&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; once, so&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &g=\r\nt; this is by-design, rather than a problem.&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &g=\r\nt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Why do you want to fetch aol.com twice =\r\nin a single crawl? (Or am I&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; misunderstandi=\r\nng?)&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; - Go=\r\nrdon @ IA&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;=\r\n&lt;BR&gt;&gt; &lt;BR&gt;&gt; &lt;BR&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;\n\n\n\n\n\n\n     =\r\n &nbsp;\r\n--0-1858717528-1299707483=:95024--\r\n\n"}}