{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"SxrxQnu3jLMgdy626Lov3vyTIpr2QfQ2jQMPYJZhtMsjYHajFHBMciLmIdOfRGw9PTwWYqljLhv2iQ1zK0axng","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Invoking operations on current job (embedded)","postDate":"1141233490","msgId":2727,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0MDVENzUyLjEwMjAwMDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDYuMS4xLjEuMi4yMDA2MDIyODE2NDUxNi4wMmIyNmVjMEBwb3BzZXJ2LnVjb3AuZWR1Pg==","referencesHeader":"PDYuMS4xLjEuMi4yMDA2MDIyODE2NDUxNi4wMmIyNmVjMEBwb3BzZXJ2LnVjb3AuZWR1Pg=="},"prevInTopic":2723,"nextInTopic":2731,"prevInTime":2726,"nextInTime":2728,"topicId":2723,"numMessagesInTopic":4,"msgSnippet":"... Be a bit careful here.  The job name is actually a little more involved.  Notice how in CrawlJob#preRegister (line  2041) we build up the name adding the","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 70901 invoked from network); 1 Mar 2006 17:18:33 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m23.grp.scd.yahoo.com with QMQP; 1 Mar 2006 17:18:33 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta8.grp.scd.yahoo.com with SMTP; 1 Mar 2006 17:18:33 -0000\r\nReceived: from [192.168.1.105] ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k21G93j11306\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 1 Mar 2006 08:09:03 -0800\r\nMessage-ID: &lt;4405D752.1020006@...&gt;\r\nDate: Wed, 01 Mar 2006 09:18:10 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8) Gecko/20051218 SeaMonkey/1.0b\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;6.1.1.1.2.20060228164516.02b26ec0@...&gt;\r\nIn-Reply-To: &lt;6.1.1.1.2.20060228164516.02b26ec0@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Invoking operations on current job (embedded)\r\nX-Yahoo-Group-Post: member; u=168599281; y=rqKucYLWQ0oto6Js79mZ34AIo8C97LhFDVRov4-9eHhhj5MIYwIHTiNm\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nShifra Raffel wrote:\n&gt; Hello all,\n&gt; I&#39;m stumbling over invoking an operation on the currently running job.\n&gt; It&#39;s working great to embed Heritrix in another application and invoke\n&gt; methods locally just as they would be invoked by JMX --thanks for the tip\n&gt; about that, St. Ack.\n&gt; An example of how I&#39;m doing that is\n&gt; embeddedHeritrix.invoke(&quot;addJob&quot;, parametersArray, null)\n&gt; where the parameters array includes 1) order.xml file location, 2) \n&gt; name for\n&gt; the job, 3) description, 4) seed\n&gt;\n&gt; With the currently running job, I&#39;m using the operations from here\n&gt; http://crawler.archive.org/xref/org/archive/crawler/admin/CrawlJob.html#244\n&gt; and I&#39;ve gotten as far as getting the correct JMX object name for the\n&gt; currently running job, so I know it&#39;s not a question of the bean having\n&gt; already been unregistered.\n&gt; Example of getting the object name:\n&gt; embeddedHeritrix.getJmxObjectName(currentJobName, &quot;CrawlService.Job&quot;);\n&gt;\nBe a bit careful here.  The job name is actually a little more \ninvolved.  Notice how in CrawlJob#preRegister (line  2041) we build up \nthe name adding the host, jmx_port, etc.\n&gt; Then when I try to invoke an operation, as in this pseudocode example\n&gt;\n&gt; embeddedHeritrix.getMBeanServer().invoke(objectNameSeeAbove,\n&gt; &quot;progressStatistics&quot;, emptyObjectArray, emptyStringArray);\n&gt;\nI&#39;m guessing that the objectname doesn&#39;t match that of the running job \nthough I&#39;d expect the mbeanserver to throw exception when trying to do \nan invocation against an unknown bean (You&#39;re not suppressing \nexceptions?  Is anything being returned?  A null object?).  Maybe try \nembeddedHeritrix.getMBeanServer().getMBeanInfo(objectNameSeeAbove) and \nsee what you get (Print out content of returned MBeanInfo object).\n\nAnother thing you might look at is that in the example you give above, \nyou go direct to the Heritrix instance whereas in the progressStatistics \nexample later, you are going via the MBeanServer.   Is that \nintentional?  Do one or the other I&#39;d say and if the former, just go \ndirect to the methods that Heritrix#invoke uses internally; this way \nyou&#39;ll get a compile-time error rather than a runtime error if we change \nthe API.\n\nSt.Ack\n\n"}}