{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"nbNTBHXyIMbfBYY6kbDvVFbjkiyMshG7jPf6o4_T6VKYQHVCwXrmH49ZrPBvus8xMU2u_Az6sDAGUjV-tg5ZOOnElqHJ9H0","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Heritrix(-63)-Prerequisite unschedulable failure","postDate":"1175639591","msgId":4018,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MTJENjI3LjMwNzAyMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDgzMjc0NS4xMDI4Mi5xbUB3ZWIzNjUwMi5tYWlsLm11ZC55YWhvby5jb20+","referencesHeader":"PDgzMjc0NS4xMDI4Mi5xbUB3ZWIzNjUwMi5tYWlsLm11ZC55YWhvby5jb20+"},"prevInTopic":4009,"nextInTopic":0,"prevInTime":4017,"nextInTime":4019,"topicId":3997,"numMessagesInTopic":10,"msgSnippet":"... Without specifically reproducing your error, if the problem is that the DNS fetch is being ruled out-of-scope, I believe the reason is that a dns: URI is","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 97498 invoked from network); 3 Apr 2007 22:31:00 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m42.grp.scd.yahoo.com with QMQP; 3 Apr 2007 22:31:00 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta7.grp.scd.yahoo.com with SMTP; 3 Apr 2007 22:31:00 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id D3A1A141C6CF6\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue,  3 Apr 2007 15:30:56 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 17665-02-57 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 3 Apr 2007 15:30:56 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id 280BD141BC461\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue,  3 Apr 2007 15:30:56 -0700 (PDT)\r\nMessage-ID: &lt;4612D627.3070209@...&gt;\r\nDate: Tue, 03 Apr 2007 15:33:11 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (X11/20070306)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;832745.10282.qm@...&gt;\r\nIn-Reply-To: &lt;832745.10282.qm@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Heritrix(-63)-Prerequisite unschedulable\n failure\r\nX-Yahoo-Group-Post: member; u=137285340; y=OsrwZKdEj4YCROYBB-gyjH48SSr1XidoZG5BYvDrNFql\r\nX-Yahoo-Profile: gojomo\r\n\r\nHei Chan wrote:\n&gt; Hi Gordon,\n&gt; \n&gt; Thanks for your detailed explaination.\n&gt; \n&gt; I can see your point that adding\n&gt; PrerequisiteAcceptDecideRule never hurts because it\n&gt; doesn&#39;t have any &quot;opinion&quot; on anything excepted it\n&gt; ACCEPTs the last hop with a P notation.\n&gt; \n&gt; The only thing confuse me now is that how come the\n&gt; decision of the following chain is REJECT:\n&gt; - RejectDecideRule\n&gt; -\n&gt; OnDomainsDecideRule(decision=Accept,seeds-as-surt-prefixes=true)\n&gt; \n&gt; I can understand that it might fail on CrawlURI with a\n&gt; different domain.  But when I run Heritrix, it doesn&#39;t\n&gt; even crawl the page of the seed.\n&gt; \n&gt; Probably I misunderstand something?\n\nWithout specifically reproducing your error, if the problem is that the \nDNS fetch is being ruled out-of-scope, I believe the reason is that a \n&#39;dns:&#39; URI is a curious thing. Even though &quot;dns:example.com&quot; has \n&quot;example.com&quot; in it, it does not generate any traffic to &#39;example.com&#39; \n-- only to DNS servers. Thus the &#39;example.com&#39; string inside that URI \nisn&#39;t considered the same sort of (surt-reordered) URI authority string \nas in &#39;http&#39; URIs, and isn&#39;t ACCEPTed by your OnDomainsDecideRule.\n\nThough this may seem an odd distinction, doing the alternate would \nactually require more special-casing code and a slightly-amiss \ninterpretation of the &#39;dns:&#39; URI, so we don&#39;t do it.\n\n- Gordon @ IA\n\n&gt; Thanks in advance.\n&gt; \n&gt; \n&gt; Cheers,\n&gt; Hei\n&gt; \n&gt; --- Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt; \n&gt;&gt; Hei Chan wrote:\n&gt;&gt;&gt; Hi Bjarne,\n&gt;&gt;&gt;\n&gt;&gt;&gt; Thanks for your time.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Are you saying that RejectDecideRule actually\n&gt;&gt;&gt; dis-allow DNS-lookup and fetching robots.txt?\n&gt;&gt;&gt;\n&gt;&gt;&gt; If I put PrerequisiteAcceptDecideRule right after\n&gt;&gt;&gt; RejctDecideRule, the *only* effect will be\n&gt;&gt; allowing\n&gt;&gt;&gt; Heritrix to do DNS-lookup and fetching robots.txt?\n&gt;&gt; RejectDecideRule REJECTs everything -- it is used to\n&gt;&gt; establish the \n&gt;&gt; default decision. It is then up to later rules to\n&gt;&gt; ACCEPT what you want \n&gt;&gt; and what is necessary for proper crawler\n&gt;&gt; functioning.\n&gt;&gt;\n&gt;&gt; PrerequisiteAcceptDecideRule ACCEPTs all URIs that\n&gt;&gt; have been reached via \n&gt;&gt; a &#39;P&#39;-notated hop. (That is, the last character in\n&gt;&gt; the &#39;hops-path&#39; is \n&gt;&gt; &#39;P&#39;.) The only URIs so notated are DNS and robots\n&gt;&gt; URIs that were \n&gt;&gt; scheduled as necessary prerequisites of other URIs.\n&gt;&gt;\n&gt;&gt; Sometimes PrerequisiteAcceptDecideRule is\n&gt;&gt; unnecessary (because perhaps \n&gt;&gt; all necessary URIs are already being accepted by\n&gt;&gt; other rules), but it \n&gt;&gt; never hurts.\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt;&gt; Thanks in advance.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Cheers,\n&gt;&gt;&gt; Hei\n&gt;&gt;&gt; --- Bjarne Andersen &lt;bja@...&gt;\n&gt;&gt; wrote:\n&gt;&gt;&gt;&gt; You can&#39;t crawl anything if not allowing\n&gt;&gt; DNS-lookup\n&gt;&gt;&gt;&gt; and fetching of robots.txt. This is exactly what\n&gt;&gt;&gt;&gt; PrerequisiteAcceptDecideRule does.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; best\n&gt;&gt;&gt;&gt; -- \n&gt;&gt;&gt;&gt; Bjarne Andersen\n&gt;&gt;&gt;&gt; Daily Manager - netarchive.dk\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; State & University Library\n&gt;&gt;&gt;&gt; Universitetsparken\n&gt;&gt;&gt;&gt; DK-8000 Aarhus C\n&gt;&gt;&gt;&gt; T: +45 89462165 - C: +45 25662353\n&gt;&gt;&gt;&gt; CVR/SE 10100682 - EAN 5798000791084\n&gt;&gt;&gt;&gt; http://netarchive.dk\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; mbarlotta wrote:\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; Oops forgot to provide more info about my\n&gt;&gt;&gt;&gt; setting:\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; DecidingScope:\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; - RejectDecideRule()\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; -\n&gt; OnDomainsDecideRule(decision=Accept,seeds-as-surt-prefixes=true)\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; I am sure someone can give a reason for why this\n&gt;&gt;&gt;&gt; is needed but try \n&gt;&gt;&gt;&gt;&gt; adding this decide rule to the end of your\n&gt;&gt; chain: \n&gt;&gt;&gt;&gt;&gt; PrerequisiteAcceptDecideRule\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; It worked for me...\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Mike\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; begin:vcard\n&gt;&gt;&gt;&gt; fn:Bjarne Andersen\n&gt;&gt;&gt;&gt; n:Andersen;Bjarne\n&gt;&gt;&gt;&gt; org:State & University Library, Aarhus\n&gt;&gt;&gt;&gt; adr:;;Universitetsparken;Aarhus;;DK-8000;Denmark\n&gt;&gt;&gt;&gt; email;internet:bja@...\n&gt;&gt;&gt;&gt; title:Head of Digital Resources Group\n&gt;&gt;&gt;&gt; tel;work:+45 89462165\n&gt;&gt;&gt;&gt; tel;home:+45 86912721\n&gt;&gt;&gt;&gt; tel;cell:+45 28713889\n&gt;&gt;&gt;&gt; note:CVR/SE 10100682 - EAN 5798000791084 \n&gt;&gt;&gt;&gt; x-mozilla-html:FALSE\n&gt;&gt;&gt;&gt; url:http://www.statsbiblioteket.dk\n&gt;&gt;&gt;&gt; version:2.1\n&gt;&gt;&gt;&gt; end:vcard\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;  \n&gt;&gt;&gt;\n&gt; ____________________________________________________________________________________\n&gt;&gt;&gt; We won&#39;t tell. Get more on shows you hate to love \n&gt;&gt;&gt; (and love to hate): Yahoo! TV&#39;s Guilty Pleasures\n&gt;&gt; list.\n&gt;&gt;&gt; http://tv.yahoo.com/collections/265 \n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;  \n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; ____________________________________________________________________________________\n&gt; Never miss an email again!\n&gt; Yahoo! Toolbar alerts you the instant new Mail arrives.\n&gt; http://tools.search.yahoo.com/toolbar/features/mail/\n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}