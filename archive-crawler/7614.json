{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"David Pane","from":"David Pane &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"qez-nRYZZ3FXGsN3MrvLm3jf7LQqoOg6W7w5bDHmxUK0kXA5e5M3adsnHKTBhMsFSzG4zQEr-nMMhBjEa1SET-9-Zw4","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Configuring ContentLengthDecideRule","postDate":"1328837288","msgId":7614,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMzQ3MkE4LjIwNTA3MDJAY3MuY211LmVkdT4=","inReplyToHeader":"PDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+","referencesHeader":"PDRGMTYzQ0E1LjkwMTAwMDRAY3MuY211LmVkdT4gPDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+"},"prevInTopic":7564,"nextInTopic":7617,"prevInTime":7613,"nextInTime":7615,"topicId":7530,"numMessagesInTopic":9,"msgSnippet":"I added this rule right before the FetchHTTP in the crawler-beans.cxml. and right after the fetchWhois bean. ","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 44682 invoked from network); 10 Feb 2012 01:28:14 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m11.grp.sp2.yahoo.com with QMQP; 10 Feb 2012 01:28:14 -0000\r\nX-Received: from unknown (HELO smtp.andrew.cmu.edu) (128.2.11.95)\n  by mta1.grp.sp2.yahoo.com with SMTP; 10 Feb 2012 01:28:14 -0000\r\nX-Received: from [128.2.209.200] (SAVOY.LTI.CS.CMU.EDU [128.2.209.200])\n\t(user=dpane mech=PLAIN (0 bits))\n\tby smtp.andrew.cmu.edu (8.14.4/8.14.4) with ESMTP id q1A1SB5a012436\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);\n\tThu, 9 Feb 2012 20:28:12 -0500\r\nMessage-ID: &lt;4F3472A8.2050702@...&gt;\r\nDate: Thu, 09 Feb 2012 20:28:08 -0500\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0) Gecko/20120129 Thunderbird/10.0\r\nMIME-Version: 1.0\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt;\r\nReferences: &lt;4F163CA5.9010004@...&gt; &lt;4F18BC08.6080409@...&gt;\r\nIn-Reply-To: &lt;4F18BC08.6080409@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-PMX-Version: 5.5.9.388399, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2011.5.19.222118\r\nX-SMTP-Spam-Clean: 8% (\n HTML_NO_HTTP 0.1, BODYTEXTP_SIZE_3000_LESS 0, BODY_SIZE_1400_1499 0, BODY_SIZE_2000_LESS 0, BODY_SIZE_5000_LESS 0, BODY_SIZE_7000_LESS 0, DATE_TZ_NEG_0500 0, NO_URI_FOUND 0, __BOUNCE_CHALLENGE_SUBJ 0, __BOUNCE_NDR_SUBJ_EXEMPT 0, __CT 0, __CTE 0, __CT_TEXT_PLAIN 0, __HAS_HTML 0, __HAS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __MOZILLA_MSGID 0, __SANE_MSGID 0, __TO_MALFORMED_2 0, __USER_AGENT 0)\r\nX-SMTP-Spam-Score: 8%\r\nX-Scanned-By: MIMEDefang 2.60 on 128.2.11.95\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Pane &lt;dpane@...&gt;\r\nSubject: Re: Configuring ContentLengthDecideRule\r\nX-Yahoo-Group-Post: member; u=500983475; y=fKOP7KtUd-xo4jBMhEUVkYHTahjL8ZxeOpFomIPdmc7XpIivALiI1g\r\nX-Yahoo-Profile: david_pane1\r\n\r\n\nI added this rule right before the FetchHTTP in the crawler-beans.cxml.\nand right after the &quot;fetchWhois&quot; bean.\n\n  &lt;!-- added this rule\n       Placing this rule at the mid-fetch point, and it answers REJECT,\n       the download will be cut off before downloading the content. --&gt;\n  &lt;bean id=&quot;contentLenDecideRule&quot; \nclass=&quot;org.archive.modules.deciderules.ContentLengthDecideRule&quot;&gt;\n        &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10000000&quot; /&gt;\n  &lt;/bean&gt;\n\nDoes this do anything or do I need to add other rules?\n\n\nIs having above set as well as this:\n\n  &lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt; \nmaxLengthBytes&quot; value=&quot;10000000\n\nIs there any benefit to having both?\n\n--David\n\n\nOn 1/19/2012 7:57 PM, Gordon Mohr wrote:\n&gt; Re: ContentLengthDecideRule\n&gt;\n&gt; Since you only know the length of a resource after the HTTP response has\n&gt; begin, the ContentLengthDecideRule is only usable as a &#39;mid-fetch&#39; rule\n&gt; that&#39;s specific to the FetchHTTP processor. (That is, it&#39;s not mixed in\n&gt; with normal &#39;scoping&#39; rules to decide whether a URI should be enqueued.)\n&gt;\n&gt; If you put a set of rules at the mid-fetch point, and they answer\n&gt; REJECT, the download will be cut off before downloading the content.\n&gt;\n&gt; I don&#39;t know of an online example of setting up these rules for H3.\n&gt; (There was some prior discussion of the similar rules in H1, though.)\n\n"}}