{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":164438524,"authorName":"Lars Clausen","from":"Lars Clausen &lt;lc@...&gt;","profile":"lrclause","replyTo":"LIST","senderId":"tgeuslBFuwHmEUBIEJ6OF_zs7Kg9y6NxEfxK_Qu5u1p_SBP5vmlviUK8BEpu7_RRgNrfYMLk2NvbvpdrvpurbBge1-laEFniYrCLhg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix dies after a few URLs when\tstarted\tfrom within program","postDate":"1112103587","msgId":1701,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDExMTIxMDM1ODcuMzU1NS4xOC5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPg==","inReplyToHeader":"PDExMTIwOTM5MzQuMzU1NS4xMy5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPg==","referencesHeader":"PDExMTE0MjM3NjQuMzk1NS4zMS5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPiA8NDIzRjcyQUQuOTAyMDcwM0BhcmNoaXZlLm9yZz4gPDExMTIwOTM5MzQuMzU1NS4xMy5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPg=="},"prevInTopic":1700,"nextInTopic":1702,"prevInTime":1700,"nextInTime":1702,"topicId":1680,"numMessagesInTopic":5,"msgSnippet":"... Great debugging effort from my coworker found the problem:  We had org.apache.commons.httpclient in our classpath before the heritrix jar. This stops the","rawEmail":"Return-Path: &lt;lc@...&gt;\r\nX-Sender: lc@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 69657 invoked from network); 29 Mar 2005 13:39:48 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m22.grp.scd.yahoo.com with QMQP; 29 Mar 2005 13:39:48 -0000\r\nReceived: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta4.grp.scd.yahoo.com with SMTP; 29 Mar 2005 13:39:48 -0000\r\nReceived: from pc977.sb.statsbiblioteket.dk\n (pc977.sb.statsbiblioteket.dk [130.225.24.188]) by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IE400FM68MBO8@...&gt; for\n archive-crawler@yahoogroups.com; Tue, 29 Mar 2005 15:39:47 +0200 (MEST)\r\nDate: Tue, 29 Mar 2005 15:39:47 +0200\r\nIn-reply-to: &lt;1112093934.3555.13.camel@...&gt;\r\nTo: Heritrix mailing list &lt;archive-crawler@yahoogroups.com&gt;\r\nMessage-id: &lt;1112103587.3555.18.camel@...&gt;\r\nOrganization: Statsbiblioteket\r\nMIME-version: 1.0\r\nX-Mailer: Ximian Evolution 1.4.5 (1.4.5-9)\r\nContent-type: text/plain\r\nContent-transfer-encoding: 7BIT\r\nReferences: &lt;1111423764.3955.31.camel@...&gt;\n &lt;423F72AD.9020703@...&gt;\n &lt;1112093934.3555.13.camel@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Lars Clausen &lt;lc@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix dies after a few URLs when\tstarted\tfrom\n within program\r\nX-Yahoo-Group-Post: member; u=164438524\r\nX-Yahoo-Profile: lrclause\r\n\r\nOn Tue, 2005-03-29 at 12:58, Lars Clausen wrote:\n&gt; On Tue, 2005-03-22 at 02:19, stack wrote:\n&gt; &gt; Lars Clausen wrote:\n&gt; &gt; \n&gt; &gt; &gt; Hi!\n&gt; &gt; &gt;\n&gt; &gt; &gt; ...What kinds of events\n&gt; &gt; &gt; could cause Heritrix to suddenly give up the spirit like that?\n&gt; &gt; &gt;\n&gt; &gt; ....\n&gt; &gt; \n&gt; &gt; &gt;         synchronized (this) {\n&gt; &gt; &gt;             try {\n&gt; &gt; &gt;                 wait(); // wait for the crawl to finish\n&gt; &gt; &gt;             } catch (InterruptedException e) {\n&gt; &gt; &gt;                 throw new IOFailure(&quot;Heritrix process interrupted&quot;,e);\n&gt; &gt; &gt;             }\n&gt; &gt; &gt;         }\n&gt; &gt; &gt;         logger.fine(&quot;Ending crawl..&quot;);\n&gt; &gt; &gt;     }\n&gt; &gt; \n&gt; &gt; Looks to me as though any thread that sends a notifyAll -- for example, \n&gt; &gt; when the crawler unpauses to start up crawling in HostQueuesFrontier -- \n&gt; &gt; will cause your program to exit.  Perhaps add a check that its actually \n&gt; &gt; time to exit.\n&gt; \n&gt; No, it&#39;s not that my program exits.  Heritrix decides that it&#39;s done and\n&gt; closes down normally, after which my program is notified of this fact\n&gt; and continues.\n\nGreat debugging effort from my coworker found the problem:  We had\norg.apache.commons.httpclient in our classpath before the heritrix jar. \nThis stops the crawl after the first page is fully fetched.  I&#39;m\nassuming that the httpclient things in the heritrix jar are workarounds\nfor just that.\n\n-Lars\n\n\n"}}