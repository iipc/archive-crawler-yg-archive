{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"KMBnjXX-heY1HqqE0bH1vA-1k9cAhdcO1dO5vIkLn_u2RDtWyi3QMrWjevuQn0Srgy3wfuWh_-LJfm10OxCj5MARQjKj","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Heritrix &quot;hangs&quot; and doesn&#39;t finish its job","postDate":"1151587535","msgId":2989,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU4MGtjZiszamVqQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGU0YzJhaCt0bG1zQGVHcm91cHMuY29tPg=="},"prevInTopic":2865,"nextInTopic":2991,"prevInTime":2988,"nextInTime":2990,"topicId":2822,"numMessagesInTopic":9,"msgSnippet":"Hi everyone, I tried to find the cause of the problem for a while by now, but I m still stuck. I added some debug output to heritrix so each time the","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 33036 invoked from network); 29 Jun 2006 13:27:05 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m27.grp.scd.yahoo.com with QMQP; 29 Jun 2006 13:27:05 -0000\r\nReceived: from unknown (HELO n23.bullet.scd.yahoo.com) (66.94.237.52)\n  by mta4.grp.scd.yahoo.com with SMTP; 29 Jun 2006 13:27:05 -0000\r\nReceived: from [66.218.69.3] by n23.bullet.scd.yahoo.com with NNFMP; 29 Jun 2006 13:25:36 -0000\r\nReceived: from [66.218.66.91] by t3.bullet.scd.yahoo.com with NNFMP; 29 Jun 2006 13:25:36 -0000\r\nDate: Thu, 29 Jun 2006 13:25:35 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;e80kcf+3jej@...&gt;\r\nIn-Reply-To: &lt;e4c2ah+tlms@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: Heritrix &quot;hangs&quot; and doesn&#39;t finish its job\r\nX-Yahoo-Group-Post: member; u=191387937; y=jbVtYT4I-rlFvzqDf1A9fJ6FCl9pWJxAc-uI26GmT8FD-9gB\r\nX-Yahoo-Profile: pandae667\r\n\r\nHi everyone,\n\nI tried to find the cause of the problem for a while by now, =\r\nbut I&#39;m\nstill stuck. \nI added some debug output to heritrix so each time th=\r\ne queuedUriCount\ngets increased I get an info in the log, same when it is i=\r\nncreased.\n\nUsing the previous example of mine I see the following in my log=\r\ns:\n\nqueued count increased by 1:  231\nqueued count decreased by 1:   24 (it=\r\n have been 4 queues, max total\ncost of 5 - thus 5 plus DNS query for each?)=\r\n\n\nand in the end, 4 queues are retired, reducing the queued count by: 1,\n2,=\r\n 36, 164\n\nSo a total of 231 objects were queued, but only 227 were dequeued=\r\n,\nresulting in 4 remaining &quot;queued&quot; URIs in no queue that feels responsible=\r\n.\n\nAs the number of single decreases seems sane, the single increases\nseem =\r\ncorrect, too (no URI seems to have been enqueued twice) I suspect\nthe probl=\r\nem must be with the WorkQueues. Is there any chance that the\ngetCount() met=\r\nhod might return the wrong value?\n\nI&#39;d be thankful for any help as I&#39;m desp=\r\nerated by now..\n\nThanks in advance\n  Olaf Freyer\n\n--- In archive-crawler@ya=\r\nhoogroups.com, &quot;pandae667&quot; &lt;aaron667@...&gt; wrote:\n&gt;\n&gt; Hi everyone,\n&gt; \n&gt; its =\r\nme again. I have managed to reproduce this problem with just one\n&gt; seed.\n&gt; =\r\nThe seed in question is:  http://www.chip.de/c1_navseite_12648189.html\n&gt; Th=\r\ne order.xml to trigger the problem can be found at:\n&gt; http://user.cs.tu-ber=\r\nlin.de/~aaron/order.xml\n&gt; \n&gt; With this order.xml it takes about 5 seconds t=\r\no trigger the problem for\n&gt; me (100% reproducable).\n&gt; I&#39;m using an out-of-t=\r\nhe-box heritrix-1.8.0 release without any special\n&gt; tweaks or changes.\n&gt; \n&gt;=\r\n Here is the queue report I get:\n&gt; -----=3D=3D=3D=3D=3D STATS =3D=3D=3D=3D=\r\n=3D-----\n&gt; Discovered:    492\n&gt; Queued:        134\n&gt; Finished:      30\n&gt; Su=\r\nccessfully: 30\n&gt; Failed:       0\n&gt; Disregarded:  0\n&gt; \n&gt; -----=3D=3D=3D=3D=\r\n=3D QUEUES =3D=3D=3D=3D=3D-----\n&gt; Already included size:     492\n&gt; pending:=\r\n     0\n&gt; \n&gt; All class queues map size: 5\n&gt; Active queues: 0\n&gt; In-process: 0=\r\n\n&gt; Ready: 0\n&gt; Snoozed: 0\n&gt; Inactive queues: 0\n&gt; Retired queues: 5\n&gt; Exhaust=\r\ned queues: 0\n&gt; \n&gt; -----=3D=3D=3D=3D=3D IN-PROCESS QUEUES =3D=3D=3D=3D=3D---=\r\n--\n&gt; heritrix_out.log shows once again no sign of an exception.\n&gt; \n&gt; Thx fo=\r\nr any further help in resolving this problem\n&gt;    Olaf Freyer\n&gt; \n&gt; \n&gt; --- I=\r\nn archive-crawler@yahoogroups.com, &quot;pandae667&quot; &lt;aaron667@&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt;=\r\n Hi everyone,\n&gt; &gt;\n&gt; &gt; I&#39;v dug some more through the Heritrix sources to tra=\r\nck down the\n&gt; &gt; problem but haven&#39;t found a solution yet. This problem star=\r\nts to get\n&gt; &gt; really annoying as it happens on almost every big crawl I&#39;m r=\r\nunning\n&gt; &gt; (500+ seeds) but rarly on small ones with less seeds.\n&gt; &gt;\n&gt; &gt; I =\r\nhaven&#39;t found a cause yet but have some theories what might cause it\n&gt; &gt; (e=\r\nven though I might be totally wrong).\n&gt; &gt;\n&gt; &gt; The most propable theory so f=\r\nar is the following:\n&gt; &gt; Two ToeThreads working on different URIs from diff=\r\nerent queues come\n&gt; &gt; accross the same (so far unseen) URI at more or less =\r\n&quot;the exact same\n&gt; &gt; moment&quot;. Both threads come to the conclusion that their=\r\n URI is new and\n&gt; &gt; try to enqueue it in the currect queue. While doing thi=\r\ns both of them\n&gt; &gt; increment to queuedUriCount by 1 but the queue itself be=\r\ning smart\n&gt; &gt; enough only contains one of them.\n&gt; &gt;\n&gt; &gt; I&#39;ll increase loggi=\r\nng to see if my theory might be true and report\n&gt; &gt; back later.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;=\r\n If anyone has any other idea in the meantime I&#39;ll be happy to hear\n&gt; &gt; abo=\r\nut it.\n&gt; &gt;\n&gt; &gt; Thanks alot\n&gt; &gt;   Olaf Freyer\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In archive-cra=\r\nwler@yahoogroups.com, &quot;pandae667&quot; aaron667@ wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi everyone =\r\nhere at archive-crawler,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;m experiencing a strange problem wit=\r\nh my crawler (heritrix cvs +\n&gt; &gt; &gt; AddRedirectFromRootServerToScope fix fro=\r\nm Gordon). It happened to me\n&gt; &gt; &gt; twice so far.\n&gt; &gt; &gt;\n&gt; &gt; &gt; After about 1 =\r\nhour it has fetched (allmost?) all the documents it is\n&gt; &gt; &gt; supposed to (a=\r\nbout 9000 seeds and a limit of 100 documents per host)\n&gt; &gt; &gt; and then just =\r\n&quot;hangs&quot;.\n&gt; &gt; &gt;\n&gt; &gt; &gt; The Frontier Report tells me:\n&gt; &gt; &gt;\n&gt; &gt; &gt;  -----=3D=3D=\r\n=3D=3D=3D STATS =3D=3D=3D=3D=3D-----\n&gt; &gt; &gt;  Discovered:    1008968\n&gt; &gt; &gt;  Q=\r\nueued:        24\n&gt; &gt; &gt;  Finished:      432424\n&gt; &gt; &gt;   Successfully: 426289\n=\r\n&gt; &gt; &gt;   Failed:       1565\n&gt; &gt; &gt;   Disregarded:  4570\n&gt; &gt; &gt;\n&gt; &gt; &gt;  -----=3D=\r\n=3D=3D=3D=3D QUEUES =3D=3D=3D=3D=3D-----\n&gt; &gt; &gt;  Already included size:     =\r\n1008968\n&gt; &gt; &gt;                pending:     0\n&gt; &gt; &gt;\n&gt; &gt; &gt;  All class queues m=\r\nap size: 12872\n&gt; &gt; &gt;              Active queues: 0\n&gt; &gt; &gt;                   =\r\n  In-process: 0\n&gt; &gt; &gt;                          Ready: 0\n&gt; &gt; &gt;              =\r\n          Snoozed: 0\n&gt; &gt; &gt;            Inactive queues: 0\n&gt; &gt; &gt;             =\r\nRetired queues: 2226\n&gt; &gt; &gt;           Exhausted queues: 10646\n&gt; &gt; &gt;\n&gt; &gt; &gt;  -=\r\n----=3D=3D=3D=3D=3D IN-PROCESS QUEUES =3D=3D=3D=3D=3D-----\n&gt; &gt; &gt;\n&gt; &gt; &gt; So t=\r\nhere are still 24 queued URIs - but no active queue left (last\n&gt; &gt; &gt; time a=\r\n queue did anything was about 12 hours ago).\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thanks in advance =\r\nfor any ideas\n&gt; &gt; &gt;   Olaf Freyer\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n\n\n"}}