{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"eK79hne_vHXlQ9XWVUm4w7zqJ2GE5rho6mB7IebXql2-sbY9vh--ESWlCjFuZPUtIySQAtWRh9RRnYlpBpJwXjAhiXG0160","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: cannot recover from checkpoint","postDate":"1327088172","msgId":7551,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMTlDMjJDLjgwMDAyMDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDRGMThEM0Q1LjYwNTA1MDJAY3MuY211LmVkdT4=","referencesHeader":"PDRGMTcxQ0UyLjIwOTAwMDZAY3MuY211LmVkdT4gPDRGMTg4QTA5LjUwMDAwMDVAY3MuY211LmVkdT4gPDRGMThDRTQxLjUwMDA4MDlAYXJjaGl2ZS5vcmc+IDw0RjE4RDNENS42MDUwNTAyQGNzLmNtdS5lZHU+"},"prevInTopic":7544,"nextInTopic":0,"prevInTime":7550,"nextInTime":7552,"topicId":7532,"numMessagesInTopic":6,"msgSnippet":"Essentially that lengthening means that while all the crawler components resumed as of their state at the checkpoint instant, the on-disk structures backed by","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 91744 invoked from network); 20 Jan 2012 19:36:12 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m1.grp.sp2.yahoo.com with QMQP; 20 Jan 2012 19:36:12 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta5.grp.sp2.yahoo.com with SMTP; 20 Jan 2012 19:36:12 -0000\r\nX-Received: (qmail 31708 invoked by uid 0); 20 Jan 2012 19:36:10 -0000\r\nX-Received: from 76.218.213.38 (HELO silverbook.local) (76.218.213.38)\n  by relay01.pair.com with SMTP; 20 Jan 2012 19:36:10 -0000\r\nX-pair-Authenticated: 76.218.213.38\r\nMessage-ID: &lt;4F19C22C.8000207@...&gt;\r\nDate: Fri, 20 Jan 2012 11:36:12 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: David Pane &lt;dpane@...&gt;\r\nCc: archive-crawler@yahoogroups.com\r\nReferences: &lt;4F171CE2.2090006@...&gt; &lt;4F188A09.5000005@...&gt; &lt;4F18CE41.5000809@...&gt; &lt;4F18D3D5.6050502@...&gt;\r\nIn-Reply-To: &lt;4F18D3D5.6050502@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: cannot recover from checkpoint\r\nX-Yahoo-Group-Post: member; u=137285340; y=IrDFclzN-z08PB7W3vS8xkqN41IvsUT6WbHgEF7kvvGG\r\nX-Yahoo-Profile: gojomo\r\n\r\nEssentially that lengthening means that while all the crawler components \nresumed as of their state at the checkpoint instant, the on-disk \nstructures backed by those files have an extra 8MB of changes in them.\n\nIt might work for a while, but counts will be mismatched and especially \nas queues are exhausted that could cause new exceptions with an \nunforeseeable impact on coverage, since usual assumptions/invariants are \nnow false.\n\nSo it&#39;s not truly &#39;okay&#39; but compared to the other accumulated issues \n(such as the number of queues essentially lost-to-activity by the prior \nerrors reported), I can&#39;t weigh the risks/rewards of trying to just \ncontinue. (Trying a resume without that edit might be marginally better \nbut enough better given the other problems? I don&#39;t know...)\n\n- Gordon\n\nOn 1/19/12 6:39 PM, David Pane wrote:\n&gt; Thank you for your replies (to this and my other postings).\n&gt;\n&gt; The difference in the original checkpoint manifest file and the modified\n&gt; ended up only being;\n&gt;\n&gt; new: 000eb572.jdb,9999781\n&gt; old: 000eb572.jdb,1061464\n&gt;\n&gt; I guess I ended up actually fixing more things from deleting the *,jdb\n&gt; in the state directory than I first realized.\n&gt;\n&gt; Would you recommend starting over with the original manifest file for\n&gt; the checkpoint or do you think the instance will be okay?\n&gt;\n&gt; --David\n&gt;\n&gt; On 1/19/12 9:15 PM, Gordon Mohr wrote:\n&gt;&gt; I&#39;d overlooked this message when sending my previous message. Deleting\n&gt;&gt; the &quot;??&quot; keys is reasonable and would only mean a slight discrepancy\n&gt;&gt; in the running statistics.\n&gt;&gt;\n&gt;&gt; The WARNINGs about a size larger than expected should be harmless;\n&gt;&gt; that discrepancy is an aftereffect of the last log file having one\n&gt;&gt; size as of the time of the checkpoint, and then unavoidably growing as\n&gt;&gt; the crawl continues after that point.\n&gt;&gt;\n&gt;&gt; However, the errors about being unable to make links or delete files\n&gt;&gt; may be an indication of some special difficulty on your system\n&gt;&gt; (perhaps due to OS load or filesystem issues).\n&gt;&gt;\n&gt;&gt; If they are transient, then yes, clearing out the attempted restore\n&gt;&gt; and trying again from the pristine checkpoint should be legitimate.\n&gt;&gt;\n&gt;&gt; You *shouldn&#39;t* ever edit the manifest&#39;s idea of how log files are.\n&gt;&gt; Those were the accurate lengths at the time of the checkpoint; if the\n&gt;&gt; last file was longer it will be truncated to match the desired size\n&gt;&gt; during the resume, but any other discrepancies could mean fatal\n&gt;&gt; corruption to the on-disk data stuctures. (Any missing data is\n&gt;&gt; probably disasterous; a bit of extra data at then end might be\n&gt;&gt; survivable.)\n&gt;&gt;\n&gt;&gt; - Gordon\n&gt;&gt;\n&gt;&gt; On 1/19/12 1:24 PM, David Pane wrote:\n&gt;&gt;&gt; I was finally able to get instance #1 restarted.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Although I did a number of things before successfully restoring I\n&gt;&gt;&gt; believe that the main source of the failure was the duplicate key\n&gt;&gt;&gt; &quot;??text/javascript&quot; error&quot;. It is unclear what caused this duplicate\n&gt;&gt;&gt; key, but it appears that the following few checkpoints of the restarted\n&gt;&gt;&gt; instance dose not have this duplicate entry anymore.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; To ensure that I didn&#39;t corrupt the current state of the crawl state, I\n&gt;&gt;&gt; copied the following to a new directory /basepath/2011-12-23/.\n&gt;&gt;&gt;\n&gt;&gt;&gt; &quot;action&quot; directory\n&gt;&gt;&gt; &quot;checkpoints&quot; directory\n&gt;&gt;&gt; &quot;crawler-beans.cxml&quot; file\n&gt;&gt;&gt; &quot;diversions&quot; directory\n&gt;&gt;&gt; &quot;blacklist-optout.surt&quot; file\n&gt;&gt;&gt; &quot;seeds.txt&quot; file\n&gt;&gt;&gt;\n&gt;&gt;&gt; I created a the directory &quot;state&quot; and copied the desired recovery\n&gt;&gt;&gt; checkpoint directory from the original state directory into the newly\n&gt;&gt;&gt; create state directory.\n&gt;&gt;&gt;\n&gt;&gt;&gt; To eliminate the java.lang.RuntimeException: org.json.JSONException:\n&gt;&gt;&gt; Duplicate key &quot;??text/javascript&quot; error, I removed the second entry of\n&gt;&gt;&gt; of each of these:\n&gt;&gt;&gt; &quot;??text/javascript&quot;:1,\n&gt;&gt;&gt; &quot;??text/javascript&quot;:74208,\n&gt;&gt;&gt;\n&gt;&gt;&gt; from the file /path to jobs\n&gt;&gt;&gt; directory/2011-12-23/checkpoints/statisticsTracker\n&gt;&gt;&gt;\n&gt;&gt;&gt; Finally, I was having problems with a couple of files in the\n&gt;&gt;&gt; /path to jobs directory/2011-12-23/state/cp00001-201201xxxxxxxx\n&gt;&gt;&gt; directory.\n&gt;&gt;&gt;\n&gt;&gt;&gt; The filenames look like this &quot;000eb572.jdb,9999781&quot; where I think the\n&gt;&gt;&gt; 9999781 is suppose to represent the size of the file.\n&gt;&gt;&gt;\n&gt;&gt;&gt; WARNING thread-1ex6 org.archive.bdb.BdbModule.doRecover()\n&gt;&gt;&gt; 000eb572.jdb,9999781 expected 9999781 actual 9999838\n&gt;&gt;&gt; WARNING thread-16 org.archive.bdb.BdbModule.doRecover() 000eb572.jdb\n&gt;&gt;&gt; expected 9999781 actual 9999838\n&gt;&gt;&gt;\n&gt;&gt;&gt; Although these lines are not SEVER errors, I was wondering what would\n&gt;&gt;&gt; cause this?\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On several unsuccessful attempts on recovering from this copied\n&gt;&gt;&gt; checkpoint, I saw different files cause errors similar to this:\n&gt;&gt;&gt;\n&gt;&gt;&gt; SEVERE thread-12 org.archive.bdb.BdbModule.doRecover() unable to create\n&gt;&gt;&gt; required restore link /path to jobs\n&gt;&gt;&gt; directory/2011-12-23/state/000720e2.jdb\n&gt;&gt;&gt; SEVERE thread-16 org.archive.bdb.BdbModule.doRecover() unable to delete\n&gt;&gt;&gt; obstructing file /path to jobs directory/2011-12-23/state/0005915c.jdb\n&gt;&gt;&gt;\n&gt;&gt;&gt; In order to eliminate these SEVERE errors, I deleted the individual\n&gt;&gt;&gt; files *.jdb in the state directory. I also renamed the files in the\n&gt;&gt;&gt; checkpoint directory to represent the correct size. I modified the\n&gt;&gt;&gt; manifest file in that directory to represent the newly named file.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Failed attempts to restore from this checkpoint appeared to cause the\n&gt;&gt;&gt; checkpoint files to change size and thus need to be renamed to avoid the\n&gt;&gt;&gt; warning of expected vs actual size as explained above.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; --David\n&gt;&gt;&gt;\n&gt;&gt;&gt; On 1/18/2012 2:26 PM, David Pane wrote:\n&gt;&gt;&gt;&gt; This morning I shut down all 5 instances. 4 recovered from the last\n&gt;&gt;&gt;&gt; checkpoint and are crawling. They are all running on less than\n&gt;&gt;&gt;&gt; configured threads due to the server errors I&#39;ve seen before.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; http://tech.groups.yahoo.com/group/archive-crawler/message/7493\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; It is more severe than it was the last time.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Instance #0 has 40 less - running with 1160.\n&gt;&gt;&gt;&gt; Instance #2 has 234 less - running with 234.\n&gt;&gt;&gt;&gt; Instance #3 has 111 less - running with 111.\n&gt;&gt;&gt;&gt; Instance #4 has 26 less - running with 26.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; -------------\n&gt;&gt;&gt;&gt; Instance #1:\n&gt;&gt;&gt;&gt; -------------\n&gt;&gt;&gt;&gt; When attempting to recover from &quot;any&quot; recent checkpoint, I get the\n&gt;&gt;&gt;&gt; following errors (see below) and the recover fails. Although this\n&gt;&gt;&gt;&gt; instance did not give me problems before, there were multiple SEVERE\n&gt;&gt;&gt;&gt; errors in the logs previous to me stopping the crawl. see attached file\n&gt;&gt;&gt;&gt; - I removed all INFO lines from the logs - sorry for the large\n&gt;&gt;&gt;&gt; attachment....\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I found that the mime-report has two entries for &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; &gt;&gt;&gt; grep javascript mimetype-report.txt.2012-01-17h19m05\n&gt;&gt;&gt;&gt; 726509 15900289997 application/x-javascript\n&gt;&gt;&gt;&gt; 277744 5991936365 application/javascript\n&gt;&gt;&gt;&gt; 127275 3432127316 text/javascript\n&gt;&gt;&gt;&gt; 561 146075 text/javascript+json\n&gt;&gt;&gt;&gt; 272 7486875 text/x-javascript\n&gt;&gt;&gt;&gt; 24 142128 javascript/text\n&gt;&gt;&gt;&gt; 15 155529 javascript\n&gt;&gt;&gt;&gt; 10 191371 ?text/javascript?\n&gt;&gt;&gt;&gt; 6 175283 javascript/x-javascript\n&gt;&gt;&gt;&gt; 4 80925 application/vnd.javascript\n&gt;&gt;&gt;&gt; 3 193869 type/javascript\n&gt;&gt;&gt;&gt; 1 74208 ??text/javascript\n&gt;&gt;&gt;&gt; 1 33306 txt/javascript\n&gt;&gt;&gt;&gt; 1 74208 ??text/javascript\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I am also ready to start a recover from the frontier.recover but I am\n&gt;&gt;&gt;&gt; hoping that there is a way around this problem.... any ideas?????\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; --David\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Here is a sample of what is in the logs.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Job.log:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; 2012-01-18T17:37:39.992Z SEVERE Failed to start bean\n&gt;&gt;&gt;&gt; &#39;statisticsTracker&#39;; nested exception is java.lang.RuntimeException:\n&gt;&gt;&gt;&gt; org.json.JSONException: Duplicate key &quot;??text/javascript&quot; (in thread\n&gt;&gt;&gt;&gt; &#39;2011-12-23 launchthread&#39;)\n&gt;&gt;&gt;&gt; 2012-01-18T17:37:39.992Z SEVERE Failed to start bean\n&gt;&gt;&gt;&gt; &#39;statisticsTracker&#39;; nested exception is java.lang.RuntimeException:\n&gt;&gt;&gt;&gt; org.json.JSONException: Duplicate key &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt; 2012-01-18T17:37:39.990Z INFO Job instance discarded\n&gt;&gt;&gt;&gt; 2012-01-18T17:04:00.791Z SEVERE unable to delete obstructing file\n&gt;&gt;&gt;&gt; /scratch/heritrix-3.1.1/jobs/2011-12-23/state/00088669.jdb (in thread\n&gt;&gt;&gt;&gt; &#39;2011-12-23 launchthread&#39;)\n&gt;&gt;&gt;&gt; 2012-01-18T17:03:55.033Z SEVERE unable to create required restore link\n&gt;&gt;&gt;&gt; /scratch/heritrix-3.1.1/jobs/2011-12-23/state/00081efd.jdb (in thread\n&gt;&gt;&gt;&gt; &#39;2011-12-23 launchthread&#39;)\n&gt;&gt;&gt;&gt; 2012-01-18T17:02:18.458Z INFO Job launched\n&gt;&gt;&gt;&gt; 2012-01-18T16:59:19.283Z INFO Job instantiated\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; ---------------------------------------\n&gt;&gt;&gt;&gt; cat heritrix_out.log\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Wed Jan 18 11:59:05 EST 2012 Starting heritrix\n&gt;&gt;&gt;&gt; Linux compute-1-12.local 2.6.18-194.17.4.el5 #1 SMP Mon Oct 25 15:50:53\n&gt;&gt;&gt;&gt; EDT 2010 x86_64 GNU/Linux\n&gt;&gt;&gt;&gt; java version &quot;1.6.0_16&quot;\n&gt;&gt;&gt;&gt; Java(TM) SE Runtime Environment (build 1.6.0_16-b01)\n&gt;&gt;&gt;&gt; Java HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode)\n&gt;&gt;&gt;&gt; JAVA_OPTS=-Xmx55000M\n&gt;&gt;&gt;&gt; core file size (blocks, -c) 0\n&gt;&gt;&gt;&gt; data seg size (kbytes, -d) unlimited\n&gt;&gt;&gt;&gt; scheduling priority (-e) 0\n&gt;&gt;&gt;&gt; file size (blocks, -f) unlimited\n&gt;&gt;&gt;&gt; pending signals (-i) 530432\n&gt;&gt;&gt;&gt; max locked memory (kbytes, -l) unlimited\n&gt;&gt;&gt;&gt; max memory size (kbytes, -m) unlimited\n&gt;&gt;&gt;&gt; open files (-n) 4096\n&gt;&gt;&gt;&gt; pipe size (512 bytes, -p) 8\n&gt;&gt;&gt;&gt; POSIX message queues (bytes, -q) 819200\n&gt;&gt;&gt;&gt; real-time priority (-r) 0\n&gt;&gt;&gt;&gt; stack size (kbytes, -s) unlimited\n&gt;&gt;&gt;&gt; cpu time (seconds, -t) unlimited\n&gt;&gt;&gt;&gt; max user processes (-u) 530432\n&gt;&gt;&gt;&gt; virtual memory (kbytes, -v) unlimited\n&gt;&gt;&gt;&gt; file locks (-x) unlimited\n&gt;&gt;&gt;&gt; Sun Microsystems Inc. Java(TM) SE Runtime Environment 1.6.0_16-b01\n&gt;&gt;&gt;&gt; Using ad-hoc HTTPS certificate with fingerprint...\n&gt;&gt;&gt;&gt; SHA1:7E:D5:A0:17:AD:CB:03:7D:4C:AD:FB:E7:04:41:AB:0B:1A:42:78:B3\n&gt;&gt;&gt;&gt; Verify in browser before accepting exception.\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.737 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/var where job expected from: ./jobs/var\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.758 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/heritrix_dir where job expected from:\n&gt;&gt;&gt;&gt; ./jobs/heritrix_dir\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.892 INFO thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.addJobDirectory() added crawl job:\n&gt;&gt;&gt;&gt; 2011-12-23\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.893 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/heritrix_out.logSAVE~ where job expected from:\n&gt;&gt;&gt;&gt; ./jobs/heritrix_out.logSAVE~\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.893 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/heritrix_out.logSAVE where job expected from:\n&gt;&gt;&gt;&gt; ./jobs/heritrix_out.logSAVE\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.894 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/heritrix_out.log20120118 where job expected from:\n&gt;&gt;&gt;&gt; ./jobs/heritrix_out.log20120118\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:05.894 WARNING thread-10\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.Engine.findJobConfigs() invalid job\n&gt;&gt;&gt;&gt; directory: ./jobs/heritrix_out.log20120118no-INFO where job expected\n&gt;&gt;&gt;&gt; from: ./jobs/heritrix_out.log20120118no-INFO\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:06.04::INFO: Logging to STDERR via\n&gt;&gt;&gt;&gt; org.mortbay.log.StdErrLog\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:06.05::INFO: jetty-6.1.14\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:06.369::INFO: Started\n&gt;&gt;&gt;&gt; SslSocketConnector@10.1.1.249:8443\n&gt;&gt;&gt;&gt; engine listening at port 8443\n&gt;&gt;&gt;&gt; operator login set per file @...\n&gt;&gt;&gt;&gt; Heritrix version: 3.1.1-SNAPSHOT-20111222.225453\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:17.201 INFO thread-11\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext.prepareRefresh()\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Refreshing org.archive.spring.PathSharingContext@44ed904: startup date\n&gt;&gt;&gt;&gt; [Wed Jan 18 16:59:17 GMT 2012]; root of context hierarchy\n&gt;&gt;&gt;&gt; 2012-01-18 16:59:19.283 INFO thread-11\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlJob.instantiateContainer() Job\n&gt;&gt;&gt;&gt; instantiated\n&gt;&gt;&gt;&gt; 2012-01-18 17:02:18.458 INFO thread-12\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlJob.launch() Job launched\n&gt;&gt;&gt;&gt; 2012-01-18 17:02:19.997 INFO thread-13\n&gt;&gt;&gt;&gt; org.archive.spring.PathSharingContext.initLaunchId() launch id\n&gt;&gt;&gt;&gt; 20120118170219\n&gt;&gt;&gt;&gt; 2012-01-18 17:02:20.047 INFO thread-13\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start()\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Starting beans in phase 0\n&gt;&gt;&gt;&gt; 2012-01-18 17:03:55.033 SEVERE thread-13\n&gt;&gt;&gt;&gt; org.archive.bdb.BdbModule.doRecover() unable to create required restore\n&gt;&gt;&gt;&gt; link /scratch/heritrix-3.1.1/jobs/2011-12-23/state/00081efd.jdb\n&gt;&gt;&gt;&gt; 2012-01-18 17:04:00.791 SEVERE thread-13\n&gt;&gt;&gt;&gt; org.archive.bdb.BdbModule.doRecover() unable to delete obstructing file\n&gt;&gt;&gt;&gt; /scratch/heritrix-3.1.1/jobs/2011-12-23/state/00088669.jdb\n&gt;&gt;&gt;&gt; 2012-01-18 17:34:12.297 INFO thread-13\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext.doClose()\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Closing org.archive.spring.PathSharingContext@44ed904: startup date\n&gt;&gt;&gt;&gt; [Wed\n&gt;&gt;&gt;&gt; Jan 18 16:59:17 GMT 2012]; root of context hierarchy\n&gt;&gt;&gt;&gt; 2012-01-18 17:34:12.298 INFO thread-13\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop()\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Stopping beans in phase 0\n&gt;&gt;&gt;&gt; 2012-01-18 17:37:39.990 INFO thread-13\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlJob.doTeardown() Job instance\n&gt;&gt;&gt;&gt; discarded\n&gt;&gt;&gt;&gt; 2012-01-18 17:37:39.992 SEVERE thread-13\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlJob.beansException() Failed to start\n&gt;&gt;&gt;&gt; bean &#39;statisticsTracker&#39;; nested exception is\n&gt;&gt;&gt;&gt; java.lang.RuntimeException: org.json.JSONException: Duplicate key\n&gt;&gt;&gt;&gt; &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt; org.springframework.context.ApplicationContextException: Failed to\n&gt;&gt;&gt;&gt; start\n&gt;&gt;&gt;&gt; bean &#39;statisticsTracker&#39;; nested exception is\n&gt;&gt;&gt;&gt; java.lang.RuntimeException: org.json.JSONException: Duplicate key\n&gt;&gt;&gt;&gt; &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:169)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:159)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.access$1(DefaultLifecycleProcessor.java:154)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:335)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:143)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.start(DefaultLifecycleProcessor.java:89)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext.start(AbstractApplicationContext.java:1236)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.archive.spring.PathSharingContext.start(PathSharingContext.java:112)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlJob.startContext(CrawlJob.java:458)\n&gt;&gt;&gt;&gt; at org.archive.crawler.framework.CrawlJob$1.run(CrawlJob.java:432)\n&gt;&gt;&gt;&gt; Caused by: java.lang.RuntimeException: org.json.JSONException:\n&gt;&gt;&gt;&gt; Duplicate\n&gt;&gt;&gt;&gt; key &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt; at org.archive.checkpointing.Checkpoint.loadJson(Checkpoint.java:142)\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.archive.crawler.reporting.StatisticsTracker.start(StatisticsTracker.java:355)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:166)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; ... 11 more\n&gt;&gt;&gt;&gt; Caused by: org.json.JSONException: Duplicate key &quot;??text/javascript&quot;\n&gt;&gt;&gt;&gt; at org.json.JSONObject.putOnce(JSONObject.java:1076)\n&gt;&gt;&gt;&gt; at org.json.JSONObject.&lt;init&gt;(JSONObject.java:205)\n&gt;&gt;&gt;&gt; at org.json.JSONTokener.nextValue(JSONTokener.java:344)\n&gt;&gt;&gt;&gt; at org.json.JSONObject.&lt;init&gt;(JSONObject.java:205)\n&gt;&gt;&gt;&gt; at org.json.JSONObject.&lt;init&gt;(JSONObject.java:402)\n&gt;&gt;&gt;&gt; at org.archive.checkpointing.Checkpoint.loadJson(Checkpoint.java:140)\n&gt;&gt;&gt;&gt; ... 13 more\n&gt;&gt;&gt;&gt; Exception in thread &quot;2011-12-23 launchthread&quot;\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.BeanCreationException: Error creating\n&gt;&gt;&gt;&gt; bean with name &#39;configPathConfigurer&#39; defined in URL\n&gt;&gt;&gt;&gt; [file:/scratch/heritrix-3.1.1/jobs/2011-12-23/crawler-beans.cxml]:\n&gt;&gt;&gt;&gt; Initialization of bean failed; nested exception is\n&gt;&gt;&gt;&gt; java.lang.IllegalStateException: BeanFactory not initialized or already\n&gt;&gt;&gt;&gt; closed - call &#39;refresh&#39; before accessing beans via the\n&gt;&gt;&gt;&gt; ApplicationContext\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:148)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:86)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlController.sendCrawlStateChangeEvent(CrawlController.java:326)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.archive.crawler.framework.CrawlController.requestCrawlStart(CrawlController.java:347)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at org.archive.crawler.framework.CrawlJob$1.run(CrawlJob.java:434)\n&gt;&gt;&gt;&gt; Caused by: java.lang.IllegalStateException: BeanFactory not initialized\n&gt;&gt;&gt;&gt; or already closed - call &#39;refresh&#39; before accessing beans via the\n&gt;&gt;&gt;&gt; ApplicationContext\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1091)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.context.support.AbstractApplicationContext$ApplicationListenerDetector.postProcessAfterInitialization(AbstractApplicationContext.java:1369)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:407)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1426)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; at\n&gt;&gt;&gt;&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; ... 11 more\n&gt;&gt;\n\n"}}