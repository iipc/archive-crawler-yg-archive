{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"gg3Ap9wN5If_qcA9BkLKxXVyvClzBxOCnAewsMGiB1ZJJeZZuT4yFnIbHsNVn-u2zIU--lDGzfTUHxixXU7c9XyuOsl4RRY","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: about login","postDate":"1306190036","msgId":7147,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDREREFFMEQ0LjYwMDAyQGFyY2hpdmUub3JnPg==","inReplyToHeader":"PGlyMHBsaytrOXB0QGVHcm91cHMuY29tPg==","referencesHeader":"PGlyMHBsaytrOXB0QGVHcm91cHMuY29tPg=="},"prevInTopic":7145,"nextInTopic":7160,"prevInTime":7146,"nextInTime":7148,"topicId":7132,"numMessagesInTopic":5,"msgSnippet":"The static AbstractCookieStorage.loadCookies method loads cookies into the map provided as its 2nd argument. If that bean is loaded with the right cookies, and","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 10578 invoked from network); 23 May 2011 22:33:58 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m13.grp.re1.yahoo.com with QMQP; 23 May 2011 22:33:58 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta3.grp.re1.yahoo.com with SMTP; 23 May 2011 22:33:58 -0000\r\nX-Received: (qmail 52772 invoked by uid 0); 23 May 2011 22:33:56 -0000\r\nX-Received: from 208.70.27.190 (HELO silverbook.local) (208.70.27.190)\n  by relay02.pair.com with SMTP; 23 May 2011 22:33:56 -0000\r\nX-pair-Authenticated: 208.70.27.190\r\nMessage-ID: &lt;4DDAE0D4.60002@...&gt;\r\nDate: Mon, 23 May 2011 15:33:56 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.17) Gecko/20110414 Thunderbird/3.1.10\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;ir0plk+k9pt@...&gt;\r\nIn-Reply-To: &lt;ir0plk+k9pt@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: about login\r\nX-Yahoo-Group-Post: member; u=137285340; y=Xkce25K-EDrVFy391XUo8Odr4QBy1zpQgsZG35mzRs37\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe static AbstractCookieStorage.loadCookies method loads cookies into \nthe map provided as its 2nd argument. If that bean is loaded with the \nright cookies, and then consulted by FetchHTTP for cookies to use when \ncomposing HTTP requests, the right cookies should be sent analogously to \nH1.\n\nHow are you examining the cookies through the web interface? Are you \nsure the &#39;cookieStorage&#39; bean is being picked up by your FetchHTTP \ncomponent as the source of cookies? (In our default setup, as the one \n&#39;CookieStorage&#39; instance available, it will be &#39;auto-wired&#39; into \nFetchHTTP to fulfill its need for such a component.)\n\nIf you are using a WARCWriterProcessor, or can temporarily enable one, \nyou could review the exact requests sent, to see if they have the \nexpected session cookies.\n\n- Gordon @ IA\n\nOn 5/18/11 8:47 AM, goblin_cz wrote:\n&gt;\n&gt;\n&gt; Hi Gordon,\n&gt;\n&gt; I have problem with mentioned CookieStorage in heritrix 3.1.0. I have defined the file with cookies:\n&gt;\n&gt; &lt;bean id=&quot;cookieStorage&quot; class=&quot;org.archive.modules.fetcher.BdbCookieStorage&quot;&gt;\n&gt; &lt;property name=&quot;cookiesLoadFile&quot; value=&quot;/opt/heritrix/cookies.txt&quot;/&gt;\n&gt; &lt;property name=&quot;cookiesSaveFile&quot; value=&quot;/opt/heritrix/cookies_dump_2.txt&quot;/&gt;\n&gt; &lt;property name=&quot;bdbModule&quot;&gt;\n&gt; &lt;ref bean=&quot;bdb&quot;/&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; And even though I can view content of the cookie file from the web interface, the cookies are not loaded and I crawl only login forms. In heritrix 1.15 I have crawled the pages successfully. I have done some digging in the code and I am confused by AbstractCookieStorage.loadCookies() method. There is only logging and no functionality which will store cookie to some kind of collection. Where the storing happens and how could I find source of this behaviour?\n&gt;\n&gt; Thank you very much.\n&gt;\n&gt; Best,\n&gt;\n&gt; Adam\n&gt;\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr&lt;gojomo@...&gt;  wrote:\n&gt;&gt;\n&gt;&gt; Is the name of the login button on the login form really &#39;logonbuttom&#39;\n&gt;&gt; (with an &#39;m&#39;)? (For that matter, are the username and password fields\n&gt;&gt; really named &#39;username&#39; and &#39;password&#39;?)\n&gt;&gt;\n&gt;&gt; Log-ins vary a lot between sites. Heritrix can only log-in if the login\n&gt;&gt; form has predictable form-element-names, and setting this up requires\n&gt;&gt; careful inspection of the target login form. Even so, some sites may use\n&gt;&gt; dynamic/hidden form fields (especially nowadays as a protection against\n&gt;&gt; cross-site request forgeries) that will foil the current Heritrix login\n&gt;&gt; code.\n&gt;&gt;\n&gt;&gt; If trying to get this to work, the HtmlFormCredentialTest unit test\n&gt;&gt; class is the best model, and you would want to debug what you&#39;re trying\n&gt;&gt; in a tiny instant test crawl of just that login form and one\n&gt;&gt; login-protected page.\n&gt;&gt;\n&gt;&gt; If the site&#39;s design doesn&#39;t work with the very-limited Heritrix login\n&gt;&gt; capability, another option may be to:\n&gt;&gt;\n&gt;&gt; (1) login with Firefox\n&gt;&gt; (2) export the relevant cookies proving you&#39;re logged in ï¿½ I think\n&gt;&gt; nowadays this requires a Firefox extension\n&gt;&gt; (3) supply that cookies.txt file to the Heritrix CookieStorage bean via\n&gt;&gt; its &#39;cookiesLoadFile&#39; property, which tells it a place to preload\n&gt;&gt; cookies at crawl-start\n&gt;&gt;\n&gt;&gt; Hope this helps,\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt; On 4/27/11 11:16 PM, mickey.guoyun wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Hi,Gordon:\n&gt;&gt;&gt; I use Heritrix3.0 ,I need to login to crawl some urls;so i config the\n&gt;&gt;&gt; crawler-beans.cxml like this:\n&gt;&gt;&gt; &lt;bean id=&quot;credentialDearedu&quot;\n&gt;&gt;&gt; class=&quot;org.archive.modules.credential.HtmlFormCredential&quot;&gt;\n&gt;&gt;&gt; &lt;property name=&quot;domain&quot;&gt;\n&gt;&gt;&gt; &lt;value&gt;www.xxx.com&lt;/value&gt;\n&gt;&gt;&gt; &lt;/property&gt;\n&gt;&gt;&gt; &lt;property name=&quot;loginUri&quot;&gt;\n&gt;&gt;&gt; &lt;value&gt;http://www.xxx.com/bbs/login.asp?action=chk&amp;from=login&lt;/value&gt;\n&gt;&gt;&gt; &lt;/property&gt;\n&gt;&gt;&gt; &lt;property name=&quot;formItems&quot;&gt;\n&gt;&gt;&gt; &lt;map&gt;\n&gt;&gt;&gt; &lt;entry key=&quot;username&quot; value=&quot;xxx&quot;/&gt;\n&gt;&gt;&gt; &lt;entry key=&quot;password&quot; value=&quot;xxx&quot;/&gt;\n&gt;&gt;&gt; &lt;entry key=&quot;logonbuttom&quot; value=&quot;submit&quot;/&gt;\n&gt;&gt;&gt; &lt;/map&gt;\n&gt;&gt;&gt; &lt;/property&gt;\n&gt;&gt;&gt; &lt;/bean&gt;\n&gt;&gt;&gt; &lt;bean id=&quot;credentialStore&quot;\n&gt;&gt;&gt; class=&quot;org.archive.modules.credential.CredentialStore&quot;&gt;\n&gt;&gt;&gt; &lt;property name=&quot;credentials&quot;&gt;\n&gt;&gt;&gt; &lt;map&gt;\n&gt;&gt;&gt; &lt;entry key=&quot;www.dearedu.com&quot; value-ref=&quot;credentialDearedu&quot; /&gt;\n&gt;&gt;&gt; &lt;/map&gt;\n&gt;&gt;&gt; &lt;/property&gt;\n&gt;&gt;&gt; &lt;/bean&gt;\n&gt;&gt;&gt; and the config is success.\n&gt;&gt;&gt; but after run about 12 hours,the Hertirx only process the login\n&gt;&gt;&gt; url(http://www.xxx.com/bbs/login.asp?action=chk&amp;from=login\n&gt;&gt;&gt; &lt;http://www.xxx.com/bbs/login.asp?action=chk&amp;from=login&gt;  ). and i\n&gt;&gt;&gt; check useName and password can login.why?\n&gt;&gt;&gt; 2011-04-28\n&gt;&gt;&gt; ------------------------------------------------------------------------\n&gt;&gt;&gt; mickey.guoyun\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}