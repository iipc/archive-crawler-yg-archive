{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Qhoqpd32SBmB-JlHI5RuiiDW-mAG1ZA0DsYgKYBLw-3IIBGAdR-k4MGj_QKEpgyK4ci3ZTeKuwNoowf0q7I9jdlJS6bB_b0","spamInfo":{"isSpam":false,"reason":"2"},"subject":"Re: [archive-crawler] Re: i modify MirrorWriterProcessor  and FetchHTTP ,but","postDate":"1195439689","msgId":4707,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3NDBGNjQ5LjIwOTAyMDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGZocW1zNit0bjNsQGVHcm91cHMuY29tPg==","referencesHeader":"PGZocW1zNit0bjNsQGVHcm91cHMuY29tPg=="},"prevInTopic":4704,"nextInTopic":4709,"prevInTime":4705,"nextInTime":4708,"topicId":4691,"numMessagesInTopic":5,"msgSnippet":"Because the URI string is known as soon as the URI is known, such as when it is entered as a seed or discovered. Only after FetchHTTP completes (successfully)","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 59467 invoked from network); 19 Nov 2007 02:34:58 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m54.grp.scd.yahoo.com with QMQP; 19 Nov 2007 02:34:58 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta15.grp.scd.yahoo.com with SMTP; 19 Nov 2007 02:34:58 -0000\r\nX-Received: (qmail 28140 invoked from network); 19 Nov 2007 02:34:50 -0000\r\nX-Received: from unknown (HELO ?10.0.10.102?) (unknown)\n  by unknown with SMTP; 19 Nov 2007 02:34:50 -0000\r\nX-pair-Authenticated: 70.137.138.31\r\nMessage-ID: &lt;4740F649.2090202@...&gt;\r\nDate: Sun, 18 Nov 2007 18:34:49 -0800\r\nUser-Agent: Thunderbird 2.0.0.9 (Windows/20071031)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fhqms6+tn3l@...&gt;\r\nIn-Reply-To: &lt;fhqms6+tn3l@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 2:2:2:0:1\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: i modify MirrorWriterProcessor  and FetchHTTP\n ,but\r\nX-Yahoo-Group-Post: member; u=137285340; y=4yFsfFJBnWWegzG65LMo4Zlv_WJj8kaVVuy7G0GBlzha\r\nX-Yahoo-Profile: gojomo\r\n\r\nBecause the URI string is known as soon as the URI is known, such as \nwhen it is entered as a seed or discovered.\n\nOnly after FetchHTTP completes (successfully) is the content-type, \nlength, page content, etc. known.\n\n- Gordon @ IA\n\nmyepoch2008 wrote:\n&gt; If the URI has not yet been fetched in FetchHTTP then why it can \n&gt; output crawlURIString for example:\n&gt; \n&gt; (http://192.168.0.54/lgm/word.htm)\n&gt; (http://192.168.0.54/xingjian/hello.xls)\n&gt; String crawlURIString = curi.getCrawlURIString();\n&gt; System.out.println(crawlURIString);\n&gt; \n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; \n&gt; wrote:\n&gt;&gt; At the time FetchHTTP.canFetch() is called, the URI has not yet \n&gt; been \n&gt;&gt; fetched.\n&gt;&gt;\n&gt;&gt; Thus, no content-type is known.\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt; myepoch2008 wrote:\n&gt;&gt;&gt; i modify org.archive.crawler.writer.MirrorWriterProcessor class:\n&gt;&gt;&gt;\n&gt;&gt;&gt;     protected void innerProcess(CrawlURI curi) {\n&gt;&gt;&gt;         if (!curi.isSuccess()) {\n&gt;&gt;&gt;             return;\n&gt;&gt;&gt;         }\n&gt;&gt;&gt;         UURI uuri = curi.getUURI(); \n&gt;&gt;&gt;         \n&gt;&gt;&gt; \t////////////it can output contenttype example for:\n&gt;&gt;&gt; \t////////////text/plain��text/html��application/pdf\n&gt;&gt;&gt;         String contenttype = curi.getContentType();\n&gt;&gt;&gt;\n&gt;&gt;&gt;     }\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; i modify org.archive.crawler.writer.FetchHTTP calss\n&gt;&gt;&gt;\n&gt;&gt;&gt;     private boolean canFetch(CrawlURI curi) {\n&gt;&gt;&gt;         if(curi.getFetchStatus()&lt;0) {\n&gt;&gt;&gt;             curi.skipToProcessorChain(getController\n&gt;&gt;&gt; ().getPostprocessorChain());\n&gt;&gt;&gt;             return false;             \n&gt;&gt;&gt;         }\n&gt;&gt;&gt;         String scheme = curi.getUURI().getScheme();\n&gt;&gt;&gt;          if (!(scheme.equals(&quot;http&quot;) || scheme.equals(&quot;https&quot;))) \n&gt; {\n&gt;&gt;&gt;              return false;\n&gt;&gt;&gt;          }         \n&gt;&gt;&gt;          \n&gt;&gt;&gt; ......\n&gt;&gt;&gt;         ///////////it can output crawlURIString:CrawlURI example \n&gt; for:\n&gt;&gt;&gt;         ///////////(http://192.168.0.54/lgm/word.htm)\n&gt;&gt;&gt;         ///////////(http://192.168.0.54/xingjian/hello.xls)\n&gt;&gt;&gt;          String crawlURIString = curi.getCrawlURIString();\n&gt;&gt;&gt;          System.out.println(crawlURIString);\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;          ////////////but why it can not output contenttype like \n&gt; above\n&gt;&gt;&gt; (MirrorWriterProcessor ),it output NULL all.     \n&gt;&gt;&gt;\n&gt;&gt;&gt;          String contenttype = curi.getContentType();\n&gt;&gt;&gt;          System.out.println(contenttype:&quot;+contenttype);\n&gt;&gt;&gt;\n&gt;&gt;&gt; ......\n&gt;&gt;&gt;\n&gt;&gt;&gt;     }\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;  \n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}