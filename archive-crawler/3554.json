{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":90724651,"authorName":"John Lekashman","from":"&quot;John Lekashman&quot; &lt;lekash@...&gt;","profile":"lekash","replyTo":"LIST","senderId":"AFsaojKekgQTphsbWB99J3R_TYrOCCmIXk4J-MJsrDxTmdvZkMbTDGk70HF88UWqsijpPubRRkNe6PsAEy_tQwFMOqJ3XiTsvGwLfw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Feature suggestion for the frontier","postDate":"1164226684","msgId":3554,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGVrMmI5cytuZzkzQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ1NjQ5QjVGLjUwOTA0MDVAYXJjaGl2ZS5vcmc+"},"prevInTopic":3553,"nextInTopic":0,"prevInTime":3553,"nextInTime":3555,"topicId":3547,"numMessagesInTopic":6,"msgSnippet":"... Yes.  Its works fine. ... I think its good.  It seems to clear out the db of things that are out of scope.  I get a ton of .del entries in the state","rawEmail":"Return-Path: &lt;lekash@...&gt;\r\nX-Sender: lekash@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 23081 invoked from network); 22 Nov 2006 20:19:43 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m36.grp.scd.yahoo.com with QMQP; 22 Nov 2006 20:19:43 -0000\r\nReceived: from unknown (HELO n15a.bullet.sp1.yahoo.com) (69.147.64.118)\n  by mta9.grp.scd.yahoo.com with SMTP; 22 Nov 2006 20:19:43 -0000\r\nReceived: from [216.252.122.219] by n15.bullet.sp1.yahoo.com with NNFMP; 22 Nov 2006 20:18:06 -0000\r\nReceived: from [66.218.69.1] by t4.bullet.sp1.yahoo.com with NNFMP; 22 Nov 2006 20:18:06 -0000\r\nReceived: from [66.218.66.75] by t1.bullet.scd.yahoo.com with NNFMP; 22 Nov 2006 20:18:06 -0000\r\nDate: Wed, 22 Nov 2006 20:18:04 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;ek2b9s+ng93@...&gt;\r\nIn-Reply-To: &lt;45649B5F.5090405@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;John Lekashman&quot; &lt;lekash@...&gt;\r\nSubject: Re: Feature suggestion for the frontier\r\nX-Yahoo-Group-Post: member; u=90724651; y=t15o_y5phvH4jJ8ZAfVyqJWcupAIZJkAUC3qexu-_0_O\r\nX-Yahoo-Profile: lekash\r\n\r\n--- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@...&gt; wrote:\n&gt;\n=\r\n&gt; lekash wrote:\n&gt; \n&gt; Hey John;\n&gt; \n&gt; &gt; Hi Michael,\n&gt; &gt; Yes, I have turned of=\r\nf the frontier.\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; You mean, disabled FrontierScheduler?\n&gt; \nYes=\r\n.  Its works fine.\n&gt; \n&gt; \n&gt; &gt; It kind of acts like house cleaning.\n&gt; &gt; (Turn=\r\n off the frontier for a day, it munches through the system)\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; =\r\nIs this a good or a bad thing?\n&gt; \nI think its good.  It seems to clear out =\r\nthe db of things that are\nout of scope.  I get a ton of .del entries in the=\r\n state directories.\n\n&gt; &gt;\n&gt; &gt; The patch I will be pestering Joe (yeah, and y=\r\nou, too)\n&gt; &gt; more to do is some more intelligence in the database.\n&gt; &gt; For =\r\nexample, it appears to sort of keep entries for diversions,\n&gt; &gt; and include=\r\ns this in the count. Doesn&#39;t sound like much,\n&gt; &gt; but the numbers get huge,=\r\n and clog the system. With the frontier\n&gt; &gt; off, they fall off the count. I=\r\nts fun to watch the count of\n&gt; &gt; downloaded + queued drop fast.\n&gt; &gt;\n&gt; \n&gt; \n&gt;=\r\n Is the above phenomenon same as that described in the below issue John?\n&gt; =\r\n\n\nYes, it is similar. The one below is describing misleading\nstatistics.  I=\r\nts the total places considered, but many of them\nweren&#39;t really crawled.  M=\r\ne, I generate my own stats at the end\nanyway, by the indexer running throug=\r\nh the actual archives, so \nI never look at the crawl report anyway.\n\nWhat I=\r\n was more concerned about is database congestion.  It seems\nto be the princ=\r\nipal CPU and I/O hog, and why the systems fall \ndown.  I&#39;d love the crawler=\r\n to live longer than 3 weeks sustainably.\n\nWhat appears to be occurring (An=\r\nd I&#39;m not certain, so take with\nan appropriate grain of salt) is that the d=\r\natabase adds records\nfor every considered item in the frontier.\n\nA happier =\r\ncircumstance, especially in the partitioned case, is\nto only add those that=\r\n are relevant in the current scope.    Its \na lot cheaper to just throw awa=\r\ny the site, again and again, because\nits out of scope, than to put it in th=\r\ne db, and not look at it\nfor that reason.\n\n&gt;\nhttp://sourceforge.net/tracker=\r\n/index.php?func=3Ddetail&aid=3D1562566&group_id=3D73833&atid=3D539099\n&gt; \n&gt; =\r\n\n&gt; \n&gt; &gt; Throughput falls on its face though, something to do with not\n&gt; &gt; f=\r\nollowing up on a current web site in the frontier. Cause, duh,\n&gt; &gt; new stuf=\r\nf isn&#39;t appearing on the frontier.\n&gt; &gt;\n&gt; \n&gt; Tell us more about the above.  =\r\nOne of the crawling lads here may \n&gt; recognize this condition but I&#39;m not f=\r\namiliar with it.\n&gt; \nSure, I&#39;ll go do one again, and spend a day watching it=\r\n.\n(But not today.)\n\nEssentially here is what happens when I turn off the fr=\r\nontier\nscheduler on a long running crawl.\n\n1. The total queued starts dropp=\r\ning.  \nSo does downloaded + queued, in sync.\nIt appears that in this case, =\r\nentries that are flushed due to being\nout of scope, are not added to the db=\r\n.\n\n2. After a couple of hours, effective throughput drops to like 10%\nof sc=\r\nheduled throughput.  (e.g. setting it at 2000 KB/sec, and\ngetting like 200,=\r\n at best.)\n\nLooking at the frontier report, new queues aren&#39;t being generat=\r\ned,\n(of course) and its going slow on the existing queues.  What happens\nis=\r\n the slow systems bubble to the top, and take all the live threads.\n\nThe su=\r\nbtle point is that a finer grain on turning off the\nfrontierscheduler would=\r\n make me smile.  There may be a way to\ndo it with editing, and I&#39;m just not=\r\n on top of it yet.\n\nTurning it all off is very useful.\n\nFor example:\nAlso b=\r\neing able to turn off new sites, but finish existing ones,\nwould be a great=\r\n step forward.\n\nIf the frontier had:\nnasa.gov\n\nThen \nthe crawler would queu=\r\ne and finish \narc.nasa.gov\nand \nksc.nasa.gov\n\n&gt; Good stuff,\n&gt; St.Ack\n&gt; \n&gt; \n=\r\n&gt; \n&gt;\n\n\n\n\n"}}