{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":476753605,"authorName":"HONGYING YI","from":"HONGYING YI &lt;y195322@...&gt;","profile":"y195322","replyTo":"LIST","senderId":"n-7OQW-89VR3_w-SQOeZsUZS42eJyXvoe0k25B66NSO58NdfSj-LwF60yOlkXItkT_4fF860ODQ3CNYxTbgNIQLyVEoaTNDxdw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re-discover links","postDate":"1301355150","msgId":7071,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDI3MTM0NS43NjcxMC5xbUB3ZWIxNTkwNS5tYWlsLmNuYi55YWhvby5jb20+"},"prevInTopic":7066,"nextInTopic":7076,"prevInTime":7070,"nextInTime":7072,"topicId":7044,"numMessagesInTopic":11,"msgSnippet":"Hi Gordon,   Thanks a lot! I was able to get all the outlinks for each page on some domians following your suggestions.   For my analysis,  I also want","rawEmail":"Return-Path: &lt;y195322@...&gt;\r\nX-Sender: y195322@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 63506 invoked from network); 28 Mar 2011 23:32:35 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m15.grp.re1.yahoo.com with QMQP; 28 Mar 2011 23:32:35 -0000\r\nX-Received: from unknown (HELO web15905.mail.cnb.yahoo.com) (202.165.103.50)\n  by mta1.grp.re1.yahoo.com with SMTP; 28 Mar 2011 23:32:34 -0000\r\nX-Received: (qmail 77692 invoked by uid 60001); 28 Mar 2011 23:32:31 -0000\r\nMessage-ID: &lt;271345.76710.qm@...&gt;\r\nX-YMail-OSG: PCA.DoYVM1kiozhb5nI39wKMyqRuyPXhmA4X2r.nT_xZxGb\n mtfloCUSTlr3T9Cw6qd0Quuyoys3klnqrfh7DMrBD7fRK7veCcm_qqT8gcj.\n vM5IsFzHq0k1aSTt3wO2AqoPobaJFfKePuW1sqL5Ol165fpcNhMGNxcasEv0\n hHaqKS4rkC.5co7fAU9JwZ7l2a0rtce7TLA4sReD41UfQr3KEt.HZ1XKTGhC\n Pl9Yor8YPh67hsE89_hm337obU1sF03S48duu1AGifDo3_suFnQyLyCVvM2j\n EtMbNKNfeWLb5S1Z4mZfpAOYpPzteNwuN_xE4\r\nX-Received: from [64.236.138.1] by web15905.mail.cnb.yahoo.com via HTTP; Tue, 29 Mar 2011 07:32:30 CST\r\nX-Mailer: YahooMailClassic/12.0.2 YahooMailWebService/0.8.109.295617\r\nDate: Tue, 29 Mar 2011 07:32:30 +0800 (CST)\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1444739660-1301355150=:76710&quot;\r\nFrom: HONGYING YI &lt;y195322@...&gt;\r\nSubject: Re: [archive-crawler] Re-discover links\r\nX-Yahoo-Group-Post: member; u=476753605; y=16rQk-UOUtbsJ2wze_iZguCoGiYOEX_Xz91cij1gjaQC5w\r\nX-Yahoo-Profile: y195322\r\n\r\n\r\n--0-1444739660-1301355150=:76710\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n\n\n\n\n\nHi Gordon,\n=C2=A0\nThanks a lot! I=C2=A0was able to=C2=A0get all the ou=\r\ntlinks for each page on some domians=C2=A0following your suggestions.\n=C2=\r\n=A0\nFor my analysis,=C2=A0=C2=A0I=C2=A0also want to:=C2=A0\n(1) exclude URLs=\r\n which=C2=A0do not belong to specified domains,=C2=A0e.g. &#39;yahoo.com&#39;;=C2=\r\n=A0\n(2) excluded URLs containing a=C2=A0&#39;?&#39;;=C2=A0\n(3)=C2=A0=C2=A0remove .j=\r\ns files or other URLs which do not represent hypertext content (e.g., image=\r\ns, postscript=C2=A0and other data types), as they represent leaf nodes with=\r\nout outlinks. \n=C2=A0\nI know I can do some=C2=A0parsing of the meta data to=\r\n get rid of=C2=A0those URLs, but I&#39;m wondering whether=C2=A0there are any c=\r\nonfiguration=C2=A0settings=C2=A0to exclude=C2=A0those URLs in Heritrix?\n=C2=\r\n=A0\nThanks again!\n=C2=A0\n\n\n--- 11=E5=B9=B43=E6=9C=8819=E6=97=A5=EF=BC=8C=E5=\r\n=91=A8=E5=85=AD, Gordon Mohr &lt;gojomo@...&gt; =E5=86=99=E9=81=93=EF=BC=\r\n=9A\n\n\n=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;\n=E4=B8=\r\n=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n=E6=94=B6=E4=BB=B6=E4=\r\n=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...&gt;\n=E6=8A=84=E9=80=81: archive-cr=\r\nawler@yahoogroups.com\n=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=8819=E6=97=\r\n=A5,=E5=91=A8=E5=85=AD,=E4=B8=8A=E5=8D=8810:14\n\n\nBoth Heritrix 1.14.4 and H=\r\neritrix 3.0.0 include the WARCWriterProcessor \nas an alternative way to wri=\r\nte crawled content.\n\nin both versions, if you use the WARCWriterProcessor,=\r\n=C2=A0 then &#39;metadata&#39; \nrecords that include outlinks will be written along=\r\nside the other content.\n\nSo you don&#39;t need to upgrade just to get the outli=\r\nnks written to a file \nduring crawling.\n\nIf having the outlinks listed in t=\r\nhe WARC file is not enough, then you \ncan write your own code that processe=\r\ns the oulinks in some other way. I \nthink adding your own modules is a litt=\r\nle easier in Heritrix 3, but is \njust as possible in Heritrix 1.14.4.\n\n- Go=\r\nrdon @ IA\n\nOn 3/9/11 1:51 PM, HONGYING YI wrote:\n&gt; Hi Gordon,\n&gt; Thanks for =\r\nyour informative reply!\n&gt; I am using Heritrix 1.14.4 now. For WARCWriterPro=\r\ncessor, if I still use\n&gt; Heritrix 1.14.4, it seems that I will need to make=\r\n some changes in the\n&gt; source codes. If I upgrade it to Heritrix 3, then I =\r\ncan get all the\n&gt; outlinks in the data without making changes to the source=\r\n codes. Is that\n&gt; correct?\n&gt; Thanks!\n&gt;\n&gt;\n&gt; --- *11=E5=B9=B43=E6=9C=883=E6=\r\n=97=A5=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordon Mohr /&lt;gojomo@...&gt;/* =E5=\r\n=86=99=E9=81=93=EF=BC=9A\n&gt;\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E5=8F=91=E4=BB=B6=\r\n=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E4=\r\n=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n&gt;=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...&gt;\n=\r\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=8A=84=E9=80=81: archive-crawler@yahoogroups.c=\r\nom\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=883=\r\n=E6=97=A5,=E5=91=A8=E5=9B=9B,=E4=B8=8A=E5=8D=889:35\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0On 3/2/11 3:47 PM, HONGYING YI wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Hi Gord=\r\non,\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Thanks for your reply!\n=\r\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; I&#39;m still a little confused=\r\n. Are all the outlinks of a URI logged\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0in the\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; crawl.log whether or not those outlinks have already=\r\n been discovered?\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Outlinks (specifically outlin=\r\nks) are not logged to crawl.log. The\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0crawl.log is=\r\n a log of *completed* URIs. So to appear in crawl.log, a\n&gt;=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0URI has to:\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0(1) be discovered (as a se=\r\ned or outlink from elsewhere); then...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0(2) pass s=\r\ncoping rules, so that it is enqueued to be fetched; then...\n&gt;=C2=A0 =C2=A0=\r\n=C2=A0=C2=A0(3) either be successfully fetched, or suffer definitive failur=\r\ne\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0(certain errors from the server or no-success a=\r\nfter many retries).\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0This crawl.log logging happ=\r\nens arbitrarily long after the URI was\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0first disc=\r\novered. (The URI might be waiting in a queue for its\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0chance to be crawled for hours, days, weeks, months.)\n&gt;\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0In a typical snapshot crawl, most normal URIs are only fetch=\r\ned once,\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0so they only appear in the crawl.log onc=\r\ne. (The &#39;via&#39; URI that is\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0shown later on the craw=\r\nl.log line is the one other URI from which it\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0was=\r\n specifically discovered first, even though it may have later\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0been found many times.)\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0(URIs wh=\r\nich must be retried to refresh our knowledge, like DNS and\n&gt;=C2=A0 =C2=A0=\r\n=C2=A0=C2=A0/robots.txt, will be fetched and appear in crawl.log multiple t=\r\nimes.\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Also, there are certain non-standard ways y=\r\nou can force a URI to be\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0refetched. But you would=\r\nn&#39;t use those mechanisms to achieve what I\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0believ=\r\ne is your goal, discovering all the links to a page.)\n&gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; I&#39;m not familiar with WARCWriterProcessor, could you explain more\n&gt;=\r\n=C2=A0 =C2=A0=C2=A0=C2=A0on that?\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0In Heritrix 1=\r\n.x releases, the default way to write web content was\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0the ARCWriterProcessor, which wrote HTTP responses to long\n&gt;=C2=A0 =\r\n=C2=A0=C2=A0=C2=A0transcript files called ARCs (with extension .arc.gz). Si=\r\nnce only\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0the raw content was written, to get the =\r\noutlinks again at a later\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0time, you&#39;d need to par=\r\nse the HTML again.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0In Heritrix 3, a new &#39;WARC&#39; =\r\nformat is preferred, via the\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0WARCWriterProcessor.=\r\n While similar to the ARC format it has more\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0plac=\r\nes for extra metadata. By default, it writes not just the HTTP\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0response (like in ARC) but also the exact HTTP request and a=\r\nn extra\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&#39;metadata&#39; record with a list of the outl=\r\ninks that were discovered.\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Outlinks are listed he=\r\nre even if they did not pass scope-testing (so\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0wo=\r\nuld not be enqueued/fetched and thus would never appear in the\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0crawl.log).\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0You can use WARCWrit=\r\nerProcessor in H1, also, by replacing the\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0referen=\r\nce to ARCWriterProcessor with WARCWriterProcessor.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0Even if you don&#39;t want to use WARCWriterProcessor, you could look at\n=\r\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0its source code to see how it looks at the list o=\r\nf discovered\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0outlinks, and log them to someplace =\r\nof your choosing, by writing\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0your own custom Proc=\r\nessor code to plug into Heritrix.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Hope this hel=\r\nps,\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0- Gordon @ IA\n&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Tha=\r\nnks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; --- *11=E5=B9=B43=E6=\r\n=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;gojomo@archive.o=\r\nrg\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Dgojomo@...&gt;&gt;/*\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E5=86=99=E9=81=93=EF=\r\n=BC=9A\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...\n&gt;=C2=A0 =\r\n=C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@ar=\r\nchive.org&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawle=\r\nr] Re-discover links\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;=\r\nHONGYING YI&quot; &lt;y195322@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc1=\r\n59.mail.yahoo.com/mc/compose?to=3Dy195322@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; =E6=8A=84=E9=80=81: archive-crawler@yahoogroups.com\n&gt;=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@ya=\r\nhoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=\r\n=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=887:40\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; All the outlinks discovered from a URI=\r\n are inside the CrawlURI during\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; its processing, unt=\r\nil it is finished (and logged in the crawl.log).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; If you use the WARCWriterProcessor, they are part of=\r\n the data\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; written in\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; the &#39;m=\r\netadata&#39; record associated with the URI.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; Alternatively, you could insert your own custom processor t=\r\no log this\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; data somewhere else (using the WARCWrite=\r\nrProcessor&#39;s writeMetadata\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; method as a model).\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; In this way, you can get the li=\r\nnk data you want, without\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0revisiting the\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; same URLs many times (indeed infinitely via link-loops!).\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; - Gordon @ IA\n&gt;=C2=A0 =C2=A0=\r\n =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; On 2/28/11 3:16 PM, HONGYING YI wrote:\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Hi Gordon,\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; We want to kn=\r\now all the out-going links and in-coming links for\n&gt;=C2=A0 =C2=A0=C2=A0=C2=\r\n=A0each\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; page, and in the example, for aol.com, ao=\r\nlhealth.com is an\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0out-going\n&gt;=C2=A0 =C2=A0 =C2=A0=\r\n &gt; &gt; link for aol.com, and drugchecker.aolhealth.com is an in-coming\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; link for\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; aol.com. If the link=\r\n from drugchecker.aolhealth.com to aol.com\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; does not=\r\n\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; show up, we will not get all the in-coming links=\r\n for aol.com. Is\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; there\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; an=\r\ny way to retrieve that link? Can any configuration setting in the\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &gt; crawl get round that?\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Thanks!\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Yang\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; --- *11=E5=B9=\r\n=B43=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;gojomo@ar=\r\nchive.org\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/comp=\r\nose?to=3Dgojomo@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.=\r\nyahoo.com/mc/compose?to=3Dgojomo@...&gt;&gt;/*\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =\r\n=E5=86=99=E9=81=93=EF=BC=9A\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0=\r\n &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;go=\r\njomo@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/=\r\nmc/compose?to=3Dgojomo@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://cn.mc15=\r\n9.mail.yahoo.com/mc/compose?to=3Dgojomo@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0=\r\n &gt; &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA: archive-crawler@yahoogroups.=\r\ncom\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Darchive-crawler@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0=\r\n=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler=\r\n@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E6=8A=84=E9=80=81: &quot;y195322&quot; &lt;=\r\ny195322@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.=\r\ncom/mc/compose?to=3Dy195322@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://c=\r\nn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&gt;&gt;\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=\r\n=A8=E4=BA=8C,=E4=B8=8A=E5=8D=886:33\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt; On 2/28/11 10:20 AM, y195322 wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =\r\n&gt; &gt; Hi!We are doing web crawling using Heritrix, and found one issue\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; &gt; in that once a link has been &#39;discovered,&#39; it won&#39;t b=\r\ne\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &#39;rediscovered.&#39; This means that if we have some=\r\nthing like:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; aol.com-&gt;aolhealth.com\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt; &gt; aolhealth.com-&gt;drugchecker.aolhealth.com\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; and if drugchecker.aolhealth.com l=\r\ninks to aol.com, that link will\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; not show up in th=\r\ne file.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; Is there an=\r\ny way to fix this problem? Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0=\r\n =C2=A0 &gt; &gt; Usually a single snapshot crawl only wants to retrieve each URL=\r\n\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; once, so\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; this is by-de=\r\nsign, rather than a problem.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; Why do you want to fetch aol.com twice in a single crawl? (Or am I\n=\r\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; misunderstanding?)\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; &gt; - Gordon @ IA\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;\n&gt;\n\r\n--0-1444739660-1301355150=:76710\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;table cellspacing=3D&quot;0&quot; cellpadding=3D&quot;0&quot; border=3D&quot;0&quot; &gt;&lt;tr&gt;&lt;td valign=3D&quot;=\r\ntop&quot; style=3D&quot;font: inherit;&quot;&gt;&lt;DIV id=3Dyiv85152676&gt;\n&lt;TABLE id=3Dyiv8515267=\r\n6bodyDrftID class=3Dyiv85152676 border=3D0 cellSpacing=3D0 cellPadding=3D0&gt;=\r\n\n&lt;TBODY&gt;\n&lt;TR&gt;\n&lt;TD style=3D&quot;FONT-FAMILY: arial; FONT-SIZE: 10pt&quot; id=3Dyiv851=\r\n52676drftMsgContent&gt;\n&lt;DIV&gt;Hi Gordon,&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;Thanks a =\r\nlot! I&nbsp;was able to&nbsp;get all the outlinks for each page on some dom=\r\nians&nbsp;following your suggestions.&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;For my a=\r\nnalysis,&nbsp;&nbsp;I&nbsp;also want to:&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv=\r\n85152676285153622-28032011&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;SPAN class=3Dyiv851=\r\n52676285153622-28032011&gt;(1) exclude URLs which&nbsp;do not belong to specif=\r\nied domains,&nbsp;e.g. &#39;yahoo.com&#39;;&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nSPAN class=3Dyiv85152676285153622-28032011&gt;&lt;FONT size=3D2 face=3DArial&gt;&lt;SPA=\r\nN class=3Dyiv85152676285153622-28032011&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN class=3D=\r\nyiv85152676285153622-28032011&gt;&lt;FONT face=3DArial&gt;&lt;FONT size=3D2&gt;(2) exclude=\r\nd URLs containing a&nbsp;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&#39;&lt;/SPA=\r\nN&gt;?&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&#39;;&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT=\r\n&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;FONT face=\r\n=3DArial&gt;&lt;FONT size=3D2&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;/SPAN&gt;=\r\n&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;FONT face=\r\n=3DArial&gt;&lt;FONT size=3D2&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;(3)&nbs=\r\np;&nbsp;remove&lt;/SPAN&gt; .js files or other URLs which do not represent hypert=\r\next content (e.g., images, postscript&nbsp;and other data types), as they r=\r\nepresent leaf nodes&lt;SPAN class=3Dyiv85152676285153622-28032011&gt; &lt;/SPAN&gt;with=\r\nout outlinks. &lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285=\r\n153622-28032011&gt;&lt;FONT face=3DArial&gt;&lt;FONT size=3D2&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbs=\r\np;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;FONT face=3DAria=\r\nl&gt;&lt;FONT size=3D2&gt;I know I can do some&nbsp;parsing of the meta data to get =\r\nrid of&nbsp;those URLs, but I&#39;m wondering whether&nbsp;there are any config=\r\nuration&nbsp;settings&nbsp;to exclude&nbsp;those URLs in Heritrix?&lt;/FONT&gt;&lt;/=\r\nFONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;/SPAN&gt;=\r\n&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;Thanks again!=\r\n&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3Dyiv85152676285153622-28032011&gt;&lt;/SPAN&gt;&nbsp=\r\n;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;BR&gt;&lt;BR&gt;--- &lt;B&gt;11=E5=B9=B43=E6=9C=8819=E6=97=A5=EF=BC=8C=E5=91=\r\n=A8=E5=85=AD, Gordon Mohr &lt;I&gt;&lt;gojomo@...&gt;&lt;/I&gt;&lt;/B&gt; =E5=86=99=\r\n=E9=81=93=EF=BC=9A&lt;BR&gt;&lt;/DIV&gt;\n&lt;BLOCKQUOTE style=3D&quot;BORDER-LEFT: rgb(16,16,25=\r\n5) 2px solid; PADDING-LEFT: 5px; MARGIN-LEFT: 5px&quot;&gt;&lt;BR&gt;=E5=8F=91=E4=BB=B6=\r\n=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;&lt;BR&gt;=E4=B8=BB=E9=A2=98: Re=\r\n: [archive-crawler] Re-discover links&lt;BR&gt;=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONG=\r\nYING YI&quot; &lt;y195322@...&gt;&lt;BR&gt;=E6=8A=84=E9=80=81: archive-crawle=\r\nr@yahoogroups.com&lt;BR&gt;=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=8819=E6=97=A5=\r\n,=E5=91=A8=E5=85=AD,=E4=B8=8A=E5=8D=8810:14&lt;BR&gt;&lt;BR&gt;\n&lt;DIV class=3Dyiv8515267=\r\n6plainMail&gt;Both Heritrix 1.14.4 and Heritrix 3.0.0 include the WARCWriterPr=\r\nocessor &lt;BR&gt;as an alternative way to write crawled content.&lt;BR&gt;&lt;BR&gt;in both =\r\nversions, if you use the WARCWriterProcessor,&nbsp; then &#39;metadata&#39; &lt;BR&gt;rec=\r\nords that include outlinks will be written alongside the other content.&lt;BR&gt;=\r\n&lt;BR&gt;So you don&#39;t need to upgrade just to get the outlinks written to a file=\r\n &lt;BR&gt;during crawling.&lt;BR&gt;&lt;BR&gt;If having the outlinks listed in the WARC file=\r\n is not enough, then you &lt;BR&gt;can write your own code that processes the oul=\r\ninks in some other way. I &lt;BR&gt;think adding your own modules is a little eas=\r\nier in Heritrix 3, but is &lt;BR&gt;just as possible in Heritrix 1.14.4.&lt;BR&gt;&lt;BR&gt;-=\r\n Gordon @ IA&lt;BR&gt;&lt;BR&gt;On 3/9/11 1:51 PM, HONGYING YI wrote:&lt;BR&gt;&gt; Hi Gordon=\r\n,&lt;BR&gt;&gt; Thanks for your informative reply!&lt;BR&gt;&gt; I am using Heritrix 1.=\r\n14.4 now. For WARCWriterProcessor, if I still use&lt;BR&gt;&gt; Heritrix 1.14.4, =\r\nit seems that I will need to make some changes\n in the&lt;BR&gt;&gt; source codes=\r\n. If I upgrade it to Heritrix 3, then I can get all the&lt;BR&gt;&gt; outlinks in=\r\n the data without making changes to the source codes. Is that&lt;BR&gt;&gt; corre=\r\nct?&lt;BR&gt;&gt; Thanks!&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt; --- *11=E5=B9=B43=E6=9C=883=E6=\r\n=97=A5=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordon Mohr /&lt;&lt;A href=3D&quot;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dnofollow targe=\r\nt=3D_blank&gt;gojomo@...&lt;/A&gt;&gt;/* =E5=86=99=E9=81=93=EF=BC=9A&lt;BR&gt;&gt;=\r\n&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordo=\r\nn Mohr &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo=\r\n@...&quot; rel=3Dnofollow target=3D_blank&gt;gojomo@...&lt;/A&gt;&gt;&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-d=\r\niscover links&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=94=B6=E4=BB=B6=E4=BA=BA: =\r\n&quot;HONGYING YI&quot; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Dy195322@...&quot; rel=3Dnofollow target=3D_blank&gt;y195322@....c=\r\nn&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=8A=84=E9=80=81: &lt;A\n href=3D&quot;h=\r\nttp://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.c=\r\nom&quot; rel=3Dnofollow target=3D_blank&gt;archive-crawler@yahoogroups.com&lt;/A&gt;&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=883=E6=\r\n=97=A5,=E5=91=A8=E5=9B=9B,=E4=B8=8A=E5=8D=889:35&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbs=\r\np;&nbsp;&nbsp;On 3/2/11 3:47 PM, HONGYING YI wrote:&lt;BR&gt;&gt;&nbsp; &nbsp; &n=\r\nbsp; &gt; Hi Gordon,&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; =\r\n&nbsp; &gt; Thanks for your reply!&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; I&#39;m still a little confused. Are all the outlinks=\r\n of a URI logged&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;in the&lt;BR&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; crawl.log whether or not those outlinks have already been dis=\r\ncovered?&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Outlinks (specifically out=\r\nlinks) are not logged to crawl.log. The&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;cra=\r\nwl.log is a log of *completed* URIs. So to appear in crawl.log, a&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp;&nbsp;&nbsp;URI has\n to:&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp=\r\n;(1) be discovered (as a seed or outlink from elsewhere); then...&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp;&nbsp;&nbsp;(2) pass scoping rules, so that it is enqueued to be=\r\n fetched; then...&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;(3) either be successfull=\r\ny fetched, or suffer definitive failure&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;(ce=\r\nrtain errors from the server or no-success after many retries).&lt;BR&gt;&gt;&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp;&nbsp;&nbsp;This crawl.log logging happens arbitrarily lon=\r\ng after the URI was&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;first discovered. (The =\r\nURI might be waiting in a queue for its&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;cha=\r\nnce to be crawled for hours, days, weeks, months.)&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &n=\r\nbsp;&nbsp;&nbsp;In a typical snapshot crawl, most normal URIs are only fetc=\r\nhed once,&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;so they only appear in the crawl.=\r\nlog once. (The &#39;via&#39; URI that is&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;shown late=\r\nr on the crawl.log line\n is the one other URI from which it&lt;BR&gt;&gt;&nbsp; &=\r\nnbsp;&nbsp;&nbsp;was specifically discovered first, even though it may have=\r\n later&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;been found many times.)&lt;BR&gt;&gt;&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp;&nbsp;&nbsp;(URIs which must be retried to refresh our know=\r\nledge, like DNS and&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;/robots.txt, will be fe=\r\ntched and appear in crawl.log multiple times.&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nb=\r\nsp;Also, there are certain non-standard ways you can force a URI to be&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp;&nbsp;&nbsp;refetched. But you wouldn&#39;t use those mechanism=\r\ns to achieve what I&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;believe is your goal, d=\r\niscovering all the links to a page.)&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &g=\r\nt; I&#39;m not familiar with WARCWriterProcessor, could you explain more&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp;&nbsp;&nbsp;on that?&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=\r\nIn Heritrix 1.x releases, the default way to write web content was&lt;BR&gt;&gt;&=\r\nnbsp;\n &nbsp;&nbsp;&nbsp;the ARCWriterProcessor, which wrote HTTP responses=\r\n to long&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;transcript files called ARCs (with=\r\n extension .arc.gz). Since only&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;the raw con=\r\ntent was written, to get the outlinks again at a later&lt;BR&gt;&gt;&nbsp; &nbsp;=\r\n&nbsp;&nbsp;time, you&#39;d need to parse the HTML again.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp;&nbsp;&nbsp;In Heritrix 3, a new &#39;WARC&#39; format is preferred, via the=\r\n&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;WARCWriterProcessor. While similar to the =\r\nARC format it has more&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;places for extra met=\r\nadata. By default, it writes not just the HTTP&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&n=\r\nbsp;response (like in ARC) but also the exact HTTP request and an extra&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp;&nbsp;&nbsp;&#39;metadata&#39; record with a list of the outlinks =\r\nthat were discovered.&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Outlinks are listed h=\r\nere even if they did not pass scope-testing (so&lt;BR&gt;&gt;&nbsp;\n &nbsp;&nbsp;=\r\n&nbsp;would not be enqueued/fetched and thus would never appear in the&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp;&nbsp;&nbsp;crawl.log).&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&=\r\nnbsp;You can use WARCWriterProcessor in H1, also, by replacing the&lt;BR&gt;&gt;&=\r\nnbsp; &nbsp;&nbsp;&nbsp;reference to ARCWriterProcessor with WARCWriterProc=\r\nessor.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Even if you don&#39;t want to us=\r\ne WARCWriterProcessor, you could look at&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;it=\r\ns source code to see how it looks at the list of discovered&lt;BR&gt;&gt;&nbsp; &=\r\nnbsp;&nbsp;&nbsp;outlinks, and log them to someplace of your choosing, by w=\r\nriting&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;your own custom Processor code to pl=\r\nug into Heritrix.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Hope this helps,&lt;=\r\nBR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;- Gordon @ IA&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt; Thanks!&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; =\r\n&nbsp; &nbsp; &gt; --- *11=E5=B9=B43=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=\r\n=E4=BA=8C, Gordon\n Mohr /&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/c=\r\nompose?to=3Dgojomo@...&quot; rel=3Dnofollow target=3D_blank&gt;gojomo@archi=\r\nve.org&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.m=\r\nail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dnofollow target=3D_=\r\nblank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/A&gt;=\r\n&gt;&gt;/*&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E5=86=99=E9=81=93=EF=BC=9A&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;&lt;A href=3D=\r\n&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dn=\r\nofollow target=3D_blank&gt;gojomo@...&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&n=\r\nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@ar=\r\nchive.org&quot; rel=3Dnofollow target=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Dgojomo@...&lt;/A&gt;&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &g=\r\nt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links&lt;BR&gt;&gt;&nbsp=\r\n; &nbsp; &nbsp; &gt;\n =E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;&lt;A hre=\r\nf=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&quot; r=\r\nel=3Dnofollow target=3D_blank&gt;y195322@...&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;=\r\n&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy=\r\n195322@...&quot; rel=3Dnofollow target=3D_blank&gt;http://cn.mc159.mail.ya=\r\nhoo.com/mc/compose?to=3Dy195322@...&lt;/A&gt;&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbs=\r\np; &nbsp; &gt; =E6=8A=84=E9=80=81: &lt;A href=3D&quot;http://cn.mc159.mail.yahoo.co=\r\nm/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; rel=3Dnofollow target=3D=\r\n_blank&gt;archive-crawler@yahoogroups.com&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=\r\n&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawl=\r\ner@yahoogroups.com&quot; rel=3Dnofollow target=3D_blank&gt;http://cn.mc159.mail.yah=\r\noo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp=\r\n; &nbsp; &nbsp; &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=\r\n=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=887:40&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;=\r\nBR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; All the outlinks\n discovered from a URI ar=\r\ne inside the CrawlURI during&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; its processin=\r\ng, until it is finished (and logged in the crawl.log).&lt;BR&gt;&gt;&nbsp; &nbsp;=\r\n &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; If you use the WARCWriterProc=\r\nessor, they are part of the data&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; written i=\r\nn&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; the &#39;metadata&#39; record associated with th=\r\ne URI.&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Al=\r\nternatively, you could insert your own custom processor to log this&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; data somewhere else (using the WARCWriterProcesso=\r\nr&#39;s writeMetadata&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; method as a model).&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; In this way, =\r\nyou can get the link data you want, without&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp=\r\n;revisiting the&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; same URLs many times (inde=\r\ned infinitely via\n link-loops!).&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp; &nbsp; &gt; - Gordon @ IA&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&=\r\ngt;&nbsp; &nbsp; &nbsp; &gt; On 2/28/11 3:16 PM, HONGYING YI wrote:&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt; Hi Gordon,&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =\r\n&gt; We want to know all the out-going links and in-coming links for&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp;&nbsp;&nbsp;each&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; page, =\r\nand in the example, for aol.com, aolhealth.com is an&lt;BR&gt;&gt;&nbsp; &nbsp;&n=\r\nbsp;&nbsp;out-going&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; link for aol.com,=\r\n and drugchecker.aolhealth.com is an in-coming&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; =\r\n&gt; link for&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; aol.com. If the link fr=\r\nom drugchecker.aolhealth.com to aol.com&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; do=\r\nes not&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; show up, we will not get all t=\r\nhe in-coming links for aol.com. Is&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;\n there&lt;=\r\nBR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; any way to retrieve that link? Can an=\r\ny configuration setting in the&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; crawl =\r\nget round that?&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Thanks!&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt; &gt; Yang&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp; &nbsp; &gt; &gt; --- *11=E5=B9=B43=E6=9C=881=E6=97=A5=EF=BC=\r\n=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yah=\r\noo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dnofollow target=3D_blank&gt;g=\r\nojomo@...&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http:/=\r\n/cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dnofollow=\r\n target=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@arch=\r\nive.org&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;A href=3D&quot;http://cn.m=\r\nc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; rel=3Dnofollow\n tar=\r\nget=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@archive.=\r\norg&lt;/A&gt;&gt;&gt;/*&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E5=86=99=E9=81=93=EF=BC=\r\n=9A&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =\r\n&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gor=\r\ndon Mohr &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojo=\r\nmo@...&quot; rel=3Dnofollow target=3D_blank&gt;gojomo@...&lt;/A&gt;&lt;BR&gt;&g=\r\nt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Dgojomo@...&quot; rel=3Dnofollow target=3D_blank&gt;http://cn.=\r\nmc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbs=\r\np; &nbsp; &nbsp; &gt; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/comp=\r\nose?to=3Dgojomo@...&quot; rel=3Dnofollow target=3D_blank&gt;http://cn.mc159=\r\n.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/A&gt;&gt;&gt;&lt;BR&gt;&gt;&nbsp=\r\n; &nbsp; &nbsp; &gt; &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-disc=\r\nover links&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E6=94=B6=E4=BB=B6=E4=BA=\r\n=BA: &lt;A\n href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-cra=\r\nwler@yahoogroups.com&quot; rel=3Dnofollow target=3D_blank&gt;archive-crawler@yahoog=\r\nroups.com&lt;/A&gt;&lt;BR&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc15=\r\n9.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; rel=3Dnof=\r\nollow target=3D_blank&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchiv=\r\ne-crawler@yahoogroups.com&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&=\r\nnbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/co=\r\nmpose?to=3Darchive-crawler@yahoogroups.com&quot; rel=3Dnofollow target=3D_blank&gt;=\r\nhttp://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.=\r\ncom&lt;/A&gt;&gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E6=8A=84=E9=80=81: &quot;y195=\r\n322&quot; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@=\r\nyahoo.com.cn&quot; rel=3Dnofollow target=3D_blank&gt;y195322@...&lt;/A&gt;&lt;BR&gt;&g=\r\nt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Dy195322@...&quot; rel=3Dnofollow\n target=3D_blank&gt;http://=\r\ncn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&lt;/A&gt;&gt;&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;A href=3D&quot;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Dy195322@...&quot; rel=3Dnofollow target=3D_blank&gt;http://c=\r\nn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&lt;/A&gt;&gt;&gt;&lt;BR&gt;=\r\n&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=\r\n=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=886:33&lt;BR&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; On 2/28/11 10:20 A=\r\nM, y195322 wrote:&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; Hi!We are doin=\r\ng web crawling using Heritrix, and found one issue&lt;BR&gt;&gt;&nbsp; &nbsp; &nb=\r\nsp; &gt; &gt; in that once a link has been &#39;discovered,&#39; it won&#39;t be&lt;BR&gt;&gt=\r\n;&nbsp; &nbsp; &nbsp; &gt; &gt; &#39;rediscovered.&#39; This means that if we have =\r\nsomething like:&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; aol.com-&gt;aolh=\r\nealth.com&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; aolhealth.com-&gt;drug=\r\nchecker.aolhealth.com&lt;BR&gt;&gt;&nbsp;\n &nbsp; &nbsp; &gt; &gt; &gt;&lt;BR&gt;&gt;&n=\r\nbsp; &nbsp; &nbsp; &gt; &gt; &gt; and if drugchecker.aolhealth.com links to=\r\n aol.com, that link will&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; not show up =\r\nin the file.&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; &gt; &gt; Is there any way to fix this problem? Thanks!&lt;BR&gt;&g=\r\nt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Usua=\r\nlly a single snapshot crawl only wants to retrieve each URL&lt;BR&gt;&gt;&nbsp; &=\r\nnbsp; &nbsp; &gt; &gt; once, so&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; this =\r\nis by-design, rather than a problem.&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;=\r\nBR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Why do you want to fetch aol.com twic=\r\ne in a single crawl? (Or am I&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; misunde=\r\nrstanding?)&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbs=\r\np; &gt; &gt; - Gordon @ IA&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;BR&gt;&gt;&nb=\r\nsp; &nbsp; &nbsp; &gt;\n &gt;&lt;BR&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY=\r\n&gt;&lt;/TABLE&gt;&lt;/DIV&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\r\n--0-1444739660-1301355150=:76710--\r\n\n"}}