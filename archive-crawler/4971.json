{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":334689939,"authorName":"Micah Wedemeyer","from":"Micah Wedemeyer &lt;mwedeme@...&gt;","replyTo":"LIST","senderId":"5RgrRjUKt9Dg12SlIziQwPe7k5Z-EL9Bh8qhLbecivQ6eUE8ExOI89rCiuKuOfb2AL7N7PS9vau1k8wSjcQOHOOlkMKyqLTYCGs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] null returned when trying to get CrawlController from SheetManager - 2.0.1-snapshot","postDate":"1202335999","msgId":4971,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3QUEzMEZGLjEwMjAxQGVtb3J5LmVkdT4=","inReplyToHeader":"PDQ3QUExMDc4LjcwNzA0MDRAZW1vcnkuZWR1Pg==","referencesHeader":"PDQ3QUExMDc4LjcwNzA0MDRAZW1vcnkuZWR1Pg=="},"prevInTopic":4969,"nextInTopic":4972,"prevInTime":4970,"nextInTime":4972,"topicId":4969,"numMessagesInTopic":4,"msgSnippet":"I figured out that launching the job does make the difference.  I guess was doing something wrong.  I think I was trying to get the SheetManager for","rawEmail":"Return-Path: &lt;mwedeme@...&gt;\r\nX-Sender: mwedeme@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 67053 invoked from network); 6 Feb 2008 22:13:25 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m52.grp.scd.yahoo.com with QMQP; 6 Feb 2008 22:13:25 -0000\r\nX-Received: from unknown (HELO mr3.cc.emory.edu) (170.140.52.92)\n  by mta15.grp.scd.yahoo.com with SMTP; 6 Feb 2008 22:13:25 -0000\r\nX-Received: from [170.140.210.152] (emoryfloatdmz.cc.emory.edu [170.140.52.254])\n\tby mr3.cc.emory.edu (8.13.1/8.13.1) with ESMTP id m16MDJPk024951\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 6 Feb 2008 17:13:20 -0500\r\nMessage-ID: &lt;47AA30FF.10201@...&gt;\r\nDate: Wed, 06 Feb 2008 17:13:19 -0500\r\nUser-Agent: Mozilla-Thunderbird 2.0.0.9 (X11/20080110)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;47AA1078.7070404@...&gt;\r\nIn-Reply-To: &lt;47AA1078.7070404@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-emory.edu-MailScanner: Found to be clean\r\nX-emory.edu-MailScanner-From: mwedeme@...\r\nX-Spam-Status: No\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Micah Wedemeyer &lt;mwedeme@...&gt;\r\nSubject: Re: [archive-crawler] null returned when trying to get CrawlController\n from SheetManager - 2.0.1-snapshot\r\nX-Yahoo-Group-Post: member; u=334689939\r\n\r\nI figured out that launching the job does make the difference.  I guess \nwas doing something wrong.  I think I was trying to get the SheetManager \nfor &quot;ready-jobname&quot; instead of &quot;active-jobname&quot;.\n\nStill, is there any way to get the crawl controller instance prior to \nlaunching the job, or does it not exist until launchJob is called?  I&#39;d \nlike to be able to add some listeners and be 100% sure that they will be \nadded before the crawl begins.  In other words, I want to set everything \nup before the crawl begins, then fire & forget.\n\nThis probably isn&#39;t a big issue, and I&#39;m much closer than I was before, \nso thanks for all the help so far.\n\nMicah\n\nMicah Wedemeyer wrote:\n&gt; \n&gt; \n&gt; version: trunk/heritrix2@5733\n&gt; \n&gt; Here&#39;s the code snippet:\n&gt; ---------\n&gt; EngineConfig config = new EngineConfig();\n&gt; config.setJobsDirectory(&quot;/tmp/hjobs&quot;);\n&gt; \n&gt; Engine engine = new EngineImpl(config);\n&gt; \n&gt; String job = &quot;ready-new_proj&quot;;\n&gt; \n&gt; engine.copy(&quot;profile-me&quot;, job);\n&gt; \n&gt; // Bug - http://webteam.archive.org/jira/browse/HER-1457 \n&gt; &lt;http://webteam.archive.org/jira/browse/HER-1457&gt;\n&gt; engine.getSheetManagerStub(job);\n&gt; SheetManager fsm = engine.getSheetManager(job);\n&gt; \n&gt; CrawlController cc = fsm.findUniqueGlobalModule(CrawlController.class);\n&gt; \n&gt; if(cc == null) {\n&gt; System.out.println(&quot;Null controller&quot;);\n&gt; }\n&gt; ---------\n&gt; \n&gt; The CrawlController (cc) is always null, and I don&#39;t know why. I&#39;ve\n&gt; tried launching the job, then getting the cc (which wouldn&#39;t work for\n&gt; me, but might help diagnosing) and it changes nothing.\n&gt; \n&gt; Here is the global sheet (which is the only sheet):\n&gt; \n&gt; -----------\n&gt; root=map, java.lang.Object\n&gt; root:metadata=primary, org.archive.modules.writer.DefaultMetadataProvider\n&gt; root:metadata:robots-honoring-policy=primary,\n&gt; org.archive.modules.net.RobotsHonoringPolicy\n&gt; root:metadata:robots-honoring-policy:user-agents=list, java.lang.String\n&gt; root:metadata:description=string, Micah\n&gt; root:metadata:operator-contact-url=string, http://www.southcomb.org \n&gt; &lt;http://www.southcomb.org&gt;\n&gt; root:metadata:operator-from=string, admin@... \n&gt; &lt;mailto:admin%40southcomb.org&gt;\n&gt; root:loggerModule=primary, org.archive.crawler.framework.CrawlerLoggerModule\n&gt; root:seeds=primary, org.archive.modules.seeds.SeedModuleImpl\n&gt; root:scope=object, org.archive.modules.deciderules.DecideRuleSequence\n&gt; root:scope:rules=list, org.archive.modules.deciderules.DecideRule\n&gt; root:scope:rules:0=object, org.archive.modules.deciderules.RejectDecideRule\n&gt; root:scope:rules:1=object,\n&gt; org.archive.modules.deciderules.surt.SurtPrefixedDecideRule\n&gt; root:scope:rules:2=object,\n&gt; org.archive.modules.deciderules.TooManyHopsDecideRule\n&gt; root:scope:rules:3=object,\n&gt; org.archive.modules.deciderules.TransclusionDecideRule\n&gt; root:scope:rules:4=object,\n&gt; org.archive.modules.deciderules.PathologicalPathDecideRule\n&gt; root:scope:rules:5=object,\n&gt; org.archive.modules.deciderules.TooManyPathSegmentsDecideRule\n&gt; root:scope:rules:6=object,\n&gt; org.archive.modules.deciderules.PrerequisiteAcceptDecideRule\n&gt; root:uriUniqFilter=primary, org.archive.crawler.util.BdbUriUniqFilter\n&gt; root:queue-assignment-policy=primary,\n&gt; org.archive.crawler.frontier.SurtAuthorityQueueAssignmentPolicy\n&gt; root:server-cache=primary, org.archive.modules.net.BdbServerCache\n&gt; root:credential-store=primary,\n&gt; org.archive.modules.credential.CredentialStore\n&gt; root:controller=primary, org.archive.crawler.framework.CrawlControllerImpl\n&gt; root:controller:frontier=primary, org.archive.crawler.frontier.BdbFrontier\n&gt; root:controller:frontier:scope=reference, root:scope\n&gt; root:controller:frontier:rules=list,\n&gt; org.archive.modules.canonicalize.CanonicalizationRule\n&gt; root:controller:frontier:rules:0=object,\n&gt; org.archive.modules.canonicalize.LowercaseRule\n&gt; root:controller:frontier:rules:1=object,\n&gt; org.archive.modules.canonicalize.StripUserinfoRule\n&gt; root:controller:frontier:rules:2=object,\n&gt; org.archive.modules.canonicalize.StripWWWNRule\n&gt; root:controller:frontier:rules:3=object,\n&gt; org.archive.modules.canonicalize.StripSessionIDs\n&gt; root:controller:frontier:rules:4=object,\n&gt; org.archive.modules.canonicalize.StripSessionCFIDs\n&gt; root:controller:frontier:rules:5=object,\n&gt; org.archive.modules.canonicalize.FixupQueryStr\n&gt; root:controller:statistics-tracker=object,\n&gt; org.archive.crawler.framework.StatisticsTrackerImpl\n&gt; root:controller:processors=map, org.archive.modules.Processor\n&gt; root:controller:processors:Preselector=object,\n&gt; org.archive.crawler.prefetch.Preselector\n&gt; root:controller:processors:Preselector:scope=reference, root:scope\n&gt; root:controller:processors:Preprocessor=object,\n&gt; org.archive.crawler.prefetch.PreconditionEnforcer\n&gt; root:controller:processors:DNS=object, org.archive.modules.fetcher.FetchDNS\n&gt; root:controller:processors:HTTP=object,\n&gt; org.archive.modules.fetcher.FetchHTTP\n&gt; root:controller:processors:HTTP:accept-headers=list, java.lang.String\n&gt; root:controller:processors:HTTP:midfetch-rules=object,\n&gt; org.archive.modules.deciderules.DecideRuleSequence\n&gt; root:controller:processors:ExtractorHTTP=object,\n&gt; org.archive.modules.extractor.ExtractorHTTP\n&gt; root:controller:processors:ExtractorHTML=object,\n&gt; org.archive.modules.extractor.ExtractorHTML\n&gt; root:controller:processors:ExtractorCSS=object,\n&gt; org.archive.modules.extractor.ExtractorCSS\n&gt; root:controller:processors:ExtractorJS=object,\n&gt; org.archive.modules.extractor.ExtractorJS\n&gt; root:controller:processors:ExtractorSWF=object,\n&gt; org.archive.modules.extractor.ExtractorSWF\n&gt; root:controller:processors:Archiver=object,\n&gt; org.archive.modules.writer.ARCWriterProcessor\n&gt; root:controller:processors:Updater=object,\n&gt; org.archive.crawler.postprocessor.CrawlStateUpdater\n&gt; root:controller:processors:LinksScoper=object,\n&gt; org.archive.crawler.postprocessor.LinksScoper\n&gt; root:controller:processors:LinksScoper:scope=reference, root:scope\n&gt; root:controller:processors:Scheduler=object,\n&gt; org.archive.crawler.postprocessor.FrontierScheduler\n&gt; ---------\n&gt; \n&gt; hmm, I hope that comes through without getting too chopped up.\n&gt; \n&gt; Any ideas?\n&gt; \n&gt; Thanks,\n&gt; Micah\n&gt; \n&gt; \n\n\n"}}