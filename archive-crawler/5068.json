{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":334689939,"authorName":"Micah Wedemeyer","from":"Micah Wedemeyer &lt;mwedeme@...&gt;","replyTo":"LIST","senderId":"60ms6VoRFbsOsb1LLiNSve5MpGruGpSumtS-_BsrDlbJ0GNvuV-5EqjMDfunU__wHaQL6e-rwXQTjr1efwoCk56K729qekmtcRc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] extending Heritrix","postDate":"1205848197","msgId":5068,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3REZDODg1LjYwNTA1MDdAZW1vcnkuZWR1Pg==","inReplyToHeader":"PGZybDFhbStrMXZsQGVHcm91cHMuY29tPg==","referencesHeader":"PGZybDFhbStrMXZsQGVHcm91cHMuY29tPg=="},"prevInTopic":5067,"nextInTopic":5069,"prevInTime":5067,"nextInTime":5069,"topicId":5067,"numMessagesInTopic":3,"msgSnippet":"Hi Chris, I can t speak to JRuby, but bypassing the ARCWriter stuff and adding your own processor is actually very easy.  We ve done that on our project to","rawEmail":"Return-Path: &lt;mwedeme@...&gt;\r\nX-Sender: mwedeme@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 27873 invoked from network); 18 Mar 2008 13:54:07 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m54.grp.scd.yahoo.com with QMQP; 18 Mar 2008 13:54:07 -0000\r\nX-Received: from unknown (HELO mr5.cc.emory.edu) (170.140.52.94)\n  by mta15.grp.scd.yahoo.com with SMTP; 18 Mar 2008 13:54:07 -0000\r\nX-Received: from [170.140.210.152] (emoryfloatdmz.cc.emory.edu [170.140.52.254])\n\tby mr5.cc.emory.edu (8.13.1/8.13.1) with ESMTP id m2IDnvub012587\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 18 Mar 2008 09:49:58 -0400\r\nMessage-ID: &lt;47DFC885.6050507@...&gt;\r\nDate: Tue, 18 Mar 2008 09:49:57 -0400\r\nUser-Agent: Mozilla-Thunderbird 2.0.0.9 (X11/20080110)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;frl1am+k1vl@...&gt;\r\nIn-Reply-To: &lt;frl1am+k1vl@...&gt;\r\nX-Enigmail-Version: 0.95.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nX-emory.edu-MailScanner: Found to be clean\r\nX-emory.edu-MailScanner-From: mwedeme@...\r\nX-Spam-Status: No\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Micah Wedemeyer &lt;mwedeme@...&gt;\r\nSubject: Re: [archive-crawler] extending Heritrix\r\nX-Yahoo-Group-Post: member; u=334689939\r\n\r\nHi Chris,\n\nI can&#39;t speak to JRuby, but bypassing the ARCWriter stuff and adding\nyour own processor is actually very easy.  We&#39;ve done that on our\nproject to insert pages directly into a database (although I read\nsomewhere that this is a no-no...not sure why)\n\nNote: We started with 1.x and moved to 2.0 since we liked to layout and\nreadability of the sheets much better.  I would say, if you can&#39;t find\nanything to like about one or the other, go with 2.0\n\nTo create your own post-processor, just subclass\norg.archive.modules.Processor In the innerProcess method, you can get\naccess to the string data of a page by using the getReplayCharSequence\nmethod.\n\nThen, to stick it into the Heritrix processor chain, edit your global\nsheet and find where the ARCWriter is.  Just replace that with a\nreference to your processor.  As long as it&#39;s in your classpath,\nHeritrix will find the class and load it up when the time is right to\nprocess a page.\n\nIt&#39;s actually quite simple, and we were able to get it working without\ntoo much head scratching and futzing.\n\nGood luck,\nMicah\n\nChris Anderson wrote:\n&gt; \n&gt; \n&gt; Hello all,\n&gt; \n&gt; I&#39;m looking into using Heritrix to run a web crawling infrastructure,\n&gt; but my needs are a little different from it&#39;s archiving sweet-spot.\n&gt; \n&gt; It looks like I can easily configure the spider to limit what is sent\n&gt; to the .arc engine, as well as to avoid fetching non-text resources.\n&gt; \n&gt; What I would like to do is send some resources, instead of the the\n&gt; .arc engine, to a custom class. I have a big collection of Ruby\n&gt; parsers, so I may end up using JRuby to host them, if it would be\n&gt; simple enough to send the fetched content and request metadata to a\n&gt; method on one of my Ruby classes.\n&gt; \n&gt; Is this something people are doing with Heritrix? Are there better\n&gt; alternatives I may not have heard of? If I were to attempt patching\n&gt; some JRuby calls into Heretrix, would I be better working from the 1.x\n&gt; branch or 2.0?\n&gt; \n&gt; Thanks for any feedback,\n&gt; Chris\n&gt; \n\n\n"}}