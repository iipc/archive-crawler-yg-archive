{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr (Internet Archive)","from":"&quot;Gordon Mohr (Internet Archive)&quot; &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"0PwUj0IpB2waOHCrIdlcBpgZu7xy-Auo63au_DnNGj9Dw34PakPP1_PEBeyromNEbliJOOs_sTXTFu9POEAJxuk2YQ574sjzodSyTLiewnxk_ZXtveyi28z6ujA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Global Whiteboard to Store DB Connection","postDate":"1111193173","msgId":1676,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyM0I3NjU1LjMwNTA2MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQyM0I2NTMyLjcwMDA1MDlAYXJjaGl2ZS5vcmc+","referencesHeader":"PGQxZmlnaCs3YTI4QGVHcm91cHMuY29tPiA8NDIzQjY1MzIuNzAwMDUwOUBhcmNoaXZlLm9yZz4="},"prevInTopic":1675,"nextInTopic":1677,"prevInTime":1675,"nextInTime":1677,"topicId":1674,"numMessagesInTopic":4,"msgSnippet":"As St.Ack notes, there s no existing facility for arbitrary Processors to find each other or store shared state for arbitrary purposes, but CrawlController","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 32303 invoked from network); 19 Mar 2005 00:46:18 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m30.grp.scd.yahoo.com with QMQP; 19 Mar 2005 00:46:18 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Mar 2005 00:46:18 -0000\r\nReceived: (qmail 610 invoked by uid 100); 19 Mar 2005 00:28:38 -0000\r\nReceived: from b116-dyn-239.archive.org (HELO ?207.241.238.239?) (gojomo@...@207.241.238.239)\n  by mail-dev.archive.org with SMTP; 19 Mar 2005 00:28:38 -0000\r\nMessage-ID: &lt;423B7655.3050604@...&gt;\r\nDate: Fri, 18 Mar 2005 16:46:13 -0800\r\nUser-Agent: Mozilla Thunderbird 1.0 (X11/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;d1figh+7a28@...&gt; &lt;423B6532.7000509@...&gt;\r\nIn-Reply-To: &lt;423B6532.7000509@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.2 required=6.0 tests=AWL,CLICK_BELOW autolearn=no \n\tversion=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Gordon Mohr (Internet Archive)&quot; &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Global Whiteboard to Store DB Connection\r\nX-Yahoo-Group-Post: member; u=137285340\r\nX-Yahoo-Profile: gojomo\r\n\r\nAs St.Ack notes, there&#39;s no existing facility for arbitrary Processors\nto find each other or store shared state for arbitrary purposes, but\nCrawlController would be the natural place. It&#39;s intended to be the\n&quot;crawl-global&quot; context for any one crawl.\n\nSo a reasonable approach could be adding a HashMap to CrawlController,\nwith synchronized putCrawlGlobal() and getCrawlGlobal() methods to\naccess it. Rather than relying on this route for frequent communication,\nProcessors could use it for initial rendezvous, and then synchronize\ntheir access in whatever manner is natural for them.\n\nWith such a facility, you could create and connect the shared resource\non first use (bewaring of race hazards).\n\n- Gordon @ IA\n\nstack wrote:\n&gt; richwcollins wrote:\n&gt; \n&gt; \n&gt;&gt;I have a filter and processor that require access to a database.\n&gt;&gt;Rather than reconnect to the database each time a query is desired, I\n&gt;&gt;would like to use a single connection (or connection pool) that stays\n&gt;&gt;connected.  How would I go about making the connection at the\n&gt;&gt;beginning of the crawl and then storing a reference to it somewhere\n&gt;&gt;that I can access it from a custom filter and processor?\n&gt; \n&gt; \n&gt; Currently no general global store that you could stuff a connection or \n&gt; pool handle into (If there was one, CrawlController would probably be \n&gt; its host).  Here&#39;s some ideas:\n&gt; \n&gt; + Subclass org.archive.crawler.Heritrix and add into it db connection \n&gt; setup on startup.  You&#39;d then make the connection pool globally \n&gt; accessible by saving the handle into a static.  This would allow you to \n&gt; call HeritrixSubClass.getDbConnection() from anywhere to gain access  \n&gt; (You&#39;d have to change the heritrix launch script so it started your \n&gt; HeritrixSubClass).\n&gt; + Or would setting up the db connection in a static block that gets run \n&gt; on classloading inside in your Processor of Filter work for you or have \n&gt; either your filter or processor go to a Singleton that holds the db \n&gt; connection reference and have it initiate the connection on construction \n&gt; or the first time its accessed?\n&gt; \n&gt; St.Ack\n&gt; \n&gt; \n&gt;&gt;Thanks,\n&gt;&gt;\n&gt;&gt;Rich Collins\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;*Yahoo! Groups Sponsor*\n&gt;&gt;ADVERTISEMENT\n&gt;&gt;click here \n&gt;&gt;&lt;http://us.ard.yahoo.com/SIG=12990rloq/M=298184.6191685.7192823.3001176/D=groups/S=1705004924:HM/EXP=1111269087/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&gt; \n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;------------------------------------------------------------------------\n&gt;&gt;*Yahoo! Groups Links*\n&gt;&gt;\n&gt;&gt;    * To visit your group on the web, go to:\n&gt;&gt;      http://groups.yahoo.com/group/archive-crawler/\n&gt;&gt;       \n&gt;&gt;    * To unsubscribe from this group, send an email to:\n&gt;&gt;      archive-crawler-unsubscribe@yahoogroups.com\n&gt;&gt;      &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;&gt;       \n&gt;&gt;    * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;&gt;      Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;&gt;\n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n"}}