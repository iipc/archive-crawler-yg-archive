{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":160886731,"authorName":"Marco Baroni","from":"Marco Baroni &lt;baroni@...&gt;","profile":"kumaraja2000","replyTo":"LIST","senderId":"bw-ZkAT86WOd-zMRJoeMUTdYxDaJJyrZXBWTXY6J7MgU3AoG1upUcrfMZ1yrXzFH15BoVt-gPU7qPHs6lH6oOnoCuPFcuAU9-w-Lew","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] slow crawls with 1.8: mail per heritrix list","postDate":"1151665430","msgId":2995,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0QTUwNTE2LjQwNzAxMDlAc3NsbWl0LnVuaWJvLml0Pg==","inReplyToHeader":"PDQ0QTJGQ0JFLjgwNzAwMDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PDQ0QTI0RUQ1LjgwMDA1MDFAc3NsbWl0LnVuaWJvLml0PiA8NDRBMkZDQkUuODA3MDAwMkBhcmNoaXZlLm9yZz4="},"prevInTopic":2987,"nextInTopic":2997,"prevInTime":2994,"nextInTime":2996,"topicId":2984,"numMessagesInTopic":5,"msgSnippet":"Thanks for your help! ... No alerts. ... Nope, there are some warnings when we start heritrix but they only concern older (pre-1.4) jobs, and they don t seem","rawEmail":"Return-Path: &lt;baroni@...&gt;\r\nX-Sender: baroni@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 5055 invoked from network); 30 Jun 2006 11:04:33 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m28.grp.scd.yahoo.com with QMQP; 30 Jun 2006 11:04:33 -0000\r\nReceived: from unknown (HELO einstein.sslmit.unibo.it) (137.204.200.1)\n  by mta4.grp.scd.yahoo.com with SMTP; 30 Jun 2006 11:04:31 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby einstein.sslmit.unibo.it (Postfix) with ESMTP id 9B40F2E95F;\n\tFri, 30 Jun 2006 13:03:54 +0200 (CEST)\r\nReceived: from einstein.sslmit.unibo.it ([127.0.0.1])\n by localhost (einstein.sslmit.unibo.it [127.0.0.1]) (amavisd-new, port 10024)\n with ESMTP id 17991-08; Fri, 30 Jun 2006 13:03:50 +0200 (CEST)\r\nReceived: from [137.204.90.48] (unknown [137.204.90.48])\n\tby einstein.sslmit.unibo.it (Postfix) with ESMTP id 5ADB016010;\n\tFri, 30 Jun 2006 13:03:50 +0200 (CEST)\r\nMessage-ID: &lt;44A50516.4070109@...&gt;\r\nDate: Fri, 30 Jun 2006 13:03:50 +0200\r\nUser-Agent: Thunderbird 1.5.0.2 (Macintosh/20060308)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Eros Zanchetta &lt;eros@...&gt;\r\nReferences: &lt;44A24ED5.8000501@...&gt; &lt;44A2FCBE.8070002@...&gt;\r\nIn-Reply-To: &lt;44A2FCBE.8070002@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: by amavisd-new at sslmit.unibo.it\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: Marco Baroni &lt;baroni@...&gt;\r\nSubject: Re: [archive-crawler] slow crawls with 1.8: mail per heritrix list\r\nX-Yahoo-Group-Post: member; u=160886731; y=pzfFS1KjMw6sC40P7n60KZMaVi0teerwtD4ER-V9EZVIYT3ikF9D\r\nX-Yahoo-Profile: kumaraja2000\r\n\r\nThanks for your help!\n\n&gt; Once it reaches the &#39;slow&#39; state, it would be useful to check:\n&gt; - does the UI show any alerts?\n\nNo alerts.\n\n&gt; - does the heritrix_out.log show any exceptions (esp. those that\n&gt; might cause thread death)?\n\nNope, there are some warnings when we start heritrix but they only concern \nolder (pre-1.4) jobs, and they don&#39;t seem relevant.\n\n&gt; - what does the UI &#39;threads report&#39; show as the state of running\n&gt; threads?\n\nToeThread report\n150 threads: 150 ABOUT_TO_GET_URI\n\nThe report looks like this:\n\nToe threads report - 200606301056\n  Job being crawled: itwac-like2\n  Number of toe threads in pool: 150 (0 active)\n    ToeThread #1\n[ToeThread #1:\n  -no CrawlURI-\n     WAITING for 9s930ms\n     step: ABOUT_TO_GET_URI for 9s930ms\n]\n    ToeThread #2\n[ToeThread #2:\n  -no CrawlURI-\n     WAITING for 15s20ms\n     step: ABOUT_TO_GET_URI for 15s20ms\n]\n\nand so on for all the threads\n\n&gt; - what does the &#39;frontier report&#39; show as the distribution of\n&gt; queue states?\n\nFrontier report\n3782 queues: 120 active (0 in-process; 0 ready; 120 snoozed); 0 inactive; 0 \nretired; 3662 exhausted\n\nFrontier report - 200606301058\n  Job being crawled: itwac-like2\n\n  -----===== STATS =====-----\n  Discovered:    27470\n  Queued:        2513\n  Finished:      25014\n   Successfully: 19759\n   Failed:       3\n   Disregarded:  5252\n\n  -----===== QUEUES =====-----\n  Already included size:     27470\n                pending:     0\n\n  All class queues map size: 3782\n              Active queues: 120\n                     In-process: 0\n                          Ready: 0\n                        Snoozed: 120\n            Inactive queues: 0\n             Retired queues: 0\n           Exhausted queues: 3662\n\n  -----===== IN-PROCESS QUEUES =====-----\n\n  -----===== READY QUEUES =====-----\n\n  -----===== SNOOZED QUEUES =====-----\nQueue weather.yahoo.com\n   10 items\n    wakes in: 684ms\n     last enqueued: \nhttp://weather.yahoo.com/forecast/BRXX0232_c.html?force_units=1\n       last peeked: http://weather.yahoo.com/forecast/SFXX0023_f.html\n    total expended: 99 (total budget: -1)\n    active balance: 2901\n    last(avg) cost: 1(1.0)\n\nQueue forum.cellularmagazine.it\n   152 items\n    wakes in: 744ms\n     last enqueued: \nhttp://forum.cellularmagazine.it/viewtopic.php?t=6786&view=previous\n       last peeked: http://forum.cellularmagazine.it/viewtopic.php?t=6786\n    total expended: 72 (total budget: -1)\n    active balance: 2928\n    last(avg) cost: 1(1.0)\n\nQueue www.fondazionecrvenezia.it\n   25 items\n    wakes in: 1s342ms\n     last enqueued: \nhttp://www.fondazionecrvenezia.it/patrimonioartistico/dipinti/scheda171.html\n       last peeked: \nhttp://www.fondazionecrvenezia.it/patrimonioartistico/dipinti/scheda118.html\n    total expended: 222 (total budget: -1)\n    active balance: 2778\n    last(avg) cost: 1(1.0)\n\n\n...\n\n  -----===== LONGEST QUEUE =====-----\nQueue forum.amdplanet.it\n   1418 items\n    wakes in: 8s465ms\n     last enqueued: \nhttp://forum.amdplanet.it/viewtopic.php?t=17426&view=previous\n       last peeked: http://forum.amdplanet.it/viewtopic.php?t=17426\n    total expended: 67 (total budget: -1)\n    active balance: 2933\n    last(avg) cost: 1(1.0)\n\n\n  -----===== INACTIVE QUEUES =====-----\n\n  -----===== RETIRED QUEUES =====-----\n\n\n&gt; Another outside possibility is a large number of non-responsive\n&gt; hosts. Depending on your settings, non-responsive hosts could take\n&gt; tens of seconds to minutes to time out. Having hundreds or\n&gt; thousands among the queues could monopolize all the threads\n&gt; wiating for timeouts. This would likely be evident in the threads\n&gt; report if this were the case.\n\nSee above.\n\nBut isn&#39;t this something that should have happened in 1.4 as well?\n\n\n&gt; \n&gt; Hope this helps -- feel free to send whatever crawl output you\n&gt; feel comfortable sharing to the list or to me directly for more\n&gt; analysis.\n\nThanks a lot -- we feel comfortable sharing everything, but I&#39;m not sure \nabout what kind of information would be useful and I don&#39;t want to submerge \nyou and/or the list with useless stuff... if there is anything that you \nthing would be informative in diagnosing the problem, please let me know, \nand I&#39;ll send it!\n\nThanks again.\n\nRegards,\n\nMarco\n\n\n-- \nMarco Baroni\nSSLMIT, University of Bologna\nhttp://sslmit.unibo.it/~baroni\n\n"}}