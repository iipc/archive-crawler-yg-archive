{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"y8rhXHhMlyYLjmHqaJnW1L6K4S65qyPIY8nIoKpOHqxJx9_IS65CmfuAZzmQfdSsoJanlCY7wcr5hyRxZuh_dERrVN7Q2x_3","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Reduce duplication","postDate":"1182360985","msgId":4333,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2Nzk2NTk5LjEwNTA2MDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGY1YjBoNytyYjQ0QGVHcm91cHMuY29tPg==","referencesHeader":"PGY1YjBoNytyYjQ0QGVHcm91cHMuY29tPg=="},"prevInTopic":4330,"nextInTopic":0,"prevInTime":4332,"nextInTime":4334,"topicId":4330,"numMessagesInTopic":2,"msgSnippet":"One way of do this is by adding an org.archive.crawler.url.canonicalize.RegexRule canonicalization rule. Your regex can be something like: ","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 59637 invoked from network); 20 Jun 2007 17:40:18 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m46.grp.scd.yahoo.com with QMQP; 20 Jun 2007 17:40:18 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta8.grp.scd.yahoo.com with SMTP; 20 Jun 2007 17:40:18 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id AE78C14156AA6\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 20 Jun 2007 10:36:47 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 19025-01-70 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tWed, 20 Jun 2007 10:36:47 -0700 (PDT)\r\nReceived: from [127.0.0.1] (nor75-24-88-170-99-175.fbx.proxad.net [88.170.99.175])\n\tby mail.archive.org (Postfix) with ESMTP id BE5D314156322\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 20 Jun 2007 10:36:46 -0700 (PDT)\r\nMessage-ID: &lt;46796599.1050603@...&gt;\r\nDate: Wed, 20 Jun 2007 10:36:25 -0700\r\nUser-Agent: Thunderbird 1.5.0.12 (Windows/20070509)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f5b0h7+rb44@...&gt;\r\nIn-Reply-To: &lt;f5b0h7+rb44@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] Reduce duplication\r\nX-Yahoo-Group-Post: member; u=137477665; y=mrlFhaYVWHeAGkUrd3vsQoNNrW3jh0N0wS5UngK6OuMXCh2zfA\r\nX-Yahoo-Profile: iranitovic\r\n\r\nOne way of do this is by adding an \norg.archive.crawler.url.canonicalize.RegexRule canonicalization rule.\n\nYour regex can be something like:\n(?i)(^https?://.*&#92;?[^%+_]+)[%+_](f)\nand the format can be:\n${1}${2}\n\nI did not test this regex and it is probably to specific to example URIs \nthat you mentioned. But, the idea is same.\n\nJust FYI. If you add canonicalization rules mid crawl don&#39;t expect to \nsee immediate results if any at all. Consider this scenario (using the \nrule from above):\nThis url has been crawled:\n1) http://www.domain.com/templates.aspx?sportarticles=%2f\nThis URI has been discovered and schedule but not crawled yet:\n2) http://www.domain.com/templates.aspx?sportarticles=_2f\n\nYour already seen URI list will have:\nhttp://www.domain.com/templates.aspx?sportarticles=%2f\nhttp://www.domain.com/templates.aspx?sportarticles=_2f\n\nNow, if you add a canonicalization rule before crawling URI #2) you will \nstill crawl it since it has been scheduled.\n\nAlso, if you discover URI #3:\n3) http://www.domain.com/templates.aspx?sportarticles=+2f\nyou will schedule it for crawling since its canonical form is\nhttp://www.domain.com/templates.aspx?sportarticles=2f. Notice that this \nform is not in already seen URI list, just yet.\n\nSo, in this case you will end up with all three URIs.\n\nHope this helps.\ni.\n\n\nmrholycow74 wrote:\n&gt; Hi all,\n&gt; \n&gt; I would like to create a URL canonicalization rule to reduce the\n&gt; amount of duplicate URL&#39;s being crawled?\n&gt; \n&gt; I am discovering on our search page results duplicate links to the same\n&gt; web page with the only difference in the URL&#39;s being one of the\n&gt; following characters : &#39;%&#39;  &#39;+&#39; or &#39;_&#39;\n&gt; \n&gt; So for example the following URL:\n&gt; \n&gt; http://www.domain.com/templates.aspx?sportarticles=%2f\n&gt; \n&gt; Is crawled again even though the only difference is the &#39;+&#39; and the web\n&gt; page is identical.\n&gt; \n&gt; http://www.domain.com/templates.aspx?sportarticles=+2f\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}