{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"GlsyT-BJUOn1sFlVdLYV_WEYuCacJCrqo7IYK-_kNM1nxVXHPQuLDbQ9abE-x5MskBUk7qqhhVfxRGq4INPUVT1M-myYQ4M","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Problems with seed regexp","postDate":"1068193709","msgId":167,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNGQUI1N0FELjQwMjAzMDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDEwNjgxMjYzMzUuMjc4NzYuMTQzNC5jYW1lbEBwYzc3MD4=","referencesHeader":"PDEwNjgxMjYzMzUuMjc4NzYuMTQzNC5jYW1lbEBwYzc3MD4="},"prevInTopic":164,"nextInTopic":168,"prevInTime":166,"nextInTime":168,"topicId":164,"numMessagesInTopic":5,"msgSnippet":"Yes, a problem with the seed extraction pattern and one or more null-pointer exception problems were fixed today. The main CVS code will continue to be","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 3581 invoked from network); 7 Nov 2003 08:28:51 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m12.grp.scd.yahoo.com with QMQP; 7 Nov 2003 08:28:51 -0000\r\nReceived: from unknown (HELO relay.pair.com) (209.68.1.20)\n  by mta3.grp.scd.yahoo.com with SMTP; 7 Nov 2003 08:28:50 -0000\r\nReceived: (qmail 55430 invoked from network); 7 Nov 2003 08:28:46 -0000\r\nReceived: from adsl-67-121-76-23.dsl.snfc21.pacbell.net (HELO archive.org) (67.121.76.23)\n  by relay.pair.com with SMTP; 7 Nov 2003 08:28:46 -0000\r\nX-pair-Authenticated: 67.121.76.23\r\nMessage-ID: &lt;3FAB57AD.4020300@...&gt;\r\nDate: Fri, 07 Nov 2003 00:28:29 -0800\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.5) Gecko/20031013 Thunderbird/0.3\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nSubject: Re: [archive-crawler] Problems with seed regexp\r\nReferences: &lt;1068126335.27876.1434.camel@pc770&gt;\r\nIn-Reply-To: &lt;1068126335.27876.1434.camel@pc770&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nX-Yahoo-Group-Post: member; u=137285340\r\nX-Yahoo-Profile: gojomo\r\n\r\nYes, a problem with the seed extraction pattern and one or\nmore null-pointer exception problems were fixed today.\n\nThe main CVS code will continue to be volatile for the\nnext week or so. Upon reaching a relatively stable point,\nwe&#39;re planning to create an explicit &quot;development&quot; branch,\nwhich should help to insulate users of the main branch\nfrom these kinds of transient problems.\n\nI think John fixed the seed extractor before seeing your\nrecommended pattern.\n\nI note that your pattern allows &#39;-&#39; in domains -- which\nis technically not allowed but occasionally used and supported\nby most software. Right now, the java.net.URI class refuses\nURIs with dashed hostnames, so we can&#39;t crawl them. See this\nbug:\n\n  http://sourceforge.net/tracker/index.php?func=detail&aid=808270&group_id=73833&atid=539099\n\nWe&#39;ll eventually implement some workaround, because we\nwant to be just as lenient as popular web browsers in\nthese situations.\n\nAlso, we&#39;d like a pattern that allows &#39;localhost&#39; to work in\nseeds, just for developer local testing.\n\n- Gordon\n\nLars Clausen wrote:\n\n&gt; Using todays CVS, we&#39;re having some problems with the seed regexp,\n&gt; (?i:(http(s)?://&#92;&#92;w+)|(&#92;&#92;w+&#92;&#92;.&#92;&#92;w+)(&#92;&#92;.&#92;&#92;w+)*(:&#92;&#92;d+)?(/&#92;&#92;S*)?),\n&gt; in util/SeedsInputIterator.java.\n&gt; \n&gt; For seeds like http://www.foo.br/ it gave http://www, since &#39;.&#39; isn&#39;t in\n&gt; &#92;w.  Additionally, sites with &#39;-&#39; in them cannot be seeds, as that isn&#39;t\n&gt; in &#92;w either.  Is the intention that anything after http[s] is allowed,\n&gt; but otherwise we look for hostnames?  It is also poorly defined in the\n&gt; Java docs what the precedence is, so the extent of the | is uncertain. \n&gt; I propose\n&gt; \n&gt; (?i:(?:(https?://[a-zA-Z0-9-]+)|([a-zA-Z0-9-]+&#92;&#92;.[a-zA-Z0-9-]+))(&#92;&#92;.[a-zA-Z0-9-]+)*(&#92;&#92;.&#92;&#92;w+)(:&#92;&#92;d+)?(/&#92;&#92;S*)?)\n&gt; \n&gt; which allows things starting with http[s], if they contain any legal\n&gt; two- or more level domains plus optional ports and stuff, or if they\n&gt; contain any legal three- or more level domain plus optional ports and\n&gt; stuff.  Patch for this attached.\n&gt; \n&gt; I also notice that there&#39;s a null pointer except on any non-matched\n&gt; name, but that seems to be something with the logging system.\n&gt; \n&gt; -Lars\n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; archive-crawler-unsubscribe@yahoogroups.com\n&gt; \n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; \n&gt; Index: SeedsInputIterator.java\n&gt; ===================================================================\n&gt; RCS file: /cvsroot/archive-crawler/ArchiveOpenCrawler/src/org/archive/crawler/util/SeedsInputIterator.java,v\n&gt; retrieving revision 1.3\n&gt; diff -u -r1.3 SeedsInputIterator.java\n&gt; --- SeedsInputIterator.java\t5 Nov 2003 18:59:16 -0000\t1.3\n&gt; +++ SeedsInputIterator.java\t6 Nov 2003 13:44:50 -0000\n&gt; @@ -37,8 +37,7 @@\n&gt;  public class SeedsInputIterator implements Iterator {\n&gt;  \t//  regexp for identifying URIs in seed input data\n&gt;  \tpublic static final Pattern DEFAULT_SEED_EXTRACTOR = \n&gt; -\t\tPattern.compile(&quot;(?i:(http(s)?://&#92;&#92;w+)|(&#92;&#92;w+&#92;&#92;.&#92;&#92;w+)(&#92;&#92;.&#92;&#92;w+)*(:&#92;&#92;d+)?(/&#92;&#92;S*)?)&quot;);\n&gt; -\t// pattern to extract seeds\n&gt; +\t\tPattern.compile(&quot;(?i:(?:(https?://[a-zA-Z0-9-]+)|([a-zA-Z0-9-]+&#92;&#92;.[a-zA-Z0-9-]+))(&#92;&#92;.[a-zA-Z0-9-]+)*(&#92;&#92;.&#92;&#92;w+)(:&#92;&#92;d+)?(/&#92;&#92;S*)?)&quot;);\n&gt; \t// pattern to extract seeds\n&gt;  \tPattern seedExtractor = DEFAULT_SEED_EXTRACTOR;\n&gt;  \n&gt;  \tCrawlController controller;\n\n\n\n"}}