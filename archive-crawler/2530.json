{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"-XbaH5tAW64nszPckETtt-9X5Uf76bViBW-UOjITVn_acFhP9LoFwjN_07RnBZfUaI7HDTxFE4JlzawRZboFww","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] NullPointerException when writing to ARC file","postDate":"1136949106","msgId":2530,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzQzQ3NzcyLjgwMDAxMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDUuMi4xLjEuMi4yMDA2MDExMDEyMjU1Ni4wMjRhOTdlOEBodWxtYWlsLmhhcnZhcmQuZWR1Pg==","referencesHeader":"PDUuMi4xLjEuMi4yMDA2MDExMDEyMjU1Ni4wMjRhOTdlOEBodWxtYWlsLmhhcnZhcmQuZWR1Pg=="},"prevInTopic":2527,"nextInTopic":2533,"prevInTime":2529,"nextInTime":2531,"topicId":2527,"numMessagesInTopic":6,"msgSnippet":"Thanks Andrea.  The writer.getPosition throwing an NPE is especially silly considering next line in ARCWriterProcessor is a check for a null writer (I just","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 44511 invoked from network); 11 Jan 2006 03:38:05 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m25.grp.scd.yahoo.com with QMQP; 11 Jan 2006 03:38:05 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta4.grp.scd.yahoo.com with SMTP; 11 Jan 2006 03:38:04 -0000\r\nReceived: from [192.168.1.105] ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k0B258N28327\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 10 Jan 2006 18:05:08 -0800\r\nMessage-ID: &lt;43C47772.8000105@...&gt;\r\nDate: Tue, 10 Jan 2006 19:11:46 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8) Gecko/20051218 SeaMonkey/1.0b\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;5.2.1.1.2.20060110122556.024a97e8@...&gt;\r\nIn-Reply-To: &lt;5.2.1.1.2.20060110122556.024a97e8@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] NullPointerException when writing to ARC file\r\nX-Yahoo-Group-Post: member; u=168599281; y=0h4e7zsRhtluEqih8Cte8FrjZ1GhOGKWSYBmbivdHWKbdNnwYXrvZRRp\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nThanks Andrea.  The &#39;writer.getPosition&#39; throwing an NPE is especially \nsilly considering next line in ARCWriterProcessor is a check for a null \nwriter (I just fixed it -- build 884 on our continuous build server -- \nsee \nhttp://crawltools.archive.org:8080/cruisecontrol/buildresults/HEAD-heritrix \n-- should have the amendment).\n\nAs to why the IOException is being thrown in the first place, can the \nHeritrix process for sure write to wherever you&#39;re directing ARC files \nbe written (It is not full and its writeable by the Heritrix process?)  \nMaybe trying with build 884 will give a better clue as to whats going on \nnow I imagine it&#39;ll let out the IOException.\n\nSt.Ack\n\n\nAndrea Goethals wrote:\n&gt; Hello,\n&gt;\n&gt; I recently changed the machine I am doing crawls on. Now every time I try\n&gt; to run a crawl I get a NullPointerException - even doing the Charset\n&gt; self-test. These are the kind of entries I&#39;m getting in my console &\n&gt; heritrix_out.log:\n&gt;\n&gt; Message:       \n&gt;\n&gt; Problem java.lang.NullPointerException occured when trying to process\n&gt; &#39;http://127.0.0.1:8181/robots.txt&#39; \n&gt; &lt;http://127.0.0.1:8181/robots.txt%27&gt; at step ABOUT_TO_BEGIN_PROCESSOR \n&gt; in Archiver\n&gt; (in processor Archiver)\n&gt;\n&gt; java.lang.NullPointerException\n&gt; Stacktrace: java.lang.NullPointerException\n&gt;       at\n&gt; org.archive.crawler.writer.ARCWriterProcessor.write(ARCWriterProcessor.java:492)\n&gt;       at\n&gt; org.archive.crawler.writer.ARCWriterProcessor.writeHttp(ARCWriterProcessor.java:417)\n&gt;       at\n&gt; org.archive.crawler.writer.ARCWriterProcessor.innerProcess(ARCWriterProcessor.java:394)\n&gt;       at \n&gt; org.archive.crawler.framework.Processor.process(Processor.java:103)\n&gt;       at \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt;       at org.archive.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt;\n&gt;\n&gt; I can kind of see from the source why the NullPointerException might be\n&gt; thrown. In the ArcWriterProcessor when an IOException is thrown, on line\n&gt; 489 the writer is being set to null. Then in the finally clause on \n&gt; line 492\n&gt; it tries to call getPosition() on the null writer.\n&gt;\n&gt; The arc files are being written with the invalid suffix. I don&#39;t know why\n&gt; the IOException occurs if that is what&#39;s happening. I was able to do \n&gt; crawls\n&gt; on a different machine (both linux, both heritrix 1.6). Any help is\n&gt; appreciated.\n&gt;\n&gt; thanks,\n&gt; Andrea\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}