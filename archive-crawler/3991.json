{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":296797862,"authorName":"Holger Lausen","from":"Holger Lausen &lt;holger.lausen@...&gt;","replyTo":"LIST","senderId":"LbAfgbljGbaanYYbNQbn-HtRF04020vciRIvC2uUhv_3uuRPwfkPMBdR-4HvfOS7nqMMSNHcqXoMylIs0ChO-nLBakBymWvzRXG1K9E","spamInfo":{"isSpam":false,"reason":"2"},"subject":"Re: [archive-crawler] encoding issue with ARCWriterProcessor?","postDate":"1175236136","msgId":3991,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDQ2MENBRTI4LjIwNzAyMDdAZGVyaS5vcmc+","inReplyToHeader":"PDQ2MEMxMTI0LjQwNzA2MDNAZGVyaS5vcmc+","referencesHeader":"PDQ2MEMwMjg4LjEwMzA3MDJAZGVyaS5vcmc+IDw0NjBDMDQ1NC44MDIwMjAzQGFyY2hpdmUub3JnPiA8NDYwQzExMjQuNDA3MDYwM0BkZXJpLm9yZz4="},"prevInTopic":3986,"nextInTopic":3995,"prevInTime":3990,"nextInTime":3993,"topicId":3984,"numMessagesInTopic":6,"msgSnippet":"Hi, I did some more tests. I figured out using a browser I can obtain a correctly encoded document. I uploaded this to another server and ran heritrix against","rawEmail":"Return-Path: &lt;holger.lausen@...&gt;\r\nReceived: (qmail 6274 invoked from network); 30 Mar 2007 07:41:22 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m51.grp.scd.yahoo.com with QMQP; 30 Mar 2007 07:41:22 -0000\r\nReceived: from unknown (HELO n32b.bullet.sp1.yahoo.com) (209.131.38.212)\n  by mta7.grp.scd.yahoo.com with SMTP; 30 Mar 2007 07:41:22 -0000\r\nReceived: from [216.252.122.219] by n32.bullet.sp1.yahoo.com with NNFMP; 30 Mar 2007 07:41:02 -0000\r\nReceived: from [66.218.69.5] by t4.bullet.sp1.yahoo.com with NNFMP; 30 Mar 2007 07:41:02 -0000\r\nReceived: from [66.218.66.79] by t5.bullet.scd.yahoo.com with NNFMP; 30 Mar 2007 07:41:02 -0000\r\nX-Sender: holger.lausen@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 82747 invoked from network); 30 Mar 2007 06:29:06 -0000\r\nReceived: from unknown (66.218.66.68)\n  by m43.grp.scd.yahoo.com with QMQP; 30 Mar 2007 06:29:06 -0000\r\nReceived: from unknown (HELO smtp.uibk.ac.at) (138.232.1.142)\n  by mta11.grp.scd.yahoo.com with SMTP; 30 Mar 2007 06:29:06 -0000\r\nReceived: from [10.0.1.3] (chello213047234035.tirol.surfer.at [213.47.234.35] holger.lausen@...)\n        (authenticated bits=0)\n        by smtp.uibk.ac.at (8.13.8/8.13.1/F1) with ESMTP id l2U6Swrj011816\n        (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)\n        for &lt;archive-crawler@yahoogroups.com&gt;; Fri, 30 Mar 2007 08:28:59 +0200\r\nMessage-ID: &lt;460CAE28.2070207@...&gt;\r\nDate: Fri, 30 Mar 2007 08:28:56 +0200\r\nUser-Agent: Thunderbird 1.5.0.10 (Windows/20070221)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;460C0288.1030702@...&gt; &lt;460C0454.8020203@...&gt; &lt;460C1124.4070603@...&gt;\r\nIn-Reply-To: &lt;460C1124.4070603@...&gt;\r\nX-Enigmail-Version: 0.94.1.2\r\nContent-Type: multipart/signed; micalg=pgp-sha1;\n protocol=&quot;application/pgp-signature&quot;;\n boundary=&quot;------------enig71A4C427EB4AD818CFBB72C9&quot;\r\nX-Spam-Score: () -9.4 ALL_TRUSTED,RCV_SMTP_AUTH,RCV_SMTP_UIBK\r\nX-Scanned-By: MIMEDefang 2.58 at uibk.ac.at on 138.232.1.140\r\nX-eGroups-Msg-Info: 2:2:2:0\r\nFrom: Holger Lausen &lt;holger.lausen@...&gt;\r\nSubject: Re: [archive-crawler] encoding issue with ARCWriterProcessor?\r\nX-Yahoo-Group-Post: member; u=296797862\r\nX-Yahoo-Marked-Not-Spam: \r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gojomo &lt;gojomo@...&gt; via web; 30 Mar 2007 07:41:01 -0000\r\n\r\n\r\n--------------enig71A4C427EB4AD818CFBB72C9\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi,\n\nI did some more tests. I figured out using a browser I can obtain a\nco=\r\nrrectly encoded document. I uploaded this to another server and ran\nheritri=\r\nx against that one. In this way I ended up with a correct file.\n\nHere the h=\r\neaders of the Apache server I uploaded the document:\nHTTP/1.1 200 OK\nDate: =\r\nFri, 30 Mar 2007 06:34:39 GMT\nServer: Apache\nLast-Modified: Fri, 30 Mar 200=\r\n7 06:32:33 GMT\nETag: &quot;183d4-1e28-9590240&quot;\nAccept-Ranges: bytes\nContent-Leng=\r\nth: 7720\nKeep-Alive: timeout=3D15, max=3D100\nConnection: Keep-Alive\nContent=\r\n-Type: text/html\n\nAnd here the original one from the IIS.\nHTTP/1.1 200 OK\nC=\r\nonnection: keep-alive\nDate: Fri, 30 Mar 2007 06:21:37 GMT\nServer: Microsoft=\r\n-IIS/6.0\nX-Powered-By: ASP.NET\nX-AspNet-Version: 1.1.4322\nCache-Control: pr=\r\nivate, max-age=3D0\nContent-Type: text/html; charset=3Dutf-8\nContent-Length:=\r\n 8025\n\nInteresting enough the document size changed. I assume the IIS someh=\r\now\ndoes something to the charset which got fixed when I used firefox to\ndow=\r\nnload the document, but not when I ued heritrix. Any ideas?\n\n\nthanks for an=\r\ny hints\n  Holger\n\nPS: Original doc URL: http://www.atcomp.cz/webservices/do=\r\nkumenty.asmx\n    corrected one: http://138.232.65.158/t.htm\n\n\nHolger Lausen=\r\n wrote:\n&gt; Wow, that is quick!\n&gt; \n&gt; I tried various stuff, e.g.\n&gt;  cat IAH-2=\r\n0070329193940-00000-res.arc | grep &#39;seznam&#39;\n&gt; or\n&gt;  vi IAH-20070329193940-0=\r\n0000-res.arc\n&gt; (vi tells me on &quot;set encoding&quot; that the file is UTF8)\n&gt; \n&gt; I=\r\n always get the mangling. I also tried\n&gt; wget http://www.atcomp.cz/webservi=\r\nces/dokumenty.asmx\n&gt; I end up with a similar mess.\n&gt; \n&gt; However if I use my=\r\n windows machine to fetch the file and scp to\n&gt; transfer it to the debian m=\r\nachine, I can see all the chars correctly,\n&gt; this is why I suspect somethin=\r\ng is happening (or not happening) during\n&gt; the fetching or writing process.=\r\n.. Can it be that the broswers (I used\n&gt; firefox) do some clever autofixing=\r\n?\n&gt; \n&gt; BTW the locale installed on the debian machine is: &quot;de_DE.UTF-8 UTF-=\r\n8&quot;\n&gt; (/etc/locale.gen). I also tried to install all available locales, but\n=\r\n&gt; same result.\n&gt; \n&gt; thanks for the quick answer.\n&gt; \n&gt;  /holger\n&gt; \n&gt; \n&gt; \n&gt; \n=\r\n&gt; \n&gt; \n&gt; Michael Stack wrote:\n&gt;&gt;\n&gt;&gt; Tell us more.\n&gt;&gt;\n&gt;&gt; Heritrix writes the =\r\nraw captured bytes untampered.\n&gt;&gt;\n&gt;&gt; What are you using to view the ARCWrit=\r\nerProcessor captures? The page\n&gt;&gt; you point to in the below does not explic=\r\nitly state its encoding.\n&gt;&gt; Perhaps it needs this hint to rendor the pages =\r\nproperly? For example,\n&gt;&gt; if I force my browser to render the page using IS=\r\nO-8859-1 rather than\n&gt;&gt; UTF-8, I see the mangling you reproduce below.\n&gt;&gt;\n&gt;=\r\n&gt; St.Ack\n&gt;&gt;\n&gt;&gt; Holger Lausen wrote:\n&gt;&gt;&gt; Hi all,\n&gt;&gt;&gt;\n&gt;&gt;&gt; using heritrix 1.2:=\r\n\n&gt;&gt;&gt;\n&gt;&gt;&gt; When using the org.archive.crawler.writer.ARCWriterProcessor in th=\r\ne\n&gt;&gt;&gt; default profile on e.g.\n&gt;&gt; http://www.atcomp.cz/webservices/dokumenty=\r\n.asmx\n&gt;&gt; &lt;http://www.atcomp.cz/webservices/dokumenty.asmx&gt;\n&gt;&gt;&gt; (UTF-8) I en=\r\nd up with an archive file containing instead of:\n&gt;&gt;&gt;\n&gt;&gt;&gt; Vrac=ED seznam kon=\r\ncov=FDch\n&gt;&gt;&gt;\n&gt;&gt;&gt; Vrac=C3=AD seznam koncov=C3=BDch\n&gt;&gt;&gt;\n&gt;&gt;&gt; I am not sure whe=\r\nre start looking at the issue, can someone give me a\n&gt;&gt;&gt; pointer?\n&gt;&gt;&gt;\n&gt;&gt;&gt; T=\r\nhe servers char-set claim is correctly utf8, I am running a debian\n&gt;&gt;&gt; syst=\r\nem....\n&gt;&gt;&gt;\n&gt;&gt;&gt; thanks\n&gt;&gt;&gt; Holger\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt; \n\n-- \nHolger Lausen\n\nDigi=\r\ntal Enterprise Research Institute (DERI)\nhttp://www.deri.org/\n\nTel:   +43 5=\r\n12 5076464\nMail: holger.lausen@...\nWWW: http://holgerlausen.net\n\n\r\n--------------enig71A4C427EB4AD818CFBB72C9\r\nContent-Type: application/pgp-signature; name=&quot;signature.asc&quot;\r\nContent-Description: OpenPGP digital signature\r\nContent-Disposition: attachment; filename=&quot;signature.asc&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------enig71A4C427EB4AD818CFBB72C9--\r\n\n"}}