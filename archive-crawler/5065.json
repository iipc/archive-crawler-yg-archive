{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"sUVwmuDg-xOjqqSIWLWs2UW52gjm4dlKRWmXC_o8XHA6ZYoxQQ8keucqQ9N96-liqJKwD1T_wQYm_l5_XyEc6T2Azytd6dY","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: -4001 Too many link hops away from seed","postDate":"1205534582","msgId":5065,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3REFGRjc2LjUwNTA4MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGZyZTJycStoaGgzQGVHcm91cHMuY29tPg==","referencesHeader":"PGZyZTJycStoaGgzQGVHcm91cHMuY29tPg=="},"prevInTopic":5064,"nextInTopic":0,"prevInTime":5064,"nextInTime":5066,"topicId":5059,"numMessagesInTopic":4,"msgSnippet":"... I went looking, and also could not find it. ... Another way of thinking about this: Whenever a URI is scope-rejected, it is (1) only for the path that it ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 19311 invoked from network); 14 Mar 2008 22:43:02 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m48.grp.scd.yahoo.com with QMQP; 14 Mar 2008 22:43:02 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta18.grp.scd.yahoo.com with SMTP; 14 Mar 2008 22:43:02 -0000\r\nX-Received: (qmail 98578 invoked from network); 14 Mar 2008 22:43:00 -0000\r\nX-Received: from unknown (HELO ?192.168.1.101?) (unknown)\n  by unknown with SMTP; 14 Mar 2008 22:43:00 -0000\r\nX-pair-Authenticated: 70.112.115.73\r\nMessage-ID: &lt;47DAFF76.5050804@...&gt;\r\nDate: Fri, 14 Mar 2008 17:43:02 -0500\r\nUser-Agent: Thunderbird 2.0.0.12 (Windows/20080213)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fre2rq+hhh3@...&gt;\r\nIn-Reply-To: &lt;fre2rq+hhh3@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: -4001 Too many link hops away from seed\r\nX-Yahoo-Group-Post: member; u=137285340; y=N15oxw0RhwYC67zOZHzuYYGYev-KssmmIMMNrPhKJg_m\r\nX-Yahoo-Profile: gojomo\r\n\r\nnfoscarini wrote:\n&gt;&gt; Under which conditions does the code &quot;-4001 Too many link hops away\n&gt; from \n&gt;&gt; seed&quot; appear in logs? I intended to log the links not harvested because \n&gt;&gt; of reaching the maximum set distance from seed.\n&gt; \n&gt; The logs record the final status of a URI fetch, but there are\n&gt; different fetch handlers. Such as an FTP fetcher would log the status\n&gt; code if there was an FTP error. So all negative status codes are\n&gt; generated by Heritrix.\n&gt; \n&gt; I could not find anywhere in the source where -4001 was being returned\n&gt; as the status code, but there are decider rules that return true/false\n&gt; if to many link hops are found from the seed. So I assume that -4001\n&gt; is a calculated value.\n&gt; \n&gt; Can anyone direct me to where CrawlURI.setFetchStatus is being called\n&gt; with -4001? I could not find it, and this has be really puzzled.\n\nI went looking, and also could not find it.\n\n&gt; I also found that a URI will not be rejected right away if it is to\n&gt; many links from the hop. It will be tried again until all seeds have\n&gt; been checked.\n&gt; \n&gt; For example; if you had these seeds\n&gt; \n&gt; http://www.cnn.com\n&gt; http://www.cnn.com/news/america/somewhere\n&gt; \n&gt; So the below URL would be accepted because it&#39;s not past the max hops\n&gt; for the second seed, but it fails for the first seed.\n&gt; \n&gt; http://www.cnn.com/news/america/somewhere/my/pages.html\n\nAnother way of thinking about this:\n\nWhenever a URI is scope-rejected, it is (1) only for the path that it \nwas just discovered by; and (2) without prejudice if another different \npath is discovered later.\n\nSo for example if you are doing a 2-hop-deep crawl, and the crawler \nquickly follows a 3-hop path to find URI X, X will be scope-rejected. If \na later 2-hop path is found, X will pass scope-testing and be enqueued.\n\nAnother wrinkle is if we consider URI Y that is linked from X. Assume \nthe above has already transpired; X was enqueued because it was within \n2-hops of a seed. But Y was considered and scope-rejected for being \n3-hops away.\n\nNow, a 1-hop path to X is found. (Perhaps, one seed needed to be retried \nfor hours do to network problems.) Since X was already enqueued via the \n2-hop path, it is not re-enqueued, nor is it updated to now reflect its \nshorter hop distance. So Y may never be reconsidered, unless another \nfresh short path is discovered.\n\nSo be aware that hop-count based crawls are sensitive to relatively \nrandom/arbitrary timing and order-of-discovery issues.\n\n- Gordon @ IA\n\n"}}