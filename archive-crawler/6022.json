{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"yLdSiw3VboR7TuT6plBG8nMdQi1x2ZAxjmS5FcsThtIhlBOxL2qbdNM-j2gEffubHcHqgTYJI-FOdOwy8JUC7YgE8_QU7F0","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Heritrix 2 Precedence Policies","postDate":"1252547497","msgId":6022,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBQTg1QkE5LjUwMTAyMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGg4OWRrZSs2cjVwQGVHcm91cHMuY29tPg==","referencesHeader":"PGg4OWRrZSs2cjVwQGVHcm91cHMuY29tPg=="},"prevInTopic":6021,"nextInTopic":0,"prevInTime":6021,"nextInTime":6023,"topicId":6021,"numMessagesInTopic":2,"msgSnippet":"Not sure what might be going wrong, but a few ideas are below. ... Note that the name of the KeyWordUriPrecedencePolicy is a bit misleading; all it really does","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 8544 invoked from network); 10 Sep 2009 01:52:02 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.re1.yahoo.com with QMQP; 10 Sep 2009 01:52:02 -0000\r\nX-Received: from unknown (HELO relay00.pair.com) (209.68.5.9)\n  by mta2.grp.sp2.yahoo.com with SMTP; 10 Sep 2009 01:52:01 -0000\r\nX-Received: (qmail 58760 invoked from network); 10 Sep 2009 01:51:38 -0000\r\nX-Received: from 70.137.146.195 (HELO ?10.0.13.13?) (70.137.146.195)\n  by relay00.pair.com with SMTP; 10 Sep 2009 01:51:38 -0000\r\nX-pair-Authenticated: 70.137.146.195\r\nMessage-ID: &lt;4AA85BA9.5010205@...&gt;\r\nDate: Wed, 09 Sep 2009 18:51:37 -0700\r\nUser-Agent: Thunderbird 2.0.0.23 (X11/20090817)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;h89dke+6r5p@...&gt;\r\nIn-Reply-To: &lt;h89dke+6r5p@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix 2 Precedence Policies\r\nX-Yahoo-Group-Post: member; u=137285340; y=br-uNTVpbGWG-JkQq37LZrf2tX9D1579MI-IjwyESRKu\r\nX-Yahoo-Profile: gojomo\r\n\r\nNot sure what might be going wrong, but a few ideas are below.\n\nsendaman69 wrote:\n&gt; Hi all,\n&gt; \n&gt; I was trying to order my discovered uris with the KeyWordUriPrecedencePolicy for the URIs and the HighestUriQueuePrecedencePolicy for the queues.\n\nNote that the name of the KeyWordUriPrecedencePolicy is a bit \nmisleading; all it really does is allow a precedence-value set \nearlier on the CrawlURI to be retained at policy-application-time.\n\n&gt; I&#39;m assigning every outCandidate uri a certain value (1, 10, 20, 30, 70, 100) in a post processor (after LinkScoper).\n\nBe sure to set your desired values before FrontierSchuduler. (If \nyour custom processor is immediately after LinksScoper, you should \nbe alright.)\n\n&gt; From my understanding all URIs with the value 1 should be processed first, then those with value 10 and so on...\n\nWithin a single queue, that is generally correct: the &#39;higher&#39; \nprecedence values -- as an ranking, that&#39;s the lower numbers -- \nwill be sorted into the queue before the lower precedence values, \nand thus be crawled earlier.\n\nThis won&#39;t *necessarily* be the case between different queues. For \nexample, if one queue is filled with &#39;1&#39; URIs, and another all \n&#39;30&#39; URIs, and yet another all &#39;100&#39; URIs, but the crawler has \nenough ToeThreads to crawl all at once, it won&#39;t violate \npoliteness by trying multiple URIs from the single &#39;1&#39; queue at a \ntime. Instead it works on all queues simultaneously. So you will \nsee URIs of various precedences mixed out-of-order.\n\nAnother thing to take note of: there is another more primitive \nlevel of controlling ordering, the &#39;scheduling directive&#39;, which \nis considered before &#39;precedence&#39;. Some URIs get a bump-up in this \nvalue, and\n\nURIs that get a higher-priority scheduling-directive:\n\n- redirects -- see LinksScoper.getSchedulingFor()\n\n- those within LinksScoper&#39;s &#39;preference-depth-hops&#39; of a seed -- \nalso see LinksScoper.getSchedulingFor())\n\n- seeds that immediately redirect -- see \nAbstractFrontier.applySpecialHandling()\n\n- non-navlink hops (those that are &#39;E&#39;/&#39;R&#39;/&#39;P&#39;/&#39;X&#39; type) up to \nAbstractFrontier&#39;s &#39;preference-embed-hops&#39; value -- also see \nAbstractFrontier.applySpecialHandling()\n\nIf any of these apply, the URIs will be sorted into queues first \nby this scheduling directive (which is considered an ordering \nrequirement necessary for proper crawler functioning) before \nconsidering precedence (which is considered a less-important \noperator preference for ordering).\n\nIt might be these qualifications to the ability of precedence to \ncontrol ordering which explain what you&#39;re seeing, so some tuning \nof the settings mentioned above might get you closer to desired \nordering.\n\nOf course as a matter of design this is too many ways to affect \nthe same thing -- URI ordering. It&#39;s a result of different \nmechanisms being added at different stages of the crawler&#39;s \ndevelopment. At some point these mechanisms could be \nrationalized/refactored/renamed to minimize confusion.\n\nHope this helps,\n\n- Gordon @ IA\n\n&gt; For some reason my crawl doesn&#39;t seem to use the precedence values and the policies and the crawl is processed like a regular crawl without policies.\n&gt; \n&gt; I can retrieve the set values when the uris actually get crawled but the order is not right!\n&gt; \n&gt; Is there any setting I have to change besides adding the policies?\n&gt;  \n&gt; This will be (hopefully) my last question and then I can finish my master thesis on my ontological crawler based on Heritrix! Thanks for all the help at this point, especially to Gordon!\n&gt; \n&gt; Georgie\n&gt; \n\n"}}