{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"LVqa-a01cxMcj4EfxgT9CEzbvhlW9kE46iBCcnA2i6rW0nJ6wnsouVQ0LwcCKgcy8TcTmN11dwE-TXm9eOePr169t1tOSrFs","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] How to stop Heritrix job from within writer?","postDate":"1415761486","msgId":8636,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBMcFgzeT1DOGJaYVViZTFxbTZCNndWcXhEMWt1S1c3LWFWVFExSm12TmEwQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBSjVmblRVVzVtZlJBdkVocTNFWms4aEJ2NWtRKzV5WisyPXBwZkptYmgyVkNlaVdDQUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBSjVmblRVVzVtZlJBdkVocTNFWms4aEJ2NWtRKzV5WisyPXBwZkptYmgyVkNlaVdDQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":8632,"nextInTopic":0,"prevInTime":8635,"nextInTime":8637,"topicId":8632,"numMessagesInTopic":2,"msgSnippet":"Hi, throw new Error() in WriterPool.makeWriter() seems to work for me. You could also call CrawlController.requestCrawlPause() directly. See","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 32901 invoked by uid 102); 12 Nov 2014 03:04:57 -0000\r\nX-Received: from unknown (HELO mtaq3.grp.bf1.yahoo.com) (10.193.84.142)\n  by m1.grp.bf1.yahoo.com with SMTP; 12 Nov 2014 03:04:57 -0000\r\nX-Received: (qmail 28846 invoked from network); 12 Nov 2014 03:04:57 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (98.138.215.83)\n  by mtaq3.grp.bf1.yahoo.com with SMTP; 12 Nov 2014 03:04:57 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 729ABA6227C\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 11 Nov 2014 19:04:56 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id lAU7Xv7mxdym for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 11 Nov 2014 19:04:47 -0800 (PST)\r\nX-Received: from mail-ob0-f171.google.com (mail-ob0-f171.google.com [209.85.214.171])\n\tby mail.archive.org (Postfix) with ESMTPSA id B6875A6215F\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 11 Nov 2014 19:04:47 -0800 (PST)\r\nX-Received: by mail-ob0-f171.google.com with SMTP id wp18so8542076obc.16\n        for &lt;archive-crawler@yahoogroups.com&gt;; Tue, 11 Nov 2014 19:04:46 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.55.200 with SMTP id u8mr11375824oep.43.1415761486970;\n Tue, 11 Nov 2014 19:04:46 -0800 (PST)\r\nX-Received: by 10.76.90.196 with HTTP; Tue, 11 Nov 2014 19:04:46 -0800 (PST)\r\nIn-Reply-To: &lt;CAJ5fnTUW5mfRAvEhq3EZk8hBv5kQ+5yZ+2=ppfJmbh2VCeiWCA@...&gt;\r\nReferences: &lt;CAJ5fnTUW5mfRAvEhq3EZk8hBv5kQ+5yZ+2=ppfJmbh2VCeiWCA@...&gt;\r\nDate: Tue, 11 Nov 2014 19:04:46 -0800\r\nMessage-ID: &lt;CAA-z70LpX3y=C8bZaUbe1qm6B6wVqxD1kuKW7-aVTQ1JmvNa0A@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=089e011606ee8489960507a0a8cb\r\nSubject: Re: [archive-crawler] How to stop Heritrix job from within writer?\r\nX-Yahoo-Group-Post: member; u=325624130; y=3mZftKIlQRZuuMPD5IimioeTvtNdc6Kj0HfHA50RPBig3Q\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\n\r\n--089e011606ee8489960507a0a8cb\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi,\n\n&quot;throw new Error()&quot; in WriterPool.makeWriter() seems to work for me. Y=\r\nou\ncould also call CrawlController.requestCrawlPause() directly.\nSee org.ar=\r\nchive.crawler.monitor.DiskSpaceMonitor for an example of this.\n\nNoah\n\n\nOn M=\r\non, Oct 27, 2014 at 4:49 PM, Scott Sadler ssadler@...\n[archive-crawle=\r\nr] &lt;archive-crawler@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; So I&#39;m implementing a wr=\r\niter as a disposition processor, and using\n&gt; WriterPool. The problem I have=\r\n is that I can&#39;t find a way to reliably stop\n&gt; the Heritrix job when I enco=\r\nunter a problem. The best I have found so far\n&gt; is to throw an Error from t=\r\nhe constructor of WriterPool, which (I think)\n&gt; will pause the job. But exc=\r\neptions from `WriterPool.makeWriter` or\n&gt; `WriterPoolMember.write` do not p=\r\nause the job, they are logged but treated\n&gt; as recoverable, though in this =\r\ncase they&#39;re not! Is there another way to\n&gt; pause the job from a writer?\n&gt;\n=\r\n&gt; Many thanks\n&gt;\n&gt;\n&gt; \n&gt;\n\r\n--089e011606ee8489960507a0a8cb\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,he=\r\nlvetica,sans-serif&quot;&gt;Hi,&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-fam=\r\nily:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; styl=\r\ne=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&quot;throw new Error()&quot; =\r\nin WriterPool.makeWriter() seems to work for me. You could also call CrawlC=\r\nontroller.requestCrawlPause() directly. See=C2=A0org.archive.crawler.monito=\r\nr.DiskSpaceMonitor for an example of this.&lt;/div&gt;&lt;div class=3D&quot;gmail_default=\r\n&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;=\r\ngmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Noah&lt;/div&gt;&lt;=\r\ndiv class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif=\r\n&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;=\r\n&gt;On Mon, Oct 27, 2014 at 4:49 PM, Scott Sadler &lt;a href=3D&quot;mailto:ssadler@ma=\r\nshi.org&quot;&gt;ssadler@...&lt;/a&gt; [archive-crawler] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a h=\r\nref=3D&quot;mailto:archive-crawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;archive-cr=\r\nawler@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_q=\r\nuote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1e=\r\nx&quot;&gt;\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;span style=\r\n=3D&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;So I&#39;m implementing a =\r\nwriter as a disposition processor, and using WriterPool. The problem I have=\r\n is that I can&#39;t find a way to reliably stop the Heritrix job when I en=\r\ncounter a problem. The best I have found so far is to throw an Error from t=\r\nhe constructor of WriterPool, which (I think) will pause the job. But excep=\r\ntions from `WriterPool.makeWriter` or `WriterPoolMember.write` do not pause=\r\n the job, they are logged but treated as recoverable, though in this case t=\r\nhey&#39;re not! Is there another way to pause the job from a writer?&lt;/span&gt;=\r\n&lt;div style=3D&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div s=\r\ntyle=3D&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Many thanks&lt;/div&gt;&lt;/div=\r\n&gt;\n\n\n\n\n\n\n&lt;br&gt;\n\n\n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both&quot;&gt;&lt;=\r\n/div&gt;\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--089e011606ee8489960507a0a8cb--\r\n\n"}}