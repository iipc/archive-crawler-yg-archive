{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"dF4NjDGDH1mcFTNph25XKT-ubwvkOYkW1hFIZiX3IYClM6uct9SJT6iy_AFUb-k1nBiDpvLh2GquUHlNNkBPcreFgEcOb49F","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Crawl pausing itself","postDate":"1192521611","msgId":4601,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3MTQ2RjhCLjQwNjAzMDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ3MTNFQjQ0LjMwMDAyMDFAcGVyc2FpLmNvbT4=","referencesHeader":"PDQ3MTNENjAyLjEwMTAxMDdAcGVyc2FpLmNvbT4gPDQ3MTNENzUxLjkwOTA5MDlAZHVib2NlLm5ldD4gPDQ3MTNFMkY4LjEwNTAwMDJAcGVyc2FpLmNvbT4gPDQ3MTNFN0E2LjMwNzA3MDdAZHVib2NlLm5ldD4gPDQ3MTNFQjQ0LjMwMDAyMDFAcGVyc2FpLmNvbT4="},"prevInTopic":4600,"nextInTopic":4603,"prevInTime":4600,"nextInTime":4602,"topicId":4596,"numMessagesInTopic":8,"msgSnippet":"Hi Ted, I would just like to add that by default bdb cache can take up to 60% of assigned heep size. So, changing  bdb-cache-percent from default 0 to ","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 71494 invoked from network); 16 Oct 2007 08:00:30 -0000\r\nReceived: from unknown (66.218.67.94)\n  by m49.grp.scd.yahoo.com with QMQP; 16 Oct 2007 08:00:30 -0000\r\nReceived: from unknown (HELO smtp5-g19.free.fr) (212.27.42.35)\n  by mta15.grp.scd.yahoo.com with SMTP; 16 Oct 2007 08:00:30 -0000\r\nReceived: from smtp5-g19.free.fr (localhost.localdomain [127.0.0.1])\n\tby smtp5-g19.free.fr (Postfix) with ESMTP id 24FAA3F61D1\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 16 Oct 2007 10:00:30 +0200 (CEST)\r\nReceived: from [127.0.0.1] (nor75-24-88-170-99-175.fbx.proxad.net [88.170.99.175])\n\tby smtp5-g19.free.fr (Postfix) with ESMTP id 00D863F6157\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 16 Oct 2007 10:00:29 +0200 (CEST)\r\nMessage-ID: &lt;47146F8B.4060302@...&gt;\r\nDate: Tue, 16 Oct 2007 01:00:11 -0700\r\nUser-Agent: Thunderbird 2.0.0.6 (Windows/20070728)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;4713D602.1010107@...&gt; &lt;4713D751.9090909@...&gt; &lt;4713E2F8.1050002@...&gt; &lt;4713E7A6.3070707@...&gt; &lt;4713EB44.3000201@...&gt;\r\nIn-Reply-To: &lt;4713EB44.3000201@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] Crawl pausing itself\r\nX-Yahoo-Group-Post: member; u=137477665; y=rfVtAdbOcwplQ9K4xiajj0OJPc5crWsBaP1FaLKOhwSSKLlYDg\r\nX-Yahoo-Profile: iranitovic\r\n\r\nHi Ted,\n\nI would just like to add that by default bdb cache can take up to 60% of \nassigned heep size. So, changing  bdb-cache-percent from default 0 to \nsomething like 20-35 can help with the OOMs.\n\nTake care,\ni.\n\n&gt; Interesting.  It seems that we were using the JVM&#39;s default maximum heap \n&gt; size, which is the lesser of 1/4 the system memory and 1GB, so in EC2, \n&gt; about 450MB.  We&#39;re going to bring the max ToeThread count from 50 down \n&gt; to 30 and give it some more memory, and see what happens.\n&gt; \n&gt; \n&gt; -Ted\n&gt; \n&gt; Michael Stack wrote:\n&gt;&gt; If a &#39;serious errors&#39; such as an OOME, it&#39;ll trigger a pause (See\n&gt;&gt; http://crawler.archive.org/xref/org/archive/crawler/framework/ToeThread.html#211 \n&gt;&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/framework/ToeThread.html#211&gt; \n&gt;&gt;\n&gt;&gt; and line 173).\n&gt;&gt;\n&gt;&gt; Does the OOME, as far as you can detemine, have an obvious cause (rare\n&gt;&gt; but sometimes the case)? You have a maximum of 1.75G up on EC2, IIRC.\n&gt;&gt; Have you set your heap a good bit less than this? You might also try\n&gt;&gt; running with less toe threads.\n&gt;&gt;\n&gt;&gt; St.Ack\n&gt;&gt;\n&gt;&gt; Ted Dziuba wrote:\n&gt;&gt;&gt; Ah, yes, I am seeing OOMEs in ToeThread&#39;s run method. If all ToeTheads\n&gt;&gt;&gt; throw exceptions, does the crawl pause?\n&gt;&gt;&gt;\n&gt;&gt;&gt; Ted\n&gt;&gt;&gt;\n&gt;&gt;&gt; Michael Stack wrote:\n&gt;&gt;&gt;&gt; Anything on the consoles about OOMEs? Are the disks full?\n&gt;&gt;&gt;&gt; St.Ack\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Ted Dziuba wrote:\n&gt;&gt;&gt;&gt;&gt; We have a few Heritrix instances set up in Amazon EC2 crawling a\n&gt;&gt;&gt; fairly\n&gt;&gt;&gt;&gt;&gt; small amount of data. We are seeing the crawl pause itself as it \n&gt;&gt; goes,\n&gt;&gt;&gt;&gt;&gt; with no indication as to why in the crawl log. What could cause \n&gt;&gt; this?\n&gt;&gt;&gt;&gt;&gt; Thanks for any pointers.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Ted\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;  \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n\n"}}