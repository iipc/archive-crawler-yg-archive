{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"62FhD7JmGZCQHCj9aIZ_128K2n_rqOsy-cKk7_ui7gIAC2usRYo-rPoeADXTe4RVmtLexHZPw-0DXAb5zSKqqNGWx9WiaFo","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] SurtPrefixedDecideRule - need a little starter help","postDate":"1204769314","msgId":5041,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3Q0Y1MjIyLjMwNDAzMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ3Q0RDMkNGLjYwNTA2MDFAZW1vcnkuZWR1Pg==","referencesHeader":"PDQ3Q0RDMkNGLjYwNTA2MDFAZW1vcnkuZWR1Pg=="},"prevInTopic":5040,"nextInTopic":5042,"prevInTime":5040,"nextInTime":5042,"topicId":5036,"numMessagesInTopic":6,"msgSnippet":"To also answer some of your earlier questions: ... The implied conversion which is done automatically if you choose to use your seeds as SURT prefixes is","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 57782 invoked from network); 6 Mar 2008 02:08:33 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m57.grp.scd.yahoo.com with QMQP; 6 Mar 2008 02:08:33 -0000\r\nX-Received: from unknown (HELO relay00.pair.com) (209.68.5.9)\n  by mta15.grp.scd.yahoo.com with SMTP; 6 Mar 2008 02:08:32 -0000\r\nX-Received: (qmail 9165 invoked from network); 6 Mar 2008 02:08:32 -0000\r\nX-Received: from unknown (HELO ?192.168.1.28?) (unknown)\n  by unknown with SMTP; 6 Mar 2008 02:08:32 -0000\r\nX-pair-Authenticated: 71.204.189.79\r\nMessage-ID: &lt;47CF5222.3040305@...&gt;\r\nDate: Wed, 05 Mar 2008 18:08:34 -0800\r\nUser-Agent: Thunderbird 2.0.0.12 (Windows/20080213)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;47CDC2CF.6050601@...&gt;\r\nIn-Reply-To: &lt;47CDC2CF.6050601@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] SurtPrefixedDecideRule - need a little starter\n help\r\nX-Yahoo-Group-Post: member; u=137285340; y=BjNZxLXVF4ZOgJmYgJPr42WVNTfjpk-mwzA3ovFTryBe\r\nX-Yahoo-Profile: gojomo\r\n\r\nTo also answer some of your earlier questions:\n\nMicah Wedemeyer wrote:\n&gt; I&#39;d like to be able to crawl with the following 4 filters:\n&gt; \n&gt; 1 - Crawl by path (ie. http://sub.example.com/foo/ )\n&gt; 2 - Crawl by host (ie. http://sub.example.com )\n&gt; 3 - Crawl by domain (ie. http://*.example.com )\n&gt; 4 - Free (crawl whatever you find)\n&gt; \n&gt; Now, it seems that the SurtPrefixedDecideRule should be able to handle \n&gt; all these cases.  I&#39;m just unclear on how to go from a seed to the \n&gt; correct surt prefix.\n\nThe &#39;implied conversion&#39; which is done automatically if you choose to \nuse your seeds as SURT prefixes is described at:\n\nhttp://crawler.archive.org/articles/user_manual/glossary.html#surtprefix\n\n&gt; Assume we have a seed of: http://sub.example.com/foo/index.html\n&gt; \n&gt; Its surt form would be: http://(com, example, sub,)/foo/index.html\n&gt; \n&gt; Are these surt prefixes correct for their respective cases?:\n&gt; \n&gt; 1 - http://(com, example, sub,)/foo/\n\nYes.\n&gt; 2 - http://(com, example, sub,\n\nAlmost: this would also accept subdomains of sub.example.com, if they \nexisted. To do the host sub.example.com and exactly that, the \nclose-parenthesis helps:\n\n  http://(com,example,sub,)\n\n&gt; 3 - http://(com, example\n\nAlmost: this would also accept other domains that begin &#39;example&#39;, like \nexamplesales.com. To ensure only the domain example.com and its \nsubdomains, the trailing &#39;,&#39; is important:\n\n  http://(com,example,\n\n&gt; 4 - http://\n\nThis will accept all HTTP URIs, but if you truly want to do a wide-open \ncrawl, you likely would leave out the SURT-based scoping entirely. (Or, \nonly use it to REJECT certain domains.)\n\n&gt; \n&gt; Please tell me if I have something wrong there.\n&gt; \n&gt; Assuming I understand that correctly, I&#39;m unclear on how to configure \n&gt; the SurtPrefixedDecideRule module.  Specifically, how can I specify a \n&gt; particular surt prefix?  I&#39;m assuming that the prefix inferred from the \n&gt; seed is the most restrictive (ie. it will always be case 1 in my list \n&gt; above).  So, I would like to be able to explicitly set the prefix set. \n&gt; I notice there&#39;s an option to do this from a file, but can it also be \n&gt; done programmatically?  Can I specify it directly?\n&gt; \n&gt; Alternately, it looks like I could add the specific surt prefix to the \n&gt; seed file, and then set SEEDS_AS_SURT_PREFIXES to true.  However, the \n&gt; surt prefix in the seeds file would not be a valid URI.  Is that a \n&gt; problem, to have invalid URIs in the seeds file?\n\nSEEDS_AS_SURT_PREFIXES controls whether the seeds file is scanned and \nimplied SURT prefixes calculated from the seeds found (per the glossary \nentry above). Also, as you&#39;ve discovered, you can also put other SURT \ndirectives in (that are not treated as seeds) by prepending a &#39;+&#39; to \nlines in the seeds file.\n\nYou can also use a file completely separate from the seeds to specify \nSURT prefixes, but using the same syntax as a seeds file with optional \n&#39;+&#39; directives. You can use just the seeds file, just a separate file, \nor a combination of both.\n\nIn the course of reading all SURT prefixes, redundant values are \neliminated. That is, if you have all of:\n\n   http://(com,example,www,\n   http://(com,example,\n   http://(com,\n\n...then really only the last matters, because it includes any URIs the \nothers would accept. The redundant prefixes are discarded.\n\n&gt; To sum up, the basic questions are this: do I understand surt prefixes \n&gt; correctly, and if so, how do I explicitly specify the desired prefiexs \n&gt; to the SurtPrefixedDecideRule?\n\nI think you&#39;ve essentially got it!\n\n- Gordon @ IA\n\n"}}