{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":4480673,"authorName":"Dave Skinner","from":"Dave Skinner &lt;dave@...&gt;","profile":"frodobay","replyTo":"LIST","senderId":"k8rSpnuec_Bl7nezjdAYPc2eI2rXwAxdFzPYe-iJO9zp59y20X9QcmsKc1DzsYpC4nskr-EJ_zCN-fql-Te4UZhBj2o","spamInfo":{"isSpam":false,"reason":"0"},"subject":"referer header","postDate":"1107111442","msgId":1451,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDYuMS4yLjAuMC4yMDA1MDEzMDEwNDUzMy4wNDlkZGVjMEAyMDYuMTYzLjEwMy40Pg=="},"prevInTopic":0,"nextInTopic":1457,"prevInTime":1450,"nextInTime":1452,"topicId":1451,"numMessagesInTopic":3,"msgSnippet":"I ve noticed I m getting different (and I hope better) crawl results since I put the following code into FetchHTTP.java method.setRequestHeader( User-Agent ,","rawEmail":"Return-Path: &lt;dave@...&gt;\r\nX-Sender: dave@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 98416 invoked from network); 30 Jan 2005 18:57:27 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m10.grp.scd.yahoo.com with QMQP; 30 Jan 2005 18:57:27 -0000\r\nReceived: from unknown (HELO solid.net) (206.163.103.1)\n  by mta3.grp.scd.yahoo.com with SMTP; 30 Jan 2005 18:57:27 -0000\r\nReceived: from t_laptop.solid.net (or-65-40-221-252.dyn.sprint-hsd.net [65.40.221.252])\n\tby solid.net (8.12.8/8.12.8) with ESMTP id j0UIvPX2007220\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Sun, 30 Jan 2005 10:57:26 -0800\r\nMessage-Id: &lt;6.1.2.0.0.20050130104533.049ddec0@206.163.103.4&gt;\r\nX-Sender: dave@206.163.103.4 (Unverified)\r\nX-Mailer: QUALCOMM Windows Eudora Version 6.1.2.0\r\nDate: Sun, 30 Jan 2005 10:57:22 -0800\r\nTo: archive-crawler@yahoogroups.com\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed\r\nX-eGroups-Remote-IP: 206.163.103.1\r\nFrom: Dave Skinner &lt;dave@...&gt;\r\nSubject: referer header\r\nX-Yahoo-Group-Post: member; u=4480673\r\nX-Yahoo-Profile: frodobay\r\n\r\nI&#39;ve noticed I&#39;m getting different (and I hope better) crawl results since \nI put the following code into FetchHTTP.java\n\n         method.setRequestHeader(&quot;User-Agent&quot;, userAgent);\n         method.setRequestHeader(&quot;From&quot;, order.getFrom(curi));\n/////////////////dave skinner\n         // rfc 2616 says no referer header if referer is https and the url \nis not\n         String via = curi.flattenVia() ;\n         if ( ! via.equals(&quot;&quot;) && via.startsWith(&quot;http:&quot;) )\n             method.setRequestHeader(&quot;Referer&quot;, via) ;\n/////////////////end dave skinner\n         // Set retry handler.\n         method.getParams().setParameter(HttpMethodParams.RETRY_HANDLER,\n             new HeritrixHttpMethodRetryHandler());\n\nThis is working find for me but I&#39;m sure someone can supply a case where it \nshould not be done*sigh*.  So I suppose it should possibly be wrapped with \na parameter check.\n\nHowever, maybe instead of a parameter check what should be done is to check \nthat there is no referer or referrer header in ATTR_ACCEPT_HEADERS.  If \nthere is, suppress the automatic one, otherwise always output it.\n\nI&#39;d be happy to code either (or both) of the above modifications and test them.\n\n\n"}}