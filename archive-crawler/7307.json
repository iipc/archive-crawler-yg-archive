{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":496150545,"authorName":"mirschi74","from":"&quot;mirschi74&quot; &lt;markus.mirsberger@...&gt;","profile":"mirschi74","replyTo":"LIST","senderId":"U34VoVMUUX8OVRk9JjnmS1ubKCvj8dM-u7pZPoOW65nKxYmdyeF6joXBMb2m3fLpRob-MXUsF6w9jl22kPXLeBJWDm2GBBvxOQFclg8","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: URI Canonicalization Rules problem","postDate":"1314817064","msgId":7307,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGozbTA3OCtoNXZ0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRFNUQ2QzhELjcwODAwMDlAYXJjaGl2ZS5vcmc+"},"prevInTopic":7305,"nextInTopic":7308,"prevInTime":7306,"nextInTime":7308,"topicId":7303,"numMessagesInTopic":5,"msgSnippet":"Hello Noah, thanks for the quick response. With your fix I was able to build the job and keep testing. But there is another problem now. To me it looks like","rawEmail":"Return-Path: &lt;markus.mirsberger@...&gt;\r\nX-Sender: markus.mirsberger@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 75181 invoked from network); 31 Aug 2011 18:57:46 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m15.grp.sp2.yahoo.com with QMQP; 31 Aug 2011 18:57:46 -0000\r\nX-Received: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta3.grp.sp2.yahoo.com with SMTP; 31 Aug 2011 18:57:46 -0000\r\nX-Received: from [69.147.65.173] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 31 Aug 2011 18:57:46 -0000\r\nX-Received: from [98.137.34.119] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 31 Aug 2011 18:57:46 -0000\r\nDate: Wed, 31 Aug 2011 18:57:44 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j3m078+h5vt@...&gt;\r\nIn-Reply-To: &lt;4E5D6C8D.7080009@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;mirschi74&quot; &lt;markus.mirsberger@...&gt;\r\nSubject: Re: URI Canonicalization Rules problem\r\nX-Yahoo-Group-Post: member; u=496150545; y=3JaRJExhMEUcSbYnA93CuGilSV0kHdOo7ey9PxGWl_AHQTJlaetYT_i2pjuR8tAPFKuVrKPv2o9E5Vg\r\nX-Yahoo-Profile: mirschi74\r\n\r\nHello Noah,\n\nthanks for the quick response. With your fix I was able to bui=\r\nld the job and keep testing.\nBut there is another problem now.\nTo me it loo=\r\nks like all Canonicalization Rules are ignored, not only my regex rule.\nI w=\r\nas implementing it exactly like the documentation of the URI Canonicalizati=\r\non Rules describe it.\nBecause my Regex was ignored I turned on the logging =\r\nfor the canonicalization in logging.properties like described in the docume=\r\nntation but no entries in the log file.\nShouldnt I see there entries for al=\r\nl enabled Canonicalization rules like the LowercasRule, StripWWWNRule and s=\r\no on.\nBut there is nothing to see.\nAnd shouldnt I see at least the result o=\r\nf the basic canonicalizationPolicy rules like the LowercaseRule when I look=\r\n in the crawl log (everything should be lowercase there)?\n\nBut maybe I just=\r\n understand the effect of these rules wrong ;-)\n\nThanks in advance,\nMarkus\n=\r\n \n\n \n\n--- In archive-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt; wro=\r\nte:\n&gt;\n&gt; Hello Markus,\n&gt; \n&gt; Thanks for this report, you&#39;ve brought to light =\r\na bug in the code and a \n&gt; mistake in the documentation which conspired to =\r\nproduce this obtuse error.\n&gt; \n&gt; First problem is the exception you got:\n&gt; \n=\r\n&gt; java.lang.IllegalStateException: Can&#39;t overwrite cause\n&gt; \tat java.lang.Th=\r\nrowable.initCause(Throwable.java:320)\n&gt; \tat org.archive.spring.Sheet.prime(=\r\nSheet.java:152)\n&gt; \n&gt; It was thrown in the process of handling the real exce=\r\nption, preventing \n&gt; the real stack trace from making it into the log. I&#39;ve=\r\n checked in a fix \n&gt; for that - https://webarchive.jira.com/source/changelo=\r\ng/HER?cs=3D7235\n&gt; \n&gt; With that change in place, the real problem is reveale=\r\nd:\n&gt; \n&gt; 2011-08-30T22:56:24.688Z SEVERE Failed to convert property value of=\r\n type \n&gt; &#39;java.lang.String&#39; to required type \n&gt; &#39;org.archive.modules.canoni=\r\ncalize.UriCanonicalizationPolicy&#39; for \n&gt; property &#39;canonicalizationPolicy&#39;;=\r\n\n&gt; \n&gt; As you mentioned, you were using this snippet as recommended by the w=\r\niki \n&gt; page:\n&gt; \n&gt; &lt;entry key=3D&#39;preparer.canonicalizationPolicy&#39; \n&gt; value=\r\n=3D&#39;altCanonicalizationPolicy&#39;/&gt; &lt;!-- wrong --&gt;\n&gt; \n&gt; But instead it should =\r\nlook like this:\n&gt; \n&gt; &lt;entry key=3D&#39;preparer.canonicalizationPolicy&#39;&gt;\n&gt; &lt;ref=\r\n bean=3D&#39;altCanonicalizationPolicy&#39;/&gt;\n&gt; &lt;/entry&gt;\n&gt; \n&gt; I&#39;ve fixed the doc. \n=\r\n&gt; https://webarchive.jira.com/wiki/display/Heritrix/URI+Canonicalization+Ru=\r\nles\n&gt; \n&gt; Noah\n&gt; \n&gt; \n&gt; \n&gt; On 08/30/2011 12:28 PM, mirschi74 wrote:\n&gt; &gt; Hi,\n&gt;=\r\n &gt;\n&gt; &gt; I have a problem implementing the URI Canonicalization Rule describe=\r\nd here: https://webarchive.jira.com/wiki/display/Heritrix/URI+Canonicalizat=\r\nion+Rules\n&gt; &gt;\n&gt; &gt; When I implement it on Heritrix Engine 3.1.0-SNAPSHOT-201=\r\n10721.001335 like it is described in the documentation the IllegalStateExce=\r\nption I copied below will be thrown as soon as I try to build my job.\n&gt; &gt;\n&gt;=\r\n &gt; The exception will be thrown when this line appears in the canonicalizat=\r\nionPolicySheet bean:\n&gt; &gt; &lt;entry key=3D&#39;preparer.canonicalizationPolicy&#39; val=\r\nue=3D&#39;altCanonicalizationPolicy&#39;/&gt;\n&gt; &gt;\n&gt; &gt; It seems like it doesnt matter w=\r\nhat i write inside the altcaonicalizationPolicy bean. Just the fact that I =\r\ntry to use it throws an exception.\n&gt; &gt;\n&gt; &gt; Does anyone have an idea what mi=\r\nght be the problem? Im searching two days now but cant find anything.\n&gt; &gt;\n&gt;=\r\n &gt; Thanks in advance,\n&gt; &gt; Markus\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; java.lang.=\r\nIllegalStateException: Can&#39;t overwrite cause\n&gt; &gt; \tat java.lang.Throwable.in=\r\nitCause(Throwable.java:320)\n&gt; &gt; \tat org.archive.spring.Sheet.prime(Sheet.ja=\r\nva:152)\n&gt; &gt; \tat org.archive.crawler.spring.SheetOverlaysManager.onApplicati=\r\nonEvent(SheetOverlaysManager.java:187)\n&gt; &gt; \tat org.springframework.context.=\r\nevent.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEve=\r\nntMulticaster.java:97)\n&gt; &gt; \tat org.springframework.context.support.Abstract=\r\nApplicationContext.publishEvent(AbstractApplicationContext.java:303)\n&gt; &gt; \ta=\r\nt org.springframework.context.support.AbstractApplicationContext.finishRefr=\r\nesh(AbstractApplicationContext.java:911)\n&gt; &gt; \tat org.springframework.contex=\r\nt.support.AbstractApplicationContext.refresh(AbstractApplicationContext.jav=\r\na:428)\n&gt; &gt; \tat org.archive.crawler.framework.CrawlJob.instantiateContainer(=\r\nCrawlJob.java:295)\n&gt; &gt; \tat org.archive.crawler.framework.CrawlJob.validateC=\r\nonfiguration(CrawlJob.java:364)\n&gt; &gt; \tat org.archive.crawler.restlet.JobReso=\r\nurce.acceptRepresentation(JobResource.java:568)\n&gt; &gt; \tat org.restlet.resourc=\r\ne.Resource.post(Resource.java:683)\n&gt; &gt; \tat org.restlet.resource.Resource.ha=\r\nndlePost(Resource.java:537)\n&gt; &gt; \tat org.restlet.Finder.handle(Finder.java:3=\r\n57)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filter.java:150)\n&gt; &gt; \tat org.restle=\r\nt.Filter.handle(Filter.java:195)\n&gt; &gt; \tat org.restlet.Router.handle(Router.j=\r\nava:504)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filter.java:150)\n&gt; &gt; \tat org.r=\r\nestlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat org.restlet.Filter.doHandle(F=\r\nilter.java:150)\n&gt; &gt; \tat org.restlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat =\r\norg.restlet.Filter.doHandle(Filter.java:150)\n&gt; &gt; \tat com.noelios.restlet.St=\r\natusFilter.doHandle(StatusFilter.java:130)\n&gt; &gt; \tat org.restlet.Filter.handl=\r\ne(Filter.java:195)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filter.java:150)\n&gt; &gt;=\r\n \tat org.restlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat com.noelios.restlet=\r\n.ChainHelper.handle(ChainHelper.java:124)\n&gt; &gt; \tat com.noelios.restlet.appli=\r\ncation.ApplicationHelper.handle(ApplicationHelper.java:112)\n&gt; &gt; \tat org.res=\r\ntlet.Application.handle(Application.java:341)\n&gt; &gt; \tat org.restlet.Filter.do=\r\nHandle(Filter.java:150)\n&gt; &gt; \tat org.restlet.Guard.accept(Guard.java:198)\n&gt; =\r\n&gt; \tat org.restlet.Guard.doHandle(Guard.java:354)\n&gt; &gt; \tat org.restlet.Filter=\r\n.handle(Filter.java:195)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filter.java:15=\r\n0)\n&gt; &gt; \tat org.restlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat org.restlet.R=\r\nouter.handle(Router.java:504)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filter.ja=\r\nva:150)\n&gt; &gt; \tat org.restlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat org.rest=\r\nlet.Router.handle(Router.java:504)\n&gt; &gt; \tat org.restlet.Filter.doHandle(Filt=\r\ner.java:150)\n&gt; &gt; \tat com.noelios.restlet.StatusFilter.doHandle(StatusFilter=\r\n.java:130)\n&gt; &gt; \tat org.restlet.Filter.handle(Filter.java:195)\n&gt; &gt; \tat org.r=\r\nestlet.Filter.doHandle(Filter.java:150)\n&gt; &gt; \tat org.restlet.Filter.handle(F=\r\nilter.java:195)\n&gt; &gt; \tat com.noelios.restlet.ChainHelper.handle(ChainHelper.=\r\njava:124)\n&gt; &gt; \tat org.restlet.Component.handle(Component.java:673)\n&gt; &gt; \tat =\r\norg.restlet.Server.handle(Server.java:331)\n&gt; &gt; \tat com.noelios.restlet.Serv=\r\nerHelper.handle(ServerHelper.java:68)\n&gt; &gt; \tat com.noelios.restlet.http.Http=\r\nServerHelper.handle(HttpServerHelper.java:147)\n&gt; &gt; \tat com.noelios.restlet.=\r\next.jetty.JettyServerHelper$WrappedServer.handle(JettyServerHelper.java:174=\r\n)\n&gt; &gt; \tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.jav=\r\na:534)\n&gt; &gt; \tat org.mortbay.jetty.HttpConnection$RequestHandler.content(Http=\r\nConnection.java:879)\n&gt; &gt; \tat org.mortbay.jetty.HttpParser.parseNext(HttpPar=\r\nser.java:741)\n&gt; &gt; \tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParse=\r\nr.java:213)\n&gt; &gt; \tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.=\r\njava:403)\n&gt; &gt; \tat org.mortbay.jetty.bio.SocketConnector$Connection.run(Sock=\r\netConnector.java:228)\n&gt; &gt; \tat org.mortbay.jetty.security.SslSocketConnector=\r\n$SslConnection.run(SslSocketConnector.java:636)\n&gt; &gt; \tat org.mortbay.thread.=\r\nQueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\n&gt; &gt;\n&gt;\n\n\n\n"}}