{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"7CGuRJHsOJ5v69k9lrA9llNsSwgy8LlwkC9MMZsy-hPh7LaPb8EM56CBtGwPEdZF-rkosGS21xAUOmrI99sECCzoHYURLYc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Question on SURT prefixes and URI canonicalization","postDate":"1119727069","msgId":2000,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyQkRBRERELjIwOTA4MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDE3MDg0LjE3NTUuMjE4OTIyLjQ4NzIxM0B0aXBoYXJlcy5iYXNpc3RlY2gubmV0Pg==","referencesHeader":"PDE3MDg0LjE3NTUuMjE4OTIyLjQ4NzIxM0B0aXBoYXJlcy5iYXNpc3RlY2gubmV0Pg=="},"prevInTopic":1995,"nextInTopic":2002,"prevInTime":1999,"nextInTime":2001,"topicId":1995,"numMessagesInTopic":3,"msgSnippet":"... You are correct in all your suppositions: - canonicalization is only applied for the purposes of determining if a URI is already seen -- not for scoping ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 39258 invoked from network); 25 Jun 2005 19:17:53 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m25.grp.scd.yahoo.com with QMQP; 25 Jun 2005 19:17:53 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 25 Jun 2005 19:17:53 -0000\r\nReceived: (qmail 25635 invoked by uid 100); 25 Jun 2005 19:17:48 -0000\r\nReceived: from fsd01.rhi.hi.is (HELO ?130.208.184.181?) (gojomo@...@130.208.184.181)\n  by mail-dev.archive.org with RC4-MD5 encrypted SMTP; 25 Jun 2005 19:17:48 -0000\r\nMessage-ID: &lt;42BDADDD.2090808@...&gt;\r\nDate: Sat, 25 Jun 2005 12:17:49 -0700\r\nUser-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;17084.1755.218922.487213@...&gt;\r\nIn-Reply-To: &lt;17084.1755.218922.487213@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-100.0 required=7.0 tests=USER_IN_WHITELIST \n\tautolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Question on SURT prefixes and URI canonicalization\r\nX-Yahoo-Group-Post: member; u=137285340; y=M6oxtrYmDHe_ZE8Wop69BIncWy1UPdVsXvZhgAkXtgBw\r\nX-Yahoo-Profile: gojomo\r\n\r\nTom Emerson wrote:\n&gt; Hi all,\n&gt; \n&gt; Am I correct in assuming that URI canonicalization has nothing to do\n&gt; with SURT prefix comparisons, such that the removal of &quot;www&quot; variants\n&gt; happens later in the process and that the scope just sees the complete\n&gt; URL?\n&gt; \n&gt; Also, let&#39;s say I have a seed like\n&gt; \n&gt; http://www2.dw-world.de/pashto\n&gt; \n&gt; Where I want to restrict all crawling to just paths under pashto. The SURT\n&gt; \n&gt; http://(de,dw-world,www2,)/pashto\n&gt; \n&gt; will do this. But what if the &#39;www2&#39; could change to &#39;www&#39; or &#39;www3&#39;\n&gt; during the crawl? In that case the prefix fails to match and I&#39;m SOL,\n&gt; right?\n&gt; \n&gt; Presumably\n&gt; \n&gt; http://(de,dw-world,)/pashto\n&gt; \n&gt; will not work?\n\nYou are correct in all your suppositions:\n\n  - &#39;canonicalization&#39; is only applied for the purposes of\n    determining if a URI is already seen -- not for scoping\n  - SURT scoping only compares exact SURT-form prefixes, so\n    &quot;http://(de,dw-world,)/pashto&quot; would not accept URIs\n    with intervening &#39;www&#92;d*&#39; subdomains\n\nSome potential workarounds:\n\n  - Starting in 1.4, the SurtPrefixScope will understand\n    lines in the seeds file that begin with a &#39;+&#39; as\n    directives to add additional SURT prefixes. For example:\n\n      http://www2.dw-world.de/pashto\n      +http://(de,dw-world,www,\n      +http://(de,dw-world,www1,\n\n    ...would start from the single seed but also rule-in\n    everything with the given prefixes. (You could also\n    leave off the trailing comma and esentially rule-in\n    subdomains that start with the fragment given.)\n\n    In 1.4, this is only for SurtPrefixScope, but in HEAD\n    should also work for SURT-based decide rules. (Also,\n    using regular URLs or naked hostnames in the &#39;+&#39;\n    directive should be coerced into http-URLs in SURT\n    form, but that may have been a post-1.4 addition, too.)\n\n  - Especially with a DecideRule-based scope, you could add\n    a MatchesRegExpDecideRule that rules-in varying subdomains\n    but requires the path prefix, eg:\n\n     ^http://(www&#92;d*&#92;.)?dw-world.de/pashto.*\n\nHope this helps,\n\n- Gordon @ IA\n\n"}}