{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":292966479,"authorName":"Artem Antonov","from":"&quot;Artem Antonov&quot; &lt;antonov.artem@...&gt;","profile":"antonov.artem","replyTo":"LIST","senderId":"piBueGJIxF-DZWJE4jC5i_Pv893CbJRfa3zQFx6X8UgeoBGvfxFh9lIViTcFDSWVIwKpTSI_V3l_RogcxiGRVoZeSQfeSSIoO8Xpb0rBH_0","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Question on Embedding Heritrix","postDate":"1183623208","msgId":4412,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGY2aTk3OCtmbWhpQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2OEJERjQ2LjYwNDA4MDlAYXJjaGl2ZS5vcmc+"},"prevInTopic":4410,"nextInTopic":4414,"prevInTime":4411,"nextInTime":4413,"topicId":4400,"numMessagesInTopic":13,"msgSnippet":"Igor, Thanks for your help. The ARCWriterProcessor now works fine. Regards, Artem. ... acting on ... DecideRule ... be ... a ... ","rawEmail":"Return-Path: &lt;antonov.artem@...&gt;\r\nX-Sender: antonov.artem@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 4902 invoked from network); 5 Jul 2007 08:13:35 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m55.grp.scd.yahoo.com with QMQP; 5 Jul 2007 08:13:35 -0000\r\nReceived: from unknown (HELO n16c.bullet.sp1.yahoo.com) (69.147.64.123)\n  by mta9.grp.scd.yahoo.com with SMTP; 5 Jul 2007 08:13:35 -0000\r\nReceived: from [216.252.122.217] by n16.bullet.sp1.yahoo.com with NNFMP; 05 Jul 2007 08:13:28 -0000\r\nReceived: from [66.218.69.4] by t2.bullet.sp1.yahoo.com with NNFMP; 05 Jul 2007 08:13:28 -0000\r\nReceived: from [66.218.67.199] by t4.bullet.scd.yahoo.com with NNFMP; 05 Jul 2007 08:13:28 -0000\r\nDate: Thu, 05 Jul 2007 08:13:28 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f6i978+fmhi@...&gt;\r\nIn-Reply-To: &lt;468BDF46.6040809@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;Artem Antonov&quot; &lt;antonov.artem@...&gt;\r\nSubject: Re: Question on Embedding Heritrix\r\nX-Yahoo-Group-Post: member; u=292966479; y=_Govz24cRCHI2A6Z7o8WqJ3CiDMa1E1LPp4S_s3CV4vTi3j4NNt1Nw\r\nX-Yahoo-Profile: antonov.artem\r\n\r\nIgor, \n \nThanks for your help. The ARCWriterProcessor now works fine. \n \nRe=\r\ngards, \nArtem. \n \n--- In archive-crawler@yahoogroups.com, Igor Ranitovic &lt;i=\r\ngor@...&gt; \nwrote: \n&gt; \n&gt; Artem, Stack: \n&gt;  \n&gt; I am going to jump in if you do=\r\nn&#39;t mind :) \n&gt;  \n&gt; We changed processor Filters to DecidRrules in 1.12.0. \n=\r\n&gt;  From the release notes: \n&gt; 2.4.2. DecideRules have replaced Filters on P=\r\nrocessors \n&gt;  \n&gt; All Processors which used internal Filters for differentia=\r\nlly \nacting on  \n&gt; URIs now use DecideRules instead. In those cases where a=\r\n \nDecideRule  \n&gt; replacement for a Filter is not yet available, a legacy Fi=\r\nlter can \nbe  \n&gt; wrapped in a FilterDecideRule to preserve prior functional=\r\nity. In \na  \n&gt; future release, all Filters will be removed in favor of equi=\r\nvalent  \n&gt; DecideRules. \n&gt;  \n&gt; More about the release notes can be found he=\r\nre: \n&gt; http://crawler.archive.org/articles/releasenotes/1_12_0.html \n&gt;  \n&gt; =\r\nSo, you should probably replace: \n&gt;  \n&gt;       &lt;map name=3D&quot;filters&quot;&gt; \n&gt;    =\r\n     &lt;newObject name=3D&quot;contentType&quot; \n&gt;          \nclass=3D&quot;org.archive.craw=\r\nler.filter.ContentTypeRegExpFilter&quot;&gt; \n&gt;           &lt;boolean name=3D&quot;enabled&quot;=\r\n&gt;true&lt;/boolean&gt; \n&gt;           &lt;boolean name=3D&quot;if-match-return&quot;&gt;true&lt;/boolea=\r\nn&gt; \n&gt;           &lt;string name=3D&quot;regexp&quot;&gt;(?i)text/html.*&lt;/string&gt; \n&gt;        =\r\n &lt;/newObject&gt; \n&gt;       &lt;/map&gt; \n&gt;  \n&gt; with probably: \n&gt;  \n&gt; &lt;newObject name=\r\n=3D&quot;Archiver#decide-rules&quot;  \n&gt; class=3D&quot;org.archive.crawler.deciderules.Dec=\r\nideRuleSequence&quot;&gt; \n&gt;       &lt;map name=3D&quot;rules&quot;&gt; \n&gt;          &lt;newObject name=\r\n=3D&quot;rejectAll&quot;  \n&gt; class=3D&quot;org.archive.crawler.deciderules.RejectDecideRul=\r\ne&quot;&gt; \n&gt;         &lt;/newObject&gt; \n&gt;         &lt;newObject name=3D&quot;contentType&quot;  \n&gt; =\r\n\nclass=3D&quot;org.archive.crawler.deciderules.ContentTypeMatchesRegExpDecideRul=\r\ne&quot;&gt;  \n&gt;  \n&gt;            &lt;string name=3D&quot;decision&quot;&gt;ACCEPT&lt;/string&gt; \n&gt;        =\r\n    &lt;string name=3D&quot;regexp&quot;&gt;(?i)text/html.*&lt;/string&gt; \n&gt;         &lt;/newObject=\r\n&gt; \n&gt;       &lt;/map&gt; \n&gt; &lt;/newObject&gt; \n&gt;  \n&gt;  \n&gt; I did not try this so I sugges=\r\nt that you configure this part via \nWeb UI  \n&gt; (if possible) just to be saf=\r\ne. \n&gt;  \n&gt; I hope this helps. \n&gt;  \n&gt; Take care, \n&gt; i. \n&gt;  \n&gt; Artem Antonov w=\r\nrote: \n&gt; &gt; Thanks, I&#39;ve replaced &#39;sha1-content&#39; config by two options \nacco=\r\nrding    \n&gt; &gt; with the current Heritrix version. There are no WARNINGS at a=\r\nll.    \n&gt; &gt;     \n&gt; &gt; About &#39;problem solved&#39;. Yes, I&#39;ve added the listener  =\r\n  \n&gt; &gt; (org.archive.crawler.WebappLifecycle) to my web application, and \nno=\r\nw    \n&gt; &gt; I can manage Heritrix jobs inside my webapp.    \n&gt; &gt;     \n&gt; &gt; And=\r\n one question about ARCWriterProcessor.    \n&gt; &gt; Earlier I used Heritrix 1.1=\r\n0.1, and the same order.xml file I \nuse    \n&gt; &gt; now with 1.12.1 version.   =\r\n \n&gt; &gt; The point is I want to save only text/html contents in archive \nfile,=\r\n  \n&gt; &gt; and the following configuration is used:    \n&gt; &gt;     \n&gt; &gt; &lt;map name=\r\n=3D&quot;write-processors&quot;&gt;    \n&gt; &gt;   &lt;newObject name=3D&quot;Archiver&quot;    \n&gt; &gt;    cl=\r\nass=3D&quot;org.archive.crawler.writer.ARCWriterProcessor&quot;&gt;    \n&gt; &gt;     &lt;boolean=\r\n name=3D&quot;enabled&quot;&gt;true&lt;/boolean&gt;    \n&gt; &gt;     &lt;map name=3D&quot;filters&quot;&gt;    \n&gt; &gt;=\r\n       &lt;newObject name=3D&quot;contentType&quot;    \n&gt; &gt;        \nclass=3D&quot;org.archive=\r\n.crawler.filter.ContentTypeRegExpFilter&quot;&gt;    \n&gt; &gt;         &lt;boolean name=3D&quot;=\r\nenabled&quot;&gt;true&lt;/boolean&gt;    \n&gt; &gt;         &lt;boolean name=3D&quot;if-match-return&quot;&gt;t=\r\nrue&lt;/boolean&gt;    \n&gt; &gt;         &lt;string name=3D&quot;regexp&quot;&gt;(?i)text/html.*&lt;/stri=\r\nng&gt;    \n&gt; &gt;       &lt;/newObject&gt;    \n&gt; &gt;     &lt;/map&gt;    \n&gt; &gt;     &lt;boolean name=\r\n=3D&quot;compress&quot;&gt;true&lt;/boolean&gt;    \n&gt; &gt;     &lt;string name=3D&quot;prefix&quot;&gt;IAH&lt;/strin=\r\ng&gt;    \n&gt; &gt;     &lt;string name=3D&quot;suffix&quot;&gt;${HOSTNAME}&lt;/string&gt;    \n&gt; &gt;     &lt;lo=\r\nng name=3D&quot;max-size-bytes&quot;&gt;100000000&lt;/long&gt;    \n&gt; &gt;     &lt;stringList name=3D=\r\n&quot;path&quot;&gt;    \n&gt; &gt;       &lt;string&gt;arcs&lt;/string&gt;    \n&gt; &gt;     &lt;/stringList&gt;    \n&gt;=\r\n &gt;     &lt;integer name=3D&quot;pool-max-active&quot;&gt;5&lt;/integer&gt;    \n&gt; &gt;     &lt;integer n=\r\name=3D&quot;pool-max-wait&quot;&gt;300000&lt;/integer&gt;    \n&gt; &gt;     &lt;long name=3D&quot;total-byte=\r\ns-to-write&quot;&gt;0&lt;/long&gt;    \n&gt; &gt;     &lt;boolean name=3D&quot;skip-identical-digests&quot;&gt;f=\r\nalse&lt;/boolean&gt;    \n&gt; &gt;   &lt;/newObject&gt;    \n&gt; &gt; &lt;/map&gt;    \n&gt; &gt;     \n&gt; &gt; I not=\r\niced that with 1.12.1 version all crawled contents are \nsaved in    \n&gt; &gt; ar=\r\nchive file. Should I change something in configuration?    \n&gt; &gt;     \n&gt; &gt; Th=\r\nanks for your help.    \n&gt; &gt;     \n&gt; &gt; Regards,    \n&gt; &gt; Artem.    \n&gt; &gt;     \n&gt;=\r\n &gt; --- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@&gt;    \n&gt; &gt; w=\r\nrote:    \n&gt; &gt;&gt;    \n&gt; &gt;&gt; The WARNING in the below is a complaint about your =\r\norder file.  \nIt     \n&gt; &gt;&gt; states that current Heritrix version does not kn=\r\now what to do \nwith    \n&gt; &gt; the     \n&gt; &gt;&gt; configuration named &#39;sha1-content=\r\n&#39;. &#39;sha1-content&#39; is a config.    \n&gt; &gt; that     \n&gt; &gt;&gt; used to exist.   It w=\r\nas replaced by two options -- whether to    \n&gt; &gt; digest and     \n&gt; &gt;&gt; what =\r\nthe digest should be (e.g. sha1, md5, etc.).  See     \n&gt; &gt;&gt; http://webteam.=\r\narchive.org/jira/browse/HER-1074,    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; In another post, I see=\r\n you adding the below lines to    \n&gt; &gt; CATALINA_PATH:    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; -D=\r\ncom.sun.management.jmxremote=3Dtrue    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; -Dcom.sun.management=\r\n.jmxremote.authenticate=3Dfalse    \n&gt; &gt;&gt; -Dcom.sun.management.jmxremote.ssl=\r\n=3Dfalse    \n&gt; &gt;&gt; -Dheritrix.properties=3D/path/to/properties/file    \n&gt; &gt;&gt;=\r\n -Dcom.sun.management.jmxremote.port=3D8849    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; You shouldn&#39;=\r\nt have to do that because tomcat runs its own JMX    \n&gt; &gt; Agent (The     \n&gt;=\r\n &gt;&gt; above is starting up the JVM&#39;s JMX agent).    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; Also in p=\r\nrevious post, you say &#39;problem solved&#39;.  Did that mean    \n&gt; &gt; you have    =\r\n \n&gt; &gt;&gt; successfully managed to embed Heritrix inside your webapp?    \n&gt; &gt;&gt; =\r\n    \n&gt; &gt;&gt; St.Ack    \n&gt; &gt;&gt;     \n&gt; &gt;&gt; P.S. Regards embedding, you might check=\r\n out the heritrix.war    \n&gt; &gt; web.xml     \n&gt; &gt;&gt; file: src/webapps/admin/WEB=\r\n-INF/web.xml. See how it makes use \nof    \n&gt; &gt; the     \n&gt; &gt;&gt; class org.arch=\r\nive.crawler.WebappLifecycle.    \n&gt; &gt;  \n&gt; &gt;  \n&gt; &gt;  \n&gt; &gt;   \n&gt; &gt; Yahoo! Groups=\r\n Links \n&gt; &gt;  \n&gt; &gt;  \n&gt; &gt; \n&gt; \n\n\n"}}