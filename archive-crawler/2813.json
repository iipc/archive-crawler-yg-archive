{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"W9l5Atx2fJRzbHAsi63o4xzKkgWviIDT_VYH9ZD3AUh8fXBgujJF9HctTN0GxyMykcktcfk1lNHGyxuqZ4-FrDgz_BbakNg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: A basic question about Accept-Headers and Heritrix","postDate":"1145995413","msgId":2813,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0NEU4MDk1LjgwODAyMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ0NEU1Njg3LjMwNDAzMDFAYXJjaGl2ZS5vcmc+","referencesHeader":"PGUybGpjZStuZzJlQGVHcm91cHMuY29tPiA8NDQ0RTU2ODcuMzA0MDMwMUBhcmNoaXZlLm9yZz4="},"prevInTopic":2812,"nextInTopic":0,"prevInTime":2812,"nextInTime":2814,"topicId":2809,"numMessagesInTopic":5,"msgSnippet":"It looks like the Apache HttpClient library we use doesn t support gzip transfer-encoding, but some discussion of how it could be done (and one person s","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 93687 invoked from network); 25 Apr 2006 20:03:16 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m31.grp.scd.yahoo.com with QMQP; 25 Apr 2006 20:03:16 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.227.188)\n  by mta7.grp.scd.yahoo.com with SMTP; 25 Apr 2006 20:03:16 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 966BA141567D0\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 25 Apr 2006 13:03:14 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 15208-04-39 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 25 Apr 2006 13:03:14 -0700 (PDT)\r\nReceived: from [192.168.0.15] (adsl-71-130-102-78.dsl.pltn13.pacbell.net [71.130.102.78])\n\tby mail.archive.org (Postfix) with ESMTP id EB29D141567C9\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 25 Apr 2006 13:03:13 -0700 (PDT)\r\nMessage-ID: &lt;444E8095.8080205@...&gt;\r\nDate: Tue, 25 Apr 2006 13:03:33 -0700\r\nUser-Agent: Mail/News 1.5 (X11/20060309)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;e2ljce+ng2e@...&gt; &lt;444E5687.3040301@...&gt;\r\nIn-Reply-To: &lt;444E5687.3040301@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: A basic question about Accept-Headers and\n Heritrix\r\nX-Yahoo-Group-Post: member; u=137285340; y=LuVwJ7h25hF98TkhE6v6Mm_BAL0AUjoZaq6OEHkNv-Bp\r\nX-Yahoo-Profile: gojomo\r\n\r\nIt looks like the Apache HttpClient library we use doesn&#39;t support gzip \ntransfer-encoding, but some discussion of how it could be done (and one \nperson&#39;s implementation) has started. See for example this mid-thread \ncomment on the HttpClient list:\n\nhttp://mail-archives.apache.org/mod_mbox/jakarta-httpclient-user/200512.mbox/%3c439B3A9F.30809@...%3e\n\nHowever, I&#39;m not sure you&#39;d want to do any decompression in HttpClient, \ninstead deferring that until the content needs to be scanned (if at all) \nfor text/links/etc.\n\nA reasonable place to do decompression might be near where you get a \nuseful &#39;replay&#39; of the content: HttpRecorder.getReplayInputStream() and \nHttpRecorded.getReplayCharSequence().\n\nBut, in our usual archival mode of thinking, if the response was \nreceived compressed, we&#39;d want to write it to our ARCs compressed, so \nthat the recorded copy in the ARC file exactly matches what the server \nprovided. So at least with the getReplayInputStream() operation, you&#39;d \nsometimes want transfer-encoding-decoded content, and sometimes not.\n\nHope this helps,\n\n- Gordon @ IA\n\nMichael Stack wrote:\n&gt; pandae667 wrote:\n&gt;&gt; I&#39;d even like to help with that feature, but I have no clue where it\n&gt;&gt; would have to fit into the Heritrix architecture so far.\n&gt; Start by looking at FetchHTTP: \n&gt; http://crawler.archive.org/xref/org/archive/crawler/fetcher/FetchHTTP.html.  \n&gt; You might add an option in the constructor that says always solicit \n&gt; gzip&#39;d response.  In the FetchHTTP context you&#39;ll figure whether the \n&gt; server has actually sent gzipped content going by its response -- see \n&gt; around line 397 -- and then, the tricky part, you&#39;ll need to gunzip \n&gt; whats been recorded to disk after the download has completed just before \n&gt; you leave the innerProcess method around line 485 (See HttpRecord -- \n&gt; it&#39;ll give you access to the download).\n&gt; \n&gt; Let us know if we can help,\n&gt; Thanks,\n&gt; St.Ack\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n\n\n"}}