{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"Ly9ktJWy-joIKDIF3_ouLLQFwE58PUub0LoT3IgczrBpijoO7ns4hw5NScfFLXsqo5u09jnwVhj9QDhrWRmpKTPCQqq8n_uO","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Clarification on getCanonicalString vs getURI on CrawlURI","postDate":"1374543102","msgId":8240,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBKZVhwS3pVc1RScnVMZ3ZhaG1fZG1fYXpHRjE9R1lBUmI9WC1va0U4T3M1Z0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGtyZ2pocit1a3EzQGVHcm91cHMuY29tPg==","referencesHeader":"PGtyZ2pocit1a3EzQGVHcm91cHMuY29tPg=="},"prevInTopic":8202,"nextInTopic":0,"prevInTime":8239,"nextInTime":8241,"topicId":8202,"numMessagesInTopic":2,"msgSnippet":"Hello Thamizh, It sounds like you want to write a custom canonicalization rule that strips the scheme (http or https) off the url. Take a look at","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 49774 invoked by uid 102); 23 Jul 2013 01:31:53 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m10.grp.bf1.yahoo.com with SMTP; 23 Jul 2013 01:31:53 -0000\r\nX-Received: (qmail 8813 invoked from network); 23 Jul 2013 01:31:52 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 23 Jul 2013 01:31:52 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id D668D6840198\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 22 Jul 2013 18:31:51 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id loYhPMFU-wQs for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 22 Jul 2013 18:31:44 -0700 (PDT)\r\nX-Received: from mail-ob0-f177.google.com (mail-ob0-f177.google.com [209.85.214.177])\n\tby mail.archive.org (Postfix) with ESMTPSA id DBBA56840160\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 22 Jul 2013 18:31:43 -0700 (PDT)\r\nX-Received: by mail-ob0-f177.google.com with SMTP id ta17so8876996obb.8\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 22 Jul 2013 18:31:42 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:in-reply-to:references:date:message-id:subject:from:to\n         :content-type;\n        bh=FZPHe1aaUM4l6IlPy2yOmqj5FCusGn9NlUu9igDZusQ=;\n        b=bQa/4BLZR5HjmGzbTPilVfLFFFImEkzzvqgoBGRFdSucIeeESkCahOhYW0UMMYRTMi\n         bOELXuS3EN6yPIWJnwyMeFFjAAD0Djvk6EP7w/HHN5s/EJ8VGM8ZitcJE+Zbj7BSxx82\n         BOrpPx9z5WaYt43dvP3/UOxTvFu9eCFl5pejoZZW9FPPsBV3etVxuJLCTai5dFS1p94q\n         EWIpnP/A1GARMLLMoFagR1YRzFcL3edmN8Megvk0GC4SnyUpkE55uUA8HQnh+il1pBJS\n         8i0cwWP7p1sdJLNjrDPqVXdP20cZKB0imyi4kmRsq0+Ug9N/JsJCv6NBQuXtQhnpKVq4\n         Jaow==\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.176.67 with SMTP id cg3mr21805221obc.65.1374543102757;\n Mon, 22 Jul 2013 18:31:42 -0700 (PDT)\r\nX-Received: by 10.76.110.16 with HTTP; Mon, 22 Jul 2013 18:31:42 -0700 (PDT)\r\nIn-Reply-To: &lt;krgjhr+ukq3@...&gt;\r\nReferences: &lt;krgjhr+ukq3@...&gt;\r\nDate: Mon, 22 Jul 2013 18:31:42 -0700\r\nMessage-ID: &lt;CAA-z70JeXpKzUsTRruLgvahm_dm_azGF1=GYARb=X-okE8Os5g@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=e89a8ff1cece5e539504e223c167\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Clarification on getCanonicalString vs getURI\n on CrawlURI\r\nX-Yahoo-Group-Post: member; u=325624130; y=zscGwjfog6Jl_EsOCljRkx9z45COWfM2fRoBrdG9t7io8w\r\nX-Yahoo-Profile: nlevitt\r\n\r\n\r\n--e89a8ff1cece5e539504e223c167\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nHello Thamizh,\n\nIt sounds like you want to write a custom canonicalization rule that strips\nthe scheme (http or https) off the url. Take a look\nat org.archive.modules.canonicalize.CanonicalizationRule and its subclasses\nand model your canonicalization rule on them. You can add that rule to your\ncanonicalizationPolicy.\n\nInternally heritrix calls curi.setCanonicalString() with the string value\nreturned by your canonicalization policy. But it doesn&#39;t sound like you\nneed to worry about those details as long as you have the\ncanonicalizationPolicy configured to your liking.\n\nNoah\n\n\n\nOn Tue, Jul 9, 2013 at 2:01 AM, thamizhannalp &lt;thamizhannalp@...&gt;wrote:\n\n&gt; Hi,\n&gt; I would like to know the differences between getCanonicalString() vs\n&gt; getURI() methods in CrawlURI class.\n&gt;\n&gt; What I am trying to do is, If there is link say https://abc.com present\n&gt; in CrawlURI, then I would like to replace it with *://abc.com. There was\n&gt; legacy code written and that uses getURI() to do this. Since, I could not\n&gt; find any setter method(setURI()) on CrawlURI, I planned to use\n&gt; getCanonicalString/setCanonicalString() instead of getURI().\n&gt;\n&gt; I would like to understand the impact of this change.\n&gt;\n&gt; some differences I found are,\n&gt; 1. some letter in getURI()&#39;s result has UpperCase and those are lower case\n&gt; in getCanonoicalString()\n&gt; 2. I could see some url result written by getURI() starts with http://www.\n&gt; and the same was staring with http:// using getCanonicalString().\n&gt;\n&gt; some questions are,\n&gt; 1. Is there an alternative to accomplish this task?\n&gt; 2. Is there a way to setURI()?\n&gt;\n&gt; Any suggestions would be appreciated.\n&gt;\n&gt; Thanks in Advance,\n&gt; Thamizh\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\r\n--e89a8ff1cece5e539504e223c167\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,he=\r\nlvetica,sans-serif&quot;&gt;Hello Thamizh,&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_d=\r\nefault&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;\nIt sounds like yo=\r\nu want to write a custom canonicalization rule that strips the scheme (http=\r\n or https) off the url. Take a look at=A0org.archive.modules.canonicalize.C=\r\nanonicalizationRule and its subclasses and model your canonicalization rule=\r\n on them. You can add that rule to your canonicalizationPolicy.&lt;/div&gt;\n&lt;div =\r\nclass=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;b=\r\nr&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,s=\r\nans-serif&quot;&gt;Internally heritrix calls curi.setCanonicalString() with the str=\r\ning value returned by your canonicalization policy. But it doesn&#39;t soun=\r\nd like you need to worry about those details as long as you have the canoni=\r\ncalizationPolicy configured to your liking.&lt;/div&gt;\n&lt;div class=3D&quot;gmail_defau=\r\nlt&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=\r\n=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Noah&lt;/d=\r\niv&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-s=\r\nerif&quot;&gt;\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gma=\r\nil_quote&quot;&gt;On Tue, Jul 9, 2013 at 2:01 AM, thamizhannalp &lt;span dir=3D&quot;ltr&quot;&gt;&=\r\nlt;&lt;a href=3D&quot;mailto:thamizhannalp@...&quot; target=3D&quot;_blank&quot;&gt;thamizhannal=\r\np@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; styl=\r\ne=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;Hi,&lt;br&gt;=\r\n\nI would like to know the differences between getCanonicalString() vs getUR=\r\nI() methods in CrawlURI class.&lt;br&gt;\n&lt;br&gt;\nWhat I am trying to do is, If there=\r\n is link say &lt;a href=3D&quot;https://abc.com&quot; target=3D&quot;_blank&quot;&gt;https://abc.com&lt;=\r\n/a&gt; present in CrawlURI, then I would like to replace it with *://&lt;a href=\r\n=3D&quot;http://abc.com&quot; target=3D&quot;_blank&quot;&gt;abc.com&lt;/a&gt;. There was legacy code wr=\r\nitten and that uses getURI() to do this. Since, I could not find any setter=\r\n method(setURI()) on CrawlURI, I planned to use getCanonicalString/setCanon=\r\nicalString() instead of getURI().&lt;br&gt;\n\n&lt;br&gt;\nI would like to understand the =\r\nimpact of this change.&lt;br&gt;\n&lt;br&gt;\nsome differences I found are,&lt;br&gt;\n1. some l=\r\netter in getURI()&#39;s result has UpperCase and those are lower case in ge=\r\ntCanonoicalString()&lt;br&gt;\n2. I could see some url result written by getURI() =\r\nstarts with &lt;a href=3D&quot;http://www&quot; target=3D&quot;_blank&quot;&gt;http://www&lt;/a&gt;. and th=\r\ne same was staring with http:// using getCanonicalString().&lt;br&gt;\n&lt;br&gt;\nsome q=\r\nuestions are,&lt;br&gt;\n1. Is there an alternative to accomplish this task?&lt;br&gt;\n2=\r\n. Is there a way to setURI()?&lt;br&gt;\n&lt;br&gt;\nAny suggestions would be appreciated=\r\n.&lt;br&gt;\n&lt;br&gt;\nThanks in Advance,&lt;br&gt;\nThamizh&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n--------------=\r\n----------------------&lt;br&gt;\n&lt;br&gt;\nYahoo! Groups Links&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To v=\r\nisit your group on the web, go to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;http://groups.yah=\r\noo.com/group/archive-crawler/&quot; target=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/gr=\r\noup/archive-crawler/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; Your email settings:&lt;br&gt;\n=A0 =\r\n=A0 Individual Email | Traditional&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change settings on=\r\nline go to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;http://groups.yahoo.com/group/archive-cr=\r\nawler/join&quot; target=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/group/archive-crawler=\r\n/join&lt;/a&gt;&lt;br&gt;\n=A0 =A0 (Yahoo! ID required)&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change set=\r\ntings via email:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;mailto:archive-crawler-digest@yahoo=\r\ngroups.com&quot;&gt;archive-crawler-digest@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n=A0 =A0 &lt;a href=\r\n=3D&quot;mailto:archive-crawler-fullfeatured@yahoogroups.com&quot;&gt;archive-crawler-fu=\r\nllfeatured@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To unsubscribe from this =\r\ngroup, send an email to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;mailto:archive-crawler-unsu=\r\nbscribe@yahoogroups.com&quot;&gt;archive-crawler-unsubscribe@yahoogroups.com&lt;/a&gt;&lt;br=\r\n&gt;\n&lt;br&gt;\n&lt;*&gt; Your use of Yahoo! Groups is subject to:&lt;br&gt;\n=A0 =A0 &lt;a hr=\r\nef=3D&quot;http://docs.yahoo.com/info/terms/&quot; target=3D&quot;_blank&quot;&gt;http://docs.yaho=\r\no.com/info/terms/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--e89a8ff1cece5e539504e223c167--\r\n\n"}}