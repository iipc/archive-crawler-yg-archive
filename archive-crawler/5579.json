{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":362973207,"authorName":"Juergen Umbrich","from":"Juergen Umbrich &lt;juergen@...&gt;","replyTo":"LIST","senderId":"qDA7zYbkJ_PknuEaJWBbqUtJ6mmzLLedTk3wXHbnd4WmCn9dlmjMk76WACKq9fr0bLlJCgG3Z2ylre1Ai-RCnRVw-j13iZTkdtJGtQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Interesting Becnhmark of Heritrix 2.0.1 on two different servers","postDate":"1227014697","msgId":5579,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5MjJDMjI5LjgwMUB1bWJyaWNoLm5ldD4=","inReplyToHeader":"PDQ5MjFGRDdGLjEwOTA0MDRAYXJjaGl2ZS5vcmc+","referencesHeader":"PDQ5MUIxNDRDLjcwMDAzQHVtYnJpY2gubmV0PiA8NDkyMUZEN0YuMTA5MDQwNEBhcmNoaXZlLm9yZz4="},"prevInTopic":5576,"nextInTopic":0,"prevInTime":5578,"nextInTime":5580,"topicId":5570,"numMessagesInTopic":3,"msgSnippet":"Hi Gordon thanks again for the fast reply. ... Yes, that would be a interesting comparison. We will think about a test and if so post the results. ... We read","rawEmail":"Return-Path: &lt;juergen@...&gt;\r\nX-Sender: juergen@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 19629 invoked from network); 18 Nov 2008 13:27:00 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m43.grp.scd.yahoo.com with QMQP; 18 Nov 2008 13:27:00 -0000\r\nX-Received: from unknown (HELO mx1.nuigalway.ie) (140.203.201.100)\n  by mta15.grp.scd.yahoo.com with SMTP; 18 Nov 2008 13:27:00 -0000\r\nX-IronPort-Anti-Spam-Filtered: true\r\nX-IronPort-Anti-Spam-Result: ApoEAPxQIkkKhJ0L/2dsb2JhbADSQIJ5\r\nX-IronPort-AV: E=Sophos;i=&quot;4.33,625,1220223600&quot;; \n   d=&quot;scan&#39;208&quot;;a=&quot;270009833&quot;\r\nX-Received: from exbe1.ac.nuigalway.ie (HELO EVS1.ac.nuigalway.ie) ([10.132.157.11])\n  by mx1.nuigalway.ie with ESMTP; 18 Nov 2008 13:26:51 +0000\r\nX-Received: from EVS1.ac.nuigalway.ie ([10.132.157.14]) by EVS1.ac.nuigalway.ie with Microsoft SMTPSVC(6.0.3790.3959);\n\t Tue, 18 Nov 2008 13:26:50 +0000\r\nX-Received: from [10.2.17.73] ([140.203.154.12]) by EVS1.ac.nuigalway.ie over TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959);\n\t Tue, 18 Nov 2008 13:26:50 +0000\r\nMessage-ID: &lt;4922C229.801@...&gt;\r\nDate: Tue, 18 Nov 2008 13:24:57 +0000\r\nUser-Agent: Mozilla-Thunderbird 2.0.0.17 (X11/20081018)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;491B144C.70003@...&gt; &lt;4921FD7F.1090404@...&gt;\r\nIn-Reply-To: &lt;4921FD7F.1090404@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: juergen@...\r\nX-OriginalArrivalTime: 18 Nov 2008 13:26:50.0631 (UTC) FILETIME=[50765170:01C94981]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Juergen Umbrich &lt;juergen@...&gt;\r\nSubject: Re: [archive-crawler] Interesting Becnhmark of Heritrix 2.0.1 on\n two different servers\r\nX-Yahoo-Group-Post: member; u=362973207\r\n\r\nHi Gordon\n\nthanks again for the fast reply.\n&gt; I do suspect RAM is the major reason for the difference.\n&gt;\n&gt; In a default configuration, two large, crucial data structures are \n&gt; implemented using disk-backed BerkeleyDB-JavaEdition (BDBJE) databases: \n&gt; (1) the collection of all pending-to-crawl URI queues; (2) the set of \n&gt; all URIs already discovered.\n&gt;\n&gt; BDBJE uses RAM extensively for caching its items; by default 60% of heap \n&gt; is used for its cache. Further, any RAM unused by heap on the system may \n&gt; be used by the OS for disk cache. So the longer story regarding both the \n&gt; BDBJE and OS disk cache effects is: more RAM helps avoid or forestall \n&gt; disk IO, even as these queues and the set get larger.\n&gt;\n&gt; You may want to try a comparison where both test runs use the same size \n&gt; heap, just to remove one other variable from the machine comparison.\n&gt;\n&gt;   \nYes, that would be a interesting comparison. We will think about a test \nand if so post the results.\n&gt; Any suitably broad crawl tends to get slower as the record of what has \n&gt; already been discovered gets larger, and thus checking whether \n&gt; currently-discovered URIs need to be crawled becomes ever-more reliant \n&gt; on disk-based data far larger than RAM.\n&gt;\n&gt; Several elements of the crawler design try to minimize this effect, by \n&gt; making working on certain sites (queues) at a time (such that certain \n&gt; hot portions of the queues/set stay in memory cache until attention \n&gt; shifts to other sites), but depending on the link structures you&#39;re \n&gt; crawling, the crawler may still have a hard time achieving cache \n&gt; efficiency.\n&gt;   \n\n&gt; (There&#39;s an alternate approach to maintaining the discovered-URI set, as \n&gt; discussed in the papers about the Mercator and IRLBot crawlers, we hope \n&gt; to implement someday to benefit very-large crawls. See issue [HER-988].)\n&gt;   \nWe read the very interesting publication [1] of Hsin-Tsang Lee, et. al., \nseveral times (;-)) and if we can somehow help or cooperate in \nimplementing some of their approaches in heritrix we would be very happy.\nJust let me know if their is interest from your site and  how  we can \ncontribute :-) Otherwise we will stay tuned and looking forward for the \nnext release of heritrix with all the nice new features.\n\nBest\njuergen\n\n[1] http://irl.cs.tamu.edu/people/hsin-tsang/papers/www2008.pdf\n&gt; - Gordon @ IA\n&gt;\n&gt; Juergen Umbrich wrote:\n&gt;   \n&gt;&gt; Hi all,\n&gt;&gt;\n&gt;&gt; we are trying to figure out what is the best heritrix and server setup to run large scale crawls.\n&gt;&gt; At our lab we used two different server setups and run the exactly same crawl on both of the servers.\n&gt;&gt;\n&gt;&gt; Just to make things short, here the summary\n&gt;&gt;\n&gt;&gt; Aim: What is the best value hardware for running Heritrix and how is\n&gt;&gt; craw performance developing throughout a crawl.\n&gt;&gt;\n&gt;&gt; Test setup: both machines run Linux 64 bit Sun JVM 1.6.0_06\n&gt;&gt;\n&gt;&gt; Machine A (left in the comparision.png):\n&gt;&gt; AMD Athlon 64 X2 5600+ Dual Core, 4GB RAM, 2 * 500GB SATAII drives\n&gt;&gt; (SAMSUNG HD501LJ)\n&gt;&gt;\n&gt;&gt; Machine B (right  in the comparision.png):\n&gt;&gt; Interl quad core XEON 2.33GHz, 8GB RAM, disk, 2 * 400GB SATAII drives\n&gt;&gt;\n&gt;&gt; Except for the disks machine 2 should be aprox. 2 times powerful. We\n&gt;&gt; have run a simple crawl with 1 million seeds to check how both machines\n&gt;&gt; perform. Results attached.\n&gt;&gt;\n&gt;&gt; Preliminary  findings:\n&gt;&gt; *CPU* A uses about 75% of its cpu, B about 37% of its cpu\n&gt;&gt;\n&gt;&gt; *RAM* A got 2.5GB and B 5GB heap\n&gt;&gt;\n&gt;&gt; *Throughput*\n&gt;&gt; A got 80-140 docs/sec B got 40-70 docs/sec\n&gt;&gt; A got 12-30 MBit/sec B got 40-55 MBit/sec\n&gt;&gt;\n&gt;&gt; While we do understand the aprox. 2-1 performance relation, we do not\n&gt;&gt; understand why the performance of machine A shows a steady decline (50%\n&gt;&gt; over 24h) while machine B it is not a steady decline and only around 10%.\n&gt;&gt;\n&gt;&gt; Our first guess would be the difference in RAM available to the BDB\n&gt;&gt; cache. Can anybody confirm this? Will also an 8 GB machine eventually\n&gt;&gt; slow down significantly? Does anybody know the reason - is it the\n&gt;&gt; queuing of new URIs?\n&gt;&gt;\n&gt;&gt; Would be nice if we can discuss this \n&gt;&gt; Best juergen\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------------------------------------------\n&gt;&gt;\n&gt;&gt;     \n&gt;\n&gt;   \n\n"}}