{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":95792214,"authorName":"Christoph Buescher","from":"Christoph Buescher &lt;sterntaufe@...&gt;","profile":"christoph_buescher","replyTo":"LIST","senderId":"qChJFB1WSTaZXp8Mf814HX4OvOv2HBbvqTLYrlGsperLyY3yKNMSxlmmnBEJGseWAd9mk3cA4e0PTzi0Tb2ZPr8S0WFxCMWKEXV96eU","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Question about ArchiveReader Iterator","postDate":"1197394609","msgId":4807,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3NUVDQUIxLjgwMzA0MDRAZ214LmRlPg==","inReplyToHeader":"PDQ3NTlCQTc0LjMwMzA5MDFAZHVib2NlLm5ldD4=","referencesHeader":"PDgwMDcyNi4xMzMwOS5xbUB3ZWI1NDYwMy5tYWlsLnJlMi55YWhvby5jb20+IDw0NzU5QkE3NC4zMDMwOTAxQGR1Ym9jZS5uZXQ+"},"prevInTopic":4780,"nextInTopic":4813,"prevInTime":4806,"nextInTime":4808,"topicId":4763,"numMessagesInTopic":7,"msgSnippet":"Hi, so should I submit a bug at http://webteam.archive.org/jira/browse/HER about this then? Because I m new to Heritrix I wasn t sure if I m using the","rawEmail":"Return-Path: &lt;sterntaufe@...&gt;\r\nX-Sender: sterntaufe@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 27596 invoked from network); 11 Dec 2007 17:36:53 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m52.grp.scd.yahoo.com with QMQP; 11 Dec 2007 17:36:53 -0000\r\nX-Received: from unknown (HELO mail-gw-01.neofonie.de) (81.17.210.143)\n  by mta17.grp.scd.yahoo.com with SMTP; 11 Dec 2007 17:36:52 -0000\r\nX-Received: from [172.27.27.76] (helo=perseus.exchange.neofonie.de)\n\tby mail-gw-01.neofonie.de with esmtp (Exim 4.63)\n\t(envelope-from &lt;sterntaufe@...&gt;)\n\tid 1J292I-0005a2-8n\n\tfor archive-crawler@yahoogroups.com; Tue, 11 Dec 2007 18:36:50 +0100\r\nX-Received: from [172.23.100.36] ([172.23.100.36]) by perseus.exchange.neofonie.de with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 11 Dec 2007 18:36:50 +0100\r\nMessage-ID: &lt;475ECAB1.8030404@...&gt;\r\nDate: Tue, 11 Dec 2007 18:36:49 +0100\r\nUser-Agent: Thunderbird 2.0.0.9 (X11/20071114)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;800726.13309.qm@...&gt; &lt;4759BA74.3030901@...&gt;\r\nIn-Reply-To: &lt;4759BA74.3030901@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nX-OriginalArrivalTime: 11 Dec 2007 17:36:50.0177 (UTC) FILETIME=[69332710:01C83C1C]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Christoph Buescher &lt;sterntaufe@...&gt;\r\nReply-To: christophbuescher@...\r\nSubject: Re: [archive-crawler] Question about ArchiveReader Iterator\r\nX-Yahoo-Group-Post: member; u=95792214; y=d2gh2tFD28zCY_VLXj3nQEYn6nxqURcmaiLixe8pTLmtStN6cijjRxu3gnjj\r\nX-Yahoo-Profile: christoph_buescher\r\n\r\nHi,\n\nso should I submit a bug at http://webteam.archive.org/jira/browse/HER\nabout this then? Because I&#39;m new to Heritrix I wasn&#39;t sure if I&#39;m using\nthe ArcReader/Iterator in the right way.\nI can provide some unit tests that reproduce the behaviour and also show\nthat calling next() without calling hasNext() inbetween seems to lead to\nproblems.\nWe are solving the problem right now by using a wrapper object around\nthe iterator that alway gets the next record if hasNext() was called and\nbuffers it until it is retrieved by the next call to next().\n\nChris\n\nstack schrieb:\n&gt; Sounds like a bug to me too.  hasNext should at least have the \n&gt; &#39;appearance&#39; of being an idempotent operation.\n&gt; St.Ack\n&gt;\n&gt; Mathew Nik Foscarini wrote:\n&gt;   \n&gt;&gt; That does sound like a bug to me.\n&gt;&gt;\n&gt;&gt; A work around would be to create a wrapper iterator class, and pass \n&gt;&gt; the ArchiveReader iterator to that class&#39;s constructor. Then check if \n&gt;&gt; hasNext has been called more then once for each next().\n&gt;&gt;\n&gt;&gt; Or, see if you can fix the ArchiveReader iterator and share the code. :-)\n&gt;&gt;\n&gt;&gt; */Christoph Buescher &lt;sterntaufe@...&gt;/* wrote:\n&gt;&gt;\n&gt;&gt;     exactly in this order and always one after each other. This, however,\n&gt;&gt;     seems to be a very strict constraint for a standard Java-Iterator. The\n&gt;&gt;     problem arises because I don&#39;t want to load all the records right\n&gt;&gt;     away,\n&gt;&gt;     but let out processing pipeline request new records from an ArcReader\n&gt;&gt;     when it needs one. In our scenario we can&#39;t assure that the client\n&gt;&gt;     using\n&gt;&gt;     the ArcReader is well-behaved and always gets the next record after\n&gt;&gt;     right after calling &quot;next()&quot;. It might just want to know several times\n&gt;&gt;     if there is something left to process and then get the record some\n&gt;&gt;     time\n&gt;&gt;     later...\n&gt;&gt;\n&gt;&gt; ------------------------------------------------------------------------\n&gt;&gt; Be a better friend, newshound, and know-it-all with Yahoo! Mobile. Try \n&gt;&gt; it now. \n&gt;&gt; &lt;http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ%20&gt; \n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;     \n&gt;\n&gt;\n&gt;\n&gt;  \n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;   \n\n\n"}}