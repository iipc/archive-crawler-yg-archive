{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"eG91bITUtasG61d8QIrbjHHbvbjoJTdqM-AoTjZJFKIxdHtsTzBsSfLDq6qZc4cZoMpt7vdy8dtbMlZ6J4AhEW5IfvybM38","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: Restarting Heritrix 3.0.0 keeps failing","postDate":"1263839171","msgId":6312,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNTRBN0MzLjEwMDAxMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGhqMW1yMys0OGc0QGVHcm91cHMuY29tPg==","referencesHeader":"PGhqMW1yMys0OGc0QGVHcm91cHMuY29tPg=="},"prevInTopic":6309,"nextInTopic":6315,"prevInTime":6311,"nextInTime":6313,"topicId":6306,"numMessagesInTopic":6,"msgSnippet":"Thanks for your effort figuring out what s happening. If you are no longer interested in its contents, the job.log may be moved aside between Heritrix","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 34466 invoked from network); 18 Jan 2010 18:26:14 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 18 Jan 2010 18:26:14 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta2.grp.sp2.yahoo.com with SMTP; 18 Jan 2010 18:26:13 -0000\r\nX-Received: (qmail 78172 invoked from network); 18 Jan 2010 18:26:12 -0000\r\nX-Received: from 70.137.159.52 (HELO ?192.168.23.128?) (70.137.159.52)\n  by relay01.pair.com with SMTP; 18 Jan 2010 18:26:12 -0000\r\nX-pair-Authenticated: 70.137.159.52\r\nMessage-ID: &lt;4B54A7C3.1000105@...&gt;\r\nDate: Mon, 18 Jan 2010 10:26:11 -0800\r\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;hj1mr3+48g4@...&gt;\r\nIn-Reply-To: &lt;hj1mr3+48g4@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Restarting Heritrix 3.0.0 keeps failing\r\nX-Yahoo-Group-Post: member; u=137285340; y=LmmQk-9V02D5HBVzP_1vVpRaCCHDZVYMfzL2qU76W_JG\r\nX-Yahoo-Profile: gojomo\r\n\r\nThanks for your effort figuring out what&#39;s happening.\n\nIf you are no longer interested in its contents, the &#39;job.log&#39; may be \nmoved aside between Heritrix launches, or deleted entirely. (A new one \nwill be created on next restart.) All that will be lost is the ability \nto display log contents in the web UI, and the launch \ncount/last-launched time.\n\nIf the job.log has grown to ~6GB, then there may have been other serious \nerrors that need correction -- only major events in a crawl&#39;s lifecycle \n(build/launch/pause/terminate) and significant errors should generate \nlog lines there.\n\nThat said, since the job.log may legitimately grow arbitrarily long \nbefore an operator wants to clear it, and there shouldn&#39;t be any long \nmysterious pauses at startup, I consider this a bug as well. We&#39;ll \nimprove the behavior before the next patch release. I&#39;ve created an \nissue in our issue-tracking system:\n\nhttps://webarchive.jira.com/browse/HER-1736\n\n- Gordon @ IA\n\n\n\n\n\n\nt.schoellhorn wrote:\n&gt; Hi,\n&gt; \n&gt; now I figured out, what is happening. Heritrix is starting - but is taking about 15 to 20 minutes to start. When started it takes again an enormous amount of time to answer the first http-request. \n&gt; \n&gt; I tried to understand that &quot;issue&quot; and used jstack. There I could see, that Heritrix is calling the method &quot;CrawlJob.scanJobLog&quot;, first when starting and again when creating the first output. I assume that heritrix is reading the &quot;job.log&quot; which takes a lot of time with my current 8 GB sized job.log-file.\n&gt; \n&gt; Are there any options how to speed up things? Or should that be considered a bug? Perhaps it is simple not a good idea to start the webgui with such big crawls?\n&gt; \n&gt; Cheers,\n&gt; Tino\n&gt; \n&gt; P.S.: the relevant stack-trace:\n&gt; \n&gt; &lt;code&gt;\n&gt; java.lang.Thread.State: RUNNABLE\n&gt;         at java.io.FileInputStream.readBytes(Native Method)\n&gt;         at java.io.FileInputStream.read(FileInputStream.java:199)\n&gt;         at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)\n&gt;         at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)\n&gt;         at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)\n&gt;         - locked &lt;0x4800ff40&gt; (a java.io.InputStreamReader)\n&gt;         at java.io.InputStreamReader.read(InputStreamReader.java:167)\n&gt;         at java.io.BufferedReader.fill(BufferedReader.java:136)\n&gt;         at java.io.BufferedReader.readLine(BufferedReader.java:299)\n&gt;         - locked &lt;0x4800ff40&gt; (a java.io.InputStreamReader)\n&gt;         at java.io.BufferedReader.readLine(BufferedReader.java:362)\n&gt;         at org.apache.commons.io.LineIterator.hasNext(LineIterator.java:96)\n&gt;         at org.archive.crawler.framework.CrawlJob.scanJobLog(CrawlJob.java:158)\n&gt;         at org.archive.crawler.framework.CrawlJob.&lt;init&gt;(CrawlJob.java:95)\n&gt;         at org.archive.crawler.framework.Engine.considerAsJobDirectory(Engine.java:135)\n&gt;         at org.archive.crawler.framework.Engine.findJobConfigs(Engine.java:89)\n&gt;         at org.archive.crawler.restlet.EngineResource.writeHtml(EngineResource.java:249)\n&gt;         at org.archive.crawler.restlet.EngineResource$2.write(EngineResource.java:82)\n&gt;         at org.restlet.resource.WriterRepresentation.write(WriterRepresentation.java:9\n&gt; &lt;/code&gt;\n&gt; \n&gt; \n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, &quot;t.schoellhorn&quot; &lt;t.schoellhorn@...&gt; wrote:\n&gt;&gt; Hi,\n&gt;&gt;\n&gt;&gt; thanks for your advice. But when using &#39;netstat -an | egrep &#39;LISTEN&#39;&#39; the default port 8443 of heritrix is not listening. Additionally I made sure that the java process doesn&#39;t show up in the process list of &#39;top&#39;.\n&gt;&gt;\n&gt;&gt; When I look at the output of heritrix_out.log when starting the engine there are no exceptions - just some system information. Any ideas what I could do to start the engine again?\n&gt;&gt;\n&gt;&gt; Cheers,\n&gt;&gt; Tino\n&gt;&gt;\n&gt;&gt; P.S: Here is the information of heritrix_out.log when starting the engine:\n&gt;&gt;\n&gt;&gt; BEGIN -----\n&gt;&gt;\n&gt;&gt; Sun Jan 17 21:17:35 CET 2010 Starting heritrix\n&gt;&gt; Linux enoola-db 2.6.4-52-smp #1 SMP Wed Apr 7 02:11:20 UTC 2004 i686 i686 i386 GNU/Linux\n&gt;&gt; java version &quot;1.6.0_17&quot;\n&gt;&gt; Java(TM) SE Runtime Environment (build 1.6.0_17-b04)\n&gt;&gt; Java HotSpot(TM) Server VM (build 14.3-b01, mixed mode)\n&gt;&gt; JAVA_OPTS=-Xmx1024M\n&gt;&gt; core file size        (blocks, -c) 0\n&gt;&gt; data seg size         (kbytes, -d) unlimited\n&gt;&gt; file size             (blocks, -f) unlimited\n&gt;&gt; max locked memory     (kbytes, -l) unlimited\n&gt;&gt; max memory size       (kbytes, -m) unlimited\n&gt;&gt; open files                    (-n) 1024\n&gt;&gt; pipe size          (512 bytes, -p) 8\n&gt;&gt; stack size            (kbytes, -s) unlimited\n&gt;&gt; cpu time             (seconds, -t) unlimited\n&gt;&gt; max user processes            (-u) 16379\n&gt;&gt; virtual memory        (kbytes, -v) unlimited\n&gt;&gt; Using ad-hoc HTTPS certificate with fingerprint...\n&gt;&gt; SHA1:81:9D:4A:60:C2:A5:4E:05:A6:2C:82:AD:F1:45:D0:D3:E9:8E:79:3B\n&gt;&gt; Verify in browser before accepting exception.\n&gt;&gt;\n&gt;&gt; END --\n&gt;&gt;\n&gt;&gt; --- In archive-crawler@yahoogroups.com, Pranay Pandey &lt;sspranay@&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt; Look at the heritrix_out.log in $HERITRIX_HOME for some clue.\n&gt;&gt;&gt; I suspect your signal isn&#39;t killing all the processes properly. I use kill -9 and it guarantees a sure shot heritrix termination. \n&gt;&gt;&gt; Did you netstat for the port used by heritrix? I am quite sure, the default port would show up as occupied. Kill that process and you should be good to restart the engine.\n&gt;&gt;&gt;\n&gt;&gt;&gt; -Pranay\n&gt;&gt;&gt;\n&gt;&gt;&gt; --- On Sun, 1/17/10, t.schoellhorn &lt;t.schoellhorn@&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt; From: t.schoellhorn &lt;t.schoellhorn@&gt;\n&gt;&gt;&gt; Subject: [archive-crawler] Restarting Heritrix 3.0.0 keeps failing\n&gt;&gt;&gt; To: archive-crawler@yahoogroups.com\n&gt;&gt;&gt; Date: Sunday, January 17, 2010, 4:21 AM\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ï¿½ \n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;   \n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;     \n&gt;&gt;&gt;       \n&gt;&gt;&gt;       \n&gt;&gt;&gt;       Hi,\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; we are using Heritrix 3.0.0 to crawl snaphshots of about 500 Web-Sites. Now I had to restart the Heritrix Engine. As I don&#39;t know the recommended way to stop the engine I &quot;killed&quot; it via its process number (with signal 15).\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; The problem now is: I cannot restart the engine. When starting the enging with &quot;bin/heritrix -a admin:admin&quot; the progress dots appear enlessly.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Any ideas what I can do to start the engine again?\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; What is the recommended way to shut down the Crawler?\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Cheers,\n&gt;&gt;&gt;\n&gt;&gt;&gt; Tino\n&gt;&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}