{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"iaroJa8wVKmFrH5wGLfmVwfKqY9MEL5BtrUQ-qLC9-Xj77WkkNgwaXCnpzRXvZweTLoSxo7DUUfkPwTkTplZW5SiQ6ZhzCU","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] OnDomainsDecideRule not working as I presumed","postDate":"1153432243","msgId":3102,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0QkZGQUIzLjEwNDA2MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGU5bmN2dCszZnI5QGVHcm91cHMuY29tPg==","referencesHeader":"PGU5bmN2dCszZnI5QGVHcm91cHMuY29tPg=="},"prevInTopic":3090,"nextInTopic":0,"prevInTime":3101,"nextInTime":3103,"topicId":3090,"numMessagesInTopic":2,"msgSnippet":"You understand correctly; there s a bug in SurtPrefixSet.convertPrefixToDomain, when operating on prefixes that have already used the presence or absence of a","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 88841 invoked from network); 20 Jul 2006 21:49:03 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m41.grp.scd.yahoo.com with QMQP; 20 Jul 2006 21:49:03 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.227.188)\n  by mta4.grp.scd.yahoo.com with SMTP; 20 Jul 2006 21:49:03 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 816F214156DE2\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 20 Jul 2006 14:49:05 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 14923-03 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tThu, 20 Jul 2006 14:49:01 -0700 (PDT)\r\nReceived: from [192.168.1.203] (unknown [67.170.222.19])\n\tby mail.archive.org (Postfix) with ESMTP id E77F214156338\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 20 Jul 2006 14:49:00 -0700 (PDT)\r\nMessage-ID: &lt;44BFFAB3.1040608@...&gt;\r\nDate: Thu, 20 Jul 2006 14:50:43 -0700\r\nUser-Agent: Mail/News 1.5 (X11/20060309)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;e9ncvt+3fr9@...&gt;\r\nIn-Reply-To: &lt;e9ncvt+3fr9@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] OnDomainsDecideRule not working as I presumed\r\nX-Yahoo-Group-Post: member; u=137285340; y=UbwFGCKR-sAoucUI_89wDwkSQ-Hg2cJ1I8dEtGT5ZbKB\r\nX-Yahoo-Profile: gojomo\r\n\r\nYou understand correctly; there&#39;s a bug in \nSurtPrefixSet.convertPrefixToDomain, when operating on prefixes that \nhave already used the presence or absence of a trailing &#39;/&#39; on host-only \nURIs to deduce whether an exact-host or host-plus-subdomains crawl was \nintended.\n\nThe quick workaround pending a fix: add a trailing &#39;/&#39; to your URI. This \nwill cause the convertPrefixToDomain code to strip it down to a www-less \ndomain properly.\n\nMore details:\n\nWhen dealing with the default conversion of URIs to implied SURT \nprefixes, as when using SurtPrefixDecideRule, the trailing &#39;/&#39; on \nhost-only URIs is significant, and used as hint as to what prefix is \nreally wanted.\n\nFor example:\n\n   http://www.example.com\n\n...implies the prefix...\n\n   http://(com,example,www,\n\n...which is a prefix that would accept further subdomains, like \nsub.www.example.com.\n\nOn the other hand:\n\n   http://www.example.com/\n\n...implies the prefix...\n\n   http://(com,example,www,)/\n\n...which only accepts URIs exactly on the www.example.com host.\n\n(Both with and without the &#39;/&#39; result in the exact same URI being \nfetched, as browser and Heritrix always add the &#39;/&#39; on the request as \nrequired.)\n\nNow, the OnDomainsDecideRule starts with default prefix creation, then \ntruncates those down to domain-only prefixes. The current buggy \nimplementation of SurtPrefixSet.convertPrefixToDomain considers any \nprefix without a &#39;)&#39; as already being a domain-centric prefix, and skips \nthe truncation, leading to the behavior you see.\n\n- Gordon @ IA\n\npandae667 wrote:\n&gt; Hello everyone,\n&gt; \n&gt; while analysing the results of one of my last crawls I stumbled over\n&gt; something that - at least in my eyes - seems like a bug in the\n&gt; OnDomainsDecideRule.\n&gt; \n&gt; Here is the story:\n&gt; I&#39;m using a DecidingScope with a OnDomainsDecideRule.\n&gt; \n&gt; One of my seed URLs is: \n&gt; http://www.dorfkrug.de\n&gt; \n&gt; this site has links going to those two pages:\n&gt; http://www.der-landgasthof.dorfkrug.de/nav/frset.html\n&gt; http://www.wohnmobil-stellplatz-tunau.dorfkrug.de/nav/frset.html\n&gt; \n&gt; Now my naive perception is that those two links are both on the domain\n&gt; &quot;dorfkrug.de&quot; - thus heritrix should fetch them, too. But it seems to\n&gt; just ignore them as if they reside on a totally different domain.\n&gt; \n&gt; So who is wrong? Me or heritrix ?\n&gt; \n&gt; Thanks in advance for any help\n&gt;   Olaf Freyer\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n\n\n"}}