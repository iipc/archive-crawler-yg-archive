{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":193394005,"authorName":"blah_1977","from":"&quot;blah_1977&quot; &lt;hwangs@...&gt;","profile":"blah_1977","replyTo":"LIST","senderId":"vyDPo3D70ePFQr0G8OK6RDF0jA6E18rceF3jqu19AVgE_98-N-3CUekDx-qdd2DVqUcRhyleH8_Nf5NxSQtP5vSwXJuhZKdi","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: heritrix stuck","postDate":"1166844102","msgId":3614,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGVtaTdjNitjNWxnQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ1OEM0NEZCLjMwNTA2MDNAYXJjaGl2ZS5vcmc+"},"prevInTopic":3613,"nextInTopic":3621,"prevInTime":3613,"nextInTime":3615,"topicId":3603,"numMessagesInTopic":9,"msgSnippet":"Yes, I am on Windoze.  Good to know that Linux won t squawk at deleting an open file.  Will give it a try on a linux box. Will run my tests again and post the","rawEmail":"Return-Path: &lt;hwangs@...&gt;\r\nX-Sender: hwangs@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 74392 invoked from network); 23 Dec 2006 03:23:41 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m22.grp.scd.yahoo.com with QMQP; 23 Dec 2006 03:23:41 -0000\r\nReceived: from unknown (HELO n20c.bullet.sp1.yahoo.com) (69.147.64.135)\n  by mta4.grp.scd.yahoo.com with SMTP; 23 Dec 2006 03:23:41 -0000\r\nReceived: from [216.252.122.216] by n20.bullet.sp1.yahoo.com with NNFMP; 23 Dec 2006 03:21:43 -0000\r\nReceived: from [66.218.69.2] by t1.bullet.sp1.yahoo.com with NNFMP; 23 Dec 2006 03:21:42 -0000\r\nReceived: from [66.218.66.82] by t2.bullet.scd.yahoo.com with NNFMP; 23 Dec 2006 03:21:42 -0000\r\nDate: Sat, 23 Dec 2006 03:21:42 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;emi7c6+c5lg@...&gt;\r\nIn-Reply-To: &lt;458C44FB.3050603@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;blah_1977&quot; &lt;hwangs@...&gt;\r\nSubject: Re: heritrix stuck\r\nX-Yahoo-Group-Post: member; u=193394005; y=CKjbnQSVwTl6zGeiqxEu199wEtQEJ9a19LAbyvPzDrAWF2DkC5Q\r\nX-Yahoo-Profile: blah_1977\r\n\r\nYes, I am on Windoze.  Good to know that Linux won&#39;t squawk at\ndeleting an =\r\nopen file.  Will give it a try on a linux box.\n\nWill run my tests again and=\r\n post the log/console output that I see. \n\n\nThanks much!\n\n\n--- In archive-c=\r\nrawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; In addition to =\r\nSt.Ack&#39;s questions:\n&gt; \n&gt; * Are you on Windows by chance? (Linux/Unix won&#39;t =\r\nobject to deleting an \n&gt; open file.)\n&gt; \n&gt; * Can you closely examine heritri=\r\nx_out.log and/or the Alerts for any \n&gt; exceptions before the delete that mi=\r\nght have prevented a proper close?\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; \n&gt; Michael Stack=\r\n wrote:\n&gt; &gt; Regards your first mail, did you do anything custom to the\nFetc=\r\nhHTTP (or \n&gt; &gt; FetchDNS)?  These are usually responsible for closing the \n&gt;=\r\n &gt; RecordingInputStream (RIS).  There is a RIS per thread.  Its\nopened and =\r\n\n&gt; &gt; closed in the fetcher per trip down along the processing chain. \nIn th=\r\ne \n&gt; &gt; past the close would sometimes fail but this was addressed a while\nb=\r\nack \n&gt; &gt; (You are using a recent Heritrix?).  \n&gt; &gt; \n&gt; &gt; Heritrix is embedde=\r\nd into your WAR or does your WAR run a remote \n&gt; &gt; Heritrix instance?  Does=\r\n crawling usually work well?  Its just the\nodd \n&gt; &gt; time it goes awry?\n&gt; &gt; =\r\n\n&gt; &gt; Your second mail &#39;seems&#39; to describe a different phenomenon.  After \n&gt;=\r\n &gt; fetchers are finished, extractors go to work and get a character\nstream =\r\n\n&gt; &gt; on the fetchers&#39; download (A ReplayCharSequence).   If we\ndetermine it=\r\n a \n&gt; &gt; multi-byte stream, we first convert downloaded bytes to a\nCharSeque=\r\nnce \n&gt; &gt; writing the encoding to a temporary file -- the one with the UTF-1=\r\n6BE \n&gt; &gt; suffix -- and its this file we pass back to the extractor to run i=\r\nts \n&gt; &gt; character-based regexes across.  When an extractor is done, its\nsup=\r\nposed \n&gt; &gt; to clean up the temporary file.  The delete is failing silently?=\r\n \nJust \n&gt; &gt; before the delete, there is a log (&#39;...because of...&#39;).  Whats =\r\nit\nsay in \n&gt; &gt; your case?\n&gt; &gt; \n&gt; &gt; Thanks,\n&gt; &gt; St.Ack\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt;=\r\n &gt; \n&gt; &gt; blah_1977 wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; After digging around a bit trying to deb=\r\nug this problem, I think the\n&gt; &gt;&gt; root cause is in the class\n&gt; &gt;&gt; ReplayCha=\r\nrSequenceFactory.MultiByteReplayCharSequence at the method\n&gt; &gt;&gt;\n&gt; &gt;&gt; privat=\r\ne void deleteFile(File fileToDelete, final Exception e) {\n&gt; &gt;&gt; if (e !=3D n=\r\null) {\n&gt; &gt;&gt; // Log why the delete to help with debug of\n&gt; &gt;&gt; java.io.FileNo=\r\ntFoundException:\n&gt; &gt;&gt; // ....tt53http.ris.UTF-16BE.\n&gt; &gt;&gt; logger.severe(&quot;Del=\r\neting &quot; + fileToDelete + &quot; because of &quot;\n&gt; &gt;&gt; + e.toString());\n&gt; &gt;&gt; }\n&gt; &gt;&gt; i=\r\nf (fileToDelete !=3D null && fileToDelete.exists()) {\n&gt; &gt;&gt; fileToDelete.del=\r\nete();\n&gt; &gt;&gt; }\n&gt; &gt;&gt; }\n&gt; &gt;&gt;\n&gt; &gt;&gt; The last line &quot;fileToDelete.delete()&quot; seems =\r\nto always return false\n&gt; &gt;&gt; when invoked from ExtractorHTML, indicating tha=\r\nt the file cannot be\n&gt; &gt;&gt; deleted (perhaps due to a stream still being open=\r\n on it). This then\n&gt; &gt;&gt; snowballs into the error seen in my previous post.\n=\r\n&gt; &gt;&gt; Has anyone any idea on what&#39;s causing this, and how to fix?\n&gt; &gt;&gt; Thank=\r\ns much in advance.\n&gt; &gt;&gt;\n&gt; &gt;&gt; --- In archive-crawler@yahoogroups.com \n&gt; &gt;&gt; &lt;=\r\nmailto:archive-crawler%40yahoogroups.com&gt;, &quot;blah_1977&quot; &lt;hwangs@&gt; \n&gt; &gt;&gt; wrot=\r\ne:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; I&#39;ve written a little web app running on tomcat, which use=\r\ns\nheritrix\n&gt; &gt;&gt; &gt; to crawl specific sites. Lately, I&#39;ve been running into t=\r\nhe\nfollowing\n&gt; &gt;&gt; &gt; error messages on the command line, after which it seem=\r\ns like the\n&gt; &gt;&gt; &gt; whole application becomes &quot;stuck&quot;. i.e., no more progress=\r\n being\nmade\n&gt; &gt;&gt; &gt; on the crawl. Here are the error messages:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;=\r\n INFO HttpMethodDirector:434 - I/O exception caught when processing\n&gt; &gt;&gt; &gt; =\r\nrequest: RIS already open for ToeThread #35:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\nhttp://www.pcrecru=\r\niter.net/pcrbin/reg5.exe?i1=3DWEBGUEST&i2=3D532335723616234&i3=3DDETAIL&has=\r\nh=3D508826133&i5=3D&i6=3D12%2f21%2f2006%207:12:23%20PM&i7=3DSenior%20softwa=\r\nre%20engineer%20%20-%20Content%20%26%20Syndication&i8=3D&i9=3D&i10=3DJ.Job_=\r\nTitle%20Desc&pcr-id=3DP4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fX=\r\nKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM\n\n&gt; &gt;&gt;\n&lt;http://www.p=\r\ncrecruiter.net/pcrbin/reg5.exe?i1=3DWEBGUEST&i2=3D532335723616234&i3=3DDETA=\r\nIL&hash=3D508826133&i5=3D&i6=3D12%2f21%2f2006%207:12:23%20PM&i7=3DSenior%20=\r\nsoftware%20engineer%20%20-%20Content%20%26%20Syndication&i8=3D&i9=3D&i10=3D=\r\nJ.Job_Title%20Desc&pcr-id=3DP4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvk=\r\nAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; =\r\n&gt; [ToeThread #35:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\nhttp://www.pcrecruiter.net/pcrbin/reg5.exe?i1=\r\n=3DWEBGUEST&i2=3D532335723616234&i3=3DDETAIL&hash=3D508826133&i5=3D&i6=3D12=\r\n%2f21%2f2006%207:12:23%20PM&i7=3DSenior%20software%20engineer%20%20-%20Cont=\r\nent%20%26%20Syndication&i8=3D&i9=3D&i10=3DJ.Job_Title%20Desc&pcr-id=3DP4SAo=\r\n2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49HifRK6eix7=\r\nA8nL6t%0d%0abj8hq%2b%2fiNyiM\n\n&gt; &gt;&gt;\n&lt;http://www.pcrecruiter.net/pcrbin/reg5.=\r\nexe?i1=3DWEBGUEST&i2=3D532335723616234&i3=3DDETAIL&hash=3D508826133&i5=3D&i=\r\n6=3D12%2f21%2f2006%207:12:23%20PM&i7=3DSenior%20software%20engineer%20%20-%=\r\n20Content%20%26%20Syndication&i8=3D&i9=3D&i10=3DJ.Job_Title%20Desc&pcr-id=\r\n=3DP4SAo2E%2fQbHmzBnzOGfIEYm775gf6WWf7H%2fBydd2pvkAJ%2fXKJ%2bHqhT0Ky%2b49Hi=\r\nfRK6eix7A8nL6t%0d%0abj8hq%2b%2fiNyiM&gt;]\n&gt; &gt;&gt; &gt; 19:14:03,516 INFO HttpMethodD=\r\nirector:440 - Retrying request\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Has anybody seen anythi=\r\nng like this before? Thanks much in advance.\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}