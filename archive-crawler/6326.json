{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt0","replyTo":"LIST","senderId":"RQUv-BLxNISq9kUoLBD0DAJIZr_Ue-RRePm4pNjYN4reu8kgEmICp3a55CVS50bGqB9zpLmWDQQ74JTbKDqi_VD_7f0sBUyX","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] Updating crawler-beans.cxml via REST API","postDate":"1264445804","msgId":6326,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNURFOTZDLjkwOTA1MDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDRCNURDMTBCLjYwODA3QGdvb2dsZW1haWwuY29tPg==","referencesHeader":"PDRCNURDMTBCLjYwODA3QGdvb2dsZW1haWwuY29tPg=="},"prevInTopic":6325,"nextInTopic":6327,"prevInTime":6325,"nextInTime":6327,"topicId":6325,"numMessagesInTopic":12,"msgSnippet":"Hello Daniel, API-wise it s simpler and more restful to use http PUT. The curl option is -T: curl -Tmy-crawler-beans.cxml [other curl options...] ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 6700 invoked from network); 25 Jan 2010 18:56:52 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m5.grp.sp2.yahoo.com with QMQP; 25 Jan 2010 18:56:52 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.231.239)\n  by mta3.grp.sp2.yahoo.com with SMTP; 25 Jan 2010 18:56:52 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 7B05F34974C\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 25 Jan 2010 10:56:52 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id oi1cDwz1lX+3 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 25 Jan 2010 10:56:51 -0800 (PST)\r\nX-Received: from localhost.local (c-67-188-36-206.hsd1.ca.comcast.net [67.188.36.206])\n\tby mail.archive.org (Postfix) with ESMTPSA id DC89034974B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 25 Jan 2010 10:56:50 -0800 (PST)\r\nMessage-ID: &lt;4B5DE96C.9090506@...&gt;\r\nDate: Mon, 25 Jan 2010 10:56:44 -0800\r\nUser-Agent: Thunderbird 2.0.0.23 (Macintosh/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;4B5DC10B.60807@...&gt;\r\nIn-Reply-To: &lt;4B5DC10B.60807@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-15; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Updating crawler-beans.cxml via REST API\r\nX-Yahoo-Group-Post: member; u=325624130; y=NwBinFSsfIAsi7wfHgGnPaAQ9jJ6z5b-YKYyhwLWMIorVEY\r\nX-Yahoo-Profile: nlevitt0\r\n\r\nHello Daniel,\n\nAPI-wise it&#39;s simpler and more restful to use http PUT. The curl option \nis -T:\n\ncurl -Tmy-crawler-beans.cxml [other curl options...] \nhttps://localhost:8443/engine/job/myjob/jobdir/crawler-beans.cxml\n\nNoah\n\n\nDaniel Truemper wrote:\n&gt; -----BEGIN PGP SIGNED MESSAGE-----\n&gt; Hash: SHA1\n&gt;\n&gt; Hi,\n&gt;\n&gt; I am trying to update the crawler-beans.cxml via the REST API. Using the\n&gt; web based interface this is working nicely. But I am trying to do this\n&gt; with Apache&#39;s HTTPComponents (version 4). My code basically looks like\n&gt; the following (without all the SSL and authentication overhead):\n&gt;\n&gt; - ---snip---\n&gt; String url =\n&gt; &quot;https://localhost:8443/engine/job/myjob/jobdir/crawler-beans.cxml&quot;;\n&gt;\n&gt; NameValuePair format = new BasicNameValuePair(&quot;format&quot;, &quot;textedit&quot;);\n&gt; NameValuePair xml = new BasicNameValuePair(&quot;contents&quot;, newXmlConfig);\n&gt;\n&gt; HttpPost method = new HttpPost(url);\n&gt; List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n&gt; params.add(format);\n&gt; params.add(xml);\n&gt; method.setEntity(new UrlEncodedFormEntity(params, HTTP.UTF_8);\n&gt; client.execute(method);\n&gt; - ---snap---\n&gt;\n&gt; This will result in the ClassCastException thrown here:\n&gt;\n&gt; - ---snip---\n&gt; org.restlet.resource.FileRepresentation cannot be cast to\n&gt; org.archive.crawler.restlet.EditRepresentation\n&gt; org.archive.crawler.restlet.EnhDirectoryResource.acceptRepresentation(:129)\n&gt; - ---snap---\n&gt;\n&gt; When I am using the curl command as written in the wiki, there is only a\n&gt; short message:\n&gt;\n&gt; - ---snip---\n&gt; [Fatal Error] crawler-beans.cxml:1:1: Premature end of file.\n&gt; - ---snap---\n&gt;\n&gt; The line in the EnhDirectoryResource is:\n&gt; EditRepresentation er = (EditRepresentation) getVariants().get(0);\n&gt;\n&gt; and in getVariants the FileRepresentations _should_ get wrapped with an\n&gt; EnhDirectory which it is not. I think there is some kind of issue with\n&gt; the editFilter in the EnhDirectory since this is the only point that\n&gt; would prevent a FileRepresentation not to be wrapped.\n&gt;\n&gt; Is this a bug? Jira? I will try to debug into this later except there is\n&gt; someone knowing I am doing something wrong!?\n&gt;\n&gt; Best\n&gt; Daniel\n&gt; -----BEGIN PGP SIGNATURE-----\n&gt; Version: GnuPG v2.0.13 (Darwin)\n&gt; Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/\n&gt;\n&gt; iQIcBAEBAgAGBQJLXcELAAoJEJ+hAsmem1JpACkP/RfHLVvRzp5u48yZKGK2TnR4\n&gt; UJvAYjlvYyzORt26RQb5u0ZXWlwflLQJhtdDqd6ikRXKwXC0621Nto3urwsR+lnD\n&gt; GaybUuOfMXlScntRMwag+RTq0eLiKfzyqiesli/bTVIisOHBG6fgPduLWfFCIdDm\n&gt; Fo0hWyx4U/qkgGBDGG149/I4KemknS4d1N0HqYzhgSudDIq7Ix+n5R3fqyRVJ05q\n&gt; +/7t+LnB6pcaW8UNRzUrSItwrSdnRBgXUEIZ6fOvTeFlLUagdqaCF6Z5G7MI0N1l\n&gt; UVqz2PDLyA1LmCmtxhVs1doT78A1UVTHmjzNDuc7US9fxnVny7P0mXCiWvp9ISbR\n&gt; o2lG5kucVo5GzMnrtIRQyEwKHo+1/yXnYVx2SmriGGqFwUEN5qggFh8U6EUC0kk1\n&gt; l4cclOjzmuVHNTRRZuC0vb1PzenOMUrPW+/ThKBD27j5HyjphHFcgNh3T2jnDjW2\n&gt; ojsks5AFZh4+9kTGWqDRklQi98wyxyaBSzmYjpL9El+FBMjVrniHyFFhhd9yNOAz\n&gt; LO9uaOdBYrWpjfOCC6DDj0rAlS+7uCKi1zbGOJLugcliZO+Dol0Jb+rxztMYoaTf\n&gt; q2NXmURTFRAQT12vm7hK5OD2IdJ5asas2EpIPYm0KvNUN1LJDsrJgdf8cvXM7xbl\n&gt; WRziBYRbTXTTPJUbnIGH\n&gt; =1m+Q\n&gt; -----END PGP SIGNATURE-----\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;   \n\n"}}