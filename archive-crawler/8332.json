{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":551250598,"authorName":"Adam Miller","from":"Adam Miller &lt;adam@...&gt;","replyTo":"LIST","senderId":"qGbbWioVa1weHQPECw9FohjgFc4wZTCFUy8ugP_05zkC4LIrlI_U2h_Rf_Tlm2XFyaDjTrPSelTA1z9uXGLxkzyh0s8v","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Downloading image issue in Heritrix","postDate":"1378512978","msgId":8332,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEQ5ODQ3OENGLTFGQUQtNDdENy05NDAzLUQ3NjhFRUY3RjUzQkBhcmNoaXZlLm9yZz4=","inReplyToHeader":"PGt2b2pobisxaDB1ZzI4QFlhaG9vR3JvdXBzLmNvbT4=","referencesHeader":"PGt2b2pobisxaDB1ZzI4QFlhaG9vR3JvdXBzLmNvbT4="},"prevInTopic":8322,"nextInTopic":0,"prevInTime":8331,"nextInTime":8333,"topicId":8319,"numMessagesInTopic":3,"msgSnippet":"You should probably enable your scope log as well if you haven t already. As stated, checking the log for the mime type as well as the written response header","rawEmail":"Return-Path: &lt;adam@...&gt;\r\nX-Sender: adam@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 84298 invoked by uid 102); 7 Sep 2013 00:16:29 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m1.grp.bf1.yahoo.com with SMTP; 7 Sep 2013 00:16:29 -0000\r\nX-Received: (qmail 18474 invoked from network); 7 Sep 2013 00:16:29 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 7 Sep 2013 00:16:29 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 51B3468401F1\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri,  6 Sep 2013 17:16:27 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id w8llvSd-ccWN for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri,  6 Sep 2013 17:16:25 -0700 (PDT)\r\nX-Received: from [192.168.2.132] (97-115-153-146.spkn.qwest.net [97.115.153.146])\n\tby mail.archive.org (Postfix) with ESMTPSA id 5B1C66840171\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri,  6 Sep 2013 17:16:25 -0700 (PDT)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_75CF76D8-2088-496F-8B72-9A9EE0C7BC3C&quot;\r\nMessage-Id: &lt;D98478CF-1FAD-47D7-9403-D768EEF7F53B@...&gt;\r\nMime-Version: 1.0 (Mac OS X Mail 6.5 &#92;(1508&#92;))\r\nDate: Fri, 6 Sep 2013 17:16:18 -0700\r\nReferences: &lt;kvojhn+1h0ug28@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;kvojhn+1h0ug28@...&gt;\r\nX-Mailer: Apple Mail (2.1508)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Adam Miller &lt;adam@...&gt;\r\nSubject: Re: [archive-crawler] Downloading image issue in Heritrix\r\nX-Yahoo-Group-Post: member; u=551250598\r\n\r\n\r\n--Apple-Mail=_75CF76D8-2088-496F-8B72-9A9EE0C7BC3C\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=windows-1252\r\n\r\nYou should probably enable your scope log as well if you haven&#39;t already. A=\r\ns stated, checking the log for the mime type as well as the written respons=\r\ne header in the warc is probably good step as well.\n\nThe scope log can be e=\r\nnabled on your scope bean by adding the following property:\n&lt;property name=\r\n=3D&quot;logToFile&quot; value=3D&quot;true&quot;/&gt;\nThis will add a scope.log to the log folder=\r\n\n\n~Adam\n\nOn Aug 29, 2013, at 3:55 PM, niels.van.hecke@... wrote:\n\n&gt; \n=\r\n&gt; Does it download ALL the images or just some that happen to be larger tha=\r\nn 700mb? I found that oftentimes servers sent a mime-type of text/html, eve=\r\nn though the file is not of that type. Try adding logging to find out what =\r\nmime-types were actually retrieved for said image files.\n&gt; \n&gt; Niels\n&gt; \n&gt; \n&gt;=\r\n \n&gt; --- In archive-crawler@yahoogroups.com, &lt;system.nikhil@...&gt; wrote:\n&gt; \n&gt;=\r\n I am trying the below configuration to reject the download for those image=\r\ns that are greater than 700 Kb. But Heritrix is still downloading images gr=\r\neater than the configured.\n&gt; Please tell me where I am wrong in the configu=\r\nration? I have an urgent requirement for this.\n&gt; \n&gt; &lt;property name=3D&quot;shoul=\r\ndFetchBodyRule&quot;&gt;\n&gt; &lt;bean class=3D&quot;org.archive.modules.deciderules.DecideRul=\r\neSequence&quot;&gt;\n&gt; &lt;property name=3D&quot;rules&quot;&gt;\n&gt; &lt;list&gt; \n&gt; &lt;bean class=3D&quot;org.arch=\r\nive.modules.deciderules.RejectDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; \n&gt; &lt;bean class=3D&quot;or=\r\ng.archive.modules.deciderules.ResourceNoLongerThanDecideRule&quot;&gt;\n&gt; &lt;property =\r\nname=3D&quot;contentLengthThreshold&quot; value=3D&quot;700000&quot; /&gt;\n&gt; &lt;property name=3D&quot;use=\r\nHeaderLength&quot; value=3D&quot;true&quot; /&gt;\n&gt; &lt;property name=3D&quot;decision&quot; value=3D&quot;ACCE=\r\nPT&quot; /&gt;\n&gt; &lt;/bean&gt;\n&gt; \n&gt; &lt;bean class=3D&quot;org.archive.modules.deciderules.Conten=\r\ntTypeNotMatchesRegexDecideRule&quot; &gt;\n&gt; &lt;property name=3D&quot;regex&quot; value=3D&quot;^imag=\r\ne*&quot; /&gt;\n&gt; &lt;property name=3D&quot;decision&quot; value=3D&quot;ACCEPT&quot; /&gt;\n&gt; &lt;/bean&gt; \n&gt; \n&gt; &lt;/=\r\nlist&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/property&gt;\n&gt; \n&gt; \n&gt; Thanks in advance\n&gt; \n&gt; =\r\n\n\n\r\n--Apple-Mail=_75CF76D8-2088-496F-8B72-9A9EE0C7BC3C\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=windows-1252\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=3D&quot;Content-Type&quot; content=3D&quot;text/html charset=\r\n=3Dwindows-1252&quot;&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-=\r\nmode: space; -webkit-line-break: after-white-space; &quot;&gt;You should probably e=\r\nnable your scope log as well if you haven&#39;t already. As stated, checking th=\r\ne log for the mime type as well as the written response header in the warc =\r\nis probably good step as well.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The scope log can be enab=\r\nled on your scope bean by adding the following property:&lt;/div&gt;&lt;div&gt;&lt;prop=\r\nerty name=3D&quot;logToFile&quot; value=3D&quot;true&quot;/&gt;&lt;/div&gt;&lt;div&gt;This will add a scope=\r\n.log to the log folder&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;~Adam&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;d=\r\niv&gt;On Aug 29, 2013, at 3:55 PM, &lt;a href=3D&quot;mailto:niels.van.hecke@...=\r\n&quot;&gt;niels.van.hecke@...&lt;/a&gt; wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-=\r\nnewline&quot;&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-c=\r\nolor: #fff;&quot;&gt;\n&lt;span style=3D&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div id=3D&quot;=\r\nygrp-text&quot;&gt;&lt;div&gt;&lt;br class=3D&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;p&gt;Does it dow=\r\nnload ALL the images or just some that happen to be larger than 700mb? I fo=\r\nund that oftentimes servers sent a mime-type of text/html, even though the =\r\nfile is not of that type. Try adding logging to find out what mime-types we=\r\nre actually retrieved for said image files.&lt;/p&gt;&lt;p&gt;Niels&lt;/p&gt; &lt;div class=3D&quot;y=\r\ngroups-quoted&quot;&gt;&lt;br&gt;&lt;br&gt;--- In &lt;a href=3D&quot;mailto:archive-crawler@yahoogroups=\r\n.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;, &lt;system.nikhil@...&gt; wrote:=\r\n&lt;br&gt;&lt;br&gt;&lt;div&gt;I am trying the below configuration to reject the download for=\r\n those images that are greater than 700 Kb. But Heritrix is still downloadi=\r\nng images greater than the configured.&lt;br&gt;\nPlease tell me where I am wrong =\r\nin the configuration? I have an urgent requirement for this.&lt;br&gt;\n&lt;br&gt;\n&lt;p=\r\nroperty name=3D&quot;shouldFetchBodyRule&quot;&gt;&lt;br&gt;\n        &lt;bean class=3D&quot;org.=\r\narchive.modules.deciderules.DecideRuleSequence&quot;&gt;&lt;br&gt;\n          &lt;prope=\r\nrty name=3D&quot;rules&quot;&gt;&lt;br&gt;\n            &lt;list&gt;      &lt;br&gt;\n      \t\t&lt;b=\r\nean class=3D&quot;org.archive.modules.deciderules.RejectDecideRule&quot;&gt;&lt;br&gt;\n\t\t&l=\r\nt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\n      \t\t&lt;bean class=3D&quot;org.archive.modules.decideru=\r\nles.ResourceNoLongerThanDecideRule&quot;&gt;&lt;br&gt;\n                \t&lt;property n=\r\name=3D&quot;contentLengthThreshold&quot; value=3D&quot;700000&quot; /&gt;&lt;br&gt;\n                \t=\r\n&lt;property name=3D&quot;useHeaderLength&quot; value=3D&quot;true&quot; /&gt;&lt;br&gt;\n            =\r\n    \t&lt;property name=3D&quot;decision&quot; value=3D&quot;ACCEPT&quot; /&gt;&lt;br&gt;\n            =\r\n  &lt;/bean&gt;&lt;br&gt;\n      &lt;br&gt;\n      \t\t&lt;bean class=3D&quot;org.archive.module=\r\ns.deciderules.ContentTypeNotMatchesRegexDecideRule&quot; &gt;&lt;br&gt;\n       \t\t\t&lt;=\r\nproperty name=3D&quot;regex&quot; value=3D&quot;^image*&quot; /&gt;&lt;br&gt;\n                \t&lt;pr=\r\noperty name=3D&quot;decision&quot; value=3D&quot;ACCEPT&quot; /&gt;&lt;br&gt;\n      \t\t&lt;/bean&gt;  =\r\n     &lt;br&gt;\n            &lt;br&gt;\n\t   &lt;/list&gt;&lt;br&gt;\n          &lt;/property&gt=\r\n;&lt;br&gt;\n        &lt;/bean&gt;&lt;br&gt;\n&lt;/property&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nThanks in a=\r\ndvance&lt;/div&gt;                     \n                            &lt;/div&gt;&lt;div&gt;&lt;b=\r\nr class=3D&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;=\r\n\n\n\n\n&lt;!-- end group email --&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail=_75CF76D8-2088-496F-8B72-9A9EE0C7BC3C--\r\n\n"}}