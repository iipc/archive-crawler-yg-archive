{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"dubZZkUypRWyeEJlkt_rm61gbcZDq_akY2R1odANrSurPanMrsXie8hxRVhIRxJ39ZacHU50ZKXRYXY1MQNqyQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] add some method on org.archive.io.arc.ARCReader","postDate":"1089915066","msgId":652,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwRjZDOEJBLjkwNDA4MDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":640,"nextInTopic":0,"prevInTime":651,"nextInTime":653,"topicId":627,"numMessagesInTopic":4,"msgSnippet":"... Please do. St.Ack","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 50652 invoked from network); 15 Jul 2004 18:17:31 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m24.grp.scd.yahoo.com with QMQP; 15 Jul 2004 18:17:31 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (209.237.232.202)\n  by mta3.grp.scd.yahoo.com with SMTP; 15 Jul 2004 18:17:31 -0000\r\nReceived: (qmail 2435 invoked by uid 100); 15 Jul 2004 18:08:29 -0000\r\nReceived: from unknown (HELO ?209.237.240.13?) (stack@...@209.237.240.13)\n  by mail-dev.archive.org with SMTP; 15 Jul 2004 18:08:29 -0000\r\nMessage-ID: &lt;40F6C8BA.9040807@...&gt;\r\nDate: Thu, 15 Jul 2004 11:11:06 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040704 Debian/1.7-4\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=GB2312\r\nContent-Transfer-Encoding: 8bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.4 required=6.0 tests=AWL autolearn=ham version=2.63\r\nX-eGroups-Remote-IP: 209.237.232.202\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] add some method on org.archive.io.arc.ARCReader\r\nX-Yahoo-Group-Post: member; u=168599281\r\n\r\nzhousp wrote:\n\n&gt;thanks,stack,\n&gt;\n&gt;I will try it later,when succesfull. I will post the code here!\n&gt;\n&gt;  \n&gt;\nPlease do.\nSt.Ack\n\n&gt;\t\n&gt;ansi\n&gt;\n&gt;======= 2004-07-14 23:29:49 ��=======\n&gt;\n&gt;  \n&gt;\n&gt;&gt;zhousp wrote:\n&gt;&gt;\n&gt;&gt;    \n&gt;&gt;\n&gt;&gt;&gt;hi,developers,\n&gt;&gt;&gt;\n&gt;&gt;&gt;I want use lucene to index the Arcfile, and save the url posion into the index .\n&gt;&gt;&gt;\n&gt;&gt;&gt;At first I want write my own ARCReader from extends the org.archive.io.arc.ARCReader,\n&gt;&gt;&gt;\n&gt;&gt;&gt;But the variable &quot;InputStream in&quot; is protected and I can&#39;t get it from my class.\n&gt;&gt;&gt;\n&gt;&gt;&gt;Would you like change \n&gt;&gt;&gt;\n&gt;&gt;&gt;protected InputStream in = null;\n&gt;&gt;&gt;\n&gt;&gt;&gt;to public or add this method :\n&gt;&gt;&gt;\n&gt;&gt;&gt;public long getPoint() throws IOException{\n&gt;&gt;&gt;   \treturn ((Position)this.in).getFilePointer();\n&gt;&gt;&gt;   }\n&gt;&gt;&gt;\n&gt;&gt;&gt; \n&gt;&gt;&gt;\n&gt;&gt;&gt;      \n&gt;&gt;&gt;\n&gt;&gt;As Lars suggests in a later mail, you probably don&#39;t want to be reading\n&gt;&gt;raw offsets if the underlying stream is compressed.\n&gt;&gt;\n&gt;&gt;But if you&#39;re looking for a particular ARC record&#39;s offset, the\n&gt;&gt;information is made available to you as you read through the ARC with\n&gt;&gt;ARCReader whether the underlying stream is compressed or not. Have you\n&gt;&gt;studied ARCReader#main()? Below I reproduce the section I think you&#39;d be\n&gt;&gt;in interested in. Remarks follow the code.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;598                 ARCReader arc =\n&gt;&gt;599                     ARCReaderFactory.get(new File((String)i.next()));\n&gt;&gt;600                 for (Iterator ii = arc.iterator(); ii.hasNext();) {\n&gt;&gt;601                     ARCRecord r = (ARCRecord)ii.next();\n&gt;&gt;602                     ARCRecordMetaData meta = r.getMetaData();\n&gt;&gt;603                     System.out.println(meta.getUrl() + &quot; &quot; +\n&gt;&gt;604                         meta.getDate() + &quot; &quot; +\n&gt;&gt;605                         meta.getOffset() + &quot; &quot; +\n&gt;&gt;606                         meta.getLength() + &quot; &quot; +\n&gt;&gt;607                         meta.getMimetype() + &quot; &quot; +\n&gt;&gt;608                         meta.getIp() + &quot; &quot;);\n&gt;&gt;609                     r.close();\n&gt;&gt;610                     System.out.flush();\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;On line 598, we&#39;re asking the ARCReaderFactory to give us back an\n&gt;&gt;ARCReader instance. The factory takes care of returning an appropriate\n&gt;&gt;reader dependent upon whether the ARC is compressed or not.\n&gt;&gt;\n&gt;&gt;On line 600 we start up a for loop that gets an iterator out of the\n&gt;&gt;ARCReader.\n&gt;&gt;\n&gt;&gt;On line 601 we call iterator#next(). This returns an ARCRecord. See\n&gt;&gt;http://crawler.archive.org/xref/org/archive/io/arc/ARCRecord.html. An\n&gt;&gt;ARCRecord wraps an entry in the ARC file. Use its read methods to\n&gt;&gt;reading the record (Using the ARCReader&#39;s read methods directly, there\n&gt;&gt;is the danger you&#39;ll overrun the current record). The ARCRecord also has\n&gt;&gt;the ARCRecord&#39;s metadata. The metadata includes all entries from the\n&gt;&gt;line that begins an ARCRecord -- URI, mimetype, etc. -- and the\n&gt;&gt;ARCRecord offset (The offset returned is start of record. If original\n&gt;&gt;ARC was compressed, the offset returned is the offset at which the\n&gt;&gt;ARCRecord&#39;s gzip member begins).\n&gt;&gt;\n&gt;&gt;Line 603 is dumb printout our the metadata record.\n&gt;&gt;\n&gt;&gt;Elsewhere in ARCReader#main it shows how to pull an ARCRecord from an\n&gt;&gt;ARC file (whether its compressed or not).\n&gt;&gt;\n&gt;&gt;But filling a Lucene index, I&#39;d imagine, your loop would look much the\n&gt;&gt;one reproduced above except you&#39;d do things like interrogate the\n&gt;&gt;ARCRecord mimetype before you started reading to see which document\n&gt;&gt;strainer/filter -- PDF, MSWORD, HTML -- you need to give the ARCReader\n&gt;&gt;streams to for extract raw text.\n&gt;&gt;\n&gt;&gt;St.Ack\n&gt;&gt;\n&gt;&gt;P.S. On a seperate issue, you asked about hops-from-seeds setting a few\n&gt;&gt;days back. I still haven&#39;t gotten to an answer for you. There seems to\n&gt;&gt;be a bug therein. I need to look closer.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;    \n&gt;&gt;\n&gt;&gt;&gt;?\n&gt;&gt;&gt;\n&gt;&gt;&gt;ansi \n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; \n&gt;&gt;&gt;\n&gt;&gt;&gt;      \n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;.\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;  \n&gt;\n\n\n"}}