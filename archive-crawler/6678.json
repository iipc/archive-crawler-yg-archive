{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":163406187,"authorName":"kristsi25","from":"&quot;kristsi25&quot; &lt;kris@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"WY_CE-WfrWIBKIEmxOZrc2wMNrqciQFv1dmtz9tlGrFvg8tHFTDLX_vF7bpsIHPQVmuUSaZL2X1w0msitzujsKOosvFD","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: H3: Crawl progress halted, ConcurrantModificationException","postDate":"1281655572","msgId":6678,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGk0MXZ1ays2bTZqQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGk0MXNzOSs1b2MwQGVHcm91cHMuY29tPg=="},"prevInTopic":6676,"nextInTopic":6685,"prevInTime":6677,"nextInTime":6679,"topicId":6676,"numMessagesInTopic":5,"msgSnippet":"On further digging I ve concluded that the most likely culprit was a scheduled checkpoint. Seems like the threads are being stopped as the finish the fetch","rawEmail":"Return-Path: &lt;kris@...&gt;\r\nX-Sender: kris@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 22511 invoked from network); 12 Aug 2010 23:26:28 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m8.grp.sp2.yahoo.com with QMQP; 12 Aug 2010 23:26:28 -0000\r\nX-Received: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta3.grp.sp2.yahoo.com with SMTP; 12 Aug 2010 23:26:28 -0000\r\nX-Received: from [69.147.65.151] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 12 Aug 2010 23:26:13 -0000\r\nX-Received: from [98.137.34.36] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 12 Aug 2010 23:26:13 -0000\r\nDate: Thu, 12 Aug 2010 23:26:12 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;i41vuk+6m6j@...&gt;\r\nIn-Reply-To: &lt;i41ss9+5oc0@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;kristsi25&quot; &lt;kris@...&gt;\r\nSubject: Re: H3: Crawl progress halted, ConcurrantModificationException\r\nX-Yahoo-Group-Post: member; u=163406187; y=lXZyJ_SsBuCioV-8IcDhVsiyWCTWObLHH-uWNprGELaw7pc4\r\nX-Yahoo-Profile: kristsi25\r\n\r\nOn further digging I&#39;ve concluded that the most likely culprit was a schedu=\r\nled checkpoint. Seems like the threads are being stopped as the finish the =\r\nfetch chain (extractorSwf is at the end and my custom processor can trigger=\r\n the rest to be skipped) and the timing roughly fits.\n\nThe ConcurrantModifi=\r\ncationException is most likely unrelated.\n\nStill no idea as to WHY this occ=\r\nurred. \n\n- Kris\n\n--- In archive-crawler@yahoogroups.com, &quot;kristsi25&quot; &lt;kris@=\r\n...&gt; wrote:\n&gt;\n&gt; I observed the following exception in the job log about an =\r\nhour into a large crawl using Heritrix 3.0.0:\n&gt; \n&gt; ---\n&gt; \n&gt; 2010-08-12T10:0=\r\n5:44.300Z SEVERE Problem java.util.ConcurrentModificationException occured =\r\nwhen trying to process &#39;http://www.kerhraun.is/index.php?option=3Dcom_conte=\r\nnt&view=3Darticle&id=3D23:varnir-vie-innkeyrsluhlie&#39; at step ABOUT_TO_BEGIN=\r\n_PROCESSOR in \n&gt;  (in thread &#39;ToeThread #68: http://www.kerhraun.is/index.p=\r\nhp?option=3Dcom_content&view=3Darticle&id=3D23:varnir-vie-innkeyrsluhlie&#39;)\n=\r\n&gt; 2010-08-12T10:05:44.301Z SEVERE Problem java.util.ConcurrentModificationE=\r\nxception occured when trying to process &#39;http://www.heklaislandi.is/index.p=\r\nhp?option=3Dcom_ahsshop&vara=3D594&Itemid=3D34&#39; at step ABOUT_TO_BEGIN_PROC=\r\nESSOR in \n&gt;  (in thread &#39;ToeThread #18: http://www.heklaislandi.is/index.ph=\r\np?option=3Dcom_ahsshop&vara=3D594&Itemid=3D34&#39;)\n&gt; 2010-08-12T10:15:18.160Z =\r\nSEVERE Problem java.util.ConcurrentModificationException occured when tryin=\r\ng to process &#39;http://www.handtak.is/index.php?a=3Duview&user=3D106&brand=3D=\r\n&&#39; at step ABOUT_TO_BEGIN_PROCESSOR in \n&gt;  (in thread &#39;ToeThread #46: http:=\r\n//www.handtak.is/index.php?a=3Duview&user=3D106&brand=3D&&#39;)\n&gt; \n&gt; ---\n&gt; \n&gt; T=\r\nhis didn&#39;t seem to affect the crawl and I recalled seeing similar errors in=\r\n another crawl that still runs well. I therefor allowed the crawl to contin=\r\nue normally.\n&gt; \n&gt; About 10 hours later however this crawl more or less grou=\r\nnd to a halt. Of the 75 threads, only 2 were making progress with most of t=\r\nhe others waiting to begin the extractorSwf and 10 waiting to begin a custo=\r\nm processor. Those threads appear deadlocked. ToeThread report snippet foll=\r\nows:\n&gt; \n&gt; ---\n&gt; \n&gt; [ToeThread #1: http://hvuttaklubburinn.hugi.is/spjall/vi=\r\newtopic.php?p=3D13934\n&gt;  CrawlURI http://hvuttaklubburinn.hugi.is/spjall/vi=\r\newtopic.php?p=3D13934 LLELLXL http://hvuttaklubburinn.hugi.is/spjall/viewto=\r\npic.php?t=3D1617    0 attempts\n&gt;     in processor: extractorSwf\n&gt;     ACTIV=\r\nE for 1h27m29s413ms\n&gt;     step: ABOUT_TO_BEGIN_PROCESSOR for 1h27m29s296ms\n=\r\n&gt; Java Thread State: WAITING\n&gt; Blocked/Waiting On: NONE\n&gt;     sun.misc.Unsa=\r\nfe.park(Native Method)\n&gt;     java.util.concurrent.locks.LockSupport.park(Lo=\r\nckSupport.java:158)\n&gt;     java.util.concurrent.locks.AbstractQueuedSynchron=\r\nizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)\n&gt;     java.=\r\nutil.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQu=\r\neuedSynchronizer.java:941)\n&gt;     java.util.concurrent.locks.AbstractQueuedS=\r\nynchronizer.acquireShared(AbstractQueuedSynchronizer.java:1261)\n&gt;     java.=\r\nutil.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWri=\r\nteLock.java:594)\n&gt;     org.archive.modules.DispositionChain.process(Disposi=\r\ntionChain.java:54)\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThr=\r\nead.java:150)\n&gt; ]\n&gt; [ToeThread #2: http://www.byhistorie.dk/images/364_LU_h=\r\neader_lille.jpg\n&gt;  CrawlURI http://www.byhistorie.dk/images/364_LU_header_l=\r\nille.jpg LLRE http://www.byhistorie.dk/    0 attempts\n&gt;     in processor: d=\r\neduplicator\n&gt;     ACTIVE for 1h27m29s546ms\n&gt;     step: ABOUT_TO_BEGIN_PROCE=\r\nSSOR for 1h27m29s204ms\n&gt; Java Thread State: WAITING\n&gt; Blocked/Waiting On: N=\r\nONE\n&gt;     sun.misc.Unsafe.park(Native Method)\n&gt;     java.util.concurrent.lo=\r\ncks.LockSupport.park(LockSupport.java:158)\n&gt;     java.util.concurrent.locks=\r\n.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronize=\r\nr.java:811)\n&gt;     java.util.concurrent.locks.AbstractQueuedSynchronizer.doA=\r\ncquireShared(AbstractQueuedSynchronizer.java:941)\n&gt;     java.util.concurren=\r\nt.locks.AbstractQueuedSynchronizer.acquireShared(AbstractQueuedSynchronizer=\r\n.java:1261)\n&gt;     java.util.concurrent.locks.ReentrantReadWriteLock$ReadLoc=\r\nk.lock(ReentrantReadWriteLock.java:594)\n&gt;     org.archive.modules.Dispositi=\r\nonChain.process(DispositionChain.java:54)\n&gt;     org.archive.crawler.framewo=\r\nrk.ToeThread.run(ToeThread.java:150)\n&gt; \n&gt; ---\n&gt; \n&gt; These threads are repres=\r\nentative of all the halted threads.\n&gt; \n&gt; Adding additional threads caused m=\r\nost of them to enter the same state, even after I disabled the SWF extracto=\r\nr.\n&gt; \n&gt; Other logs do not appear to contain any pertinent information.\n&gt; \n&gt;=\r\n I doubt the crawl is recoverable but hints as to how this could be avoided=\r\n in future crawls would be most welcome.\n&gt; \n&gt; - Kris\n&gt;\n\n\n\n"}}