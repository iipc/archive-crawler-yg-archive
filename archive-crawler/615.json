{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":6903103,"authorName":"Tom Emerson","from":"Tom Emerson &lt;Tree@...&gt;","profile":"tree02139","replyTo":"LIST","senderId":"x_gBtxbNBLcdjSFkgml_TL4n_VbCfTBPGQFaToa4U7BNJGHed4CRtcNOUGerYa1hwhZYXnnArB91EETqK0f52FBwxn6qusE","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Hello. I&#39;m japanese Heritrix Tester.","postDate":"1089671052","msgId":615,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDE2NjI3LjM5ODAuODYwODM5LjM4NTYyMEB0aXBoYXJlcy5iYXNpc3RlY2gubmV0Pg==","inReplyToHeader":"PDQwRjJFNDk1LjMwMTAxMDVAYXJjaGl2ZS5vcmc+","referencesHeader":"PEUxQmp4bmotMDAwNFk4LTAwQHNjOC1zZi13ZWI0LnNvdXJjZWZvcmdlLm5ldD4JPDQwRjJFNDk1LjMwMTAxMDVAYXJjaGl2ZS5vcmc+"},"prevInTopic":611,"nextInTopic":616,"prevInTime":614,"nextInTime":616,"topicId":610,"numMessagesInTopic":10,"msgSnippet":"I ve been thinking about this some more (don t tell my boss!), and I think I understand what may be going on based on a reading of the code. Consider this","rawEmail":"Return-Path: &lt;Tree@...&gt;\r\nX-Sender: Tree@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 13361 invoked from network); 12 Jul 2004 22:24:19 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m22.grp.scd.yahoo.com with QMQP; 12 Jul 2004 22:24:19 -0000\r\nReceived: from unknown (HELO mailserver.basistech.com) (199.88.205.4)\n  by mta3.grp.scd.yahoo.com with SMTP; 12 Jul 2004 22:24:19 -0000\r\nReceived: from postfix.basistech.com ([10.1.3.65] RDNS failed) by mailserver.basistech.com with Microsoft SMTPSVC(6.0.3790.0);\n\t Mon, 12 Jul 2004 18:24:13 -0400\r\nReceived: by postfix.basistech.com (Postfix, from userid 5007)\n\tid EFE201801B5; Mon, 12 Jul 2004 18:24:12 -0400 (EDT)\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nMessage-ID: &lt;16627.3980.860839.385620@...&gt;\r\nDate: Mon, 12 Jul 2004 18:24:12 -0400\r\nTo: archive-crawler@yahoogroups.com\r\nCc: aredcomet &lt;aredcomet@...&gt;\r\nIn-Reply-To: &lt;40F2E495.3010105@...&gt;\r\nReferences: &lt;E1Bjxnj-0004Y8-00@...&gt;\n\t&lt;40F2E495.3010105@...&gt;\r\nX-Mailer: VM 7.18 under Emacs 21.2.1\r\nReturn-Path: tree@...\r\nX-OriginalArrivalTime: 12 Jul 2004 22:24:13.0223 (UTC) FILETIME=[F5BCEB70:01C4685E]\r\nX-eGroups-Remote-IP: 199.88.205.4\r\nFrom: Tom Emerson &lt;Tree@...&gt;\r\nReply-To: tree@...\r\nSubject: Re: [archive-crawler] Re: Hello. I&#39;m japanese Heritrix Tester.\r\nX-Yahoo-Group-Post: member; u=6903103\r\nX-Yahoo-Profile: tree02139\r\n\r\nI&#39;ve been thinking about this some more (don&#39;t tell my boss!), and\nI think I understand what may be going on based on a reading of the\ncode. Consider this scenario:\n\n1) You are crawling a Japanese(*) site.\n\n2) The pages are returned with &quot;Content-Type: text/html&quot;. Note that\n   no charset is specified in the HTTP response header.\n\n3) The pages display just fine in a Japanese(*) browser, but that is\n   to be expected because it has probably been configured to use a\n   Japanese encoding by default.\n\n(*) Japanese is used here, but the same is true for Chinese or Korean\nor pretty much any other multibyte language..\n\nHere&#39;s the problem:\n\nThe Content-Type does *not* specify the encoding (charset) of the\ncontent. This means that the call to getResponseCharSet() will return\nnull, and isMultibyteEncoding in ReplayCharSequenceFactory will return\nfalse. At this point no transcoding is done from the document\ncharacter set into Unicode (the JVM&#39;s character set) and it is\npossible that the Extractors will get confused, as described in the\nWiki. Consider:\n\n(0) tree% wget -S -O test.html http://jajatom.moo.jp/Top.html\n--18:14:36--  http://jajatom.moo.jp/Top.html\n           =&gt; `test.html&#39;\nResolving jajatom.moo.jp... done.\nConnecting to jajatom.moo.jp[202.3.141.232]:80... connected.\nHTTP request sent, awaiting response... \n 1 HTTP/1.1 200 OK\n 2 Date: Mon, 12 Jul 2004 22:14:37 GMT\n 3 Server: Apache/1.3.29 (Unix) PHP/4.2.4-dev\n 4 Last-Modified: Sun, 27 Jun 2004 04:38:00 GMT\n 5 ETag: &quot;116fb4-3498-40de4f28&quot;\n 6 Accept-Ranges: bytes\n 7 Content-Length: 13464\n 8 Keep-Alive: timeout=1, max=100\n 9 Connection: Keep-Alive\n10 Content-Type: text/html\n\n    0K .......... ...                                        100%   17.44 KB/s\n\n18:14:37 (19.34 KB/s) - `test.html&#39; saved [13464/13464]\n\nThe file has an http-equiv metatag in its header, however, that\nspecifies the charset:\n\n&lt;META Http-Equiv=&quot;Content-Type&quot; Content=&quot;text/html; charset=x-sjis&quot;&gt;\n\nIt does not look like the metatag is being processed, so the charset\nis never being set.\n\nIn this particular case even if the HTTP response header had included\nthe charset, the ReplayCharSequenceFactory would not identify it as\nmultibyte because &#39;x-sjis&#39; is not one of the recognized character\nsets.\n\nI can envison adding a parameter to the crawler that allows you to\ndefine the &quot;default&quot; character set used for pages that don&#39;t specify\nthem in their HTTP Content-Type response header. Lynx has an option\nfor this called -assume-charset.\n\nIdeally the ReplayCharSequenceFactory would look for the http-equiv\nand make its decision based on the data there. Even then it would be\nuseful to be able to specify the &#39;default&#39;.\n\nDoes any of this make sense?\n\n    -tree\n\n-- \nTom Emerson                                          Basis Technology Corp.\nSoftware Architect                                 http://www.basistech.com\n  &quot;Beware the lollipop of mediocrity: lick it once and you suck forever&quot;\n\n"}}