{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":409561932,"authorName":"mkhabsa","from":"&quot;mkhabsa&quot; &lt;mkhabsa@...&gt;","profile":"mkhabsa","replyTo":"LIST","senderId":"1TRWbPX0RULL5GYN7D4iFDpdTx1oEU4yEImLUydlrf-LnuZraQ5KmHCbJOBj97nlZJRxqAa5CyW4Beerv76c59M9DBg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: weird content-type in WARC","postDate":"1276792985","msgId":6579,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGh2ZGphcCtrYmp0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PFAtSVJDLUVYQkUwMW9sbVJCYVkwMDAwMDU3Y0BFWC5VQ09QLkVEVT4="},"prevInTopic":6222,"nextInTopic":6580,"prevInTime":6578,"nextInTime":6580,"topicId":6219,"numMessagesInTopic":8,"msgSnippet":"I m having the same problem here, though with Heritrix 1.14.4 after doing a shallow crawl. The crawl report shows more than 300 files with mime-type:","rawEmail":"Return-Path: &lt;mkhabsa@...&gt;\r\nX-Sender: mkhabsa@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 12554 invoked from network); 17 Jun 2010 16:43:31 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m11.grp.re1.yahoo.com with QMQP; 17 Jun 2010 16:43:31 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta1.grp.sp2.yahoo.com with SMTP; 17 Jun 2010 16:43:31 -0000\r\nX-Received: from [69.147.65.173] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 17 Jun 2010 16:43:05 -0000\r\nX-Received: from [98.137.34.35] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 17 Jun 2010 16:43:05 -0000\r\nDate: Thu, 17 Jun 2010 16:43:05 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;hvdjap+kbjt@...&gt;\r\nIn-Reply-To: &lt;P-IRC-EXBE01olmRBaY0000057c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;mkhabsa&quot; &lt;mkhabsa@...&gt;\r\nSubject: Re: weird content-type in WARC\r\nX-Yahoo-Group-Post: member; u=409561932; y=dRFW5t8m-OiYQ1r3yLKsQsH68ltDYE7aE5Yy6VWqZFn9TQ\r\nX-Yahoo-Profile: mkhabsa\r\n\r\nI&#39;m having the same problem here, though with Heritrix 1.14.4 after doing a=\r\n shallow crawl. The crawl report shows more than 300 files with mime-type: =\r\ntext/html. But processing the warc records is returning something like: &quot;ap=\r\nplication/http; msgtype=3Drequest&quot; for almost any URL even if it&#39;s text/htm=\r\nl.\nMy code is similar to Claudio&#39;s.\n\nAnybody with experience on parsing WAR=\r\nCRecords?\n\n--- In archive-crawler@yahoogroups.com, Erik Hetzner &lt;erik.hetzn=\r\ner@...&gt; wrote:\n&gt;\n&gt; At Mon, 14 Dec 2009 19:23:19 +0100,\n&gt; Claudio Martella w=\r\nrote:\n&gt; &gt; \n&gt; &gt; Hello,\n&gt; &gt; \n&gt; &gt; I&#39;ve warchived a site with heritrix 3.0. Now=\r\n, with my own java program\n&gt; &gt; i&#39;m trying to put the content into my solr i=\r\nndex server.\n&gt; &gt; \n&gt; &gt; The actual code prints unexpected (to me) results:\n&gt; =\r\n&gt; \n&gt; &gt; \n&gt; &gt; ArchiveReader r =3D WARCReaderFactory.get(arcFile);\n&gt; &gt; r.setDi=\r\ngest(true);\n&gt; &gt; for (ArchiveRecord rec : r) {\n&gt; &gt;                 if (rec !=\r\n=3D null) {\n&gt; &gt;                     ArchiveRecordHeader meta =3D rec.getHea=\r\nder();\n&gt; &gt;                     System.out.println(meta.getUrl() + &quot;: &quot;+\n&gt; &gt;=\r\n meta.getMimetype().trim());\n&gt; &gt;                     ...\n&gt; &gt; \n&gt; &gt; which pri=\r\nnts, i.e.:\n&gt; &gt; \n&gt; &gt; http://www.tis.bz.it/doc-bereiche/gz_doc/pic/gruenderun=\r\nt/gikispy.jpg:\n&gt; &gt; application/http; msgtype=3Dresponse\n&gt; &gt; http://www.tis.=\r\nbz.it/doc-bereiche/gz_doc/pic/gruenderunt/gikispy.jpg:\n&gt; &gt; application/http=\r\n; msgtype=3Drequest\n&gt; &gt; http://www.tis.bz.it/doc-bereiche/gz_doc/pic/gruend=\r\nerunt/gikispy.jpg:\n&gt; &gt; application/warc-fields\n&gt; &gt; \n&gt; &gt; which is weird as t=\r\nhe mime-type is application/http (what is it?) for a\n&gt; &gt; jpg, PLUS i have t=\r\nhree records for each URL.\n&gt; &gt; \n&gt; &gt; Any idea?\n&gt; \n&gt; Hi Claudio -\n&gt; \n&gt; See in=\r\nformation about the WARC specification [1] for why it contains 3\n&gt; records =\r\nfor each URL. Heritrix stores the complete HTTP request and\n&gt; response for =\r\neach URL fetched, plus additional information. Each is\n&gt; stored in a differ=\r\nent record.\n&gt; \n&gt; As for how to deal with these using ArchiveReader, I am no=\r\nt sure. I\n&gt; have only dealt with ARC files in Heritrix. If you simply want =\r\nto\n&gt; index the first step would be ignoring records with mimetype\n&gt; =E2=80=\r\n=9Capplication/http; msgtype=3Drequest=E2=80=9D and =E2=80=9Capplication/wa=\r\nrc-fields=E2=80=9D.\n&gt; After that you would need to parse the record.\n&gt; \n&gt; 1=\r\n. http://www.digitalpreservation.gov/formats/fdd/fdd000236.shtml\n&gt; \n&gt; best,=\r\n\n&gt; Erik Hetzner\n&gt; \n&gt; ;; Erik Hetzner, California Digital Library\n&gt; ;; gnupg=\r\n key id: 1024D/01DB07E3\n&gt;\n\n\n\n"}}