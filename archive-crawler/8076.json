{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":551250598,"authorName":"Adam Miller","from":"Adam Miller &lt;adam@...&gt;","replyTo":"LIST","senderId":"ogSixPAB6nuQsYvATO2jyGH2VaBaVTCHUm952M_ckia8SRquU9H3YnRTL6VUl24eTdNFymex0GUjiVIrBsmLWwqWrxKm","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Extractors communicating with CandidateChain processors...","postDate":"1368218801","msgId":8076,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZFOTQxNTM3LUQwMjktNEQzRC05NDU3LTYxQ0U0MEI4NjU0M0BhcmNoaXZlLm9yZz4=","inReplyToHeader":"PENBQS16NzBLV3Y5QjhfVWhrc0Q9RmdrV0N0WFlTVHpFRVpYWWpwY0hHOEozczUydFJjZ0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPiA8QjNGOEU4NUItODAxQy00MDVGLThBOTctQzVFMjdDMjk2OUMxQGFyY2hpdmUub3JnPiA8Q0FBLXo3MEtXdjlCOF9VaGtzRD1GZ2tXQ3RYWVNUekVFWlhZanBjSEc4SjNzNTJ0UmNnQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":8075,"nextInTopic":8079,"prevInTime":8075,"nextInTime":8077,"topicId":8073,"numMessagesInTopic":8,"msgSnippet":"That sounds very useful to me. It s better than abusing the context field for every possible case where someone would want to tag something onto a URI ~Adam ","rawEmail":"Return-Path: &lt;adam@...&gt;\r\nX-Sender: adam@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 68957 invoked by uid 102); 10 May 2013 20:46:47 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m6.grp.bf1.yahoo.com with SMTP; 10 May 2013 20:46:47 -0000\r\nX-Received: (qmail 22473 invoked from network); 10 May 2013 20:46:47 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 10 May 2013 20:46:47 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 8BB17684017B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 13:46:46 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id jhI2KZ1yEZhs for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri, 10 May 2013 13:46:39 -0700 (PDT)\r\nX-Received: from [192.168.2.132] (97-114-104-96.spkn.qwest.net [97.114.104.96])\n\tby mail.archive.org (Postfix) with ESMTPSA id DFC656840173\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 13:46:38 -0700 (PDT)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_976F43D4-7C8A-42CE-B06D-700B09D7B8BB&quot;\r\nMessage-Id: &lt;6E941537-D029-4D3D-9457-61CE40B86543@...&gt;\r\nMime-Version: 1.0 (Mac OS X Mail 6.3 &#92;(1503&#92;))\r\nDate: Fri, 10 May 2013 13:46:41 -0700\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt; &lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt; &lt;CAA-z70KWv9B8_UhksD=FgkWCtXYSTzEEZXYjpcHG8J3s52tRcg@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;CAA-z70KWv9B8_UhksD=FgkWCtXYSTzEEZXYjpcHG8J3s52tRcg@...&gt;\r\nX-Mailer: Apple Mail (2.1503)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Adam Miller &lt;adam@...&gt;\r\nSubject: Re: [archive-crawler] Extractors communicating with CandidateChain processors...\r\nX-Yahoo-Group-Post: member; u=551250598\r\n\r\n\r\n--Apple-Mail=_976F43D4-7C8A-42CE-B06D-700B09D7B8BB\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=windows-1252\r\n\r\nThat sounds very useful to me. It&#39;s better than abusing the context field f=\r\nor every possible case where someone would want to tag something onto a URI=\r\n\n\n~Adam\n\n\nOn May 10, 2013, at 12:27 PM, Noah Levitt &lt;nlevitt@...&gt; w=\r\nrote:\n\n&gt; \n&gt; It sounds like we have two use cases for adding a &quot;flexible dyn=\r\namic attributes list&quot; like CrawlURI.data to org.archive.modules.extractor.L=\r\nink\n&gt; . Would be very cheap for the common case where it&#39;s not used. Would =\r\nyou guys agree that that&#39;s the preferred solution?\n&gt; \n&gt; Noah\n&gt; \n&gt; \n&gt; On Fri=\r\n, May 10, 2013 at 11:25 AM, Adam Miller &lt;adam@...&gt; wrote:\n&gt; \n&gt; \n&gt; I=\r\n have used a custom ViaContext, to annotate a URL for later detection in th=\r\ne processor chain. This required creating a custom decide rule to check the=\r\n context.\n&gt; \n&gt; An example of this can be seen here:\n&gt; https://github.com/ad=\r\nam-miller/ExternalBrowserExtractorHTML\n&gt; \n&gt; Decide Rule: https://github.com=\r\n/adam-miller/ExternalBrowserExtractorHTML/blob/master/src/main/java/org/arc=\r\nhive/modules/deciderules/ViaContextMatchesRegexDecideRule.java\n&gt; \n&gt; An exam=\r\nple from ExternalBrowserExtractorHtml.java which gets &#39;processLink()&#39; from =\r\nExtractorHtml\n&gt; processLink(curi,json.getString(&quot;url&quot;),&quot;=3DBROWSER_MISC&quot;.to=\r\nString());\n&gt; \n&gt; \n&gt; ~Adam Miller\n&gt; \n&gt; On May 10, 2013, at 9:43 AM, Kristinn =\r\nSigur=F0sson &lt;kristinn@...&gt; wrote:\n&gt; \n&gt;&gt;  \n&gt;&gt; \n&gt;&gt; I have an ex=\r\ntractor that needs to be able to mark up extracted URLs so that a processor=\r\n in the candidates chain knows how to handle them. \n&gt;&gt; \n&gt;&gt; The only options=\r\n I see is to have the extractor create a CrawlURI itself and add it to the =\r\nOutCandidates list rather than OutLinks or write all the markup into the pa=\r\nrent curi&#39;s data map and retrieve it using the curi.getFullVia() once in th=\r\ne candidate chain. \n&gt;&gt; \n&gt;&gt; The latter option feels like a royal hack and th=\r\ne former also feels a bit iffy, so I&#39;m asking if there a recommended or est=\r\nablished way of doing this? \n&gt;&gt; \n&gt;&gt; Best, \n&gt;&gt; Kris \n&gt;&gt; \n&gt;&gt; ----------------=\r\n------------------------------------------ \n&gt;&gt; Landsb=F3kasafn =CDslands - =\r\nH=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Reykjav=EDk \n&gt;&gt; S=EDmi/Tel=\r\n: +354 5255600 | www.landsbokasafn.is \n&gt;&gt; ---------------------------------=\r\n------------------------- \n&gt;&gt; fyrirvari/disclaimer - http://fyrirvari.lands=\r\nbokasafn.is \n&gt;&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n\r\n--Apple-Mail=_976F43D4-7C8A-42CE-B06D-700B09D7B8BB\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=windows-1252\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=3D&quot;Content-Type&quot; content=3D&quot;text/html charset=\r\n=3Dwindows-1252&quot;&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-=\r\nmode: space; -webkit-line-break: after-white-space; &quot;&gt;That sounds very usef=\r\nul to me. It&#39;s better than abusing the context field for every possible cas=\r\ne where someone would want to tag something onto a URI&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;~=\r\nAdam&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On May 10, 2013, at 12:27 PM, Noa=\r\nh Levitt &lt;&lt;a href=3D&quot;mailto:nlevitt@...&quot;&gt;nlevitt@...&lt;/a&gt;=\r\n&gt; wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote type=\r\n=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color: #fff;&quot;&gt;\n&lt;span style=\r\n=3D&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div id=3D&quot;ygrp-text&quot;&gt;&lt;div&gt;&lt;br class=\r\n=3D&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div dir=3D&quot;ltr&quot;&gt;It sounds like we have=\r\n two use cases for adding a &quot;flexible dynamic attributes list&quot; like CrawlUR=\r\nI.data to org.archive.modules.extractor.Link&lt;div style=3D&quot;font-family:arial=\r\n,helvetica,sans-serif;&quot; class=3D&quot;gmail_default&quot;&gt;\n. Would be very cheap for =\r\nthe common case where it&#39;s not used. Would you guys agree that that&#39;s the p=\r\nreferred solution?&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;arial, helvetica, sans-serif&quot;&gt;&lt;b=\r\nr&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;arial, helvetica, sans-serif&quot;&gt;&lt;div style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif;&quot; class=3D&quot;gmail_default&quot;&gt;\nNoah&lt;=\r\n/div&gt;&lt;br&gt;&lt;/font&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;O=\r\nn Fri, May 10, 2013 at 11:25 AM, Adam Miller &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=\r\n=3D&quot;mailto:adam@...&quot; target=3D&quot;_blank&quot;&gt;adam@...&lt;/a&gt;&gt;&lt;/sp=\r\nan&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left:1px #=\r\nccc solid;&quot;&gt;\n\n\n\n\n\n\n        \n&lt;div&gt;\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div&gt;I have used a custo=\r\nm ViaContext, to annotate a URL for later detection in the processor chain.=\r\n This required creating a custom decide rule to check the context.&lt;/div&gt;&lt;di=\r\nv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;An example of this can be seen here:&lt;/div&gt;\n&lt;div&gt;&lt;a href=3D=\r\n&quot;https://github.com/adam-miller/ExternalBrowserExtractorHTML&quot; target=3D&quot;_bl=\r\nank&quot;&gt;https://github.com/adam-miller/ExternalBrowserExtractorHTML&lt;/a&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Decide Rule:&nbsp;&lt;a href=3D&quot;https://github.com/adam-mil=\r\nler/ExternalBrowserExtractorHTML/blob/master/src/main/java/org/archive/modu=\r\nles/deciderules/ViaContextMatchesRegexDecideRule.java&quot; target=3D&quot;_blank&quot;&gt;ht=\r\ntps://github.com/adam-miller/ExternalBrowserExtractorHTML/blob/master/src/m=\r\nain/java/org/archive/modules/deciderules/ViaContextMatchesRegexDecideRule.j=\r\nava&lt;/a&gt;&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;An example from ExternalBrowserExtractorH=\r\ntml.java which gets &#39;processLink()&#39; from ExtractorHtml&lt;/div&gt;&lt;div&gt;&lt;span styl=\r\ne=3D&quot;color:rgb(153,0,0);font-size:12px;white-space:pre-wrap;font-family:Con=\r\nsolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;&gt;processLink&lt;/s=\r\npan&gt;&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;=\r\nfont-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;=\r\n&gt;(&lt;/span&gt;&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-=\r\nwrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;curi&lt;/span&gt;=\r\n&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;font=\r\n-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;&gt;,&lt;/=\r\nspan&gt;&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap=\r\n;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;json&lt;/span&gt;&lt;spa=\r\nn style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;font-fam=\r\nily:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;&gt;.&lt;/span=\r\n&gt;&lt;span style=3D&quot;color:rgb(0,128,128);font-size:12px;white-space:pre-wrap;fo=\r\nnt-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;getString&lt;/span&gt;&lt;s=\r\npan style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;font-f=\r\namily:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;&gt;(&lt;/sp=\r\nan&gt;&lt;span style=3D&quot;color:rgb(221,17,68);font-size:12px;white-space:pre-wrap;=\r\nfont-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;spa=\r\nn style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;font-fam=\r\nily:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bold;&quot;&gt;),&lt;/spa=\r\nn&gt;&lt;span style=3D&quot;color:rgb(221,17,68);font-size:12px;white-space:pre-wrap;f=\r\nont-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;&quot;=3DBROWSER_MISC&quot;=\r\n&lt;/span&gt;&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-wr=\r\nap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bol=\r\nd;&quot;&gt;.&lt;/span&gt;&lt;span style=3D&quot;color:rgb(0,128,128);font-size:12px;white-space:=\r\npre-wrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;&quot;&gt;toStrin=\r\ng&lt;/span&gt;&lt;span style=3D&quot;color:rgb(51,51,51);font-size:12px;white-space:pre-w=\r\nrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;font-weight:bo=\r\nld;&quot;&gt;());&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;\n&lt;div&gt;~Adam Mille=\r\nr&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div class=3D&quot;im&quot;&gt;&lt;div&gt;On May 10, 2013, at 9:43 AM=\r\n, Kristinn Sigur=F0sson &lt;&lt;a href=3D&quot;mailto:kristinn@...&quot; ta=\r\nrget=3D&quot;_blank&quot;&gt;kristinn@...&lt;/a&gt;&gt; wrote:&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;bl=\r\nockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div=\r\n&gt;&lt;div&gt;&lt;br class=3D&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div class=3D&quot;im&quot;&gt;I have=\r\n an extractor that needs to be able to mark up extracted URLs so that a pro=\r\ncessor in the candidates chain knows how to handle them.\n&lt;br&gt;\n\n&lt;br&gt;\nThe onl=\r\ny options I see is to have the extractor create a CrawlURI itself and add i=\r\nt to the OutCandidates list rather than OutLinks or write all the markup in=\r\nto the parent curi&#39;s data map and retrieve it using the curi.getFullVia() o=\r\nnce in the candidate chain.\n&lt;br&gt;\n\n&lt;br&gt;\nThe latter option feels like a royal=\r\n hack and the former also feels a bit iffy, so I&#39;m asking if there a recomm=\r\nended or established way of doing this?\n&lt;br&gt;\n\n&lt;br&gt;\nBest,\n&lt;br&gt;\nKris\n&lt;br&gt;\n\n&lt;b=\r\nr&gt;\n----------------------------------------------------------\n&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv class=3D&quot;im&quot;&gt;\nLandsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=\r\n=EDmsg=F6tu 3 - 107 Reykjav=EDk\n&lt;br&gt;\nS=EDmi/Tel: &lt;a href=3D&quot;tel:%2B354%2052=\r\n55600&quot; value=3D&quot;+3545255600&quot; target=3D&quot;_blank&quot;&gt;+354 5255600&lt;/a&gt; | &lt;a href=\r\n=3D&quot;http://www.landsbokasafn.is/&quot; target=3D&quot;_blank&quot;&gt;www.landsbokasafn.is&lt;/a=\r\n&gt;\n&lt;br&gt;\n----------------------------------------------------------\n&lt;br&gt;&lt;/div=\r\n&gt;\nfyrirvari/disclaimer - &lt;a href=3D&quot;http://fyrirvari.landsbokasafn.is/&quot; tar=\r\nget=3D&quot;_blank&quot;&gt;http://fyrirvari.landsbokasafn.is&lt;/a&gt;\n&lt;br&gt;&lt;div&gt;&lt;br class=3D&quot;=\r\nwebkit-block-placeholder&quot;&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n\n\n&lt;/blo=\r\nckquote&gt;&lt;/div&gt;&lt;br&gt;\n\n\n\n\n\n&lt;br&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;=\r\ncolor:white;&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b=\r\nr class=3D&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;=\r\n\n\n\n\n&lt;!-- end group email --&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/h=\r\ntml&gt;\r\n--Apple-Mail=_976F43D4-7C8A-42CE-B06D-700B09D7B8BB--\r\n\n"}}