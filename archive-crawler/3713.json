{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"-7ijMKpg6jZbgbWFkp8dM9XXfjxztmpBLCDx7bEkqnIFIu2VhCf4-qx-lpWIUv8ZYk36bQwEmCMnlP-sB4pIEyzmfNkbYbdK","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] Re: HDFSWriterProcessor","postDate":"1168910602","msgId":3713,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1QUMyOTBBLjQwNTAzMDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVvaDRtOCtzdW9zQGVHcm91cHMuY29tPg==","referencesHeader":"PGVvaDRtOCtzdW9zQGVHcm91cHMuY29tPg=="},"prevInTopic":3712,"nextInTopic":3716,"prevInTime":3712,"nextInTime":3714,"topicId":3701,"numMessagesInTopic":5,"msgSnippet":"... Use the constructor on line 64: http://crawler.archive.org/xref/org/archive/crawler/settings/SimpleType.html#64. It takes a name, description, default, and","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 74729 invoked from network); 16 Jan 2007 01:46:26 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m36.grp.scd.yahoo.com with QMQP; 16 Jan 2007 01:46:26 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.117)\n  by mta9.grp.scd.yahoo.com with SMTP; 16 Jan 2007 01:46:25 -0000\r\nReceived: by dns.duboce.net (Postfix, from userid 1008)\n\tid 4BA83C51D; Mon, 15 Jan 2007 16:00:26 -0800 (PST)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on dns.duboce.net\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-3.0 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00,\n\tHTML_MESSAGE,HTML_TINY_FONT,HTML_TITLE_EMPTY autolearn=ham \n\tversion=3.1.4\r\nReceived: from [192.168.1.107] (debord.duboce.net [192.168.1.107])\n\tby dns.duboce.net (Postfix) with ESMTP id 495B9C256;\n\tMon, 15 Jan 2007 16:00:19 -0800 (PST)\r\nMessage-ID: &lt;45AC290A.4050303@...&gt;\r\nDate: Mon, 15 Jan 2007 17:23:22 -0800\r\nUser-Agent: Thunderbird 1.5.0.8 (X11/20061115)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;eoh4m8+suos@...&gt;\r\nIn-Reply-To: &lt;eoh4m8+suos@...&gt;\r\nContent-Type: multipart/alternative;\n boundary=&quot;------------010408080800090305010308&quot;\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: HDFSWriterProcessor\r\nX-Yahoo-Group-Post: member; u=168599281; y=g8f_oefhrzyjSFpx6Nx-6QbmldBdodQ3KGcjqxadOPNEFzHBY4B7qzsI\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\n\r\n--------------010408080800090305010308\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nnuggetwheat wrote:\n&gt;\n&gt; Hi Stack,\n&gt;\n&gt; I&#39;m glad you&#39;re interested. I haven&#39;t done any serious crawling with\n&gt; it, only test crawls, but so far so good. And yes, this should allow\n&gt; Heritrix to sit on top of S3. I&#39;ll go ahead and add an RFE over on\n&gt; sourceforge. In the meantime, I have a couple of small questions that\n&gt; would best be answered by someone more familiar with the Heritrix\n&gt; source code. They are:\n&gt;\n&gt; 1. I&#39;d like to add a drop-down menu on the Settings page for\n&gt; Compression type. The mutually exclusive options are DEFAULT, NONE,\n&gt; RECORD, and BLOCK. I don&#39;t know how to get Heritrix to do this. When\n&gt; I add the option as follows ...\n&gt;\n&gt; String [] values = { &quot;DEFAULT&quot;, &quot;NONE&quot;, &quot;BLOCK&quot;, &quot;RECORD&quot; }\n&gt;\n&gt; e = addElementToDefinition(new SimpleType(ATTR_HDFS_COMPRESSION_TYPE,\n&gt; &quot;Compression type to use for HDFS SequenceFiles. &quot; +\n&gt; &quot;Valid values are: DEFAULT, BLOCK, RECORD, NONE.&quot;,\n&gt; values));\n&gt;\n&gt; The Settings page comes up with some sort of object encoding string\n&gt; (something like values@231a). How can I do this?\n&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nUse the constructor on line 64: \nhttp://crawler.archive.org/xref/org/archive/crawler/settings/SimpleType.html#64.  \nIt takes a name, description, default, and list of values.\n\n\n&gt;\n&gt; 2. I had to modify the file io/WriterPoolSettings.java to include the\n&gt; following new interface methods:\n&gt;\n&gt; public String getJobDir();\n&gt; public String getHdfsBaseDir();\n&gt; public String getHdfsCompressionType();\n&gt; public int getHdfsReplication();\n&gt;\n&gt; This seemed a little ugly. Is there a better way to pass this\n&gt; settings information down into the HDFSWriterPool ?\n&gt;\n\n\n\n\n\n\n\n\n\n\nWould be sweet if you didn&#39;t have to modify WriterPoolSettings.  Here is \none suggestion: What if you subclassed the WPS interface to add the \nabove?  Inside in you PoolMember you can cast the passed WPS to your \nHDFSWPS interface?\n\nSt.Ack\n\n\n\n\n&gt;\n&gt; - Doug\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Michael Stack &lt;stack@...&gt; \n&gt; wrote:\n&gt; &gt;\n&gt; &gt; Excellent! I&#39;d suggest opening an RFE over on sourceforge and add what\n&gt; &gt; you have there as a patch. Then lets chat more. It might make sense\n&gt; &gt; packaging the addition as an add-on jar that people can optionally add\n&gt; &gt; to their Heritrix download. It would also be interesting to hear some\n&gt; &gt; of your experiences/observations crawling to HDFS if you don&#39;t mind\n&gt; (I&#39;m\n&gt; &gt; guessing to that with your patch, we should be able to use the HDFS S3\n&gt; &gt; filesystem implementation just by making a minor change in the\n&gt; &gt; configuration).\n&gt; &gt;\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; nuggetwheat wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hello,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;m just getting started working with Heritrix. I&#39;ve implemented a\n&gt; &gt; &gt; Writer processor called HDFSWriterProcessor to write content directly\n&gt; &gt; &gt; into the Hadoop Distributed Filesystem. For those of you not familiar\n&gt; &gt; &gt; with Hadoop, it is an open source implementation of the Google File\n&gt; &gt; &gt; System and Map/Reduce system. It stores files by breaking them into\n&gt; &gt; &gt; chunks and distributing n replicas of each chunk across different\n&gt; &gt; &gt; nodes. It allows you to do high-speed distributed processing of your\n&gt; &gt; &gt; crawled data reliably, using a large cluster of machines.\n&gt; &gt; &gt;\n&gt; &gt; &gt; The code is mostly isolated to new source files, but I had to make a\n&gt; &gt; &gt; couple of small changes to some of the existing interfaces. If there\n&gt; &gt; &gt; is any interest, I&#39;m willing to offer it to the project.\n&gt; &gt; &gt;\n&gt; &gt; &gt; - Doug Judd\n&gt; &gt; &gt; www.zvents.com\n&gt; &gt; &gt; doug@... &lt;mailto:doug%40zvents.com&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  \n\n\r\n--------------010408080800090305010308\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\n\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;\n  &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;\nnuggetwheat wrote:\n&lt;blockquote cite=&quot;mideoh4m8+suos@...&quot; type=&quot;cite&quot;&gt;&lt;!-- Network content --&gt;\n\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;Hi Stack,&lt;br&gt;\n  &lt;br&gt;\nI&#39;m glad you&#39;re interested. I haven&#39;t done any serious crawling with&lt;br&gt;\nit, only test crawls, but so far so good. And yes, this should allow&lt;br&gt;\nHeritrix to sit on top of S3. I&#39;ll go ahead and add an RFE over on&lt;br&gt;\nsourceforge. In the meantime, I have a couple of small questions that&lt;br&gt;\nwould best be answered by someone more familiar with the Heritrix&lt;br&gt;\nsource code. They are:&lt;br&gt;\n  &lt;br&gt;\n1. I&#39;d like to add a drop-down menu on the Settings page for&lt;br&gt;\nCompression type. The mutually exclusive options are DEFAULT, NONE,&lt;br&gt;\nRECORD, and BLOCK. I don&#39;t know how to get Heritrix to do this. When&lt;br&gt;\nI add the option as follows ...&lt;br&gt;\n  &lt;br&gt;\nString [] values = { &quot;DEFAULT&quot;, &quot;NONE&quot;, &quot;BLOCK&quot;, &quot;RECORD&quot; }&lt;br&gt;\n  &lt;br&gt;\ne = addElementToDefinit&lt;wbr&gt;ion(new SimpleType(ATTR_&lt;wbr&gt;HDFS_COMPRESSION&lt;wbr&gt;_TYPE,&lt;br&gt;\n&quot;Compression type to use for HDFS SequenceFiles. &quot; +&lt;br&gt;\n&quot;Valid values are: DEFAULT, BLOCK, RECORD, NONE.&quot;, &lt;br&gt;\nvalues));&lt;br&gt;\n  &lt;br&gt;\nThe Settings page comes up with some sort of object encoding string&lt;br&gt;\n(something like values@231a)&lt;wbr&gt;. How can I do this?&lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nUse the constructor on line 64:\n&lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;http://crawler.archive.org/xref/org/archive/crawler/settings/SimpleType.html#64&quot;&gt;http://crawler.archive.org/xref/org/archive/crawler/settings/SimpleType.html#64&lt;/a&gt;.&nbsp;\nIt takes a name, description, default, and list of values.&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;blockquote cite=&quot;mideoh4m8+suos@...&quot; type=&quot;cite&quot;&gt;\n  &lt;div id=&quot;ygrp-mlmsg&quot; style=&quot;width: 655px; position: relative;&quot;&gt;\n  &lt;div id=&quot;ygrp-msg&quot;\n style=&quot;padding: 0pt 15px 0pt 0pt; width: 490px; float: left; z-index: 1;&quot;&gt;\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;&lt;br&gt;\n2. I had to modify the file io/WriterPoolSettin&lt;wbr&gt;gs.java to include\nthe&lt;br&gt;\nfollowing new interface methods:&lt;br&gt;\n  &lt;br&gt;\npublic String getJobDir();&lt;br&gt;\npublic String getHdfsBaseDir(&lt;wbr&gt;);&lt;br&gt;\npublic String getHdfsCompressionT&lt;wbr&gt;ype();&lt;br&gt;\npublic int getHdfsReplication(&lt;wbr&gt;);&lt;br&gt;\n  &lt;br&gt;\nThis seemed a little ugly. Is there a better way to pass this&lt;br&gt;\nsettings information down into the HDFSWriterPool ?&lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nWould be sweet if you didn&#39;t have to modify WriterPoolSettings.&nbsp; Here\nis one suggestion: What if you subclassed the WPS interface to add the\nabove?&nbsp; Inside in you PoolMember you can cast the passed WPS to your\nHDFSWPS interface?&lt;br&gt;\n&lt;br&gt;\nSt.Ack&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;blockquote cite=&quot;mideoh4m8+suos@...&quot; type=&quot;cite&quot;&gt;\n  &lt;div id=&quot;ygrp-mlmsg&quot; style=&quot;width: 655px; position: relative;&quot;&gt;\n  &lt;div id=&quot;ygrp-msg&quot;\n style=&quot;padding: 0pt 15px 0pt 0pt; width: 490px; float: left; z-index: 1;&quot;&gt;\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;&lt;br&gt;\n- Doug&lt;br&gt;\n  &lt;br&gt;\n--- In &lt;a href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@&lt;wbr&gt;yahoogroups.&lt;wbr&gt;com&lt;/a&gt;,\nMichael Stack &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:stack@...&quot;&gt;&lt;stack@...&gt;&lt;/a&gt; wrote:&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Excellent! I&#39;d suggest opening an RFE over on sourceforge and add\nwhat &lt;br&gt;\n&gt; you have there as a patch. Then lets chat more. It might make\nsense &lt;br&gt;\n&gt; packaging the addition as an add-on jar that people can optionally\nadd &lt;br&gt;\n&gt; to their Heritrix download. It would also be interesting to hear\nsome &lt;br&gt;\n&gt; of your experiences/&lt;wbr&gt;observations crawling to HDFS if you\ndon&#39;t mind&lt;br&gt;\n(I&#39;m &lt;br&gt;\n&gt; guessing to that with your patch, we should be able to use the\nHDFS S3 &lt;br&gt;\n&gt; filesystem implementation just by making a minor change in the &lt;br&gt;\n&gt; configuration)&lt;wbr&gt;.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; St.Ack&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; nuggetwheat wrote:&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Hello,&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; I&#39;m just getting started working with Heritrix. I&#39;ve\nimplemented a&lt;br&gt;\n&gt; &gt; Writer processor called HDFSWriterProcessor to write content\ndirectly&lt;br&gt;\n&gt; &gt; into the Hadoop Distributed Filesystem. For those of you not\nfamiliar&lt;br&gt;\n&gt; &gt; with Hadoop, it is an open source implementation of the\nGoogle File&lt;br&gt;\n&gt; &gt; System and Map/Reduce system. It stores files by breaking\nthem into&lt;br&gt;\n&gt; &gt; chunks and distributing n replicas of each chunk across\ndifferent&lt;br&gt;\n&gt; &gt; nodes. It allows you to do high-speed distributed processing\nof your&lt;br&gt;\n&gt; &gt; crawled data reliably, using a large cluster of machines.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; The code is mostly isolated to new source files, but I had to\nmake a&lt;br&gt;\n&gt; &gt; couple of small changes to some of the existing interfaces.\nIf there&lt;br&gt;\n&gt; &gt; is any interest, I&#39;m willing to offer it to the project.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; - Doug Judd&lt;br&gt;\n&gt; &gt; &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;http://www.zvents.com&quot;&gt;www.zvents.com&lt;/a&gt;&lt;br&gt;\n&gt; &gt; doug@... &lt;&lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;mailto:doug%&quot;&gt;mailto:doug%&lt;/a&gt;&lt;wbr&gt;40zvents.&lt;wbr&gt;com&gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt;&lt;br&gt;\n  &lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n\n&lt;!--End group email --&gt;&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------010408080800090305010308--\r\n\n"}}