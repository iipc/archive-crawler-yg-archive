{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"5oJlfLDfADOoPI3FFhyoeoydZ5uCzx5115iZALpu8beapm-jQ4aYLFBU-5sPW3UoSZIT8WD0NbcJe82uG7fAuCB40H06_wmJ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Help on Site + 1 crawl","postDate":"1112133741","msgId":1703,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyNDlEMDZELjgwNzAxMDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGQyNWFkNytob2VsQGVHcm91cHMuY29tPg==","referencesHeader":"PGQyNWFkNytob2VsQGVHcm91cHMuY29tPg=="},"prevInTopic":1694,"nextInTopic":1704,"prevInTime":1702,"nextInTime":1704,"topicId":1694,"numMessagesInTopic":10,"msgSnippet":"Hi Jay, We could not figure out any combination of existing scopes and filters that will accomplish this. Therefore, you will need to write a new scope for","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 84901 invoked from network); 29 Mar 2005 22:07:30 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m27.grp.scd.yahoo.com with QMQP; 29 Mar 2005 22:07:30 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta2.grp.scd.yahoo.com with SMTP; 29 Mar 2005 22:07:30 -0000\r\nReceived: (qmail 9258 invoked by uid 100); 29 Mar 2005 22:06:36 -0000\r\nReceived: from pauk.archive.org (HELO ?207.241.238.153?) (igor@...@207.241.238.153)\n  by mail-dev.archive.org with SMTP; 29 Mar 2005 22:06:36 -0000\r\nMessage-ID: &lt;4249D06D.8070102@...&gt;\r\nDate: Tue, 29 Mar 2005 14:02:21 -0800\r\nUser-Agent: Mozilla Thunderbird 0.7.3 (Windows/20040803)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;d25ad7+hoel@...&gt;\r\nIn-Reply-To: &lt;d25ad7+hoel@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.2 required=6.0 tests=AWL autolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] Help on Site + 1 crawl\r\nX-Yahoo-Group-Post: member; u=137477665\r\nX-Yahoo-Profile: iranitovic\r\n\r\nHi Jay,\n\nWe could not figure out any combination of existing scopes and filters that will accomplish this. \nTherefore, you will need to write a new scope for this purpose.\nThe idea is to accept all URIs that fall into one of these two categories:\n\t- URI in the scope (domain, host, and etc.)\n         - URI not in the scope but URI&#39;s via in the scope\n\nThis should allow you +1 hop crawling and should not be hard to implement.\nMaybe something like this (host scope +1 hop away):\n\npublic class HostPlusOneScope extends HostScope {\n     public HostPlusOneScope(String name) {\n         super(name);\n         setDescription(&quot;HostPlusOne&quot;);\n     }\n\n     protected boolean focusAccepts(Object o) {\n         UURI u = getUURI(o);\n         if (u == null) {\n             return false;\n         }\n\n         Iterator iter = seedsIterator();\n         while(iter.hasNext()) {\n             // Check if in host scope\n             if (isSameHost((UURI)iter.next(), u)){\n                     return true;\n             }\n             // URI not in host scope, check via URI\n             UURI via = getVia(o);\n             if (via != null && isSameHost(((UURI)iter.next()), via)){\n                 return true;\n             }\n         }\n         return false;\n     }\n\n     private UURI getVia(Object o){\n         if (o instanceof CandidateURI) {\n             return ((CandidateURI) o).getVia();\n         }\n         return null;\n     }\n}\n\nIf you want to write a scope that will do +N hops away, then it will be a bit more complicated since \nyou will need extra tracking of not-in-scope URIs.\n\nLet us if we can help more.\ni.\n\nP.S.\n1. LowercaseRule changes the entire URI string to lowercase.\n2. max-refferal-hops limits crawling of redirects that are out of scope.\n\n\n&gt; Thanks for wonderful crawler.  I am trying to figure out the way to\n&gt; crawl the website (domain scope) + 1 external hop, not only the\n&gt; embedded image, also the html links.\n&gt; \n&gt; I have been messing with SurtScope, surtfilter + pathdepth filter on\n&gt; prefetch processor with broad scope.  Not much luck, ends up crawling\n&gt; everything until max-link-hop reach.\n&gt; \n&gt; I read through on the wiki about NewScopingModel and problems with\n&gt; current scope.\n&gt; \n&gt; Any pointer or direction would be really appreciated.  \n&gt; \n&gt; on the side note, here are some question I couldn&#39;t find the answer for\n&gt; 1. Does the LowercaseRule change lower case only to the domain portion\n&gt; of the url or the whole string ??\n&gt; 2. What is the  max-referral-hops for under the transitiveFilter ??\n&gt; \n&gt; Thanks again,\n&gt; Jay\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n"}}