{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":186390362,"authorName":"kristsi25","from":"&quot;kristsi25&quot; &lt;kristsi@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"1UIPQBi-v6d1E-A1JP_DtH0c9SkwT3SlnuhHrj5Oxozj_TC_ye8bAFfLPWcJJIV-AsuQUG3OLv6jvXDjQpKCsWTG0QU5uA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: NotExceedsDocumentLengthTresholdDecideRule","postDate":"1291208627","msgId":6842,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGlkNWgzait1YnEwQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRDRjYyMzM0LjUwMDA2QGJpYmFsZXgub3JnPg=="},"prevInTopic":6841,"nextInTopic":6845,"prevInTime":6841,"nextInTime":6843,"topicId":6841,"numMessagesInTopic":9,"msgSnippet":"The NotExceedsDocumentLengthTresholdDecideRule can not be used in the scope rules as you have configured. Scope rules are applied prior to any network activity","rawEmail":"Return-Path: &lt;kristsi@...&gt;\r\nX-Sender: kristsi@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 78805 invoked from network); 1 Dec 2010 13:03:50 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m11.grp.re1.yahoo.com with QMQP; 1 Dec 2010 13:03:50 -0000\r\nX-Received: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta3.grp.re1.yahoo.com with SMTP; 1 Dec 2010 13:03:49 -0000\r\nX-Received: from [69.147.65.151] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 01 Dec 2010 13:03:48 -0000\r\nX-Received: from [98.137.34.34] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 01 Dec 2010 13:03:48 -0000\r\nDate: Wed, 01 Dec 2010 13:03:47 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;id5h3j+ubq0@...&gt;\r\nIn-Reply-To: &lt;4CF62334.50006@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;kristsi25&quot; &lt;kristsi@...&gt;\r\nSubject: Re: NotExceedsDocumentLengthTresholdDecideRule\r\nX-Yahoo-Group-Post: member; u=186390362; y=v1S2LluDSfObyeeG1eMN6drHZnxnzwdxorr4NnW5rjZWPz77\r\nX-Yahoo-Profile: kristsi25\r\n\r\n\n\n\nThe NotExceedsDocumentLengthTresholdDecideRule can not be used in the sc=\r\nope rules as you have configured. Scope rules are applied prior to any netw=\r\nork activity and the size of the document is unknown at that time. Only rul=\r\nes relating to the actual URL itself can be applied in scope rules.\n\nThe No=\r\ntExceedsDocumentLengthTresholdDecideRule should be used to influence the be=\r\nhavior of processors. For each processor it is possible to set a shouldProc=\r\nessDecideRule attribute. If you merely wish to avoid storing such long file=\r\ns, you could apply the filter to the (W)ARCWriterProcessor.\n\nIf you wish to=\r\n avoid downloading large files, you will need to apply the setShouldFetchBo=\r\ndyRule to the FetchHTTP processor and make sure your NotExceedsDocumentLeng=\r\nthTresholdDecideRule is set to use header length. This will cause the Fetch=\r\nHTTP processor to run the decide rule after fetching the HTTP header (which=\r\n hopefully contains an accurate content-length value) and will not download=\r\n the actual file if it is too large.\n\n- Kris\n\n\n--- In archive-crawler@yahoo=\r\ngroups.com, Mohamed Elsayed &lt;mohammed.elsayyed@...&gt; wrote:\n&gt;\n&gt; I am sorry, =\r\nbut I would like to use \n&gt; NotExceedsDocumentLengthTresholdDecideRule to re=\r\nject any document \n&gt; exceeds a specific length, but it doesn&#39;t work with me=\r\n. As I set the \n&gt; property &quot;contentLengthThreshold&quot; to be 1000 (1MB). I hav=\r\ne a web server \n&gt; containing a 50-MB file, 10-MB file and 4-KB file. After =\r\nrunning \n&gt; Heritrix-3.1.1-SNAPSHOT, then it got all of them. The following =\r\nis a \n&gt; part of crawler-beans.cxml:\n&gt; \n&gt; &lt;bean id=3D&quot;scope&quot; class=3D&quot;org.ar=\r\nchive.modules.deciderules.DecideRuleSequence&quot;&gt;\n&gt; \n&gt;    &lt;property name=3D&quot;ru=\r\nles&quot;&gt;\n&gt; \n&gt;     &lt;list&gt;\n&gt; \n&gt;      &lt;!-- Begin by REJECTing all... --&gt;\n&gt; \n&gt;    =\r\n  &lt;bean class=3D&quot;org.archive.modules.deciderules.RejectDecideRule&quot;&gt;\n&gt; \n&gt;   =\r\n   &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...but REJECT those more than a configured link-h=\r\nop-count from start... --&gt;\n&gt; \n&gt;      &lt;bean class=3D&quot;org.archive.modules.dec=\r\niderules.TooManyHopsDecideRule&quot;&gt;\n&gt; \n&gt;        &lt;property name=3D&quot;maxHops&quot; val=\r\nue=3D&quot;5&quot; /&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...but ACCEPT those more than =\r\na configured link-hop-count from start... --&gt;\n&gt; \n&gt;      &lt;bean class=3D&quot;org.=\r\narchive.modules.deciderules.TransclusionDecideRule&quot;&gt;\n&gt; \n&gt;       &lt;!--&lt;proper=\r\nty name=3D&quot;maxTransHops&quot; value=3D&quot;2&quot; /&gt;  --&gt;\n&gt; \n&gt;       &lt;!--&lt;property name=\r\n=3D&quot;maxSpeculativeHops&quot; value=3D&quot;1&quot; /&gt;  --&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-=\r\n- ...but REJECT those from a configurable (initially empty) set of REJECT S=\r\nURTs... --&gt;\n&gt; \n&gt;      &lt;bean class=3D&quot;org.archive.modules.deciderules.surt.N=\r\notSurtPrefixedDecideRule&quot;&gt;\n&gt; \n&gt;            &lt;property name=3D&quot;decision&quot; valu=\r\ne=3D&quot;REJECT&quot;/&gt;\n&gt; \n&gt;            &lt;property name=3D&quot;seedsAsSurtPrefixes&quot; value=\r\n=3D&quot;true&quot;/&gt;\n&gt; \n&gt;            &lt;property name=3D&quot;surtsDumpFile&quot; value=3D&quot;negat=\r\nive-surts.dump&quot; /&gt;\n&gt; \n&gt;       &lt;!--&lt;property name=3D&quot;surtsSourceFile&quot; value=\r\n=3D&quot;&quot; /&gt;  --&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...then ACCEPT any URI that =\r\nis in one of the domains of the configured set. --&gt;\n&gt; \n&gt;      &lt;bean class=\r\n=3D&quot;org.archive.modules.deciderules.surt.OnDomainsDecideRule&quot;&gt;\n&gt; \n&gt;        =\r\n&lt;property name=3D&quot;decision&quot; value=3D&quot;ACCEPT&quot;/&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      =\r\n/&lt;!-- ...then REJECT any URI whose content-length exceeds the configured th=\r\nreshold... --&gt;/\n&gt; \n&gt; /     &lt;bean class=3D&quot;org.archive.modules.deciderules.N=\r\notExceedsDocumentLengthTresholdDecideRule&quot;&gt;/\n&gt; \n&gt; /       &lt;property name=3D=\r\n&quot;decision&quot; value=3D&quot;REJECT&quot;/&gt;/\n&gt; \n&gt; /       &lt;property name=3D&quot;contentLength=\r\nThreshold&quot; value=3D&quot;1000&quot;/&gt;/\n&gt; \n&gt; /     &lt;/bean&gt;/\n&gt; \n&gt;      &lt;!-- ...and REJE=\r\nCT those from a configurable (initially empty) set of URI regexes... --&gt;\n&gt; =\r\n\n&gt;      &lt;bean class=3D&quot;org.archive.modules.deciderules.MatchesListRegexDeci=\r\ndeRule&quot;&gt;\n&gt; \n&gt;            &lt;property name=3D&quot;decision&quot; value=3D&quot;REJECT&quot;/&gt;\n&gt; \n=\r\n&gt;       &lt;!--&lt;property name=3D&quot;listLogicalOr&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;   =\r\n    &lt;!--&lt;property name=3D&quot;regexList&quot;&gt;\n&gt; \n&gt;             &lt;list&gt;\n&gt; \n&gt;         =\r\n    &lt;/list&gt;\n&gt; \n&gt;            &lt;/property&gt;  --&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!=\r\n-- ...and REJECT those with suspicious repeating path-segments... --&gt;\n&gt; \n&gt; =\r\n     &lt;bean class=3D&quot;org.archive.modules.deciderules.PathologicalPathDecideR=\r\nule&quot;&gt;\n&gt; \n&gt;       &lt;!--&lt;property name=3D&quot;maxRepetitions&quot; value=3D&quot;2&quot; /&gt;  --&gt;\n=\r\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...and REJECT those with more than thresho=\r\nld number of path-segments... --&gt;\n&gt; \n&gt;      &lt;bean class=3D&quot;org.archive.modu=\r\nles.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n&gt; \n&gt;        &lt;property name=\r\n=3D&quot;maxPathDepth&quot; value=3D&quot;20&quot; /&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...but a=\r\nlways ACCEPT those marked as prerequisitee for another URI... --&gt;\n&gt; \n&gt;     =\r\n &lt;bean class=3D&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRul=\r\ne&quot;&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;      &lt;!-- ...but always REJECT those with unsupp=\r\norted URI schemes --&gt;\n&gt; \n&gt;      &lt;bean class=3D&quot;org.archive.modules.decideru=\r\nles.SchemeNotInSetDecideRule&quot;&gt;\n&gt; \n&gt;      &lt;/bean&gt;\n&gt; \n&gt;     &lt;/list&gt;\n&gt; \n&gt;    &lt;=\r\n/property&gt;\n&gt; \n&gt;   &lt;/bean&gt;\n&gt; \n&gt; \n&gt; Do you think you could help me, please? T=\r\nhanks.\n&gt; \n&gt; -- \n&gt; Mohamed Elsayed\n&gt; Bibliotheca Alexandrina\n&gt;\n\n\n\n"}}