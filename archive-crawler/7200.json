{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":404815145,"authorName":"vinoth_amaranathan","from":"&quot;vinoth_amaranathan&quot; &lt;vinamar@...&gt;","profile":"vinoth_amaranathan","replyTo":"LIST","senderId":"v5-xEV18D-gfAa4s52mby03eDfzGwEq9MHV9VnK3F50i0VwOlivhKcagHIGbM2WBnrW3cLXmqmP_0mN6_yR7bPM5HRMcyoeJq2xt5l3Lcg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Heritrix performance (w.r.t crawl rates) low","postDate":"1310490599","msgId":7200,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGl2aHY1NyttNzdrQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRFMUI4QUM4LjkwOTAwMDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":7199,"nextInTopic":7201,"prevInTime":7199,"nextInTime":7201,"topicId":7198,"numMessagesInTopic":7,"msgSnippet":"The unit of time is in secs. FINE: ** Fetching URI:http://tickets.stores.shop.ebay.com/_sl.html?_fintl=1&_sacat=1306&_t rksid=p4748.c0.m390.l1513&_pgn=4from ","rawEmail":"Return-Path: &lt;vinamar@...&gt;\r\nX-Sender: vinamar@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 66596 invoked from network); 12 Jul 2011 17:10:01 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 12 Jul 2011 17:10:01 -0000\r\nX-Received: from unknown (HELO ng18-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.158)\n  by mta2.grp.sp2.yahoo.com with SMTP; 12 Jul 2011 17:10:01 -0000\r\nX-Received: from [98.139.164.122] by ng18.bullet.mail.bf1.yahoo.com with NNFMP; 12 Jul 2011 17:10:00 -0000\r\nX-Received: from [69.147.65.172] by tg3.bullet.mail.bf1.yahoo.com with NNFMP; 12 Jul 2011 17:10:00 -0000\r\nX-Received: from [98.137.34.35] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 12 Jul 2011 17:10:00 -0000\r\nDate: Tue, 12 Jul 2011 17:09:59 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;ivhv57+m77k@...&gt;\r\nIn-Reply-To: &lt;4E1B8AC8.9090007@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;vinoth_amaranathan&quot; &lt;vinamar@...&gt;\r\nSubject: Re: Heritrix performance (w.r.t crawl rates) low\r\nX-Yahoo-Group-Post: member; u=404815145; y=LmG3bkHo2TUqzx9IfSuVn9eJCS1wlCP446nheDJyOGzm6cTExMhKut-u6eTu\r\nX-Yahoo-Profile: vinoth_amaranathan\r\n\r\nThe unit of time is in secs.\nFINE: ** Fetching\nURI:http://tickets.stores.sh=\r\nop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D1306&_t&#92;\nrksid=3Dp4748.c0.m390.l15=\r\n13&_pgn=3D4from\nQueue Completed**:\n\nthis means the time it takes for a sing=\r\nle thread to fetch from\nreadyClassQueues to add to inProcessQueues and retu=\r\nrn the CrawlURI for\nprocessing by the thread.\n\nthis is the snippet from the=\r\n Toethread run() method\n  setStep(STEP_ABOUT_TO_GET_URI);\n                l=\r\nong fetchQueueStartTime =3D System.currentTimeMillis();\n                 Cr=\r\nawlURI curi =3D controller.getFrontier().next();\n\n                 synchron=\r\nized(this) {\n                     continueCheck();\n                     set=\r\nCurrentCuri(curi);\n                 }\n                 long fetchQueueEndTi=\r\nme =3D System.currentTimeMillis();\n                 activityLogger.fine(&quot;**=\r\n Fetching\nURI:&quot;+curi.toString()+&quot;from Queue Completed**:&#92;t\n&quot;+((fetchQueueEn=\r\ndTime-fetchQueueStartTime)/1000));\n\n\nthanks, -vinoth.\n--- In archive-crawle=\r\nr@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Not sure how to read=\r\n your table; what are the units of your time\ncolumn,\n&gt; and what does &quot;from =\r\nQueue Completed**:&quot; mean?\n&gt;\n&gt; If seconds, the 23/69 totals look suspiciousl=\r\ny like about 1-3 times\nthe\n&gt; default socket-timeout for a non-responsive ho=\r\nst (20 seconds).\n&gt;\n&gt; Without adding extra logging code, you can deduce some=\r\n similar data\nfrom\n&gt; the crawl.log -- the field that&#39;s of the form...\n&gt;\n&gt; #=\r\n################+####\n&gt;\n&gt; ...is the timestamp when the network-fetching beg=\r\nan, &#39;+&#39; the duration\nof\n&gt; the network fetch. Also, the leading date on the =\r\nlog line is the\ninstant\n&gt; of logging, so (missing some pre-fetch time) you =\r\ncan get an idea of\nthe\n&gt; bulk of processing time from those values.\n&gt;\n&gt; See=\r\n also this FAQ entry if you&#39;re just generally wondering why\ncrawling\n&gt; isn&#39;=\r\nt going as fast as you might have hoped:\n&gt;\n&gt;\nhttps://webarchive.jira.com/wi=\r\nki/display/Heritrix/crawl+rate+considerati&#92;\nons\n&gt;\n&gt; If you want to dig deep=\r\ner, it&#39;d be good to know:\n&gt;\n&gt; =95 what version of Heritrix?\n&gt;\n&gt; =95 what ha=\r\nppens when you isolate the URIs that seem to be slow into\na\n&gt; dedicated cra=\r\nwl for a closer look?\n&gt;\n&gt; - Gordon @ IA\n&gt;\n&gt; On 7/11/11 3:39 PM, vinoth_amar=\r\nanathan wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I tried to do some logging at the Toethread to f=\r\nind out where the\navg\n&gt; &gt; amount of time is being spent per request. I foun=\r\nd that the average\ntime\n&gt; &gt; spent is more in fetching URIs from the BDB que=\r\nues.\n&gt; &gt; Its surprising to see that the time spent was on a max 69 secs for=\r\n\none\n&gt; &gt; work item. Am i missing something here ?\n&gt; &gt;\n&gt; &gt; Attached is the s=\r\npreadsheet obtained by logging at the toe thread\nfor\n&gt; &gt; various stages of =\r\nthe processor chains.\n&gt; &gt;\n&gt; &gt;\nhttp://f1.grp.yahoofs.com/v1/YHIbTnlqNMIkphI_=\r\n1Uw9uR5sjGNdWq26uQgtCcOUUgO&#92;\nQcPu9gSHrmrevR9YQQVwxLP6ed3gFht0pPP1ZomA0pmzul=\r\na2o4f8l6gEptYc5Cxc/Heritri&#92;\nxPerformance.xlsx\n&gt; &gt;\n&gt; &gt; please look at the pe=\r\nrf rates for a single thread below.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Process Vs time spend on ea=\r\nch stage per thread\n&gt; &gt;\n&gt; &gt; FINE: ** Total time spent on all processor chai=\r\nns for\n&gt; &gt;\nURI:(http://art.stores.shop.ebay.com/_sl.html?_pgn=3D3&_sacat=3D=\r\n60436)**:  0\n&gt; &gt; FINE: ** Total time spent on all processor chains for\n&gt; &gt;\n=\r\nURI:(http://sports-cards.stores.shop.ebay.com/_sl.html?_sacat=3D2840)**: \n1=\r\n\n&gt; &gt; FINE: ** Fetching\n&gt; &gt;\nURI:http://art.stores.shop.ebay.com/_sl.html?_fi=\r\nntl=3D1&_sacat=3D60436&_trks&#92;\nid=3Dp4748.c0.m390.l1513&_pgn=3D4from\n&gt; &gt; Que=\r\nue Completed**:  69\n&gt; &gt; FINE: ** Fetching\n&gt; &gt;\nURI:http://sports-cards.store=\r\ns.shop.ebay.com/_sl.html?_sacat=3D27288from\n&gt; &gt; Queue Completed**:  0\n&gt; &gt; F=\r\nINE: ** Total time spent on all processor chains for\n&gt; &gt;\nURI:(http://health=\r\n-beauty.stores.shop.ebay.com/_sl.html?_sacat=3D67391)**:\n1\n&gt; &gt; FINE: ** Fet=\r\nching\n&gt; &gt;\nURI:http://health-beauty.stores.shop.ebay.com/_sl.html?_sacat=3D1=\r\n66718from\n&gt; &gt; Queue Completed**:  69\n&gt; &gt; FINE: ** Total time spent on Proce=\r\nssor (LinksScoper)for\n&gt; &gt;\nURI:(http://travel.stores.shop.ebay.com/_sl.html?=\r\n_pgn=3D7&_sacat=3D3253)**: \n0\n&gt; &gt; FINE: ** Total time spent on Processor (E=\r\nxtractorHTTP)for\n&gt; &gt;\nURI:(http://gift-certificates.shop.ebay.com/dcp/_W0QQ_=\r\nkwZhomeQ20depotQQ_&#92;\nipcZ12QQ_sacatZ172008QQ_tccZ1QQ_trksidZp3910Q2ec0Q2em47=\r\n6)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Processor (Updater)for\n&gt; &gt;\nUR=\r\nI:(http://stamps.stores.shop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D676&_tr&#92;=\r\n\nksid=3Dp4748.c0.m390.l1513&_pgn=3D4)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spe=\r\nnt on Processor (ExtractorHTTP)for\n&gt; &gt;\nURI:(http://pottery-glass.stores.sho=\r\np.ebay.com/_sl.html?_fintl=3D1&_sacat=3D&#92;\n955&_trksid=3Dp4748.c0.m390.l1513=\r\n&_pgn=3D5)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Processor (Preprocess=\r\nor)for\n&gt; &gt;\nURI:(http://entertainment-memorabilia.stores.shop.ebay.com/_sl.h=\r\ntml?_sac&#92;\nat=3D32989)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Processor =\r\n(LinksScoper)for\n&gt; &gt;\nURI:(http://services.stores.shop.ebay.com/_sl.html?_fi=\r\nntl=3D1&_sacat=3D50338&#92;\n&_trksid=3Dp4748.c0.m390.l1513&_pgn=3D3)**:\n&gt; &gt;  0\n=\r\n&gt; &gt; FINE: ** Total time spent on Processor (Preselector)for\n&gt; &gt;\nURI:(http:/=\r\n/art.stores.shop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D60436&_trk&#92;\nsid=3Dp4=\r\n748.c0.m390.l1513&_pgn=3D4)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Proc=\r\nessor (Preselector)for\n&gt; &gt;\nURI:(http://sports-cards.stores.shop.ebay.com/_s=\r\nl.html?_sacat=3D27288)**: \n0\n&gt; &gt; FINE: ** Total time spent on Processor (Li=\r\nnksScoper)for\n&gt; &gt;\nURI:(http://crafts.shop.ebay.com/Crafts-/14339/i.html?_nk=\r\nw=3Dleather&_frs=3D&#92;\n1&_trksid=3Dp3910.c0.m28)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total=\r\n time spent on Processor (Preselector)for\n&gt; &gt;\nURI:(http://health-beauty.sto=\r\nres.shop.ebay.com/_sl.html?_sacat=3D166718)**&#92;\n:\n&gt; &gt; 0\n&gt; &gt; FINE: ** Total t=\r\nime spent on all processor chains for\n&gt; &gt;\nURI:(http://everythingelse.stores=\r\n.shop.ebay.com/_sl.html?_sacat=3D170595)*&#92;\n*:\n&gt; &gt;  1\n&gt; &gt; FINE: ** Fetching\n=\r\n&gt; &gt;\nURI:http://tickets.stores.shop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D13=\r\n06&_t&#92;\nrksid=3Dp4748.c0.m390.l1513&_pgn=3D4from\n&gt; &gt; Queue Completed**:  23\n=\r\n&gt; &gt; FINE: ** Fetching\n&gt; &gt;\nURI:http://everythingelse.stores.shop.ebay.com/_s=\r\nl.html?_sacat=3D170634fro&#92;\nm Queue\n&gt; &gt; Completed**:  69\n&gt; &gt; FINE: ** Total =\r\ntime spent on Processor (Updater)for\n&gt; &gt;\nURI:(http://cgi.ebay.com/Breaker-C=\r\nobra-20x50-Binoculars-Coated-Lense-/32&#92;\n0723547463?pt=3DBinocular&hash=3Dit=\r\nem4aac9cf547)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on all processor chai=\r\nns for\n&gt; &gt;\nURI:(http://pottery-glass.shop.ebay.com/dcp/_W0QQ_kwZdepressionQ=\r\n20glassQ&#92;\nQ_ipcZ12QQ_sacatZ870QQ_tccZ1QQ_trksidZp3910Q2ec0Q2em476)**:\n&gt; &gt;  =\r\n1\n&gt; &gt; FINE: ** Total time spent on Processor (LinksScoper)for\n&gt; &gt;\nURI:(http=\r\n://computers.stores.shop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D1114&#92;\n22&_tr=\r\nksid=3Dp4748.c0.m390.l1513&_pgn=3D6)**:\n&gt; &gt;  1\n&gt; &gt; FINE: ** Fetching\n&gt; &gt;\nUR=\r\nI:http://pottery-glass.shop.ebay.com/dcp/_W0QQ_kwZfentonQQ_ipcZ12QQ_sa&#92;\ncat=\r\nZ870QQ_tccZ1QQ_trksidZp3910Q2ec0Q2em476from\n&gt; &gt; Queue Completed**:  17\n&gt; &gt; =\r\nFINE: ** Total time spent on all processor chains for\n&gt; &gt;\nURI:(http://ticke=\r\nts.stores.shop.ebay.com/_sl.html?_pgn=3D3&_sacat=3D1306)**:\n1\n&gt; &gt; FINE: ** =\r\nTotal time spent on all processor chains for\n&gt; &gt;\nURI:(http://music.stores.s=\r\nhop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D1600&_tr&#92;\nksid=3Dp4748.c0.m390.l1=\r\n513&_pgn=3D7)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Processor (Preproc=\r\nessor)for\n&gt; &gt;\nURI:(http://sports-cards.stores.shop.ebay.com/_sl.html?_sacat=\r\n=3D27288)**: \n0\n&gt; &gt; FINE: ** Total time spent on Processor (DNS)for\n&gt; &gt;\nURI=\r\n:(http://services.shop.ebay.com/eBay-Auction-Services-/50349/i.html?_&#92;\ncatr=\r\nef=3D1)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total time spent on Processor (Preprocessor)=\r\nfor\n&gt; &gt;\nURI:(http://art.stores.shop.ebay.com/_sl.html?_fintl=3D1&_sacat=3D6=\r\n0436&_trk&#92;\nsid=3Dp4748.c0.m390.l1513&_pgn=3D4)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Total=\r\n time spent on Processor (HTTP)for\n&gt; &gt;\nURI:(http://photography.stores.shop.=\r\nebay.com/_sl.html?_fintl=3D1&_sacat=3D16&#92;\n2485&_trksid=3Dp4748.c0.m390.l151=\r\n3&_pgn=3D3)**:\n&gt; &gt;  1\n&gt; &gt; FINE: ** Total time spent on Processor (DNS)for\n&gt;=\r\n &gt;\nURI:(http://entertainment-memorabilia.stores.shop.ebay.com/_sl.html?_sac=\r\n&#92;\nat=3D32989)**:\n&gt; &gt;  0\n&gt; &gt; FINE: ** Fetching\n&gt; &gt;\nURI:http://music.stores.s=\r\nhop.ebay.com/_sl.html?_pgn=3D7&_sacat=3D1600from\n&gt; &gt; Queue Completed**:  2\n=\r\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}