{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":327956242,"authorName":"Goel, Ankur","from":"&quot;Goel, Ankur&quot; &lt;Ankur.Goel@...&gt;","profile":"ankur_goel79","replyTo":"LIST","senderId":"jqZf-p41PjZvXvMH5_0jV8JUCeWVQ4052QepHPgb10rLJJYaSCaGFJcGgzWHmBwIky_OUbO7CCN7-PnHmC4lwFowV8SNqyPJyJV0yEH0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Distribution using Consistent Hashing scheme","postDate":"1209977169","msgId":5171,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDhGMTE3MjJBMDU2MkJCNEY4MEE2ODBFRDRDRkVEMEQ1MDFDRUVGNEVARVZTQk5HMDIuYWQub2ZmaWNlLmFvbC5jb20+","inReplyToHeader":"PDQ4MUI1NjNFLjIwNjA4MDhAYXJjaGl2ZS5vcmc+"},"prevInTopic":5166,"nextInTopic":5172,"prevInTime":5170,"nextInTime":5172,"topicId":5152,"numMessagesInTopic":7,"msgSnippet":"It does not require any changes to the core classes as behaviour is largely modelled in terms of additional classes that intergate with Heritrix directly and","rawEmail":"Return-Path: &lt;Ankur.Goel@...&gt;\r\nX-Sender: Ankur.Goel@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 90245 invoked from network); 5 May 2008 08:46:30 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m46.grp.scd.yahoo.com with QMQP; 5 May 2008 08:46:30 -0000\r\nX-Received: from unknown (HELO c3po.nscp.aoltw.net) (64.236.137.25)\n  by mta18.grp.scd.yahoo.com with SMTP; 5 May 2008 08:46:30 -0000\r\nX-Received: from AOLDTCMEH01.ad.office.aol.com (aoldtcmeh01.office.aol.com [10.180.121.20])\n\tby c3po.nscp.aoltw.net (8.10.0/8.10.0) with ESMTP id m458kDd14460\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 5 May 2008 01:46:23 -0700 (PDT)\r\nX-Received: from EVSBNG02.ad.office.aol.com ([10.146.190.243]) by AOLDTCMEH01.ad.office.aol.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Mon, 5 May 2008 04:46:14 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----_=_NextPart_001_01C8AE8C.776A22CA&quot;\r\nDate: Mon, 5 May 2008 14:16:09 +0530\r\nMessage-ID: &lt;8F11722A0562BB4F80A680ED4CFED0D501CEEF4E@...&gt;\r\nIn-Reply-To: &lt;481B563E.2060808@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [archive-crawler] Distribution using Consistent Hashing scheme\r\nThread-Index: AcisfjPLf6MMmeu7ThuqDDyJoLXjqQCDJNIA\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nX-OriginalArrivalTime: 05 May 2008 08:46:14.0084 (UTC) FILETIME=[79B86040:01C8AE8C]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Goel, Ankur&quot; &lt;Ankur.Goel@...&gt;\r\nSubject: RE: [archive-crawler] Distribution using Consistent Hashing scheme\r\nX-Yahoo-Group-Post: member; u=327956242; y=1N_f85S8gvU4vLkxRmYoWbpH5R7STuriukDytNHUFQr0az0i54_B\r\nX-Yahoo-Profile: ankur_goel79\r\n\r\n\r\n------_=_NextPart_001_01C8AE8C.776A22CA\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIt does not require any changes to the core classes as behaviour is\nlargely=\r\n\nmodelled in terms of additional classes that intergate with Heritrix\ndirec=\r\ntly\nand make use of its APIs. There might very small changes that I am\nunaw=\r\nare\nof but shouldn&#39;t be too hard to integrate.\n \nThe frontier itself is not=\r\n changed. However we do use APIs to access the\nfrontier \nto schedule URIs d=\r\nirectly (when they are recieved over JMX from a peer\ncrawl node).\n \nFrom a =\r\ncode perspective there are only 2 major concerns, \nFirst, the configuration=\r\n to obtain the peer crawler nodes which happend\nto be our custom thing. \nI =\r\nam guessing that this will recide in a JNDI context (or something\nelse) if =\r\nwe scrub out our custom \ncode.\nSecond, the consistent hash function that we=\r\n use comes from an open\nsource library that is not\nLGPL. We might have to r=\r\neplace it with our implementation if we don&#39;t\nfind a suitable replacement.\n=\r\n \nFrom a legal perspective, we have to follow an internal process to\nobtain=\r\n approval for contribution\ninto software that follows LGPL or other restric=\r\ntive licensing scheme.\nAn Apache License 2.0\nremoves atleast this requireme=\r\nnt though we still need other approvals\nfor contribution.\n \nWe also have ou=\r\nr implementation of Heritrix-HBase writer that we would\nlike to contribute\n=\r\nonce approved by legal.\n \nThank you folks for the interest shown in our wor=\r\nk.\n \nWill keep you all posted.\n \nThanks\n-Ankur\n \n \n\n_______________________=\r\n_________\n\nFrom: archive-crawler@yahoogroups.com\n[mailto:archive-crawler@ya=\r\nhoogroups.com] On Behalf Of Gordon Mohr\nSent: Friday, May 02, 2008 11:28 PM=\r\n\nTo: archive-crawler@yahoogroups.com\nSubject: Re: [archive-crawler] Distrib=\r\nution using Consistent Hashing\nscheme\n\n\n\nWe&#39;d be very excited to integrate =\r\nthis code!\n\nDoes it require changes to core classes, or is it largely self-=\r\ncontained\n\nin its own new classes? (Especially with regard to the Frontier =\r\n-- \nbecause any changes there would require a little more work to bring to =\r\n\nthe 2.x trunk.)\n\nWe would probably plan another release as 1.14.x (or even=\r\n \npreviously-unplanned 1.16.0) to have an official 1.x release with such a\n=\r\n\ninteresting contribution, even before trying to bring such code into\n2.x.\n=\r\n\n- Gordon @ IA\n\nGoel, Ankur wrote:\n&gt; Hi Folks,\n&gt; We have our own implementa=\r\ntion of the crawl farm based on\n&gt; top of Heritrix 1.6. We moved to version =\r\n1.13 sometime back.\n&gt; As a part of our work we have extended the heritrix c=\r\node and\nimplemented\n&gt; a consistent hashing scheme for maintaining politenes=\r\ns\n&gt; and consistent distribution. We would like to contribute some of our\n&gt; =\r\ndistribution related code to the heritrix community.\n&gt; \n&gt; Let me give a bri=\r\nef idea of what we have done that we would like to\n&gt; contribute. \n&gt; \n&gt; 1. E=\r\nach crawl node (called crawl engine in heritrix 2.0) is\nresponsible\n&gt; for f=\r\niguring out if it should crawl the recieved/extracted URLs \n&gt; or the right =\r\ncrawler node that should be crawling it and dispatches\nthe\n&gt; URLs over JMX =\r\nto the appropriate node. \n&gt; \n&gt; 2. The crawl node uses the services of a &#39;Dy=\r\nnamicCrawlMapper&#39; to take\n&gt; care of distribution. This is a regular heritri=\r\nx &#39;Processor&#39;\nintegrated\n&gt; into heritrix processing chain.\n&gt; \n&gt; 3. The &#39;Dyn=\r\namicCrawlMapper&#39; uses the services of a &#39;Distributor&#39; that\n&gt; talks to diffe=\r\nrent crawl nodes over JMX and uses consistent hashing \n&gt; scheme to figure t=\r\nhe destination node for the URL. If the URL&#39;s hash\n&gt; falls in the bucket of=\r\n the local node then it is scheduled directly\n&gt; into the local heritrix ins=\r\ntance.\n&gt; \n&gt; 4. The &#39;Distributor&#39; caches the info for all other crawl nodes.=\r\n So in\n&gt; this environment every crawl node is agnostic of every other crawl=\r\n\nnode.\n&gt; \n&gt; If the community thinks this could bring value then we can work=\r\n\ntowards\n&gt; scrubbing out our custom code and get all licensing/legal issues=\r\n \n&gt; sorted out to get the code into heritrix.\n&gt; \n&gt; Thanks\n&gt; -Ankur\n&gt; \n\n\n \n\r\n------_=_NextPart_001_01C8AE8C.776A22CA\r\nContent-Type: text/html;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.=\r\nw3c.org/TR/1999/REC-html401-19991224/loose.dtd&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;\n&lt;META http-eq=\r\nuiv=3DContent-Type content=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;\n&lt;META content=\r\n=3D&quot;MSHTML 6.00.6000.16640&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;\n&lt;BODY style=3D&quot;BACKGRO=\r\nUND-COLOR: #ffffff&quot;&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05=\r\n052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;It does not require any=\r\n changes to the core classes as \nbehaviour is largely&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;=\r\nDIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DAr=\r\nial \ncolor=3D#0000ff size=3D2&gt;modelled in terms of additional classes that =\r\nintergate with \nHeritrix directly&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=\r\n=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000f=\r\nf size=3D2&gt;and make use of its APIs. There might very small changes \nthat I=\r\n am unaware&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D8=\r\n94043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;of but shoul=\r\ndn&#39;t be too hard to \nintegrate.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3D=\r\nleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff s=\r\nize=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=\r\n=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;The fron=\r\ntier itself is not changed. However we do use APIs \nto access the frontier =\r\n&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05=\r\n052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;to schedule URIs direct=\r\nly (when they are recieved over JMX \nfrom a peer crawl node).&lt;/FONT&gt;&lt;/SPAN&gt;=\r\n&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT f=\r\nace=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=\r\n=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \nco=\r\nlor=3D#0000ff size=3D2&gt;From a code perspective there are only 2 major conce=\r\nrns, \n&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043=\r\n408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;First, the config=\r\nuration to obtain &lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN \nclass=3D894043408-05052008&gt;&lt;FONT fac=\r\ne=3DArial color=3D#0000ff size=3D2&gt;the peer crawler \nnodes which happend to=\r\n be our custom thing. &lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPA=\r\nN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;I=\r\n am guessing that this &lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN \nclass=3D894043408-05052008&gt;&lt;FON=\r\nT face=3DArial color=3D#0000ff size=3D2&gt;will recide in a \nJNDI context (or =\r\nsomething else) if we scrub out our custom &lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3D=\r\nltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=\r\n=3D#0000ff size=3D2&gt;code.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;=\r\nSPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D=\r\n2&gt;Second, the consistent hash function that we use comes from \nan open sour=\r\nce library that is not&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPA=\r\nN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;L=\r\nGPL. We might have to replace it with our implementation \nif we don&#39;t find =\r\na suitable replacement.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SP=\r\nAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;=\r\n&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043=\r\n408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;From a legal pers=\r\npective, we have to follow an internal \nprocess to obtain approval for cont=\r\nribution&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D8940=\r\n43408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;into software&n=\r\nbsp;that follows&nbsp;LGPL or other \nrestrictive licensing scheme. &lt;/FONT&gt;&lt;=\r\n/SPAN&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT \nface=3DArial color=3D#0000ff =\r\nsize=3D2&gt;An Apache License 2.0&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dl=\r\neft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff si=\r\nze=3D2&gt;removes atleast this requirement though we still need other \napprova=\r\nls for contribution.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN =\r\nclass=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/F=\r\nONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408=\r\n-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;We also have our imp=\r\nlementation of Heritrix-HBase writer \nthat we would like to contribute&lt;/FON=\r\nT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-0505200=\r\n8&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;once approved by legal.&lt;/FON=\r\nT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-0505200=\r\n8&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;=\r\nDIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DAr=\r\nial \ncolor=3D#0000ff size=3D2&gt;Thank you folks for the interest shown in our=\r\n \nwork.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D89404=\r\n3408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&n=\r\nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FO=\r\nNT face=3DArial \ncolor=3D#0000ff size=3D2&gt;Will keep you all posted.&lt;/FONT&gt;&lt;=\r\n/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;=\r\nFONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV=\r\n dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial=\r\n \ncolor=3D#0000ff size=3D2&gt;Thanks&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=\r\n=3Dleft&gt;&lt;SPAN class=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000f=\r\nf size=3D2&gt;-Ankur&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN cla=\r\nss=3D894043408-05052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT=\r\n&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV dir=3Dltr align=3Dleft&gt;&lt;SPAN class=3D894043408-05=\r\n052008&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/D=\r\nIV&gt;&lt;BR&gt;\n&lt;DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dle=\r\nft&gt;\n&lt;HR tabIndex=3D-1&gt;\n&lt;FONT face=3DTahoma size=3D2&gt;&lt;B&gt;From:&lt;/B&gt; archive-cr=\r\nawler@yahoogroups.com \n[mailto:archive-crawler@yahoogroups.com] &lt;B&gt;On Behal=\r\nf Of &lt;/B&gt;Gordon \nMohr&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt; Friday, May 02, 2008 11:28 PM&lt;BR&gt;&lt;B&gt;T=\r\no:&lt;/B&gt; \narchive-crawler@yahoogroups.com&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [archive-cra=\r\nwler] \nDistribution using Consistent Hashing scheme&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;\n&lt;D=\r\nIV&gt;&lt;/DIV&gt;\n&lt;DIV id=3Dygrp-text&gt;\n&lt;P&gt;We&#39;d be very excited to integrate this co=\r\nde!&lt;BR&gt;&lt;BR&gt;Does it require changes \nto core classes, or is it largely self-=\r\ncontained &lt;BR&gt;in its own new classes? \n(Especially with regard to the Front=\r\nier -- &lt;BR&gt;because any changes there would \nrequire a little more work to b=\r\nring to &lt;BR&gt;the 2.x trunk.)&lt;BR&gt;&lt;BR&gt;We would \nprobably plan another release =\r\nas 1.14.x (or even &lt;BR&gt;previously-unplanne&lt;WBR&gt;d \n1.16.0) to have an offici=\r\nal 1.x release with such a &lt;BR&gt;interesting \ncontribution, even before tryin=\r\ng to bring such code into 2.x.&lt;BR&gt;&lt;BR&gt;- Gordon @ \nIA&lt;BR&gt;&lt;BR&gt;Goel, Ankur wro=\r\nte:&lt;BR&gt;&gt; Hi Folks,&lt;BR&gt;&gt; We have our own \nimplementation of the crawl =\r\nfarm based on&lt;BR&gt;&gt; top of Heritrix 1.6. We moved \nto version 1.13 someti=\r\nme back.&lt;BR&gt;&gt; As a part of our work we have extended \nthe heritrix code =\r\nand implemented&lt;BR&gt;&gt; a consistent hashing scheme for \nmaintaining polite=\r\nness&lt;BR&gt;&gt; and consistent distribution. We would like to \ncontribute some=\r\n of our&lt;BR&gt;&gt; distribution related code to the heritrix \ncommunity.&lt;BR&gt;&g=\r\nt; &lt;BR&gt;&gt; Let me give a brief idea of what we have done that \nwe would li=\r\nke to&lt;BR&gt;&gt; contribute. &lt;BR&gt;&gt; &lt;BR&gt;&gt; 1. Each crawl node \n(called cra=\r\nwl engine in heritrix 2.0) is responsible&lt;BR&gt;&gt; for figuring out if \nit s=\r\nhould crawl the recieved/extracted URLs &lt;BR&gt;&gt; or the right crawler node =\r\n\nthat should be crawling it and dispatches the&lt;BR&gt;&gt; URLs over JMX to the=\r\n \nappropriate node. &lt;BR&gt;&gt; &lt;BR&gt;&gt; 2. The crawl node uses the services o=\r\nf a \n&#39;DynamicCrawlMapper&lt;WBR&gt;&#39; to take&lt;BR&gt;&gt; care of distribution. This i=\r\ns a \nregular heritrix &#39;Processor&#39; integrated&lt;BR&gt;&gt; into heritrix processi=\r\nng \nchain.&lt;BR&gt;&gt; &lt;BR&gt;&gt; 3. The &#39;DynamicCrawlMapper&lt;WBR&gt;&#39; uses the servi=\r\nces of a \n&#39;Distributor&#39; that&lt;BR&gt;&gt; talks to different crawl nodes over JM=\r\nX and uses \nconsistent hashing &lt;BR&gt;&gt; scheme to figure the destination no=\r\nde for the URL. \nIf the URL&#39;s hash&lt;BR&gt;&gt; falls in the bucket of the local=\r\n node then it is \nscheduled directly&lt;BR&gt;&gt; into the local heritrix instan=\r\nce.&lt;BR&gt;&gt; &lt;BR&gt;&gt; 4. \nThe &#39;Distributor&#39; caches the info for all other cr=\r\nawl nodes. So in&lt;BR&gt;&gt; this \nenvironment every crawl node is agnostic of =\r\nevery other crawl node.&lt;BR&gt;&gt; \n&lt;BR&gt;&gt; If the community thinks this coul=\r\nd bring value then we can work \ntowards&lt;BR&gt;&gt; scrubbing out our custom co=\r\nde and get all licensing/legal issues \n&lt;BR&gt;&gt; sorted out to get the code =\r\ninto heritrix.&lt;BR&gt;&gt; &lt;BR&gt;&gt; \nThanks&lt;BR&gt;&gt; -Ankur&lt;BR&gt;&gt; \n&lt;BR&gt;&lt;/P&gt;&lt;/D=\r\nIV&gt;&lt;!--End group email --&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------_=_NextPart_001_01C8AE8C.776A22CA--\r\n\n"}}