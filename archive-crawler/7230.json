{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","replyTo":"LIST","senderId":"Yd3EpPbdahwokRTBwj1Ws0_fKwW7KeivtU0Ao0DncUcfzm5XP_VA4gkmuT0Ta4n-7QXIdDurnhoLCnBlk-yOZTAu5BB48hL_","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Loading cookies from a file on H3","postDate":"1311709213","msgId":7230,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFMkYxODFELjkwMTAyMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGowbWJqMSs2M3RqQGVHcm91cHMuY29tPg==","referencesHeader":"PGowbWJqMSs2M3RqQGVHcm91cHMuY29tPg=="},"prevInTopic":7229,"nextInTopic":7231,"prevInTime":7229,"nextInTime":7231,"topicId":7227,"numMessagesInTopic":7,"msgSnippet":"Hello progre55, Thanks for reporting this issue. It should be fixed now, along with related problems. It would appear that the cookie loading/saving","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 42137 invoked from network); 26 Jul 2011 19:40:20 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m13.grp.re1.yahoo.com with QMQP; 26 Jul 2011 19:40:20 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mta1.grp.re1.yahoo.com with SMTP; 26 Jul 2011 19:40:20 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id E9CB568410AC;\n\tTue, 26 Jul 2011 12:40:16 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id Nqi1mJ-4ycxa; Tue, 26 Jul 2011 12:40:14 -0700 (PDT)\r\nX-Received: from Noah-Levitts-MacBook-Pro.local (c-174-62-77-252.hsd1.ca.comcast.net [174.62.77.252])\n\tby mail.archive.org (Postfix) with ESMTPSA id 3BA266840165;\n\tTue, 26 Jul 2011 12:40:13 -0700 (PDT)\r\nMessage-ID: &lt;4E2F181D.9010209@...&gt;\r\nDate: Tue, 26 Jul 2011 12:40:13 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0) Gecko/20110624 Thunderbird/5.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: progre55 &lt;ikromchik@...&gt;\r\nReferences: &lt;j0mbj1+63tj@...&gt;\r\nIn-Reply-To: &lt;j0mbj1+63tj@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Loading cookies from a file on H3\r\nX-Yahoo-Group-Post: member; u=325624130\r\n\r\nHello progre55,\n\nThanks for reporting this issue. It should be fixed now, along with related problems. It would appear that the cookie loading/saving functionality had never even been tried. :( https://webarchive.jira.com/browse/HER-1914\n\nAlso while looking at this issue it became apparent that cookies were not being sent at all, in both h1 and h3, since a commit in February. That should be fixed now as well in svn. https://webarchive.jira.com/browse/HER-1913\n\nYou&#39;ll want to get the latest code from svn (or the latest snapshot from the build box). If you can confirm that cookie handling works as expected after these changes, that would be very helpful.\n\nNoah\n\n\nOn 2011-07-26 05:22 , progre55 wrote:\n&gt; Hi guys,\n&gt;\n&gt; I&#39;ve been playing around with H3, and noticed that loading cookies from a file doesn&#39;t really work. When tried analyzing the code, I found out that the loadCookies() method reads the file, but doesn&#39;t store the cookies read. Here is the method in original form, and as you can see, Cookie objects are created, but not put into the SortedMap:\n&gt;\n&gt;      public static void loadCookies(String cookiesFile,\n&gt;              SortedMap&lt;String,Cookie&gt;  result) {\n&gt;\n&gt;          // Do nothing if cookiesFile is not specified.\n&gt;          if (cookiesFile == null || cookiesFile.length()&lt;= 0) {\n&gt;              return;\n&gt;          }\n&gt;          RandomAccessFile raf = null;\n&gt;          try {\n&gt;              raf = new RandomAccessFile(cookiesFile, &quot;r&quot;);\n&gt;              String[] cookieParts;\n&gt;              String line;\n&gt;              Cookie cookie = null;\n&gt;              while ((line = raf.readLine()) != null) {\n&gt;                  // Line that starts with # is commented line, therefore skip it.\n&gt;                  if (!line.startsWith(&quot;#&quot;)) {\n&gt;                      cookieParts = line.split(&quot;&#92;&#92;t&quot;);\n&gt;                      if (cookieParts.length == 7) {\n&gt;                          // Create cookie with not expiration date (-1 value).\n&gt;                          // TODO: add this as an option.\n&gt;                          cookie = new Cookie(cookieParts[0], cookieParts[5],\n&gt;                                  cookieParts[6], cookieParts[2], -1, Boolean\n&gt;                                          .valueOf(cookieParts[3]).booleanValue());\n&gt;\n&gt;                          if (cookieParts[1].toLowerCase().equals(&quot;true&quot;)) {\n&gt;                              cookie.setDomainAttributeSpecified(true);\n&gt;                          } else {\n&gt;                              cookie.setDomainAttributeSpecified(false);\n&gt;                          }\n&gt;\n&gt;                          LOGGER.fine(&quot;Adding cookie: &quot;\n&gt;                                          + cookie.toExternalForm());\n&gt;                      }\n&gt;                  }\n&gt;              }\n&gt;          } catch (FileNotFoundException e) {\n&gt;              LOGGER.log(Level.WARNING,&quot;Could not find file: &quot; + cookiesFile, e);\n&gt;          } catch (IOException e) {\n&gt;              LOGGER.log(Level.WARNING,e.getMessage(), e);\n&gt;          } finally {\n&gt;              ArchiveUtils.closeQuietly(raf);\n&gt;          }\n&gt;      }\n&gt;\n&gt; Or am I missing something here? I have just checked out heritrix 3 from this svn url https://archive-crawler.svn.sourceforge.net/svnroot/archive-crawler/trunk/heritrix3/ and hope it&#39;s the right place.\n&gt;\n&gt; Regards,\n&gt; progre55\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}