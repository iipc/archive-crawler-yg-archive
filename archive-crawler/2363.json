{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":225011788,"authorName":"Karl Wright","from":"Karl Wright &lt;kwright@...&gt;","profile":"daddywri","replyTo":"LIST","senderId":"n984FPHRMFQnd5xWYTCEhq-FHgA60u9uXrxke719fZ03U-HBypgKox3x5hItlOpPosaJXTVc-AY4icSuDk89RNLVsLnmBnl0sAk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Replay input stream I/O errors - anybody ever seen these?","postDate":"1132013122","msgId":2363,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzNzkyNjQyLjMwOTA4QG1ldGFjYXJ0YS5jb20+","inReplyToHeader":"PDQzNzkxRUY2LjIwODA0MDdAYXJjaGl2ZS5vcmc+","referencesHeader":"PDQzNzM3RTM3LjUwNTAzMDlAbWV0YWNhcnRhLmNvbT4gPDQzNzkxRUY2LjIwODA0MDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":2362,"nextInTopic":0,"prevInTime":2362,"nextInTime":2364,"topicId":2355,"numMessagesInTopic":3,"msgSnippet":"... We are using the tagged 1.5 branch Heritrix. The sourceforge.net bug report sounds like what I m seeing.  It also sounds like it has not been resolved yet,","rawEmail":"Return-Path: &lt;kwright@...&gt;\r\nX-Sender: kwright@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 18183 invoked from network); 15 Nov 2005 00:04:27 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m22.grp.scd.yahoo.com with QMQP; 15 Nov 2005 00:04:27 -0000\r\nReceived: from unknown (HELO metacarta.com) (65.77.47.18)\n  by mta1.grp.scd.yahoo.com with SMTP; 15 Nov 2005 00:04:27 -0000\r\nReceived: from localhost (jackson.metacarta.com [65.77.47.6])\n\tby metacarta.com (Postfix) with ESMTP id 3161C51811B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 14 Nov 2005 19:04:20 -0500 (EST)\r\nReceived: from metacarta.com ([65.77.47.18])\n\tby localhost (jackson.metacarta.com [65.77.47.6]) (amavisd-new, port 10024)\n\twith ESMTP id 32283-06 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 14 Nov 2005 19:04:16 -0500 (EST)\r\nReceived: from [192.168.1.104] (146-115-66-62.c3-0.lex-ubr1.sbo-lex.ma.cable.rcn.com [146.115.66.62])\n\tby metacarta.com (Postfix) with ESMTP id 8D9C7518091\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 14 Nov 2005 19:04:16 -0500 (EST)\r\nMessage-ID: &lt;43792642.30908@...&gt;\r\nDate: Mon, 14 Nov 2005 19:05:22 -0500\r\nUser-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;43737E37.5050309@...&gt; &lt;43791EF6.2080407@...&gt;\r\nIn-Reply-To: &lt;43791EF6.2080407@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at metacarta.com\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Karl Wright &lt;kwright@...&gt;\r\nSubject: Re: [archive-crawler] Replay input stream I/O errors - anybody ever\n seen these?\r\nX-Yahoo-Group-Post: member; u=225011788; y=qKnEx6ZxrLp6DnlSLZxA4MM2c-DQiq1O9EsPjdw7T4G4FPI\r\nX-Yahoo-Profile: daddywri\r\n\r\nstack wrote:\n&gt; Karl Wright wrote:\n&gt; \n&gt; \n&gt;&gt;On Heritrix 1.5, doing an extended crawl, we begin to see errors that\n&gt;&gt;look like the I/O system is getting confused.  These occur occasionally\n&gt;&gt;at first, then with greater frequency.  Here&#39;s a few of them:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;11/09/2005 02:47:42 +0000 SEVERE org.archive.util.FileUtils copyFile\n&gt;&gt;Failed copy, trying workaround: Copying\n&gt;&gt;/usr/share/heritrix/src/jobs/NZ8-20051107193326172/order.xml to\n&gt;&gt;/usr/share/heritrix/src/jobs/NZ8-20051107193326172/order_20051108135026.xml \n&gt;&gt;\n&gt;&gt;with extent 11012 got IOE: Invalid argument\n&gt; \n&gt; \n&gt; The message should be better -- should be a WARNING -- but whats \n&gt; happening here is that workaround code for a 2.6 kernel bug is being \n&gt; triggered; The copy likely succeeded (Check heritrix_out.log subseqent \n&gt; to the above SEVERE to be sure).  Here is pointer to the workaround \n&gt; code: \n&gt; http://crawler.archive.org/xref/org/archive/util/FileUtils.html#272. \n&gt; Follow the cited link to learn more.\n&gt; \n&gt; \n&gt;&gt;\n&gt;&gt;11/09/2005 20:02:19 +0000 SEVERE org.archive.crawler.fetcher.FetchHTTP\n&gt;&gt;innerProcess\n&gt;&gt;http://www.stephensmithenergy.com/PXD_CompanyOutlookReport_7154_FINAL.pdf\n&gt;&gt;RIS still open. Should have been closed by method release: ToeThread\n&gt;&gt;#345:\n&gt;&gt;http://www.stephensmithenergy.com/PXD_CompanyOutlookReport_7154_FINAL.pdf\n&gt;&gt;11/09/2005 20:10:52 +0000 SEVERE org.archive.crawler.fetcher.FetchHTTP\n&gt;&gt;innerProcess\n&gt;&gt;http://www.stephensmithenergy.com/MonthlyEnergyOutlook_6194_FINAL.pdf\n&gt;&gt;RIS still open. Should have been closed by method release: ToeThread\n&gt;&gt;#326: \n&gt;&gt;http://www.stephensmithenergy.com/MonthlyEnergyOutlook_6194_FINAL.pdf\n&gt;&gt;\n&gt;&gt;I looked at the code where the latter error is generated, and can only\n&gt;&gt;conclude that a file close operation is throwing an IOException, which\n&gt;&gt;is interfering with the file being actually marked closed.  I&#39;ve further\n&gt;&gt;confirmed that there is no chance we are out of disk space, or anything\n&gt;&gt;mundane like that.\n&gt; \n&gt; \n&gt; Whats your version of Heritrix?  Is it HEAD?  If so, from what date \n&gt; (JVM, and OS would help too).  Above may have been fixed (See \n&gt; http://sourceforge.net/tracker/?group_id=73833&atid=539099&func=detail&aid=1090916).\n&gt; \n&gt; \n\nWe are using the tagged 1.5 branch Heritrix.\nThe sourceforge.net bug report sounds like what I&#39;m seeing.  It also \nsounds like it has not been resolved yet, at least according to the \nrecord in the bug tracker.\n\nKarl\n\n&gt; \n&gt;&gt;Is it possible that we have a race condition here?  What is the Heritrix\n&gt;&gt;thread model where ReplayInputStream&#39;s are concerned?  If you have a\n&gt;&gt;writer that gets a ReplayInputStream from the curi and uses it (which we\n&gt;&gt;do), is there a chance of interaction with the FetchHTTP stuff?\n&gt;&gt;\n&gt; \n&gt; General model is that a single thread does processing of a CrawlURI from \n&gt; start to finish and but for a few important exceptions -- such as the \n&gt; Frontier -- processors like the FetchHTTP processor are not shared \n&gt; amongst threads; there&#39;s an instance per crawl URI being processed. \n&gt; Files written to disk carry the thread number as suffix so shouldn&#39;t be \n&gt; contention between threads over files: e.g. the files backing \n&gt; RecordingInput/OutputStreams.  Here&#39;s a pertinent section from the dev. \n&gt; manual: http://crawler.archive.org/articles/developer_manual.html#N104CA.\n&gt; \n&gt; Yours,\n&gt; St.Ack\n&gt; \n&gt; \n&gt;&gt;Thanks,\n&gt;&gt;Karl\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;SPONSORED LINKS\n&gt;&gt;Computer internet security \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+security&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=V04yaONvhRiZX9V-9vaMcA&gt; \n&gt;&gt;\tComputer internet business \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+business&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=QEM5QXY5E4yokvfp8I9OxA&gt; \n&gt;&gt;\tComputer internet access \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+access&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=GvFjo1UJpzPMTQeQeWH-9Q&gt; \n&gt;&gt;\n&gt;&gt;Computer internet privacy securities \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+privacy+securities&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=2cAxh4C_HeZYnGK5pWGQjg&gt; \n&gt;&gt;\tComputer internet help \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+help&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=XyuTAshDdmCMqHSTUW6r1Q&gt; \n&gt;&gt;\tComputer internet connection \n&gt;&gt;&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+internet+connection&w1=Computer+internet+security&w2=Computer+internet+business&w3=Computer+internet+access&w4=Computer+internet+privacy+securities&w5=Computer+internet+help&w6=Computer+internet+connection&c=6&s=198&.sig=PWZ1Hrcj8Yl7bPjnNBOESg&gt; \n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;------------------------------------------------------------------------\n&gt;&gt;YAHOO! GROUPS LINKS\n&gt;&gt;\n&gt;&gt;    *  Visit your group &quot;archive-crawler\n&gt;&gt;      &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;&gt;       \n&gt;&gt;    *  To unsubscribe from this group, send an email to:\n&gt;&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;&gt;      &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;&gt;       \n&gt;&gt;    *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;&gt;      Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;------------------------------------------------------------------------\n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n"}}