{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":468364830,"authorName":"Mahmoud Mubarak","from":"Mahmoud Mubarak &lt;mahmoud.mubarak@...&gt;","profile":"mahmoudmubarak@ymail.com","replyTo":"LIST","senderId":"pNnkNXi-XqfNj199KrXrwOZUlYjqXRLqXaDV7ueyfQ1ha9DJf9xLqEcyvb17tDn6znnRaWsObDm4QbVW9gkudnOcZNWPPpm0voi4tMnSB0bv-bfg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: TooManyHopsDecideRule","postDate":"1297668059","msgId":7022,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRENThEN0RCLjUwNzA5MDNAYmliYWxleC5vcmc+","inReplyToHeader":"PGlpdHJvNytvbXFqQGVHcm91cHMuY29tPg==","referencesHeader":"PGlpdHJvNytvbXFqQGVHcm91cHMuY29tPg=="},"prevInTopic":7010,"nextInTopic":0,"prevInTime":7021,"nextInTime":7023,"topicId":7009,"numMessagesInTopic":3,"msgSnippet":"It works now. The sequence of domain crawling with maxHops equals 2 is:  ","rawEmail":"Return-Path: &lt;Mahmoud.Mubarak@...&gt;\r\nX-Sender: Mahmoud.Mubarak@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 30564 invoked from network); 14 Feb 2011 07:19:45 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m6.grp.sp2.yahoo.com with QMQP; 14 Feb 2011 07:19:45 -0000\r\nX-Received: from unknown (HELO mail.bibalex.org) (196.204.161.5)\n  by mta3.grp.sp2.yahoo.com with SMTP; 14 Feb 2011 07:19:45 -0000\r\nX-Received: from [10.8.32.100] (10.8.32.100) by mail.bibalex.org (10.202.2.22)\n with Microsoft SMTP Server (TLS) id 8.3.137.0; Mon, 14 Feb 2011 09:19:43\n +0200\r\nMessage-ID: &lt;4D58D7DB.5070903@...&gt;\r\nDate: Mon, 14 Feb 2011 09:20:59 +0200\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7\r\nMIME-Version: 1.0\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nReferences: &lt;iitro7+omqj@...&gt;\r\nIn-Reply-To: &lt;iitro7+omqj@...&gt;\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;------------080408090707020303040402&quot;\r\nReturn-Path: mahmoud.mubarak@...\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Mahmoud Mubarak &lt;mahmoud.mubarak@...&gt;\r\nSubject: Re: [archive-crawler] Re: TooManyHopsDecideRule\r\nX-Yahoo-Group-Post: member; u=468364830; y=tqMJ0UNWdMBTgbvT1-TJ6zR1texzKe_Lyxnuvweyh_joA8tqEdpiw6KA387DrI-FF1RX\r\nX-Yahoo-Profile: mahmoudmubarak@...\r\n\r\n\r\n--------------080408090707020303040402\r\nContent-Type: text/plain; charset=&quot;windows-1252&quot;; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nIt works now. The sequence of domain crawling with maxHops equals 2 is:\n\n&lt;bean class=&quot;org.archive.modules.deciderules.RejectDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule&quot;&gt;\n      &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n      &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot;/&gt;\n      &lt;property name=&quot;surtsDumpFile&quot; value=&quot;negative-surts.dump&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.MatchesListRegexDecideRule&quot;&gt;\n      &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.PathologicalPathDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n      &lt;property name=&quot;maxPathDepth&quot; value=&quot;20&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.SchemeNotInSetDecideRule&quot;&gt;&lt;/bean&gt;\n\n\n&lt;bean class=&quot;org.archive.modules.deciderules.surt.OnDomainsDecideRule&quot;&gt;\n      &lt;property name=&quot;decision&quot; value=&quot;ACCEPT&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n      &lt;property name=&quot;maxHops&quot; value=&quot;2&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;&gt;&lt;/bean&gt;\n\n\nThanks, Kris.\n\n-- \nMahmoud A. Mubarak\nBibliotheca Alexandrina\n\n\nOn 02/09/2011 12:53 PM, kristsi25 wrote:\n&gt;\n&gt;\n&gt;\n&gt; Remember that it is the last decide rule that wins. So if a rule that \n&gt; comes after the TooManyHopsDecideRule accepts the URL, then that \n&gt; verdict supersedes the one made by the TooManyHopsDecideRule.\n&gt;\n&gt; Typically, the last rule is to always allow prerequisites \n&gt; (DNS/robots.txt) and for those you could get a larger hoppath.\n&gt;\n&gt; - Kris\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Mahmoud Mubarak \n&gt; &lt;mahmoud.mubarak@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; How can I limit the maximum hops to 2? I did the follow in\n&gt; &gt; crawler-beans.cxml:\n&gt; &gt;\n&gt; &gt; &lt;bean class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n&gt; &gt;\n&gt; &gt; &lt;property name=&quot;maxHops&quot; value=&quot;2&quot;/&gt;\n&gt; &gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; But I noticed that the length of the discovery path of the crawled URIs\n&gt; &gt; exceeds 2. What did I miss?\n&gt; &gt;\n&gt; &gt; --\n&gt; &gt; Mahmoud A. Mubarak\n&gt; &gt; Bibliotheca Alexandrina\n&gt; &gt;\n&gt;\n\r\n--------------080408090707020303040402\r\nContent-Type: text/html; charset=&quot;windows-1252&quot;\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta content=&quot;text/html; charset=windows-1252&quot;\n      http-equiv=&quot;Content-Type&quot;&gt;\n    &lt;title&gt;&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body text=&quot;#000000&quot; bgcolor=&quot;#ffffff&quot;&gt;\n    &lt;pre wrap=&quot;&quot;&gt;It works now. The sequence of domain crawling with maxHops equals 2 is:\n\n&lt;bean class=&quot;org.archive.modules.deciderules.RejectDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule&quot;&gt;\n     &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n     &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot;/&gt;\n     &lt;property name=&quot;surtsDumpFile&quot; value=&quot;negative-surts.dump&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.MatchesListRegexDecideRule&quot;&gt;\n     &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.PathologicalPathDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n     &lt;property name=&quot;maxPathDepth&quot; value=&quot;20&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.SchemeNotInSetDecideRule&quot;&gt;&lt;/bean&gt;\n\n\n&lt;bean class=&quot;org.archive.modules.deciderules.surt.OnDomainsDecideRule&quot;&gt;\n     &lt;property name=&quot;decision&quot; value=&quot;ACCEPT&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n     &lt;property name=&quot;maxHops&quot; value=&quot;2&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;&gt;&lt;/bean&gt;\n\n\nThanks, Kris.\n&lt;/pre&gt;\n    &lt;pre class=&quot;moz-signature&quot; cols=&quot;72&quot;&gt;-- \nMahmoud A. Mubarak\nBibliotheca Alexandrina&lt;/pre&gt;\n    &lt;br&gt;\n    On 02/09/2011 12:53 PM, kristsi25 wrote:\n    &lt;blockquote cite=&quot;mid:iitro7+omqj@...&quot; type=&quot;cite&quot;&gt;\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;\n        charset=windows-1252&quot;&gt;\n      &lt;span style=&quot;display: none;&quot;&gt;ï¿½&lt;/span&gt;\n      \n          &lt;div id=&quot;ygrp-text&quot;&gt;\n            &lt;p&gt;&lt;br&gt;\n              &lt;br&gt;\n              Remember that it is the last decide rule that wins. So if\n              a rule that comes after the TooManyHopsDecideRule accepts\n              the URL, then that verdict supersedes the one made by the\n              TooManyHopsDecideRule.&lt;br&gt;\n              &lt;br&gt;\n              Typically, the last rule is to always allow prerequisites\n              (DNS/robots.txt) and for those you could get a larger\n              hoppath.&lt;br&gt;\n              &lt;br&gt;\n              - Kris &lt;br&gt;\n              &lt;br&gt;\n              --- In &lt;a moz-do-not-send=&quot;true&quot;\n                href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;,\n              Mahmoud Mubarak &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:mahmoud.mubarak@...&quot;&gt;&lt;mahmoud.mubarak@...&gt;&lt;/a&gt; wrote:&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; How can I limit the maximum hops to 2? I did the\n              follow in &lt;br&gt;\n              &gt; crawler-beans.cxml:&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; &lt;bean\n              class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; &lt;property name=&quot;maxHops&quot; value=&quot;2&quot;/&gt;&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; &lt;/bean&gt;&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; But I noticed that the length of the discovery path\n              of the crawled URIs &lt;br&gt;\n              &gt; exceeds 2. What did I miss?&lt;br&gt;\n              &gt; &lt;br&gt;\n              &gt; -- &lt;br&gt;\n              &gt; Mahmoud A. Mubarak&lt;br&gt;\n              &gt; Bibliotheca Alexandrina&lt;br&gt;\n              &gt;&lt;br&gt;\n            &lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/blockquote&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------080408090707020303040402--\r\n\n"}}