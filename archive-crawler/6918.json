{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":446408637,"authorName":"dechouxb","from":"&quot;dechouxb&quot; &lt;dechouxb@...&gt;","profile":"dechouxb","replyTo":"LIST","senderId":"9eQNDccI8GdEUIENv6st3W-6UH9w32o5NJqiZqdvNlvEs_XN31k_ZSi3SMG2ARJIccXy9NqMKggTnBQbeQBEqE4sh1TGyQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"General questions and questions about DecideRule","postDate":"1292575916","msgId":6918,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGllZjhiYyttOXM3QGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":6921,"prevInTime":6917,"nextInTime":6919,"topicId":6918,"numMessagesInTopic":4,"msgSnippet":"Hi, I basically would like to contribute back to H3. But first I have a few questions : * How does serialization work within H3? * I believe I saw that job","rawEmail":"Return-Path: &lt;dechouxb@...&gt;\r\nX-Sender: dechouxb@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 44908 invoked from network); 17 Dec 2010 08:51:57 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m8.grp.sp2.yahoo.com with QMQP; 17 Dec 2010 08:51:57 -0000\r\nX-Received: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta3.grp.sp2.yahoo.com with SMTP; 17 Dec 2010 08:51:57 -0000\r\nX-Received: from [69.147.65.148] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 17 Dec 2010 08:51:56 -0000\r\nX-Received: from [98.137.34.34] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 17 Dec 2010 08:51:56 -0000\r\nDate: Fri, 17 Dec 2010 08:51:56 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;ief8bc+m9s7@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;7-3473188789-0884170478=:6&quot;\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;dechouxb&quot; &lt;dechouxb@...&gt;\r\nSubject: General questions and questions about DecideRule\r\nX-Yahoo-Group-Post: member; u=446408637; y=o6ALP2OVkxMwavg3w5TqAOkwaH3Sfo0P7180gNbRKoLAT_s\r\nX-Yahoo-Profile: dechouxb\r\n\r\n\r\n--7-3473188789-0884170478=:6\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi,\n\nI basically would like to contribute back to H3. But first I have a fe=\r\nw\nquestions :\n\n\n    * How does serialization work within H3?\n\n    * I belie=\r\nve I saw that job configuration might be serialized, not\nusing the standard=\r\n java serialization, but a JSON variant. Is there a\nrelation with the HasKe=\r\nyedProperties interface or is this interface\nuniquely for sheet-based conte=\r\nxtual overriding of properties?\n\n    * What is the development relationship=\r\ns between version 1, 2 and 3 of\narchive-crawler/Heritrix? I guess bug fixes=\r\n are spread as much as\npossible but what about if a minor architectural cha=\r\nnge was made within\nH3?\n\n    * Could the design of DecideRule be simplified=\r\n?\n\nBasically, for code reading/understanding/maintenance, high inheritance\n=\r\ntrees are not that great. The current DecideRule mother class has many\nchil=\r\ndren and could abstracted with :\n\npackage org.archive.modules.decisions;\n\np=\r\nublic interface DecideRule implements Serializable {\n\n     boolean accepts(=\r\nCrawlURI uri);\n\n}\n\nThe other real public method (a method which is used out=\r\nside any\nDecideRule classes) is decisionFor(CrawlURI). But really, I believ=\r\ne the\ntree-state logic does not have to leak out from the DecideRule variou=\r\ns\nimplementations. The NONE DecideResult has no reason to be used\nconsisten=\r\ntly because the callers want a boolean decision. That is\nsomething which sl=\r\nows down the setting up and updating of rules ie &#39;How\nNONE was handled for =\r\nthat particular implementation?&#39; &#39;Does it only keep\nCrawlURI with ACCEPT or=\r\n does it only ignore CrawlURI with REJECT?&#39; ...\n\nAll current implementation=\r\ns could use the accepts(CrawlURI uri) method.\nThose which are currently usi=\r\nng decisionFor(CrawlURI) could be\nrefactored with full backward compatibili=\r\nty using a DecideRuleSequence\nand the right default constant DecideResult w=\r\nithout changing their API\nand their behaviour.\n\nI am of course volunteering=\r\n for the task. I only wanted to have your\nthoughts before starting any codi=\r\nng work. I might not understand/know\nall the reasons for the current design=\r\n. And at the end of the day, I\nwill need your agreement for the work to be =\r\nintegrated into the current\nversion of H3.\n\nRegards\n\nBertrand Dechoux\n\r\n--7-3473188789-0884170478=:6\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi,&lt;br&gt;&lt;br&gt;I basically would like to contribute back to H3. But first I hav=\r\ne a few questions :&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt;How does serialization work within H3?&lt;/=\r\nli&gt;&lt;/ul&gt;&lt;div align=3D&quot;left&quot;&gt;&lt;ul&gt;&lt;li&gt;I believe I saw that job configuration =\r\nmight be serialized, not using the standard java serialization, but a JSON =\r\nvariant. Is there a relation with the &lt;span style=3D&quot;font-style: italic;fon=\r\nt-family: courier new;&quot;&gt;HasKeyedProperties&lt;/span&gt; interface or is this inte=\r\nrface uniquely for sheet-based contextual overriding of properties?&lt;/li&gt;&lt;/u=\r\nl&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;What is the development relationships between version 1, 2 =\r\nand 3 of archive-crawler/Heritrix? I guess bug fixes are spread as much as =\r\npossible but what about if a minor architectural change was made within H3?=\r\n&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;Could the design of &lt;span style=3D&quot;font-style: italic;fon=\r\nt-family: courier new;&quot;&gt;DecideRule&lt;/span&gt; be simplified?&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;Basic=\r\nally, for code reading/understanding/maintenance, high inheritance trees ar=\r\ne not that great. The current &lt;span style=3D&quot;font-style: italic;font-family=\r\n: courier new;&quot;&gt;DecideRule&lt;/span&gt; mother class has many children and could =\r\nabstracted with :&lt;br&gt;&lt;br&gt;&lt;blockquote&gt;&lt;span style=3D&quot;background-color: rgb(2=\r\n30, 230, 230);&quot;&gt;package org.archive.modules.decisions;&lt;/span&gt;&lt;br style=3D&quot;b=\r\nackground-color: rgb(230, 230, 230);&quot;&gt;&lt;br style=3D&quot;background-color: rgb(23=\r\n0, 230, 230);&quot;&gt;&lt;span style=3D&quot;background-color: rgb(230, 230, 230);&quot;&gt;public=\r\n interface DecideRule implements Serializable {&lt;/span&gt;&lt;br&gt;&lt;br style=3D&quot;back=\r\nground-color: rgb(230, 230, 230);&quot;&gt;&lt;span style=3D&quot;background-color: rgb(230=\r\n, 230, 230);&quot;&gt;&nbsp;&nbsp;&nbsp; boolean accepts(CrawlURI uri);&lt;br&gt;&lt;/span&gt;&lt;=\r\nspan style=3D&quot;background-color: rgb(230, 230, 230);&quot;&gt;&lt;/span&gt;&lt;br style=3D&quot;ba=\r\nckground-color: rgb(230, 230, 230);&quot;&gt;&lt;span style=3D&quot;background-color: rgb(2=\r\n30, 230, 230);&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;The other real public method (=\r\na method which is used outside any &lt;span style=3D&quot;font-family: courier new;=\r\nfont-style: italic;&quot;&gt;DecideRule&lt;/span&gt; classes) is &lt;span style=3D&quot;font-styl=\r\ne: italic;font-family: courier new;&quot;&gt;decisionFor(CrawlURI)&lt;/span&gt;. But real=\r\nly, I believe the tree-state logic does not have to leak out from the &lt;span=\r\n style=3D&quot;font-style: italic;font-family: courier new;&quot;&gt;DecideRule&lt;/span&gt; v=\r\narious implementations. The &lt;span style=3D&quot;font-family: courier new;font-st=\r\nyle: italic;&quot;&gt;NONE DecideResult&lt;/span&gt; has no reason to be used consistentl=\r\ny because the callers want a boolean decision. That is something which slow=\r\ns down the setting up and updating of rules ie &#39;How &lt;span style=3D&quot;font-sty=\r\nle: italic;font-family: courier new;&quot;&gt;NONE&lt;/span&gt; was handled for that part=\r\nicular implementation?&#39; &#39;Does it only keep &lt;span style=3D&quot;font-family: cour=\r\nier new;font-style: italic;&quot;&gt;CrawlURI&lt;/span&gt; with &lt;span style=3D&quot;font-famil=\r\ny: courier new;font-style: italic;&quot;&gt;ACCEPT&lt;/span&gt; or does it only ignore &lt;s=\r\npan style=3D&quot;font-family: courier new;font-style: italic;&quot;&gt;CrawlURI&lt;/span&gt; =\r\nwith &lt;span style=3D&quot;font-family: courier new;font-style: italic;&quot;&gt;REJECT&lt;/s=\r\npan&gt;?&#39; ...&lt;br&gt;&lt;br&gt;All current implementations could use the &lt;span style=3D&quot;=\r\nfont-style: italic;font-family: courier new;&quot;&gt;accepts(CrawlURI uri)&lt;/span&gt; =\r\nmethod. Those which are currently using &lt;span style=3D&quot;font-style: italic;f=\r\nont-family: courier new;&quot;&gt;decisionFor(CrawlURI) &lt;/span&gt;could be refactored =\r\nwith full backward compatibility using a &lt;span style=3D&quot;font-style: italic;=\r\nfont-family: courier new;&quot;&gt;DecideRuleSequence&lt;/span&gt; and the right default =\r\nconstant &lt;span style=3D&quot;font-style: italic;font-family: courier new;&quot;&gt;Decid=\r\neResult&lt;/span&gt; without changing their API and their behaviour.&lt;br&gt;&lt;br&gt;I am =\r\nof course volunteering for the task. I only wanted to have your thoughts be=\r\nfore starting any coding work. I might not understand/know all the reasons =\r\nfor the current design. And at the end of the day, I will need your agreeme=\r\nnt for the work to be integrated into the current version of H3.&lt;br&gt;&lt;br&gt;Reg=\r\nards&lt;br&gt;&lt;br&gt;Bertrand Dechoux\n\r\n--7-3473188789-0884170478=:6--\r\n\n"}}