{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":140025715,"authorName":"progre55","from":"&quot;progre55&quot; &lt;ikromchik@...&gt;","profile":"progre55","replyTo":"LIST","senderId":"FYyKPjrh0n-PJ-gt8Ug1rzJ1mZdIMTpvf8gyEf1vQFGduMrB-EPx4jLdDCaK6VEONZjUy8QWe0hD4ICz0qfBQDpxbT4ZYms","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Loading cookies from a file on H3","postDate":"1311682977","msgId":7227,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGowbWJqMSs2M3RqQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":7228,"prevInTime":7226,"nextInTime":7228,"topicId":7227,"numMessagesInTopic":7,"msgSnippet":"Hi guys, I ve been playing around with H3, and noticed that loading cookies from a file doesn t really work. When tried analyzing the code, I found out that","rawEmail":"Return-Path: &lt;ikromchik@...&gt;\r\nX-Sender: ikromchik@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 61358 invoked from network); 26 Jul 2011 12:22:58 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m7.grp.sp2.yahoo.com with QMQP; 26 Jul 2011 12:22:58 -0000\r\nX-Received: from unknown (HELO n38b.bullet.mail.sp1.yahoo.com) (66.163.168.152)\n  by mta3.grp.sp2.yahoo.com with SMTP; 26 Jul 2011 12:22:58 -0000\r\nX-Received: from [69.147.65.173] by n38.bullet.mail.sp1.yahoo.com with NNFMP; 26 Jul 2011 12:22:58 -0000\r\nX-Received: from [98.137.34.32] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 26 Jul 2011 12:22:58 -0000\r\nDate: Tue, 26 Jul 2011 12:22:57 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j0mbj1+63tj@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;progre55&quot; &lt;ikromchik@...&gt;\r\nSubject: Loading cookies from a file on H3\r\nX-Yahoo-Group-Post: member; u=140025715; y=9MKuEzo8O_uJI1hwj9xyJu1yWdcORUn7C5lziGiA7U5QRsGm\r\nX-Yahoo-Profile: progre55\r\n\r\nHi guys,\n\nI&#39;ve been playing around with H3, and noticed that loading cookie=\r\ns from a file doesn&#39;t really work. When tried analyzing the code, I found o=\r\nut that the loadCookies() method reads the file, but doesn&#39;t store the cook=\r\nies read. Here is the method in original form, and as you can see, Cookie o=\r\nbjects are created, but not put into the SortedMap:\n\n    public static void=\r\n loadCookies(String cookiesFile, \n            SortedMap&lt;String,Cookie&gt; resu=\r\nlt) {\n\n        // Do nothing if cookiesFile is not specified.\n        if (c=\r\nookiesFile =3D=3D null || cookiesFile.length() &lt;=3D 0) {\n            return=\r\n;\n        }\n        RandomAccessFile raf =3D null;\n        try {\n          =\r\n  raf =3D new RandomAccessFile(cookiesFile, &quot;r&quot;);\n            String[] cook=\r\nieParts;\n            String line;\n            Cookie cookie =3D null;\n     =\r\n       while ((line =3D raf.readLine()) !=3D null) {\n                // Lin=\r\ne that starts with # is commented line, therefore skip it.\n                =\r\nif (!line.startsWith(&quot;#&quot;)) {\n                    cookieParts =3D line.split=\r\n(&quot;&#92;&#92;t&quot;);\n                    if (cookieParts.length =3D=3D 7) {\n           =\r\n             // Create cookie with not expiration date (-1 value).\n        =\r\n                // TODO: add this as an option.\n                        coo=\r\nkie =3D new Cookie(cookieParts[0], cookieParts[5],\n                        =\r\n        cookieParts[6], cookieParts[2], -1, Boolean\n                       =\r\n                 .valueOf(cookieParts[3]).booleanValue());\n\n               =\r\n         if (cookieParts[1].toLowerCase().equals(&quot;true&quot;)) {\n               =\r\n             cookie.setDomainAttributeSpecified(true);\n                    =\r\n    } else {\n                            cookie.setDomainAttributeSpecified=\r\n(false);\n                        }\n                        \n               =\r\n         LOGGER.fine(&quot;Adding cookie: &quot;\n                                    =\r\n    + cookie.toExternalForm());\n                    }\n                }\n   =\r\n         }\n        } catch (FileNotFoundException e) {\n            LOGGER.l=\r\nog(Level.WARNING,&quot;Could not find file: &quot; + cookiesFile, e);\n        } catch=\r\n (IOException e) {\n            LOGGER.log(Level.WARNING,e.getMessage(), e);=\r\n\n        } finally {\n            ArchiveUtils.closeQuietly(raf);\n        }\n=\r\n    }\n\nOr am I missing something here? I have just checked out heritrix 3 f=\r\nrom this svn url https://archive-crawler.svn.sourceforge.net/svnroot/archiv=\r\ne-crawler/trunk/heritrix3/ and hope it&#39;s the right place.\n\nRegards,\nprogre5=\r\n5\n\n\n"}}