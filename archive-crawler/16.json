{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":95697582,"authorName":"G.B.Reddy","from":"&quot;G.B.Reddy&quot; &lt;reddy@...&gt;","profile":"gbreddysoft","replyTo":"LIST","senderId":"4qcVz3CqvLzJBFkvkWUKPd-bukipUmhkibjJu9XhTFOiuOI-1vr3CBGSEVj2sOPLROhSHM9Cm4Kzs6K1zZArLJgBY5iLq5IIaAmgREY","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Web crawler work ??","postDate":"1046697556","msgId":16,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAxNDUwMWMyZTE4NyQ3ZTg3NWM3MCRkNTAwYThjMEB0aWRlbHBhcmsuaXNvZnR0ZWNoaW5kaWEuY29tPg==","referencesHeader":"PDM3ZWQwMWMyZDczNCQ0ZjQ0NjliMCRkNTAwYThjMEBSZWRkeUdCPiA8MDM4MDAxYzJkN2I2JDJjMTIxZjAwJDNhZWJlZGQxQGdvam92YWlvPiA8M2ZlMDAxYzJkOWM3JGU1OGE0YTgwJGQ1MDBhOGMwQFJlZGR5R0I+IDwwMGRjMDFjMmRhMDckNjZlZTEzNjAkM2FlYmVkZDFAZ29qb3ZhaW8+IDwwNzY5MDFjMmRlODEkMTNmY2ZlOTAkZDUwMGE4YzBAdGlkZWxwYXJrLmlzb2Z0dGVjaGluZGlhLmNvbT4gPDAwOGUwMWMyZGY2ZSQzZDQ4NGJlMCQ0ZGViZWRkMUBXT1JLU1RBVElPTjIxPg=="},"prevInTopic":15,"nextInTopic":18,"prevInTime":15,"nextInTime":17,"topicId":12,"numMessagesInTopic":6,"msgSnippet":"Yes, it is a local name server. It could also be remote. -Reddy ... From: Gordon Mohr To: archive-crawler@yahoogroups.com Cc: Raymie Stata ;","rawEmail":"Return-Path: &lt;reddy@...&gt;\r\nX-Sender: reddy@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_4); 3 Mar 2003 13:19:28 -0000\r\nReceived: (qmail 27908 invoked from network); 3 Mar 2003 13:19:28 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m5.grp.scd.yahoo.com with QMQP; 3 Mar 2003 13:19:28 -0000\r\nReceived: from unknown (HELO pub.isofttechindia.com) (203.199.202.17)\n  by mta2.grp.scd.yahoo.com with SMTP; 3 Mar 2003 13:19:26 -0000\r\nReceived: from ReddyGB (ReddyGB.isofttechindia.com [192.168.0.213])\n\tby pub.isofttechindia.com (8.11.0/8.11.0) with SMTP id h23DGri14926;\n\tMon, 3 Mar 2003 18:46:54 +0530\r\nMessage-ID: &lt;014501c2e187$7e875c70$d500a8c0@...&gt;\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nCc: &quot;Raymie Stata&quot; &lt;raymie@...&gt;, &lt;wcr-team@...&gt;\r\nReferences: &lt;37ed01c2d734$4f4469b0$d500a8c0@ReddyGB&gt; &lt;038001c2d7b6$2c121f00$3aebedd1@gojovaio&gt; &lt;3fe001c2d9c7$e58a4a80$d500a8c0@ReddyGB&gt; &lt;00dc01c2da07$66ee1360$3aebedd1@gojovaio&gt; &lt;076901c2de81$13fcfe90$d500a8c0@...&gt; &lt;008e01c2df6e$3d484be0$4debedd1@WORKSTATION21&gt;\r\nSubject: Re: [archive-crawler] Re: Web crawler work ??\r\nDate: Mon, 3 Mar 2003 18:49:16 +0530\r\nOrganization: ISoftTech\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_0142_01C2E1B5.97435E20&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4920.2300\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4920.2300\r\nX-eGroups-From: &quot;G.B.Reddy&quot; &lt;reddy@...&gt;\r\nFrom: &quot;G.B.Reddy&quot; &lt;reddy@...&gt;\r\nReply-To: &quot;G.B.Reddy&quot; &lt;reddy@...&gt;\r\nX-Yahoo-Group-Post: member; u=95697582\r\nX-Yahoo-Profile: gbreddysoft\r\n\r\n\r\n------=_NextPart_000_0142_01C2E1B5.97435E20\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n\nYes, it is a local name server. It could also be remote.\n\n-Reddy\n\n  ----- =\r\nOriginal Message ----- \n  From: Gordon Mohr \n  To: archive-crawler@yahoogro=\r\nups.com \n  Cc: Raymie Stata ; wcr-team@... \n  Sent: Saturday=\r\n, March 01, 2003 2:43 AM\n  Subject: Re: [archive-crawler] Re: Web crawler w=\r\nork ??\n\n\n  Sounds like a reasonable plan.\n\n  By &quot;local name server&quot; do you =\r\nmean something *very* local -- for example,\n  a standard nameserver we run =\r\non the same machine?\n\n  That would seem to offer other benefits -- such as =\r\nminimizing the modes\n  of DNS lookup we have to do and offloading caching t=\r\no another piece of\n  software (at least at first).\n\n  - Gordon\n\n  ----- Ori=\r\nginal Message -----\n  From: G.B.Reddy\n  To: archive-crawler@yahoogroups.com=\r\n\n  Cc: Raymie Stata ; wcr-team@...\n  Sent: Thursday, Februar=\r\ny 27, 2003 8:55 AM\n  Subject: Re: [archive-crawler] Re: Web crawler work ??=\r\n\n\n\n  Gordon and Raymie,\n\n  Here goes the proposal for the asynchronous DNS =\r\nlookup API implementation.\n\n  We shall implement a minimal resolver which i=\r\ns capable of sending DNS request packets and processing response packets in=\r\n an\n  asynchrounous nio fashion. This resolver class will contact a local n=\r\name server and rely on it to do the actual lookup. The local\n  name server =\r\nwill be configured to support recursion and better would be to use a name s=\r\nerver which does lookup asynchronously. (\n  SQUID has asynchronous DNS look=\r\nup facilities ).  Even if the local name server is not asynchrounous, our j=\r\nava resolver being\n  asynchronous will be good enough since our primary goa=\r\nl is that we do not want any blocking code in our crawler implementation. T=\r\nhis\n  idea even sounds good considering the fact we would only reinvent the=\r\n same wheel if we opt to implement a complete full-fledged\n  resolver imple=\r\nmentation which complies with the RFC 1035 and 1034. We can definitely impl=\r\nement this full-fledged resolver but the\n  real concern is that this would =\r\nrequire a lot of testing and the efforts to make it rock solid in terms of =\r\nrobustness would be huge.\n\n  So, the various jobs that we would have to do =\r\nto build our Simple Asynchronous DNS lookup API would be\n      -- Request p=\r\nacket formation and reply packet parsing in the exact RFC format.\n      -- =\r\nUse non-blocking IO APIs and do UDP. (We might not need TCP since the name =\r\nserver is only in the local network.)\n      -- Do canonical name queries an=\r\nd A record queries.\n      -- Implement timeouts.\n      -- Implement caching=\r\n based on TTL. ( This may have to be deferred as pointed by Raymie earlier.=\r\n )\n      -- Integrate with SEDA.\n\n  Thanks,\n  Reddy\n\n  ----- Original Messa=\r\nge -----\n  From: Gordon Mohr\n  To: G.B.Reddy\n  Cc: Raymie Stata ; wcr-team@=\r\nisofttechindia.com ; archive-crawler@yahoogroups.com\n  Sent: Saturday, Febr=\r\nuary 22, 2003 5:37 AM\n  Subject: [archive-crawler] Re: Web crawler work ??\n=\r\n\n\n  [CC&#39;ing to archive-crawler@yahoogroups.com]\n\n  Reddy writes:\n\n  &gt; On th=\r\ne first cut do we need to look at implementing an asynchronous DNS\n  &gt; look=\r\nup mechanism. If we are not, then it is going to be two stages, viz.\n  &gt; DN=\r\nSCacheHandlingStage and ResolvingStage, that can be employed using the\n  &gt; =\r\nblocking DNS lookup calls in Java. The first stage, DNSCacheHandlingStage,\n=\r\n  &gt; would check if the entry is available in the cache. If available, he wo=\r\nuld\n  &gt; set the resolved address in the CrawlURI object and enqueue it to t=\r\nhe\n  &gt; appropriate next stage. If the cache doesn&#39;t contain the entry, then=\r\n he\n  &gt; would pass the request to the Resolving stage which would call the\n=\r\n  &gt; InetAddress.getByName blocking method to resolve it. The getByName resu=\r\nlt\n  &gt; would be set in the CrawlURI object as before and enqueued into the\n=\r\n  &gt; appropriate next stage. In addition to this, the Resolving stage will\n =\r\n &gt; enqueue another event into the DNSCacheHandlingStage to enable him updat=\r\ne\n  &gt; his cache. So, the DNSCacheHandlingStage would be handling two types =\r\nof\n  &gt; events, one is the lookup events and the other is the update cache e=\r\nvents.\n  &gt;\n  &gt; One problem here is that the InetAddress class does not expo=\r\nse its cache\n  &gt; variables to its users. Even we cannot check if the cache =\r\nhas an entry\n  &gt; before calling the getByName method. So, we should be disa=\r\nbling the java\n  &gt; cache ( using the policy file ) and implementing our own=\r\n caching mechanism.\n  &gt; ( The DNSCacheHandlingStage would have to additiona=\r\nlly do the job of\n  &gt; throwing away the expired entries in the cache also.)=\r\n\n  &gt;\n  &gt; Let me know your comments on this.\n\n  This looks like a good first=\r\n cut. I&#39;m still working to improve my\n  understanding of the best way to us=\r\ne the staged style, mostly by\n  looking at their HTTP and HTTP Server (Habo=\r\nob) code.\n\n  It seems that they&#39;ve tended to use a single Stage object to d=\r\no\n  many different steps/aspects of one process, by switching on the\n  type=\r\n of QueueElement received.\n\n  So for example their seda.sandStorm.seda.apps=\r\n.Haboob.http.HttpRecv\n  accepts events of types....\n\n    - httpConnection\n =\r\n   - httpRequest\n    - SinkClosedEvent\n    - timerEvent\n\n  And their seda.s=\r\nandStorm.lib.http.httpServer accepts events of\n  types...\n\n    - ATcpInPack=\r\net\n    - ATcpConnection\n    - aSocketErrorEvent\n    - SinkDrainedEvent\n    =\r\n- SinkCloggedEvent\n    - SinkClosedEvent\n    - ATcpListenSuccessEvent\n\n  Th=\r\ney also use Sinks that are not associated with stages; rather,\n  they inter=\r\nface to unstaged components which nonetheless result in\n  an eventual event=\r\n to some supplied answer Sink. See for example\n  seda.sandStorm.lib.http.ht=\r\ntpConnection.\n\n  So perhaps as a matter of grouping related tasks, the same=\r\n Stage object\n  should be re-entered over the course of a lookup, with diff=\r\nerent triggering\n  events. For example, you might want to reenter a single =\r\nDNSResolvingStage\n  over the course of cache lookup, lookup-initiation, res=\r\nult-receiving (or\n  timeout), etc. I&#39;m not sure; use your judgement as to h=\r\now many stages are\n  really needed.\n\n  &gt; P.S : We found some openly availab=\r\nle async dns client APIs in C language.\n\n  That could be useful as a model.=\r\n (I doubt we&#39;d want to call out to C\n  for this simple step, though -- and =\r\nif we nailed down a truly async Java\n  DNS facility, a lot of open source p=\r\nrojects would probably be quite happy.)\n\n  Also: I heard back from Patrick =\r\nEaton about SEDA-style async HTTP client\n  code... he has a rough implement=\r\nation for simple usage, and he knows of\n  another one at Berkeley which goe=\r\ns deeper into HTTP/1.1 conformance and\n  optimal performance. I&#39;ve asked hi=\r\nm to forward whatever additional code\n  or details he can.\n\n  - Gordon\n\n\n\n\n=\r\n  To unsubscribe from this group, send an email to:\n  archive-crawler-unsub=\r\nscribe@yahoogroups.com\n\n\n\n  Your use of Yahoo! Groups is subject to the Yah=\r\noo! Terms of Service.\n\n\n  Yahoo! Groups Sponsor\n  ADVERTISEMENT\n\n\n\n\n  To un=\r\nsubscribe from this group, send an email to:\n  archive-crawler-unsubscribe@=\r\nyahoogroups.com\n\n\n\n  Your use of Yahoo! Groups is subject to the Yahoo! Ter=\r\nms of Service.\n\n\n        Yahoo! Groups Sponsor \n              ADVERTISEMENT=\r\n\n             \n       \n       \n\n  To unsubscribe from this group, send an e=\r\nmail to:\n  archive-crawler-unsubscribe@yahoogroups.com\n\n\n\n  Your use of Yah=\r\noo! Groups is subject to the Yahoo! Terms of Service. \n\n\r\n------=_NextPart_000_0142_01C2E1B5.97435E20\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1=\r\n&quot;&gt;\n&lt;META content=3D&quot;MSHTML 5.50.4134.600&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE&gt;=\r\n\n&lt;/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&=\r\nnbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Yes, it is a local name server=\r\n. It could also be \nremote.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;=\r\n/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;-Reddy&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DI=\r\nV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=3D&quot;PAD=\r\nDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #000000 =\r\n2px solid; MARGIN-RIGHT: 0px&quot;&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;----- Orig=\r\ninal Message ----- &lt;/DIV&gt;\n  &lt;DIV \n  style=3D&quot;BACKGROUND: #e4e4e4; FONT: 10p=\r\nt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A title=3Dgojomo@... h=\r\nref=3D&quot;mailto:gojomo@...&quot;&gt;Gordon Mohr&lt;/A&gt; \n  &lt;/DIV&gt;\n  &lt;DIV style=3D=\r\n&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A \n  title=3Darchive-crawler@yahoogroups.com=\r\n \n  href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;archive-crawler@yahoogr=\r\noups.com&lt;/A&gt; \n  &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Cc:&lt;/B&gt; &lt;A titl=\r\ne=3Draymie@... \n  href=3D&quot;mailto:raymie@...&quot;&gt;Raymie Stata&lt;/=\r\nA&gt; ; &lt;A \n  title=3Dwcr-team@... \n  href=3D&quot;mailto:wcr-team@i=\r\nsofttechindia.com&quot;&gt;wcr-team@...&lt;/A&gt; \n  &lt;/DIV&gt;\n  &lt;DIV style=\r\n=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; Saturday, March 01, 2003 2:43 \n  AM&lt;/DIV=\r\n&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [archive-crawler] R=\r\ne: Web \n  crawler work ??&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;TT&gt;Sounds like a reasonab=\r\nle plan.&lt;BR&gt;&lt;BR&gt;By &quot;local name \n  server&quot; do you mean something *very* loca=\r\nl -- for example,&lt;BR&gt;a standard \n  nameserver we run on the same machine?&lt;B=\r\nR&gt;&lt;BR&gt;That would seem to offer other \n  benefits -- such as minimizing the =\r\nmodes&lt;BR&gt;of DNS lookup we have to do and \n  offloading caching to another p=\r\niece of&lt;BR&gt;software (at least at \n  first).&lt;BR&gt;&lt;BR&gt;- Gordon&lt;BR&gt;&lt;BR&gt;----- Or=\r\niginal Message -----&lt;BR&gt;From: \n  G.B.Reddy&lt;BR&gt;To: &lt;A \n  href=3D&quot;mailto:arch=\r\nive-crawler@yahoogroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/A&gt;&lt;BR&gt;Cc: \n  =\r\nRaymie Stata ; &lt;A \n  href=3D&quot;mailto:wcr-team@...&quot;&gt;wcr-team@i=\r\nsofttechindia.com&lt;/A&gt;&lt;BR&gt;Sent: \n  Thursday, February 27, 2003 8:55 AM&lt;BR&gt;Su=\r\nbject: Re: [archive-crawler] Re: Web \n  crawler work ??&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Gordon a=\r\nnd Raymie,&lt;BR&gt;&lt;BR&gt;Here goes the proposal \n  for the asynchronous DNS lookup=\r\n API implementation.&lt;BR&gt;&lt;BR&gt;We shall implement \n  a minimal resolver which =\r\nis capable of sending DNS request packets and \n  processing response packet=\r\ns in an&lt;BR&gt;asynchrounous nio fashion. This resolver \n  class will contact a=\r\n local name server and rely on it to do the actual lookup. \n  The local&lt;BR&gt;=\r\nname server will be configured to support recursion and better \n  would be =\r\nto use a name server which does lookup asynchronously. (&lt;BR&gt;SQUID has \n  as=\r\nynchronous DNS lookup facilities ).&nbsp; Even if the local name server is =\r\n\n  not asynchrounous, our java resolver being&lt;BR&gt;asynchronous will be good =\r\nenough \n  since our primary goal is that we do not want any blocking code i=\r\nn our crawler \n  implementation. This&lt;BR&gt;idea even sounds good considering =\r\nthe fact we would \n  only reinvent the same wheel if we opt to implement a =\r\ncomplete \n  full-fledged&lt;BR&gt;resolver implementation which complies with the=\r\n RFC 1035 and \n  1034. We can definitely implement this full-fledged resolv=\r\ner but the&lt;BR&gt;real \n  concern is that this would require a lot of testing a=\r\nnd the efforts to make it \n  rock solid in terms of robustness would be hug=\r\ne.&lt;BR&gt;&lt;BR&gt;So, the various jobs \n  that we would have to do to build our Sim=\r\nple Asynchronous DNS lookup API would \n  be&lt;BR&gt;&nbsp;&nbsp;&nbsp; -- Reques=\r\nt packet formation and reply packet parsing \n  in the exact RFC format.&lt;BR&gt;=\r\n&nbsp;&nbsp;&nbsp; -- Use non-blocking IO APIs and \n  do UDP. (We might not=\r\n need TCP since the name server is only in the local \n  network.)&lt;BR&gt;&nbsp;=\r\n&nbsp;&nbsp; -- Do canonical name queries and A record \n  queries.&lt;BR&gt;&nbsp=\r\n;&nbsp;&nbsp; -- Implement timeouts.&lt;BR&gt;&nbsp;&nbsp;&nbsp; -- \n  Implement =\r\ncaching based on TTL. ( This may have to be deferred as pointed by \n  Raymi=\r\ne earlier. )&lt;BR&gt;&nbsp;&nbsp;&nbsp; -- Integrate with \n  SEDA.&lt;BR&gt;&lt;BR&gt;Thanks=\r\n,&lt;BR&gt;Reddy&lt;BR&gt;&lt;BR&gt;----- Original Message -----&lt;BR&gt;From: \n  Gordon Mohr&lt;BR&gt;T=\r\no: G.B.Reddy&lt;BR&gt;Cc: Raymie Stata ; wcr-team@... \n  ; archive=\r\n-crawler@yahoogroups.com&lt;BR&gt;Sent: Saturday, February 22, 2003 5:37 \n  AM&lt;BR=\r\n&gt;Subject: [archive-crawler] Re: Web crawler work ??&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;[CC&#39;ing to \n=\r\n  archive-crawler@yahoogroups.com]&lt;BR&gt;&lt;BR&gt;Reddy writes:&lt;BR&gt;&lt;BR&gt;&gt; On the =\r\nfirst \n  cut do we need to look at implementing an asynchronous DNS&lt;BR&gt;&gt;=\r\n lookup \n  mechanism. If we are not, then it is going to be two stages, viz=\r\n.&lt;BR&gt;&gt; \n  DNSCacheHandlingStage and ResolvingStage, that can be employed=\r\n using \n  the&lt;BR&gt;&gt; blocking DNS lookup calls in Java. The first stage, \n=\r\n  DNSCacheHandlingStage,&lt;BR&gt;&gt; would check if the entry is available in t=\r\nhe \n  cache. If available, he would&lt;BR&gt;&gt; set the resolved address in the=\r\n CrawlURI \n  object and enqueue it to the&lt;BR&gt;&gt; appropriate next stage. I=\r\nf the cache \n  doesn&#39;t contain the entry, then he&lt;BR&gt;&gt; would pass the re=\r\nquest to the \n  Resolving stage which would call the&lt;BR&gt;&gt; InetAddress.ge=\r\ntByName blocking \n  method to resolve it. The getByName result&lt;BR&gt;&gt; woul=\r\nd be set in the \n  CrawlURI object as before and enqueued into the&lt;BR&gt;&gt; =\r\nappropriate next \n  stage. In addition to this, the Resolving stage will&lt;BR=\r\n&gt;&gt; enqueue another \n  event into the DNSCacheHandlingStage to enable him=\r\n update&lt;BR&gt;&gt; his cache. \n  So, the DNSCacheHandlingStage would be handli=\r\nng two types of&lt;BR&gt;&gt; events, \n  one is the lookup events and the other i=\r\ns the update cache \n  events.&lt;BR&gt;&gt;&lt;BR&gt;&gt; One problem here is that the =\r\nInetAddress class does \n  not expose its cache&lt;BR&gt;&gt; variables to its use=\r\nrs. Even we cannot check if \n  the cache has an entry&lt;BR&gt;&gt; before callin=\r\ng the getByName method. So, we \n  should be disabling the java&lt;BR&gt;&gt; cach=\r\ne ( using the policy file ) and \n  implementing our own caching mechanism.&lt;=\r\nBR&gt;&gt; ( The DNSCacheHandlingStage \n  would have to additionally do the jo=\r\nb of&lt;BR&gt;&gt; throwing away the expired \n  entries in the cache also.)&lt;BR&gt;&g=\r\nt;&lt;BR&gt;&gt; Let me know your comments on \n  this.&lt;BR&gt;&lt;BR&gt;This looks like a g=\r\nood first cut. I&#39;m still working to improve \n  my&lt;BR&gt;understanding of the b=\r\nest way to use the staged style, mostly \n  by&lt;BR&gt;looking at their HTTP and =\r\nHTTP Server (Haboob) code.&lt;BR&gt;&lt;BR&gt;It seems \n  that they&#39;ve tended to use a =\r\nsingle Stage object to do&lt;BR&gt;many different \n  steps/aspects of one process=\r\n, by switching on the&lt;BR&gt;type of QueueElement \n  received.&lt;BR&gt;&lt;BR&gt;So for ex=\r\nample their \n  seda.sandStorm.seda.apps.Haboob.http.HttpRecv&lt;BR&gt;accepts eve=\r\nnts of \n  types....&lt;BR&gt;&lt;BR&gt;&nbsp; - httpConnection&lt;BR&gt;&nbsp; - httpRequest&lt;=\r\nBR&gt;&nbsp; - \n  SinkClosedEvent&lt;BR&gt;&nbsp; - timerEvent&lt;BR&gt;&lt;BR&gt;And their \n  s=\r\neda.sandStorm.lib.http.httpServer accepts events of&lt;BR&gt;types...&lt;BR&gt;&lt;BR&gt;&nbs=\r\np; \n  - ATcpInPacket&lt;BR&gt;&nbsp; - ATcpConnection&lt;BR&gt;&nbsp; - \n  aSocketError=\r\nEvent&lt;BR&gt;&nbsp; - SinkDrainedEvent&lt;BR&gt;&nbsp; - \n  SinkCloggedEvent&lt;BR&gt;&nbsp=\r\n; - SinkClosedEvent&lt;BR&gt;&nbsp; - \n  ATcpListenSuccessEvent&lt;BR&gt;&lt;BR&gt;They also =\r\nuse Sinks that are not associated with \n  stages; rather,&lt;BR&gt;they interface=\r\n to unstaged components which nonetheless \n  result in&lt;BR&gt;an eventual event=\r\n to some supplied answer Sink. See for \n  example&lt;BR&gt;seda.sandStorm.lib.htt=\r\np.httpConnection.&lt;BR&gt;&lt;BR&gt;So perhaps as a \n  matter of grouping related task=\r\ns, the same Stage object&lt;BR&gt;should be \n  re-entered over the course of a lo=\r\nokup, with different triggering&lt;BR&gt;events. \n  For example, you might want t=\r\no reenter a single DNSResolvingStage&lt;BR&gt;over the \n  course of cache lookup,=\r\n lookup-initiation, result-receiving (or&lt;BR&gt;timeout), \n  etc. I&#39;m not sure;=\r\n use your judgement as to how many stages are&lt;BR&gt;really \n  needed.&lt;BR&gt;&lt;BR&gt;&=\r\ngt; P.S : We found some openly available async dns client APIs \n  in C lang=\r\nuage.&lt;BR&gt;&lt;BR&gt;That could be useful as a model. (I doubt we&#39;d want to \n  call=\r\n out to C&lt;BR&gt;for this simple step, though -- and if we nailed down a truly =\r\n\n  async Java&lt;BR&gt;DNS facility, a lot of open source projects would probably=\r\n be \n  quite happy.)&lt;BR&gt;&lt;BR&gt;Also: I heard back from Patrick Eaton about SED=\r\nA-style \n  async HTTP client&lt;BR&gt;code... he has a rough implementation for s=\r\nimple usage, \n  and he knows of&lt;BR&gt;another one at Berkeley which goes deepe=\r\nr into HTTP/1.1 \n  conformance and&lt;BR&gt;optimal performance. I&#39;ve asked him t=\r\no forward whatever \n  additional code&lt;BR&gt;or details he can.&lt;BR&gt;&lt;BR&gt;- Gordon=\r\n&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;To \n  unsubscribe from this group, send an email \n  to:=\r\n&lt;BR&gt;archive-crawler-unsubscribe@yahoogroups.com&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Your use of =\r\n\n  Yahoo! Groups is subject to the Yahoo! Terms of Service.&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Yaho=\r\no! \n  Groups Sponsor&lt;BR&gt;ADVERTISEMENT&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;To unsubscribe fro=\r\nm this \n  group, send an email \n  to:&lt;BR&gt;archive-crawler-unsubscribe@yahoog=\r\nroups.com&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;Your use of \n  Yahoo! Groups is subject to the Yah=\r\noo! Terms of Service.&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;To \n  unsubscribe from this g=\r\nroup, send an email \n  to:&lt;BR&gt;archive-crawler-unsubscribe@yahoogroups.com&lt;B=\r\nR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Your \n  use of Yahoo! Groups is subject to the &lt;A \n =\r\n href=3D&quot;http://docs.yahoo.com/info/terms/&quot;&gt;Yahoo! Terms of Service&lt;/A&gt;.&lt;/T=\r\nT&gt; \n&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_0142_01C2E1B5.97435E20--\r\n\n"}}