{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"bwMlvS0ZJuamsVw96OBzQkoINgOphW9zxjoLpzPT5wrElMpULs_CO0SgpJpHEisEA5VJaeFsLIrUzL-fHWX0ayVudS4yIa8","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: NotExceedsDocumentLengthTresholdDecideRule","postDate":"1291655676","msgId":6862,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDRkQxOUZDLjkwNTA1MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDRDRkNDQTcwLjgwNTAxMDRAYmliYWxleC5vcmc+","referencesHeader":"PGlkaWQxaStqMms3QGVHcm91cHMuY29tPiA8NENGQ0NBNzAuODA1MDEwNEBiaWJhbGV4Lm9yZz4="},"prevInTopic":6858,"nextInTopic":6876,"prevInTime":6861,"nextInTime":6863,"topicId":6841,"numMessagesInTopic":9,"msgSnippet":"The NotExceedsDocumentLengthTresholdDecideRule [sic] applies its configured decision if the document length does NOT exceed the given threshold. Your","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 25517 invoked from network); 6 Dec 2010 17:14:39 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m13.grp.re1.yahoo.com with QMQP; 6 Dec 2010 17:14:39 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta1.grp.re1.yahoo.com with SMTP; 6 Dec 2010 17:14:39 -0000\r\nX-Received: (qmail 47596 invoked by uid 0); 6 Dec 2010 17:14:37 -0000\r\nX-Received: from 208.70.27.190 (HELO silverbook.local) (208.70.27.190)\n  by relay01.pair.com with SMTP; 6 Dec 2010 17:14:37 -0000\r\nX-pair-Authenticated: 208.70.27.190\r\nMessage-ID: &lt;4CFD19FC.9050505@...&gt;\r\nDate: Mon, 06 Dec 2010 09:14:36 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.12) Gecko/20101027 Thunderbird/3.1.6\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Mohamed Elsayed &lt;mohammed.elsayyed@...&gt;\r\nReferences: &lt;idid1i+j2k7@...&gt; &lt;4CFCCA70.8050104@...&gt;\r\nIn-Reply-To: &lt;4CFCCA70.8050104@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: NotExceedsDocumentLengthTresholdDecideRule\r\nX-Yahoo-Group-Post: member; u=137285340; y=03PXe-lnruTPNoti5_ZOy-akIO9Ung0uPGO_IWaGR8M3\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe &#39;NotExceedsDocumentLengthTresholdDecideRule&#39; [sic] applies its \nconfigured decision if the document length does NOT exceed the given \nthreshold.\n\nYour threshold is 10. Almost every document will actually EXCEED that \nthreshold, so this rule does not apply.\n\nYou may want to use &#39;ExceedsDocumentLengthThresholdDecideRule&#39; instead, \nto REJECT all documents that do exceed the threshold.\n\nI also suggest always using a DecideRuleSequence with a \nconstant-decision rule (AcceptDecideRule, RejectDecideRule) in the first \nposition to set a clear default, starting decision if no later rules \nact. (Otherwise, if no rules act, the standing decision will be NONE, \nwhich confusingly means different things in scoping vs. \nprocessor-application.)\n\nIf following this rule-of-thumb, you could achieve your goal in two \ndifferent ways:\n\nDecideRuleSequence\n  AcceptDecideRule\n  ExceedsDocumentLengthThresholdDecideRule(REJECT,threshold=1048576)\n\n...or...\n\nDecideRuleSequence\n  RejectDecideRule\n  NotExceedsDocumentLengthTresholdDecideRule(ACCEPT,threshold=1048576)\n\nI&#39;m going to rename these for less confusion (and to get rid of the \nspelling error in &#39;Treshold&#39;) in the next release. I propose:\n\n  DocumentLongerThanDecideRule -- above a threshold\n  DocumentNoLongerThanDecideRule -- up to (inclusive of) a threshold\n\nAre those clearer or are there any other suggestions?\n\n- Gordon @ IA\n\nOn 12/6/10 3:35 AM, Mohamed Elsayed wrote:\n&gt;\n&gt;\n&gt; I tried &quot;shouldProcessRule&quot; instead of &quot;shouldProcessDecideRule&quot; and it\n&gt; worked with me. After applying &quot;shouldProcessRule&quot; to\n&gt; &quot;ARCWriterProcessor&quot; and after applying &quot;shouldFetchBodyRule&quot; to\n&gt; &quot;FetchHTTP&quot; processor, Heritrix-3-1-1.SNAPSHOT still downloads the large\n&gt; files. What can I do now? The following is the modified code snippet:\n&gt;\n&gt; _*FetchHTTP*_\n&gt;\n&gt; &lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;\n&gt;\n&gt;     &lt;property name=&quot;shouldFetchBodyRule&quot;&gt;\n&gt;\n&gt;         &lt;!--&lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;/&gt;--&gt;\n&gt;\n&gt;         &lt;!-- ...then REJECT any URI whose content-length exceeds the configured threshold... --&gt;\n&gt;\n&gt;         &lt;bean class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;\n&gt;\n&gt;           &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt;\n&gt;           &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;\n&gt;\n&gt;         &lt;/bean&gt;\n&gt;\n&gt;       &lt;/property&gt;\n&gt;\n&gt;   &lt;/bean&gt;\n&gt;\n&gt; _*ARCWriterProcessor*_\n&gt;\n&gt; &lt;bean id=&quot;warcWriter&quot; class=&quot;org.archive.modules.writer.ARCWriterProcessor&quot;&gt;\n&gt;\n&gt;    &lt;property name=&quot;shouldProcessRule&quot;&gt;\n&gt;\n&gt;      &lt;bean class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;\n&gt;\n&gt;        &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt;\n&gt;        &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;\n&gt;\n&gt;      &lt;/bean&gt;\n&gt;\n&gt;    &lt;/property&gt;\n&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt;\n&gt; Mohamed Elsayed\n&gt; Bibliotheca Alexandrina\n&gt;\n&gt;\n&gt; On 12/06/2010 12:14 PM, kristsi25 wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; The &quot;shouldProcessDecideRule&quot; accepts a single decide rule, not a list.\n&gt;&gt;\n&gt;&gt; Your code should be:\n&gt;&gt;\n&gt;&gt; &lt;property name=&quot;shouldProcessDecideRule&quot;&gt;\n&gt;&gt; &lt;bean\n&gt;&gt; class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;\n&gt;&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt;&gt; &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;\n&gt;&gt; &lt;/bean&gt;\n&gt;&gt; &lt;/property&gt;\n&gt;&gt;\n&gt;&gt; If you need to apply multiple decide rules here, you need to use\n&gt;&gt; DecideRuleSequence.\n&gt;&gt;\n&gt;&gt; - Kris\n&gt;&gt;\n&gt;&gt; --- In archive-crawler@yahoogroups.com\n&gt;&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Mohamed Elsayed\n&gt;&gt; &lt;mohammed.elsayyed@...&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; Thanks so much for your reply. I used the property &quot;maxLengthBytes&quot;\n&gt;&gt; &gt; before, as it downloaded the file till reached to the specified limit.\n&gt;&gt; &gt; The file was actually downloaded, but with a specific length. I don&#39;t\n&gt;&gt; &gt; like this solution, because I would like to reject the large file, so\n&gt;&gt; &gt; your first solution is suitable to me. I applied\n&gt;&gt; &gt; &quot;setShouldFetchBodyRule&quot; to the FetchHTTP processor and applied\n&gt;&gt; &gt; &quot;shouldProcessDecideRule&quot; to ARCWriterProcessor.\n&gt;&gt; Heritrix-3.1.1-SNAPSHOT\n&gt;&gt; &gt; displayed an error message &quot;/2010-12-05T11:56:26.756Z SEVERE Invalid\n&gt;&gt; &gt; property &#39;shouldProcessDecideRule&#39; of bean class\n&gt;&gt; &gt; [org.archive.modules.writer.ARCWriterProcessor]: Bean property\n&gt;&gt; &gt; &#39;shouldProcessDecideRule&#39; is not writable or has an invalid setter\n&gt;&gt; &gt; method. Does the parameter type of the setter match the return type of\n&gt;&gt; &gt; the getter?; Can&#39;t create bean &#39;warcWriter&#39;; Can&#39;t create bean\n&gt;&gt; &gt; &#39;dispositionProcessors&#39;; ; Can&#39;t create bean &#39;crawlController&#39;; Can&#39;t\n&gt;&gt; &gt; create bean &#39;statisticsTracker&#39;; ; Can&#39;t create bean &#39;seeds&#39;; ; Can&#39;t\n&gt;&gt; &gt; create bean\n&gt;&gt; &gt;\n&gt;&gt; &#39;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule#7a0136b0&#39;;\n&gt;&gt;\n&gt;&gt; &gt; Can&#39;t create bean &#39;scope&#39;; ; Can&#39;t create bean &#39;frontier/&#39;.&quot; The\n&gt;&gt; &gt; following is a code snippet of FetchHTTP processor and\n&gt;&gt; ARCWriterProcessor._*\n&gt;&gt; &gt;\n&gt;&gt; &gt; FetchHTTP processor*_\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;maxLengthBytes&quot; value=&quot;500000&quot; /&gt;--&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;timeoutSeconds&quot; value=&quot;1200&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;defaultEncoding&quot; value=&quot;ISO-8859-1&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;property name=&quot;shouldFetchBodyRule&quot;&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;/&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;/property&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;soTimeoutMs&quot; value=&quot;20000&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sendIfModifiedSince&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sendIfNoneMatch&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sendConnectionClose&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sendReferer&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sendRange&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;ignoreCookies&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;sslTrustLevel&quot; value=&quot;OPEN&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;acceptHeaders&quot;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;list&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/list&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/property&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;httpBindAddress&quot; value=&quot;&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;httpProxyHost&quot; value=&quot;&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;httpProxyPort&quot; value=&quot;0&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/bean&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; _*\n&gt;&gt; &gt; ARCWriterProcessor*_\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;bean id=&quot;warcWriter&quot;\n&gt;&gt; class=&quot;org.archive.modules.writer.ARCWriterProcessor&quot;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;compress&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;property name=&quot;prefix&quot; value=&quot;TEST&quot; /&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;suffix&quot; value=&quot;&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;maxFileSizeBytes&quot; value=&quot;100000000&quot; /&gt;--&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;property name=&quot;poolMaxActive&quot; value=&quot;5&quot; /&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;poolMaxWaitMs&quot; value=&quot;300000&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;skipIdenticalDigests&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;maxTotalBytesToWrite&quot; value=&quot;0&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;directory&quot; value=&quot;.&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;property name=&quot;storePaths&quot;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;list&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;value&gt;/0/webcrawl&lt;/value&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/list&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/property&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;writeRequests&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;writeMetadata&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;writeRevisitForIdenticalDigests&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;!--&lt;property name=&quot;writeRevisitForNotModified&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; /&lt;property name=&quot;shouldProcessDecideRule&quot;&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;list&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;bean\n&gt;&gt; class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;/bean&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;/list&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; / &lt;/property&gt;/\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;/bean&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; Any suggestions will be much appreciated. Thanks a lot.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Mohamed Elsayed\n&gt;&gt; &gt; Bibliotheca Alexandrina\n&gt;&gt; &gt;\n&gt;&gt; &gt; On 12/02/2010 06:55 PM, kristsi25 wrote:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; If the content-length is incorrect, the best you can do is set the\n&gt;&gt; &gt; &gt; &quot;maxLengthBytes&quot; setting on the FetchHTTP processor. Once this limit\n&gt;&gt; &gt; &gt; is hit, the processor will stop downloading a file and a truncated\n&gt;&gt; &gt; &gt; file will be written to your archive (unless you have filters on the\n&gt;&gt; &gt; &gt; W(ARC)WriterProcessor to prevent this).\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; - Kris\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; --- In archive-crawler@yahoogroups.com\n&gt;&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;\n&gt;&gt; &gt; &gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Mohamed Elsayed\n&gt;&gt; &gt; &gt; &lt;mohammed.elsayyed@&gt; wrote:\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Thanks very much for your care and for your useful reply.\n&gt;&gt; Enabling the\n&gt;&gt; &gt; &gt; &gt; property &quot;setShouldFetchBodyRule&quot; which is under &quot;FetchHTTP&quot;\n&gt;&gt; processor\n&gt;&gt; &gt; &gt; &gt; will prevent downloading a large file in case of its size is\n&gt;&gt; written in\n&gt;&gt; &gt; &gt; &gt; HTTP header. If the file size is not included in HTTP header,\n&gt;&gt; then what\n&gt;&gt; &gt; &gt; &gt; is the suitable solution to prevent downloading large files? Thanks\n&gt;&gt; &gt; &gt; again.\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Mohamed Elsayed\n&gt;&gt; &gt; &gt; &gt; Bibliotheca Alexandrina\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; On 12/01/2010 03:03 PM, kristsi25 wrote:\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule can not be used\n&gt;&gt; in the\n&gt;&gt; &gt; &gt; &gt; &gt; scope rules as you have configured. Scope rules are applied\n&gt;&gt; prior to\n&gt;&gt; &gt; &gt; &gt; &gt; any network activity and the size of the document is unknown\n&gt;&gt; at that\n&gt;&gt; &gt; &gt; &gt; &gt; time. Only rules relating to the actual URL itself can be\n&gt;&gt; applied in\n&gt;&gt; &gt; &gt; &gt; &gt; scope rules.\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule should be used to\n&gt;&gt; &gt; &gt; &gt; &gt; influence the behavior of processors. For each processor it is\n&gt;&gt; &gt; &gt; &gt; &gt; possible to set a shouldProcessDecideRule attribute. If you merely\n&gt;&gt; &gt; &gt; &gt; &gt; wish to avoid storing such long files, you could apply the\n&gt;&gt; filter to\n&gt;&gt; &gt; &gt; &gt; &gt; the (W)ARCWriterProcessor.\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; If you wish to avoid downloading large files, you will need to\n&gt;&gt; apply\n&gt;&gt; &gt; &gt; &gt; &gt; the setShouldFetchBodyRule to the FetchHTTP processor and make\n&gt;&gt; sure\n&gt;&gt; &gt; &gt; &gt; &gt; your NotExceedsDocumentLengthTresholdDecideRule is set to use\n&gt;&gt; header\n&gt;&gt; &gt; &gt; &gt; &gt; length. This will cause the FetchHTTP processor to run the decide\n&gt;&gt; &gt; &gt; rule\n&gt;&gt; &gt; &gt; &gt; &gt; after fetching the HTTP header (which hopefully contains an\n&gt;&gt; accurate\n&gt;&gt; &gt; &gt; &gt; &gt; content-length value) and will not download the actual file if\n&gt;&gt; it is\n&gt;&gt; &gt; &gt; &gt; &gt; too large.\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; - Kris\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; \n\n"}}