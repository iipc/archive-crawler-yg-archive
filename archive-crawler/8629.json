{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"1b8D8ohiFizHbEwbkUtTenskAPbzeltkGpgGVVRKLzBvnrDhoI9wZOZBNsMMzPFZSHKu71p9gD0QNAiuOm_ZEQPk9sO6Z5PX","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] RE: HER-2070 or: Any news on the Cookie Monster bug","postDate":"1412884435","msgId":8629,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBMX0FkWkJYdDJHRUc0aU0zakNpa0VTbStxN2VHenhDOTFURmRNWjc5MFVpUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PG0xMnZuNisxZWIxaTRpQFlhaG9vR3JvdXBzLmNvbT4=","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJERTBFQzNEQGJsaWtpLmJva2hsYWRhLmxvY2FsPgk8Q0FBLXo3MEpjVz02bS1XdzZhOHdLPUQ2bkhRc0c0WEFyRG9Qb2VZQzJMUHFjK0M5TjhBQG1haWwuZ21haWwuY29tPgk8OTFEMTI1MUQ5QzY4OEI0RDg0NDhENEZGNTAwMDMzMUQyQUQzNTJEMEBWOEItRVhDSEFOR0UwMS5hZC5ibC51az4JPDkxRDEyNTFEOUM2ODhCNEQ4NDQ4RDRGRjUwMDAzMzFEMkFEMzU1NDZAVjhCLUVYQ0hBTkdFMDEuYWQuYmwudWs+CTxDQUEtejcwS3llK0NLaFlyNjlqZWJDaWRTeW10Y2M3UTBVX2JfdFZPcnVGdDRBRjR3dWdAbWFpbC5nbWFpbC5jb20+CTxtMTJ2bjYrMWViMWk0aUBZYWhvb0dyb3Vwcy5jb20+"},"prevInTopic":8628,"nextInTopic":8630,"prevInTime":8628,"nextInTime":8630,"topicId":8620,"numMessagesInTopic":9,"msgSnippet":"Thanks for investigating, Andy. If this were a pull request, I would merge it. Another option that might be slightly lighter weight would be to use ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 31333 invoked by uid 102); 9 Oct 2014 19:53:58 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m10.grp.bf1.yahoo.com with SMTP; 9 Oct 2014 19:53:58 -0000\r\nX-Received: (qmail 15406 invoked from network); 9 Oct 2014 19:53:58 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (98.138.215.81)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 9 Oct 2014 19:53:58 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 5B44EA6202F\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu,  9 Oct 2014 12:53:57 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 1+wTnsznCpF0 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tThu,  9 Oct 2014 12:53:56 -0700 (PDT)\r\nX-Received: from mail-oi0-f47.google.com (mail-oi0-f47.google.com [209.85.218.47])\n\tby mail.archive.org (Postfix) with ESMTPSA id AA54FA6200D\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu,  9 Oct 2014 12:53:56 -0700 (PDT)\r\nX-Received: by mail-oi0-f47.google.com with SMTP id a141so4337177oig.34\n        for &lt;archive-crawler@yahoogroups.com&gt;; Thu, 09 Oct 2014 12:53:55 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.38.163 with SMTP id h3mr184413oek.39.1412884435772; Thu,\n 09 Oct 2014 12:53:55 -0700 (PDT)\r\nX-Received: by 10.76.7.232 with HTTP; Thu, 9 Oct 2014 12:53:55 -0700 (PDT)\r\nIn-Reply-To: &lt;m12vn6+1eb1i4i@...&gt;\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12DE0EC3D@...&gt;\n\t&lt;CAA-z70JcW=6m-Ww6a8wK=D6nHQsG4XArDoPoeYC2LPqc+C9N8A@...&gt;\n\t&lt;91D1251D9C688B4D8448D4FF5000331D2AD352D0@...&gt;\n\t&lt;91D1251D9C688B4D8448D4FF5000331D2AD35546@...&gt;\n\t&lt;CAA-z70Kye+CKhYr69jebCidSymtcc7Q0U_b_tVOruFt4AF4wug@...&gt;\n\t&lt;m12vn6+1eb1i4i@...&gt;\r\nDate: Thu, 9 Oct 2014 12:53:55 -0700\r\nMessage-ID: &lt;CAA-z70L_AdZBXt2GEG4iM3jCikESm+q7eGzxC91TFdMZ790UiQ@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=089e013d056ee72cb2050502cae9\r\nSubject: Re: [archive-crawler] RE: HER-2070 or: Any news on the Cookie Monster bug\r\nX-Yahoo-Group-Post: member; u=325624130; y=GI_QFXNfuEsFhimkpeuwo1tore509WjMOSaUc_xhXa7fZg\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\n\r\n--089e013d056ee72cb2050502cae9\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThanks for investigating, Andy. If this were a pull request, I would merge\n=\r\nit. Another option that might be slightly lighter weight would be to use\nLi=\r\nnkedHashMap/LinkedHashSet. If I remember I right, I&#39;ve seen this kind of\nth=\r\ning before and switched certain other data structures to use those types.\n\n=\r\nNoah\n\n\n\nOn Wed, Oct 8, 2014 at 2:21 AM, anjackson@... [archive-crawle=\r\nr] &lt;\narchive-crawler@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; FWIW, I couldn&#39;t reprod=\r\nuce the SslTrustLevel one. I did manage to\n&gt; reproduce the others, which I&#39;=\r\nll document here in case it helps anyone in\n&gt; the future.\n&gt;\n&gt; The HtmlFormC=\r\nredentialTest and CredentialStoreTest tests both fail because\n&gt; they rely o=\r\nn classes that use a HashMap and a HashSet. The test itself is\n&gt; one that c=\r\nhecks that serialisation and de-serialisation of instances of\n&gt; these class=\r\nes is safe, but it just uses binary equivalence of the\n&gt; serialised forms i=\r\nn order to check that the serialisation process works.\n&gt;\n&gt; Unfortunately, s=\r\nomething happened to Java 7 which means that hashsets/maps\n&gt; do not maintai=\r\nn order when re-de-serialised (which is not really to be\n&gt; expected anyway,=\r\n necessarily). Consequently, these tests pass for Java 6\n&gt; and Java 8 (both=\r\n of which must presumably deliberately fix the order the\n&gt; keys/members are=\r\n serialised in), but fail for Java 7 (or at least for all\n&gt; the Java 7 vers=\r\nions I could find lying around.)\n&gt;\n&gt; Switching to use a TreeSet and a Tr ee=\r\nMap stops these tests from failing\n&gt; (see patch below), but I&#39;m not sure if=\r\n that the right semantics so I&#39;ve not\n&gt; turned this into a pull request.\n&gt;\n=\r\n&gt; Cheers,\n&gt; Andy\n&gt;\n&gt; diff --git a/commons/src/main/java/org/archive/spring/=\r\nKeyedProperties.java\n&gt; b/commons/src/main/java/org/archive/spring/KeyedProp=\r\nerties.java\n&gt; index 4651e83..5481dfe 100644\n&gt; --- a/commons/src/main/java/o=\r\nrg/archive/spring/KeyedProperties.java\n&gt; +++ b/commons/src/main/java/org/ar=\r\nchive/spring/KeyedProperties.java\n&gt; @@ -20,9 +20,10 @@\n&gt;   package org.arch=\r\nive.spring;\n&gt;\n&gt;  import java.util.ArrayList;\n&gt; -import java.util.HashSet;\n&gt;=\r\n  import java.util.List;\n&gt;  import java.util.Map;\n&gt; +import java.util.Set;^=\r\nM\n&gt; +import java.util.TreeSet;^M\n&gt;  import java.util.concurrent.ConcurrentH=\r\nashMap;\n&gt;  import java.util.logging.Logger;\n&gt;\n&gt; @@ -42,7 +43,7 @@ public cl=\r\nass KeyedProperties extends\n&gt; ConcurrentHashMap&lt;String,Object&gt; {\n&gt;\n&gt;  &nbsp=\r\n ;   /** the alternate global property-paths leading to this map\n&gt;       * =\r\nTODO: consider if deterministic ordered list is important */\n&gt; -    protect=\r\ned HashSet&lt;String&gt; externalPaths =3D new HashSet&lt;String&gt;();\n&gt; +    protecte=\r\nd Set&lt;String&gt; externalPaths =3D new TreeSet&lt;String&gt;();^M\n&gt;\n&gt;      /**\n&gt;    =\r\n   * Add a path by which the outside world can reach this map\n&gt; diff --git\n=\r\n&gt; a/modules/src/main/java/org/archive/modules/credential/HtmlFormCredential=\r\n.java\n&gt; b/modules/src/main/java/org/archive/modules/credential/HtmlFormCred=\r\nential.java\n&gt; index becda3c..6885134 100644\n&gt; ---\n&gt; a/modules/src/main/java=\r\n/org/archive/modules/credential/HtmlFormCredential.java\n&gt; +++\n&gt; b/modules/s=\r\nrc/main/java/org/archive/modules/credential/HtmlFormCredential.java\n&gt; @@ -1=\r\n9,8 +19,8 @@\n&gt;\n&gt;  package org.archive.modules.credential;\n&gt; &nbs p;\n&gt; -impo=\r\nrt java.util.HashMap;\n&gt;  import java.util.Map;\n&gt; +import java.util.TreeMap;=\r\n\n&gt;  import java.util.logging.Logger;\n&gt;\n&gt;  import org.apache.commons.httpcli=\r\nent.URIException;\n&gt; @@ -55,7 +55,7 @@ public class HtmlFormCredential exten=\r\nds Credential {\n&gt;      /**\n&gt;       * Form items.\n&gt;       */\n&gt; -    protecte=\r\nd Map&lt;String,String&gt; formItems =3D new HashMap&lt;String,String&gt;();\n&gt; +    pro=\r\ntected Map&lt;String,String&gt; formItems =3D new TreeMap&lt;String,String&gt;();\n&gt;    =\r\n  public Map&lt;String,String&gt; getFormItems() {\n&gt;          return this.formIte=\r\nms;\n&gt;      }\n&gt;\n&gt; \n&gt;\n\r\n--089e013d056ee72cb2050502cae9\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,he=\r\nlvetica,sans-serif&quot;&gt;Thanks for investigating, Andy. If this were a pull req=\r\nuest, I would merge it. Another option that might be slightly lighter weigh=\r\nt would be to use LinkedHashMap/LinkedHashSet. If I remember I right, I&#39=\r\n;ve seen this kind of thing before and switched certain other data structur=\r\nes to use those types.&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-fami=\r\nly:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Noah&lt;/div&gt;&lt;div class=3D&quot;gmail_d=\r\nefault&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div cla=\r\nss=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;=\r\n/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed=\r\n, Oct 8, 2014 at 2:21 AM, &lt;a href=3D&quot;mailto:anjackson@...&quot;&gt;anjackson@=\r\ngmail.com&lt;/a&gt; [archive-crawler] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:arc=\r\nhive-crawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;archive-crawler@yahoogroups=\r\n.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;ma=\r\nrgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n       =\r\n \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\nFWIW, I couldn&#39;t reproduce the SslTrustLe=\r\nvel one. I did manage to reproduce the others, which I&#39;ll document here=\r\n in case it helps anyone in the future.&lt;br&gt;&lt;br&gt;The HtmlFormCredentialTest a=\r\nnd CredentialStoreTest tests both fail because they rely on classes that us=\r\ne a HashMap and a HashSet. The test itself is one that checks that serialis=\r\nation and de-serialisation of instances of these classes is safe, but it ju=\r\nst uses binary equivalence of the serialised forms in order to check that t=\r\nhe serialisation process works.&lt;br&gt;&lt;br&gt;Unfortunately, something happened to=\r\n Java 7 which means that hashsets/maps do not maintain order when re-de-ser=\r\nialised (which is not really to be expected anyway, necessarily). Consequen=\r\ntly, these tests pass for Java 6 and Java 8 (both of which must presumably =\r\ndeliberately fix the order the keys/members are serialised in), but fail fo=\r\nr Java 7 (or at least for all the Java 7 versions I could find lying around=\r\n.)&lt;br&gt;&lt;br&gt;Switching to use a TreeSet and a Tr\n eeMap stops these tests from=\r\n failing (see patch below), but I&#39;m not sure if that the right semantic=\r\ns so I&#39;ve not turned this into a pull request.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Andy&lt;b=\r\nr&gt;&lt;br&gt;diff --git a/commons/src/main/java/org/archive/spring/KeyedProperties=\r\n.java b/commons/src/main/java/org/archive/spring/KeyedProperties.java&lt;br&gt;in=\r\ndex 4651e83..5481dfe 100644&lt;br&gt;--- a/commons/src/main/java/org/archive/spri=\r\nng/KeyedProperties.java&lt;br&gt;+++ b/commons/src/main/java/org/archive/spring/K=\r\neyedProperties.java&lt;br&gt;@@ -20,9 +20,10 @@&lt;br&gt;=C2=A0 package org.archive.spr=\r\ning;&lt;br&gt;=C2=A0&lt;br&gt;=C2=A0import java.util.ArrayList;&lt;br&gt;-import java.util.Ha=\r\nshSet;&lt;br&gt;=C2=A0import java.util.List;&lt;br&gt;=C2=A0import java.util.Map;&lt;br&gt;+i=\r\nmport java.util.Set;^M&lt;br&gt;+import java.util.TreeSet;^M&lt;br&gt;=C2=A0import java=\r\n.util.concurrent.ConcurrentHashMap;&lt;br&gt;=C2=A0import java.util.logging.Logge=\r\nr;&lt;br&gt;=C2=A0&lt;br&gt;@@ -42,7 +43,7 @@ public class KeyedProperties extends Conc=\r\nurrentHashMap&lt;String,Object&gt; {&lt;br&gt;=C2=A0&lt;br&gt;=C2=A0&amp;nbsp\n ;=C2=A0=\r\n=C2=A0 /** the alternate global property-paths leading to this map &lt;br&gt;=C2=\r\n=A0=C2=A0=C2=A0=C2=A0=C2=A0 * TODO: consider if deterministic ordered list =\r\nis important */&lt;br&gt;-=C2=A0=C2=A0=C2=A0 protected HashSet&lt;String&gt; exte=\r\nrnalPaths =3D new HashSet&lt;String&gt;(); &lt;br&gt;+=C2=A0=C2=A0=C2=A0 protecte=\r\nd Set&lt;String&gt; externalPaths =3D new TreeSet&lt;String&gt;();^M&lt;br&gt;=C2=\r\n=A0=C2=A0=C2=A0=C2=A0 &lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0 /**&lt;br&gt;=C2=A0=C2=A0=C2=\r\n=A0=C2=A0=C2=A0 * Add a path by which the outside world can reach this map&lt;=\r\nbr&gt;diff --git a/modules/src/main/java/org/archive/modules/credential/HtmlFo=\r\nrmCredential.java b/modules/src/main/java/org/archive/modules/credential/Ht=\r\nmlFormCredential.java&lt;br&gt;index becda3c..6885134 100644&lt;br&gt;--- a/modules/src=\r\n/main/java/org/archive/modules/credential/HtmlFormCredential.java&lt;br&gt;+++ b/=\r\nmodules/src/main/java/org/archive/modules/credential/HtmlFormCredential.jav=\r\na&lt;br&gt;@@ -19,8 +19,8 @@&lt;br&gt;=C2=A0&lt;br&gt;=C2=A0package org.archive.modules.crede=\r\nntial;&lt;br&gt;&amp;nbs\n p;&lt;br&gt;-import java.util.HashMap;&lt;br&gt;=C2=A0import java.u=\r\ntil.Map;&lt;br&gt;+import java.util.TreeMap;&lt;br&gt;=C2=A0import java.util.logging.Lo=\r\ngger;&lt;br&gt;=C2=A0&lt;br&gt;=C2=A0import org.apache.commons.httpclient.URIException;=\r\n&lt;br&gt;@@ -55,7 +55,7 @@ public class HtmlFormCredential extends Credential {&lt;=\r\nbr&gt;=C2=A0=C2=A0=C2=A0=C2=A0 /**&lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 * Form it=\r\nems.&lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 */&lt;br&gt;-=C2=A0=C2=A0=C2=A0 protected =\r\nMap&lt;String,String&gt; formItems =3D new HashMap&lt;String,String&gt;();&lt;=\r\nbr&gt;+=C2=A0=C2=A0=C2=A0 protected Map&lt;String,String&gt; formItems =3D new=\r\n TreeMap&lt;String,String&gt;();&lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0 public Map&lt;=\r\nString,String&gt; getFormItems() {&lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=\r\n=C2=A0=C2=A0 return this.formItems;&lt;br&gt;=C2=A0=C2=A0=C2=A0=C2=A0 }\n\n\n\n\n\n&lt;br&gt;=\r\n\n\n\n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white;clear:both&quot;&gt;&lt;/div&gt;\n\n\n\n&lt;/b=\r\nlockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--089e013d056ee72cb2050502cae9--\r\n\n"}}