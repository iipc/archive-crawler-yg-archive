{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":141565670,"authorName":"richwcollins","from":"&quot;richwcollins&quot; &lt;richwcollins@...&gt;","profile":"richwcollins","replyTo":"LIST","senderId":"r4eq6k3QCgY9HpGJFbX305BUQCfG_RZICXfJvc8WTfDuMIRilc8ychmWrCmoY07L7VIMwcuoEiZf2mpiCftfIYHnOLf6zDM3Jcwz9QwS","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Global Whiteboard to Store DB Connection","postDate":"1111244607","msgId":1677,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQxaGV2ditsaGFpQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQyM0I3NjU1LjMwNTA2MDRAYXJjaGl2ZS5vcmc+"},"prevInTopic":1676,"nextInTopic":0,"prevInTime":1676,"nextInTime":1678,"topicId":1674,"numMessagesInTopic":4,"msgSnippet":"Either of these should work.  Thanks for the info. Rich ... connection or ... you to ... gets run ... have ... construction ... ","rawEmail":"Return-Path: &lt;richwcollins@...&gt;\r\nX-Sender: richwcollins@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 63509 invoked from network); 19 Mar 2005 15:03:58 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m28.grp.scd.yahoo.com with QMQP; 19 Mar 2005 15:03:58 -0000\r\nReceived: from unknown (HELO n2a.bulk.scd.yahoo.com) (66.94.237.36)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Mar 2005 15:03:57 -0000\r\nDomainKey-Signature: \r\nReceived: from [66.218.69.3] by n2.bulk.scd.yahoo.com with NNFMP; 19 Mar 2005 15:03:57 -0000\r\nReceived: from [66.218.66.99] by mailer3.bulk.scd.yahoo.com with NNFMP; 19 Mar 2005 15:03:57 -0000\r\nDate: Sat, 19 Mar 2005 15:03:27 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;d1hevv+lhai@...&gt;\r\nIn-Reply-To: &lt;423B7655.3050604@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3300\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;richwcollins&quot; &lt;richwcollins@...&gt;\r\nSubject: Re: Global Whiteboard to Store DB Connection\r\nX-Yahoo-Group-Post: member; u=141565670\r\nX-Yahoo-Profile: richwcollins\r\n\r\n\nEither of these should work.  Thanks for the info.\n\nRich\n\n--- In archive-crawler@yahoogroups.com, &quot;Gordon Mohr (Internet\nArchive)&quot; &lt;gojomo@a...&gt; wrote:\n&gt; As St.Ack notes, there&#39;s no existing facility for arbitrary Processors\n&gt; to find each other or store shared state for arbitrary purposes, but\n&gt; CrawlController would be the natural place. It&#39;s intended to be the\n&gt; &quot;crawl-global&quot; context for any one crawl.\n&gt; \n&gt; So a reasonable approach could be adding a HashMap to CrawlController,\n&gt; with synchronized putCrawlGlobal() and getCrawlGlobal() methods to\n&gt; access it. Rather than relying on this route for frequent communication,\n&gt; Processors could use it for initial rendezvous, and then synchronize\n&gt; their access in whatever manner is natural for them.\n&gt; \n&gt; With such a facility, you could create and connect the shared resource\n&gt; on first use (bewaring of race hazards).\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; stack wrote:\n&gt; &gt; richwcollins wrote:\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;&gt;I have a filter and processor that require access to a database.\n&gt; &gt;&gt;Rather than reconnect to the database each time a query is desired, I\n&gt; &gt;&gt;would like to use a single connection (or connection pool) that stays\n&gt; &gt;&gt;connected.  How would I go about making the connection at the\n&gt; &gt;&gt;beginning of the crawl and then storing a reference to it somewhere\n&gt; &gt;&gt;that I can access it from a custom filter and processor?\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Currently no general global store that you could stuff a\nconnection or \n&gt; &gt; pool handle into (If there was one, CrawlController would probably be \n&gt; &gt; its host).  Here&#39;s some ideas:\n&gt; &gt; \n&gt; &gt; + Subclass org.archive.crawler.Heritrix and add into it db connection \n&gt; &gt; setup on startup.  You&#39;d then make the connection pool globally \n&gt; &gt; accessible by saving the handle into a static.  This would allow\nyou to \n&gt; &gt; call HeritrixSubClass.getDbConnection() from anywhere to gain access  \n&gt; &gt; (You&#39;d have to change the heritrix launch script so it started your \n&gt; &gt; HeritrixSubClass).\n&gt; &gt; + Or would setting up the db connection in a static block that\ngets run \n&gt; &gt; on classloading inside in your Processor of Filter work for you or\nhave \n&gt; &gt; either your filter or processor go to a Singleton that holds the db \n&gt; &gt; connection reference and have it initiate the connection on\nconstruction \n&gt; &gt; or the first time its accessed?\n&gt; &gt; \n&gt; &gt; St.Ack\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;&gt;Thanks,\n&gt; &gt;&gt;\n&gt; &gt;&gt;Rich Collins\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;*Yahoo! Groups Sponsor*\n&gt; &gt;&gt;ADVERTISEMENT\n&gt; &gt;&gt;click here \n&gt;\n&gt;&gt;&lt;http://us.ard.yahoo.com/SIG=12990rloq/M=298184.6191685.7192823.3001176/D=groups/S=1705004924:HM/EXP=1111269087/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&gt;\n\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt;\n&gt;&gt;------------------------------------------------------------------------\n&gt; &gt;&gt;*Yahoo! Groups Links*\n&gt; &gt;&gt;\n&gt; &gt;&gt;    * To visit your group on the web, go to:\n&gt; &gt;&gt;      http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt;&gt;       \n&gt; &gt;&gt;    * To unsubscribe from this group, send an email to:\n&gt; &gt;&gt;      archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt;&gt;     \n&lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt;&gt;       \n&gt; &gt;&gt;    * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt;&gt;      Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n\n\n\n\n"}}