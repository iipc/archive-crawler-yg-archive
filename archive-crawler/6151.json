{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":374285561,"authorName":"Matthew Warhaftig","from":"Matthew Warhaftig &lt;mwarhaftig@...&gt;","profile":"matthewwarhaftig","replyTo":"LIST","senderId":"vlYGcmAviVPMoKWbsLD6NUzcCRLCoo55e0dxDwEQIkVUIL7UI3QHWGFjIBmZJZuPKlK7YX80CxjwelKFaXiLLjkMYnpszdDWN_ICgxcGfg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Recrawling In Heritrix3","postDate":"1258164250","msgId":6151,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZERkU5NkJBLTA1MjktNDExRC05QzU0LTY2NERBMUFGMTVDN0BnbWFpbC5jb20+","inReplyToHeader":"PDRBRjlFQTM0LjYwNDAxMDhAYXJjaGl2ZS5vcmc+","referencesHeader":"PDY0QkFCMzFCLTQ1RjMtNDBCQS1CQkIzLTBCRUMxMkQ4RTgyRUBnbWFpbC5jb20+IDw0QUY5RUEzNC42MDQwMTA4QGFyY2hpdmUub3JnPg=="},"prevInTopic":6145,"nextInTopic":6169,"prevInTime":6150,"nextInTime":6152,"topicId":6140,"numMessagesInTopic":6,"msgSnippet":"Good advice, thank you Gordon.  Adding the recrawl processors to the chain bean and pointing PersistLoadProcessor directly to my existing history (no preload)","rawEmail":"Return-Path: &lt;mwarhaftig@...&gt;\r\nX-Sender: mwarhaftig@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 89400 invoked from network); 14 Nov 2009 02:04:14 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m11.grp.re1.yahoo.com with QMQP; 14 Nov 2009 02:04:14 -0000\r\nX-Received: from unknown (HELO mail-yw0-f186.google.com) (209.85.211.186)\n  by mta1.grp.sp2.yahoo.com with SMTP; 14 Nov 2009 02:04:14 -0000\r\nX-Received: by ywh16 with SMTP id 16so3689592ywh.13\n        for &lt;archive-crawler@yahoogroups.com&gt;; Fri, 13 Nov 2009 18:04:13 -0800 (PST)\r\nX-Received: by 10.90.17.29 with SMTP id 29mr1137521agq.79.1258164253642;\n        Fri, 13 Nov 2009 18:04:13 -0800 (PST)\r\nReturn-Path: &lt;mwarhaftig@...&gt;\r\nX-Received: from ?192.168.1.100? (ool-457fe0dd.dyn.optonline.net [69.127.224.221])\n        by mx.google.com with ESMTPS id 8sm590524yxg.24.2009.11.13.18.04.11\n        (version=SSLv3 cipher=RC4-MD5);\n        Fri, 13 Nov 2009 18:04:12 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v1077)\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-1-684176294\r\nDate: Fri, 13 Nov 2009 21:04:10 -0500\r\nIn-Reply-To: &lt;4AF9EA34.6040108@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;64BAB31B-45F3-40BA-BBB3-0BEC12D8E82E@...&gt; &lt;4AF9EA34.6040108@...&gt;\r\nMessage-Id: &lt;6DFE96BA-0529-411D-9C54-664DA1AF15C7@...&gt;\r\nX-Mailer: Apple Mail (2.1077)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Matthew Warhaftig &lt;mwarhaftig@...&gt;\r\nSubject: Re: [archive-crawler] Recrawling In Heritrix3\r\nX-Yahoo-Group-Post: member; u=374285561; y=9oPSiJkumZ2vQ4-veC64EusT4k1NrWWIsUc2I3LN4u5nd2_1FSkKg_yFXA\r\nX-Yahoo-Profile: matthewwarhaftig\r\n\r\n\r\n--Apple-Mail-1-684176294\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=iso-8859-1\r\n\r\nGood advice, thank you Gordon.  Adding the recrawl processors to the chain =\r\nbean and pointing PersistLoadProcessor directly to my existing history (no =\r\npreload) got the recrawl working.\n\nThanks,\nMatt\n\n\nOn Nov 10, 2009, at 5:33 =\r\nPM, Gordon Mohr wrote:\n\n&gt; Your setup looks generally correct. Are you perha=\r\nps forgetting to both \n&gt; declare the beans by name, *and* insert them by &lt;r=\r\nef&gt; into the &lt;list&gt; of \n&gt; the chain bean?\n&gt; \n&gt; Some other comments that may=\r\n help in configuring these features in H3:\n&gt; \n&gt; Matthew Warhaftig wrote:\n&gt; =\r\n&gt; In H3 I am trying to setup crawl jobs that \n&gt; &gt; use FetchHistoryProcessor=\r\n/PersistStoreProcessor/PersistLoadProcessor to \n&gt; &gt; discard duplicate conte=\r\nnt. I can get H1 to recrawl correctly but the \n&gt; &gt; same technique is not st=\r\noring a history and finding duplicates for me in \n&gt; &gt; H3 (my job setup is b=\r\nased on these \n&gt; &gt; postings: https://webarchive.jira.com/wiki/display/Herit=\r\nrix/Feature+Notes+-+1.12.0 & http://tech.groups.yahoo.com/group/archive-cra=\r\nwler/message/5920).\n&gt; &gt; \n&gt; &gt; For the storing job I added the following to t=\r\nhe default \n&gt; &gt; H3 crawler-beans.cxml file. In the Fetch Chain just after \n=\r\n&gt; &gt; the &quot;fetchHttp&quot; bean:\n&gt; &gt;&gt; &lt;bean id=3D&quot;fetchHistoryProcessor&quot; \n&gt; &gt;&gt; cla=\r\nss=3D&quot;org.archive.modules.recrawl.FetchHistoryProcessor&quot; &gt; &lt;property \n&gt; &gt;&gt; =\r\nname=3D&quot;historyLength&quot; value=3D&quot;30&quot; /&gt; &lt;/bean&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; &lt;bean id=3D&quot;persis=\r\ntStoreProcessor&quot; \n&gt; &gt;&gt; class=3D&quot;org.archive.modules.recrawl.PersistStorePro=\r\ncessor&quot; &gt; &lt;/bean&gt;\n&gt; \n&gt; Unrelated to your issues, in the near future it will=\r\n be better to put \n&gt; the persistStoreProcessor as the first in the &#39;disposi=\r\ntionChain&#39; rather \n&gt; than the last position of the &#39;fetchChain&#39;. Essentiall=\r\ny, the \n&gt; dispositionChain&#39;s activities will be atomic with regard to \n&gt; ch=\r\neckpointing -- any URI that starts the dispositionChain will finish it \n&gt; b=\r\nefore a checkpoint is stored -- but the fetchChain&#39;s activities will not.\n&gt;=\r\n \n&gt; Also unrelated but good to know: H3&#39;s configuration makes it much easie=\r\nr \n&gt; for different components to optionally use separate BDB environments o=\r\nn \n&gt; disk. Two reasons one might want to do so: (1) distribute the IO costs=\r\n \n&gt; over different disks; (2) keep distinct data separate on disk for \n&gt; ba=\r\nckup/migration-to-new-jobs, as with the difference between \n&gt; queues/stateo=\r\nf the running crawl, and URI history for deduplication \n&gt; purposes.\n&gt; \n&gt; Fo=\r\nr example, you could declare...\n&gt; \n&gt; &lt;bean id=3D&quot;persistStoreBdb&quot; class=3D&quot;=\r\norg.archive.bdb.BdbModule&quot; \n&gt; autowire-candidate=3D&quot;false&quot;&gt;\n&gt; &lt;property nam=\r\ne=3D&quot;dir&quot; value=3D&quot;history&quot;/&gt;\n&gt; &lt;/bean&gt;\n&gt; \n&gt; &lt;bean id=3D&quot;persistStoreProces=\r\nsor&quot; \n&gt; class=3D&quot;org.archive.modules.recrawl.PersistStoreProcessor&quot;&gt;\n&gt; &lt;pro=\r\nperty name=3D&quot;bdbModule&quot;&gt;\n&gt; &lt;ref bean=3D&quot;persistStoreBdb&quot;/&gt;\n&gt; &lt;/property&gt;\n&gt;=\r\n &lt;/bean&gt;\n&gt; \n&gt; ...and then persistent URI history will collect in a &#39;history=\r\n&#39; directory \n&gt; (which could be a full path to anywhere convenient) rather t=\r\nhan being \n&gt; mixed-in with other crawler state.\n&gt; \n&gt; (The reason for the &#39;a=\r\nutowire-candidate=3D&quot;false&quot;&#39; is to prevent this \n&gt; BdbModule from being a c=\r\nompetitor to the default for all the objects \n&gt; that expect one distinguish=\r\ned instance to be available for autowiring.)\n&gt; \n&gt; &gt; Then for another job to=\r\n use this stored history I added the following to \n&gt; &gt; the default H3 crawl=\r\ner-bean.cxml file. In the Fetch Chain just after the \n&gt; &gt; &quot;preconditions&quot; b=\r\nean:\n&gt; &gt;&gt; &lt;bean id=3D&quot;persistLoadProcessor&quot; \n&gt; &gt;&gt; class=3D&quot;org.archive.modu=\r\nles.recrawl.PersistLoadProcessor&quot;&gt; &lt;property \n&gt; &gt;&gt; name=3D&quot;preloadSource&quot; \n=\r\n&gt; &gt;&gt; value=3D&quot;/Users/mattwarhaftig/Documents/heritrix-3.0.0-SNAPSHOT/jobs/b=\r\nasic/state&quot; \n&gt; &gt;&gt; /&gt; &lt;/bean&gt;\n&gt; &gt; And just after the &quot;fetchHttp&quot; bean:\n&gt; &gt;&gt; =\r\n&lt;bean id=3D&quot;fetchHistoryProcessor&quot; \n&gt; &gt;&gt; class=3D&quot;org.archive.modules.recra=\r\nwl.FetchHistoryProcessor&quot; &gt; &lt;property \n&gt; &gt;&gt; name=3D&quot;historyLength&quot; value=3D=\r\n&quot;30&quot; /&gt; &lt;/bean&gt;\n&gt; \n&gt; Note that &#39;preloadSource&#39; causes the processor to scan=\r\n the named log or \n&gt; directory, and copy all its contents into its current =\r\nhistory database. \n&gt; If using this, make sure you&#39;re not pointing to the sa=\r\nme path it&#39;s \n&gt; currently\n&gt; \n&gt; You could also skip the &#39;preload&#39; and direct=\r\nly point the \n&gt; PersistLoadProcessor to an existing history store:\n&gt; \n&gt; &lt;be=\r\nan id=3D&quot;persistLoadBdb&quot; class=3D&quot;org.archive.bdb.BdbModule&quot; \n&gt; autowire-ca=\r\nndidate=3D&quot;false&quot;&gt;\n&gt; &lt;property name=3D&quot;dir&quot; \n&gt; value=3D&quot;/Users/mattwarhafti=\r\ng/Documents/heritrix-3.0.0-SNAPSHOT/jobs/basic/state&quot;/&gt;\n&gt; &lt;/bean&gt;\n&gt; \n&gt; &lt;bea=\r\nn id=3D&quot;persistLoadProcessor&quot;\n&gt; class=3D&quot;org.archive.modules.recrawl.Persis=\r\ntLoadProcessor&quot;&gt;\n&gt; &lt;property name=3D&quot;bdbModule&quot;&gt;\n&gt; &lt;ref bean=3D&quot;persistLoad=\r\nBdb&quot;/&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; \n&gt; (Except for the &#39;preload&#39;, if specified=\r\n, the PersistLoadProcessor only \n&gt; reads from its given BdbModule/environme=\r\nnt, so you could reuse a prior \n&gt; crawl&#39;s persist-store target without dama=\r\nging it.)\n&gt; \n&gt; There&#39;s currently a problem with having both a PersistLoadPr=\r\nocessor and \n&gt; PersistStoreProcessor in the same crawl using the same \n&gt; Bd=\r\nbModule/directory [HER-1706], but that should work by the time of the \n&gt; H3=\r\n official release.\n&gt; \n&gt; Hope this helps,\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; &gt; Am I dec=\r\nlaring these beans correctly?\n&gt; &gt; \n&gt; &gt; Thanks,\n&gt; &gt; Matt\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; \n\n\r\n--Apple-Mail-1-684176294\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=iso-8859-1\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;&lt;font class=3D&quot;Apple-style=\r\n-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px=\r\n;&quot;&gt;Good advice, thank you Gordon. &nbsp;Adding the recrawl processors to th=\r\ne chain bean and pointing PersistLoadProcessor &lt;/span&gt;&lt;/font&gt;&lt;span class=3D=\r\n&quot;Apple-style-span&quot; style=3D&quot;line-height: 15px; &quot;&gt;&lt;font class=3D&quot;Apple-style=\r\n-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px=\r\n;&quot;&gt;directly to my existing history (no preload) got the recrawl working.&lt;/s=\r\npan&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;line-heigh=\r\nt: 15px; &quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple=\r\n-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;line-height: 15px; &quot;&gt;&lt;font class=\r\n=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;=\r\nfont-size: 12px;&quot;&gt;Thanks,&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;App=\r\nle-style-span&quot; style=3D&quot;line-height: 15px; &quot;&gt;&lt;font class=3D&quot;Apple-style-spa=\r\nn&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 10px;&quot;&gt;&lt;=\r\nfont class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot;=\r\n style=3D&quot;font-size: 12px;&quot;&gt;Matt&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;div=\r\n&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;On Nov 10, 2009, at 5:33 PM, G=\r\nordon Mohr wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote =\r\ntype=3D&quot;cite&quot;&gt;\n\n\n\n&lt;div style=3D&quot;background-color: rgb(255, 255, 255); posit=\r\nion: static; z-index: auto; &quot;&gt;\n&lt;span style=3D&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n\n=\r\n\n\n    &lt;div id=3D&quot;ygrp-text&quot;&gt;&lt;p&gt;Your setup looks generally correct. Are you =\r\nperhaps forgetting to both &lt;br&gt;\ndeclare the beans by name, *and* insert the=\r\nm by &lt;ref&gt; into the &lt;list&gt; of &lt;br&gt;\nthe chain bean?&lt;br&gt;\n&lt;br&gt;\nSom=\r\ne other comments that may help in configuring these features in H3:&lt;br&gt;\n&lt;br=\r\n&gt;\nMatthew Warhaftig wrote:&lt;br&gt;\n&gt; In H3 I am trying to setup crawl jobs t=\r\nhat &lt;br&gt;\n&gt; use FetchHistoryProcess&lt;wbr&gt;or/PersistStoreP&lt;wbr&gt;rocessor/&lt;wb=\r\nr&gt;PersistLoadProce&lt;wbr&gt;ssor to &lt;br&gt;\n&gt; discard duplicate content.  I can =\r\nget H1 to recrawl correctly but the &lt;br&gt;\n&gt; same technique is not storing=\r\n a history and finding duplicates for me in &lt;br&gt;\n&gt; H3 (my job setup is b=\r\nased on these &lt;br&gt;\n&gt; postings: &lt;a href=3D&quot;https://webarchive.jira.com/wi=\r\nki/display/Heritrix/Feature+Notes+-+1.12.0&quot;&gt;https://webarchive.&lt;wbr&gt;jira.co=\r\nm/&lt;wbr&gt;wiki/display/&lt;wbr&gt;Heritrix/&lt;wbr&gt;Feature+Notes+&lt;wbr&gt;-+1.12.0&lt;/a&gt; &amp=\r\n; &lt;a href=3D&quot;http://tech.groups.yahoo.com/group/archive-crawler/message/592=\r\n0&quot;&gt;http://tech.&lt;wbr&gt;groups.yahoo.&lt;wbr&gt;com/group/&lt;wbr&gt;archive-crawler/&lt;wbr&gt;m=\r\nessage/5920&lt;/a&gt;).&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; For the storing job I added the follow=\r\ning to the default &lt;br&gt;\n&gt; H3 crawler-beans.&lt;wbr&gt;cxml file.  In the Fetch=\r\n Chain just after &lt;br&gt;\n&gt; the &quot;fetchHttp&quot; bean:&lt;br&gt;\n&gt;&gt; &lt;bean id=\r\n=3D&quot;fetchHistoryPro&lt;wbr&gt;cessor&quot; &lt;br&gt;\n&gt;&gt; class=3D&quot;org.archive.&lt;wbr&gt;mod=\r\nules.recrawl.&lt;wbr&gt;FetchHistoryProc&lt;wbr&gt;essor&quot; &gt; &lt;property &lt;br&gt;\n&gt;&g=\r\nt; name=3D&quot;historyLength&lt;wbr&gt;&quot; value=3D&quot;30&quot; /&gt; &lt;/bean&gt;&lt;br&gt;\n&gt;&gt=\r\n;&lt;br&gt;\n&gt;&gt; &lt;bean id=3D&quot;persistStorePro&lt;wbr&gt;cessor&quot; &lt;br&gt;\n&gt;&gt; cla=\r\nss=3D&quot;org.archive.&lt;wbr&gt;modules.recrawl.&lt;wbr&gt;PersistStoreProc&lt;wbr&gt;essor&quot; &gt=\r\n; &lt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\nUnrelated to your issues, in the near future it wi=\r\nll be better to put &lt;br&gt;\nthe persistStoreProcess&lt;wbr&gt;or as the first in the=\r\n &#39;dispositionChain&#39; rather &lt;br&gt;\nthan the last position of the &#39;fetchChain&#39;&lt;=\r\nwbr&gt;. Essentially, the &lt;br&gt;\ndispositionChain&#39;&lt;wbr&gt;s activities will be atom=\r\nic with regard to &lt;br&gt;\ncheckpointing -- any URI that starts the disposition=\r\nChain will finish it &lt;br&gt;\nbefore a checkpoint is stored -- but the fetchCha=\r\nin&#39;s activities will not.&lt;br&gt;\n&lt;br&gt;\nAlso unrelated but good to know: H3&#39;s co=\r\nnfiguration makes it much easier &lt;br&gt;\nfor different components to optionall=\r\ny use separate BDB environments on &lt;br&gt;\ndisk. Two reasons one might want to=\r\n do so: (1) distribute the IO costs &lt;br&gt;\nover different disks; (2) keep dis=\r\ntinct data separate on disk for &lt;br&gt;\nbackup/migration-&lt;wbr&gt;to-new-jobs, as =\r\nwith the difference between &lt;br&gt;\nqueues/stateof the running crawl, and URI =\r\nhistory for deduplication &lt;br&gt;\npurposes.&lt;br&gt;\n&lt;br&gt;\nFor example, you could de=\r\nclare...&lt;br&gt;\n&lt;br&gt;\n&lt;bean id=3D&quot;persistStoreBdb&lt;wbr&gt;&quot; class=3D&quot;org.archive=\r\n.&lt;wbr&gt;bdb.BdbModule&quot; &lt;br&gt;\nautowire-candidate=3D&lt;wbr&gt;&quot;false&quot;&gt;&lt;br&gt;\n   &lt;=\r\nproperty name=3D&quot;dir&quot; value=3D&quot;history&quot;&lt;wbr&gt;/&gt;&lt;br&gt;\n&lt;/bean&gt;&lt;br&gt;\n&lt;br=\r\n&gt;\n&lt;bean id=3D&quot;persistStorePro&lt;wbr&gt;cessor&quot; &lt;br&gt;\nclass=3D&quot;org.archive.&lt;wbr=\r\n&gt;modules.recrawl.&lt;wbr&gt;PersistStoreProc&lt;wbr&gt;essor&quot;&gt;&lt;br&gt;\n   &lt;property n=\r\name=3D&quot;bdbModule&quot;&lt;wbr&gt;&gt;&lt;br&gt;\n     &lt;ref bean=3D&quot;persistStoreB&lt;wbr&gt;db&quot;/&=\r\ngt;&lt;br&gt;\n   &lt;/property&gt;&lt;br&gt;\n  &lt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\n...and then persi=\r\nstent URI history will collect in a &#39;history&#39; directory &lt;br&gt;\n(which could b=\r\ne a full path to anywhere convenient) rather than being &lt;br&gt;\nmixed-in with =\r\nother crawler state.&lt;br&gt;\n&lt;br&gt;\n(The reason for the &#39;autowire-candidate&lt;wbr&gt;=\r\n=3D&quot;false&quot;&#39; is to prevent this &lt;br&gt;\nBdbModule from being a competitor to th=\r\ne default for all the objects &lt;br&gt;\nthat expect one distinguished instance t=\r\no be available for autowiring.)&lt;br&gt;\n&lt;br&gt;\n&gt; Then for another job to use t=\r\nhis stored history I added the following to &lt;br&gt;\n&gt; the default H3 crawle=\r\nr-bean.&lt;wbr&gt;cxml file. In the Fetch Chain just after the &lt;br&gt;\n&gt; &quot;precond=\r\nitions&quot; bean:&lt;br&gt;\n&gt;&gt; &lt;bean id=3D&quot;persistLoadProc&lt;wbr&gt;essor&quot; &lt;br&gt;\n&=\r\ngt;&gt; class=3D&quot;org.archive.&lt;wbr&gt;modules.recrawl.&lt;wbr&gt;PersistLoadProce&lt;wbr=\r\n&gt;ssor&quot;&gt; &lt;property &lt;br&gt;\n&gt;&gt; name=3D&quot;preloadSource&lt;wbr&gt;&quot; &lt;br&gt;\n&gt;=\r\n&gt; value=3D&quot;/Users/&lt;wbr&gt;mattwarhaftig/&lt;wbr&gt;Documents/&lt;wbr&gt;heritrix-&lt;wbr&gt;3=\r\n.0.0-SNAPSHOT/&lt;wbr&gt;jobs/basic/&lt;wbr&gt;state&quot; &lt;br&gt;\n&gt;&gt; /&gt; &lt;/bean&gt;=\r\n&lt;br&gt;\n&gt; And just after the &quot;fetchHttp&quot; bean:&lt;br&gt;\n&gt;&gt; &lt;bean id=3D&quot;=\r\nfetchHistoryPro&lt;wbr&gt;cessor&quot; &lt;br&gt;\n&gt;&gt; class=3D&quot;org.archive.&lt;wbr&gt;modules=\r\n.recrawl.&lt;wbr&gt;FetchHistoryProc&lt;wbr&gt;essor&quot; &gt; &lt;property &lt;br&gt;\n&gt;&gt; n=\r\name=3D&quot;historyLength&lt;wbr&gt;&quot; value=3D&quot;30&quot; /&gt; &lt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\nNote t=\r\nhat &#39;preloadSource&#39; causes the processor to scan the named log or &lt;br&gt;\ndire=\r\nctory, and copy all its contents into its current history database. &lt;br&gt;\nIf=\r\n using this, make sure you&#39;re not pointing to the same path it&#39;s &lt;br&gt;\ncurre=\r\nntly&lt;br&gt;\n&lt;br&gt;\nYou could also skip the &#39;preload&#39; and directly point the &lt;br&gt;=\r\n\nPersistLoadProcesso&lt;wbr&gt;r to an existing history store:&lt;br&gt;\n&lt;br&gt;\n&lt;bean =\r\nid=3D&quot;persistLoadBdb&quot; class=3D&quot;org.archive.&lt;wbr&gt;bdb.BdbModule&quot; &lt;br&gt;\nautowir=\r\ne-candidate=3D&lt;wbr&gt;&quot;false&quot;&gt;&lt;br&gt;\n   &lt;property name=3D&quot;dir&quot; &lt;br&gt;\nvalue=\r\n=3D&quot;/Users/&lt;wbr&gt;mattwarhaftig/&lt;wbr&gt;Documents/&lt;wbr&gt;heritrix-&lt;wbr&gt;3.0.0-SNAPS=\r\nHOT/&lt;wbr&gt;jobs/basic/&lt;wbr&gt;state&quot;/&gt;&lt;br&gt;\n&lt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;bean id=\r\n=3D&quot;persistLoadProc&lt;wbr&gt;essor&quot;&lt;br&gt;\n  class=3D&quot;org.archive.&lt;wbr&gt;modules.recr=\r\nawl.&lt;wbr&gt;PersistLoadProce&lt;wbr&gt;ssor&quot;&gt;&lt;br&gt;\n  &lt;property name=3D&quot;bdbModul=\r\ne&quot;&lt;wbr&gt;&gt;&lt;br&gt;\n     &lt;ref bean=3D&quot;persistLoadBd&lt;wbr&gt;b&quot;/&gt;&lt;br&gt;\n   &lt;/=\r\nproperty&gt;&lt;br&gt;\n&lt;/bean&gt;&lt;br&gt;\n&lt;br&gt;\n(Except for the &#39;preload&#39;, if speci=\r\nfied, the PersistLoadProcesso&lt;wbr&gt;r only &lt;br&gt;\nreads from its given BdbModul=\r\ne/environme&lt;wbr&gt;nt, so you could reuse a prior &lt;br&gt;\ncrawl&#39;s persist-store t=\r\narget without damaging it.)&lt;br&gt;\n&lt;br&gt;\nThere&#39;s currently a problem with havin=\r\ng both a PersistLoadProcesso&lt;wbr&gt;r and &lt;br&gt;\nPersistStoreProcess&lt;wbr&gt;or in t=\r\nhe same crawl using the same &lt;br&gt;\nBdbModule/directory [HER-1706], but that =\r\nshould work by the time of the &lt;br&gt;\nH3 official release.&lt;br&gt;\n&lt;br&gt;\nHope this=\r\n helps,&lt;br&gt;\n&lt;br&gt;\n- Gordon @ IA&lt;br&gt;\n&lt;br&gt;\n&gt; Am I declaring these beans cor=\r\nrectly?&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Thanks,&lt;br&gt;\n&gt; Matt&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&g=\r\nt; &lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n&lt;!-- end group email --&gt;\n\n&lt;=\r\n/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-1-684176294--\r\n\n"}}