{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"&quot;Gordon Mohr&quot; &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"ccJxbUKPUSM17XH8voYIVhBoN8vMwXmqWkX4UKz1_hRK8quFoc8SakWjTNlYxhlG1iBCmiDRHp140-6EYMQ_H0T_C1JdHYisGw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Memory Pool manager attached !!","postDate":"1051133702","msgId":51,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDAwZjkwMWMzMDllMCQzMmZhYjAwMCQ0OGYwZWRkMUBXT1JLU1RBVElPTjIxPg==","referencesHeader":"PDIyYWYwMWMzMDk1NCRkNzE4Yjc5MCRkNTAwYThjMEB0aWRlbHBhcmsuaXNvZnR0ZWNoaW5kaWEuY29tPg=="},"prevInTopic":0,"nextInTopic":52,"prevInTime":50,"nextInTime":52,"topicId":51,"numMessagesInTopic":2,"msgSnippet":"Thanks! Some thoughts: I d like to approach this part of the system -- buffers/streams for multi-Kb entities across one processing cycle -- at three separate ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 23 Apr 2003 21:33:15 -0000\r\nReceived: (qmail 44872 invoked from network); 23 Apr 2003 21:33:15 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m13.grp.scd.yahoo.com with QMQP; 23 Apr 2003 21:33:15 -0000\r\nReceived: from unknown (HELO mail.archive.org) (209.237.232.56)\n  by mta1.grp.scd.yahoo.com with SMTP; 23 Apr 2003 21:33:15 -0000\r\nReceived: from WORKSTATION21 (b116-dyn-72.archive.org [209.237.240.72])\n\tby iahost-232-56.archive.org (8.12.8/8.10.2) with SMTP id h3NKnaMK028378;\n\tWed, 23 Apr 2003 13:49:37 -0700\r\nMessage-ID: &lt;00f901c309e0$32fab000$48f0edd1@WORKSTATION21&gt;\r\nTo: &quot;G.B.Reddy&quot; &lt;reddy@...&gt;, &lt;archive-crawler@yahoogroups.com&gt;\r\nReferences: &lt;22af01c30954$d718b790$d500a8c0@...&gt;\r\nSubject: Re: Memory Pool manager attached !!\r\nDate: Wed, 23 Apr 2003 14:35:02 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1106\r\nX-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nFrom: &quot;Gordon Mohr&quot; &lt;gojomo@...&gt;\r\nX-Yahoo-Group-Post: member; u=137285340\r\nX-Yahoo-Profile: gojomo\r\n\r\nThanks! \n\nSome thoughts:\n\nI&#39;d like to approach this part of the system -- buffers/streams for \nmulti-Kb entities across one processing cycle -- at three separate \nlevels, in order:\n\n(1) The basic interface offered to other crawler components,\n    hiding implementation details.\n\n(2) The trick of using disk space for large files, because\n    it is impractical to keep so many large files in RAM\n    through all processing stages.\n\n(3) The optimization of using recycled internal objects, to \n    minimize garbage collection overhead.\n\nPart (1) needs to be right and relatively constant early; parts (2) \nand (3) can be tweaked down the road -- and I&#39;m reluctant to evaluate\napproaches to (3) just yet, because it is only after seeing the latest \nJava allocators/garbage-collectors do poorly on a naive implementation\nthat we&#39;ll be able to make sensible pool-management choices.\n\nFor part (1), please take a look at the abstract classes I&#39;ve placed\nin the ArchiveOpenCrawler module, src/org/archive/crawler/io [*]:\n\n   VirtualBuffer\n   SeekableInputStream\n   SeekableInputSubstream\n\nI think the &#39;VirtualBuffer&#39; object is useful to tie together the \nconstruction of the data stream and its later use, rather than \nusing a [Something]OutputStream first and then only at the end asking\nit for one [Something]InputStream on the results. Also, it better\nsupports the idea there could be multiple independent InputStreams\n(or CharSequences) on the same read-only buffer. \n\nFleshing out the potential connections between the abstract classes\nabove and the concrete classes you&#39;ve proposed:\n\n  class RewindableSpreadInputStream extends SeekableInputStream\n\n  class DiskedVirtualBuffer extends VirtualBuffer {\n    // naive implementation of VirtualBuffer with associated Streams/CharSequence classes\n    // that is, &quot;level (2)&quot; above\n    // likely uses a RandomAccessFile to augment any in-memory buffer(s)\n    // ... //\n  }\n  \n  class EconomizingDiskedVirtualBuffer extends DiskedVirtualBuffer {\n    // recycling/optimizable implementation of VirtualBuffer\n    // that is, &quot;level (3)&quot; above\n    // somehow utilizes one or more managed MemoryArea instances\n\n    public SpreadOutputStream getOutputStream() { /* ... */ }\n    public RewindableSpreadInputStream getInputStream() { /* ... */ }\n  }\n\nDoes this make sense to everyone? \n\n- Gordon\n\n[*] http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/archive-crawler/ArchiveOpenCrawler/src/org/archive/crawler/io/\n\n----- Original Message ----- \nFrom: G.B.Reddy \nTo: Gordon Mohr \nSent: Tuesday, April 22, 2003 9:57 PM\nSubject: Memory Pool manager attached !!\n\n\nGordon,\n\nAs requested, I am attaching the javadoc/code which we did when Raymie was here in India. Some changes which are to be done are\n\n- Support for Multiple MemPoolManager instances. (don&#39;t make it static)\n- Use a free list instead of a bitmap to track the allocated/free areas.\n\nThanks,\nReddy\n\n"}}