{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":278782393,"authorName":"Paul Jack","from":"Paul Jack &lt;pjack@...&gt;","profile":"poetbeware","replyTo":"LIST","senderId":"qoke2ZhwN85j4nDxJjCEq6PJPBEGC8Ix63UtSUW1GPb_26MEUrBnZJ4-cz1GVxPHgVdot6Y0q12MvWxo5PaSYRkimoc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Retrieving KeyManager Data","postDate":"1199913528","msgId":4887,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBOUI0RDc5LThCRjgtNDVBQS1BQUU5LTM1RjgyOEE2RkRGRkBhcmNoaXZlLm9yZz4=","inReplyToHeader":"PDAwM2MwMWM4NTJmNCRkNGE4MGM2MCQ3ZGY4MjUyMCRAYS5jbGFya0B2ZXJpem9uLm5ldD4=","referencesHeader":"PDAwM2MwMWM4NTJmNCRkNGE4MGM2MCQ3ZGY4MjUyMCRAYS5jbGFya0B2ZXJpem9uLm5ldD4="},"prevInTopic":4884,"nextInTopic":4890,"prevInTime":4886,"nextInTime":4888,"topicId":4884,"numMessagesInTopic":3,"msgSnippet":"Hi, Am I correct in assuming that the JDBC_DRIVER setting is going to be unchanged during the lifetime of a crawl? If that assumption is correct, then: 1. The","rawEmail":"Return-Path: &lt;pjack@...&gt;\r\nX-Sender: pjack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 85106 invoked from network); 9 Jan 2008 21:18:44 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m52.grp.scd.yahoo.com with QMQP; 9 Jan 2008 21:18:44 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta18.grp.scd.yahoo.com with SMTP; 9 Jan 2008 21:18:44 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 9D67A4192A\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed,  9 Jan 2008 13:18:44 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id ZMzVef2AEgnU for &lt;archive-crawler@yahoogroups.com&gt;;\n\tWed,  9 Jan 2008 13:18:42 -0800 (PST)\r\nX-Received: from [192.168.1.3] (adsl-71-131-20-32.dsl.sntc01.pacbell.net [71.131.20.32])\n\tby mail.archive.org (Postfix) with ESMTP id 45D4558\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed,  9 Jan 2008 13:18:42 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v753)\r\nIn-Reply-To: &lt;003c01c852f4$d4a80c60$7df82520$@...@...&gt;\r\nReferences: &lt;003c01c852f4$d4a80c60$7df82520$@...@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;4A9B4D79-8BF8-45AA-AAE9-35F828A6FDFF@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Wed, 9 Jan 2008 13:18:48 -0800\r\nTo: archive-crawler@yahoogroups.com\r\nX-Mailer: Apple Mail (2.753)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Paul Jack &lt;pjack@...&gt;\r\nSubject: Re: [archive-crawler] Retrieving KeyManager Data\r\nX-Yahoo-Group-Post: member; u=278782393; y=HRXSfsX-3Gwn1EDJtKUt-jfiJL5FYFPrA_2DYKwHq8EdZFiwmQ\r\nX-Yahoo-Profile: poetbeware\r\n\r\nHi,\n\nAm I correct in assuming that the JDBC_DRIVER setting is going to be  \nunchanged during the lifetime of a crawl? If that assumption is  \ncorrect, then:\n\n1. The Key field should be marked with @Immutable, to prevent  \noperators from changing it during an active crawl.\n2. Your JDBCWriterProcessor should implement Initializable.\n3. The Initializable.initialTasks method should retrieve the value  \nand do something useful with it. I imagine your inititalTasks will  \nlook something like:\n\npublic void initialTasks(StateProvider global) {\n     String driver = global.get(this, JDBC_DRIVER);\n     String url = global.get(this, JDBC_URL);\n     String user = global.get(this, JDBC_USER);\n     String password = global.get(this, JDBC_PASSWORD);\n     this.dataSource = new SomeDataSourceClass(driver, url, user,  \npassword);\n}\n\nThe initialTasks method will be called by the framework when it loads  \na global configuration.\n\nIf the driver information can change during a crawl, then you  \nprobably want your module to also implement the KeyChangeListener  \ninterface, and replace the dataSource with the new information during  \nthe KeyChangedEvent.\n\n-Paul\n\nOn Jan 9, 2008, at 11:21 AM, Daniel Clark wrote:\n\n&gt;\n&gt; In 2.0 RC1, I applied a JDBCWriterProcessor.  I added the JDBC info  \n&gt; to the KeyManager like the following and was able to see the data  \n&gt; show up in the sheets editor of the webui.\n&gt;\n&gt;\n&gt;\n&gt; final public static Key&lt;String&gt; JDBC_DRIVER = Key.make \n&gt; (&quot;com.mysql.jdbc.Driver&quot;);\n&gt;\n&gt; .\n&gt;\n&gt; .\n&gt;\n&gt;\n&gt;\n&gt; KeyManager.addKeys(JDBCWriterProcessor.class);\n&gt;\n&gt;\n&gt;\n&gt; I would like to be able to modify the JDBC settings in the webui  \n&gt; and have the JDBCWriterProcessor pickup those changes.  How do I  \n&gt; retrieve these settings in my code?  Any help would be greatly  \n&gt; appreciated.\n&gt;\n&gt;\n&gt;\n&gt; ~~~~~~~~~~~~~~~~~~~~~\n&gt;\n&gt; Daniel Clark, President\n&gt;\n&gt; DAC Systems, Inc.\n&gt;\n&gt;  (703) 403-0340\n&gt;\n&gt; ~~~~~~~~~~~~~~~~~~~~~\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n\n"}}