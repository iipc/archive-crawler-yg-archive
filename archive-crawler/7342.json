{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"david_pane1","from":"&quot;david_pane1&quot; &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"jaGdfvPTK9K3pZEKzOfh2nlsmexfX08KRuxWnalYUegGaJhg5FhxD2hkLiQsw_KN9w4vavXTNVxDOkM5P-gTiUfQB_yIZxs","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: questions on how to setup Heritrix 3 on two machines","postDate":"1318264791","msgId":7342,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGo2djc0bis5aWUwQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGo2a2xlcitzM2d1QGVHcm91cHMuY29tPg=="},"prevInTopic":7341,"nextInTopic":7598,"prevInTime":7341,"nextInTime":7343,"topicId":7341,"numMessagesInTopic":9,"msgSnippet":"With some effort, tips from Gordan and using the H1 to get an idea of the property names of the HashCrawlMapper, I was able to successfully configure and run a","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 14840 invoked from network); 10 Oct 2011 16:39:55 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m10.grp.sp2.yahoo.com with QMQP; 10 Oct 2011 16:39:55 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta4.grp.sp2.yahoo.com with SMTP; 10 Oct 2011 16:39:55 -0000\r\nX-Received: from [69.147.65.147] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 10 Oct 2011 16:39:51 -0000\r\nX-Received: from [98.137.34.36] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 10 Oct 2011 16:39:51 -0000\r\nDate: Mon, 10 Oct 2011 16:39:51 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j6v74n+9ie0@...&gt;\r\nIn-Reply-To: &lt;j6kler+s3gu@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;david_pane1&quot; &lt;dpane@...&gt;\r\nSubject: Re: questions on how to setup Heritrix 3 on two machines\r\nX-Yahoo-Group-Post: member; u=500983475; y=OOcEhH6wjW3ji1t8uScW5x_P8RoY2oa_iFYTCWR4jHSBXPTHbDMD3g\r\nX-Yahoo-Profile: david_pane1\r\n\r\nWith some effort, tips from Gordan and using the H1 to get an idea of the p=\r\nroperty names of the HashCrawlMapper, I was able to successfully configure =\r\nand run a two machine test crawl.  I figured I would post this for others t=\r\no refer to in the future.  \n\n\nUsing the default crawler-beans.cxml, I added=\r\n the following (in addition to the necessary user-agent and the seed list c=\r\nhanges )\n\nI defined the following in crawler-beans.cxml on machine 1:\n  &lt;be=\r\nan id=3D&quot;hashCrawlMapperProcessor&quot; class=3D&quot;org.archive.crawler.processor.H=\r\nashCrawlMapper&quot;&gt;\n \t&lt;property name=3D&quot;localName&quot;      value=3D&quot;0&quot; /&gt;\n\t&lt;prope=\r\nrty name=3D&quot;diversionDir&quot;   value=3D&quot;diversions&quot; /&gt;\n\t&lt;property name=3D&quot;chec=\r\nkUri&quot;       value=3D&quot;True&quot; /&gt;\n\t&lt;property name=3D&quot;checkOutlinks&quot;  value=3D&quot;F=\r\nalse&quot; /&gt;\n\t&lt;property name=3D&quot;rotationDigits&quot; value=3D&quot;10&quot; /&gt;\n\t&lt;property name=\r\n=3D&quot;crawlerCount&quot;   value=3D&quot;2&quot; /&gt;\n  &lt;/bean&gt;\n\n\nand this definition on machi=\r\nne #2 (only change was local-name value):\n\n  &lt;bean id=3D&quot;hashCrawlMapperPro=\r\ncessor&quot; class=3D&quot;org.archive.crawler.processor.HashCrawlMapper&quot;&gt;\n \t&lt;propert=\r\ny name=3D&quot;localName&quot;      value=3D&quot;1&quot; /&gt;\n\t&lt;property name=3D&quot;diversionDir&quot;  =\r\n value=3D&quot;diversions&quot; /&gt;\n\t&lt;property name=3D&quot;checkUri&quot;       value=3D&quot;True&quot; =\r\n/&gt;\n\t&lt;property name=3D&quot;checkOutlinks&quot;  value=3D&quot;False&quot; /&gt;\n\t&lt;property name=3D=\r\n&quot;rotationDigits&quot; value=3D&quot;10&quot; /&gt;\n\t&lt;property name=3D&quot;crawlerCount&quot;   value=\r\n=3D&quot;2&quot; /&gt;\n  &lt;/bean&gt;\n\nThen I added in call to hashCrawlMapperProcessor in th=\r\ne candidateProcessors chain.\n\n &lt;!-- now, processors are assembled into orde=\r\nred CandidateChain bean --&gt;\n &lt;bean id=3D&quot;candidateProcessors&quot; class=3D&quot;org.=\r\narchive.modules.CandidateChain&quot;&gt;\n  &lt;property name=3D&quot;processors&quot;&gt;\n   &lt;list&gt;=\r\n\n    &lt;!-- apply scoping rules to each individual candidate URI... --&gt;\n    &lt;=\r\nref bean=3D&quot;candidateScoper&quot;/&gt;\n    &lt;!-- check every URI discovered even bef=\r\nore it is ever enqueued --&gt;\n    &lt;ref bean=3D&quot;hashCrawlMapperProcessor&quot;/&gt;\n\n =\r\n   &lt;!-- ...then prepare those ACCEPTed to be enqueued to frontier. --&gt;\n    =\r\n&lt;ref bean=3D&quot;preparer&quot;/&gt;\n   &lt;/list&gt;\n  &lt;/property&gt;\n &lt;/bean&gt;\n\nand a call to h=\r\nashCrawlMapperProcessor in the FetchChain\n\n &lt;!-- now, processors are assemb=\r\nled into ordered FetchChain bean --&gt;\n &lt;bean id=3D&quot;fetchProcessors&quot; class=3D=\r\n&quot;org.archive.modules.FetchChain&quot;&gt;\n  &lt;property name=3D&quot;processors&quot;&gt;\n   &lt;list=\r\n&gt;\n\n    &lt;!-- re-check scope, if so enabled... --&gt;\n    &lt;ref bean=3D&quot;preselect=\r\nor&quot;/&gt;\n\n    &lt;ref bean=3D&quot;hashCrawlMapperProcessor&quot;/&gt;\n\n.\n.\n.\n\n\n\n--David\n\n--- =\r\nIn archive-crawler@yahoogroups.com, &quot;david_pane1&quot; &lt;dpane@...&gt; wrote:\n&gt;\n&gt; I =\r\nam new to using Heritrix 3 and have only limited experience with H1.  I wou=\r\nld like to setup H3 on two (maybe more in the future) machines for a distri=\r\nbuted crawl.  I would also like to apply the HashCrawlMapper to the process=\r\ning chains so the URIs are shared between the two crawlers. \n&gt; \n&gt; Although =\r\nthere are discussions about multiple machine crawls and the use of HashCraw=\r\nlMapper, I could not find specifics on the setup of this (i.e even an examp=\r\nle crawler-beans.cxml with a default configuration).   I understand that bo=\r\nth crawlers should have the same configuration.  However, how do you assign=\r\n a crawler/node name to each so that the HashCrawlMapper can assign URIs an=\r\nd each crawler understands which ones to crawl.?\n&gt; \n&gt; Additionally, when at=\r\ntempting to define a name bean for the HashCrawlMapper I am unclear on how =\r\nto identify the available property names and values.  (And this is true for=\r\n any bean that is not clearly defined as the default crawler-beans.cxml.)\n&gt;=\r\n \n&gt; I understand that the customization of the configuration for optimal pe=\r\nrformance may take many iterations, but can anyone help me define the initi=\r\nal configuration of a two crawler/machine system which would work as a dist=\r\nributed crawl.\n&gt; \n&gt; Thank you,\n&gt; \n&gt; -David\n&gt;\n\n\n\n"}}