{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"XCwGLdIfxbpAUxvxe8derLN3R364LiLw-iS9EoHQS8x2mlsY5l4ne2BuRD__mRHHI97KazpvwZaUsoVWzQ_4k_5QBL-04Fc","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Getting started with BeanShell","postDate":"1295337210","msgId":6982,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDREMzU0NkZBLjIwNjAyMDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDREMzAyMDU4LjUwOTA3MDVAc3RhdHNiaWJsaW90ZWtldC5kaz4=","referencesHeader":"PDREMzAyMDU4LjUwOTA3MDVAc3RhdHNiaWJsaW90ZWtldC5kaz4="},"prevInTopic":6981,"nextInTopic":0,"prevInTime":6981,"nextInTime":6983,"topicId":6981,"numMessagesInTopic":2,"msgSnippet":"In Heritrix 1.14.x, the script source must come from a local file, which is specified via the script-file setting. (If a relative path, it will be","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 23156 invoked from network); 18 Jan 2011 07:53:34 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m12.grp.re1.yahoo.com with QMQP; 18 Jan 2011 07:53:34 -0000\r\nX-Received: from unknown (HELO relay00.pair.com) (209.68.5.9)\n  by mta3.grp.re1.yahoo.com with SMTP; 18 Jan 2011 07:53:33 -0000\r\nX-Received: (qmail 54791 invoked by uid 0); 18 Jan 2011 07:53:31 -0000\r\nX-Received: from 67.188.34.83 (HELO silverbook.local) (67.188.34.83)\n  by relay00.pair.com with SMTP; 18 Jan 2011 07:53:31 -0000\r\nX-pair-Authenticated: 67.188.34.83\r\nMessage-ID: &lt;4D3546FA.2060204@...&gt;\r\nDate: Mon, 17 Jan 2011 23:53:30 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Colin Rosenthal &lt;csr@...&gt;\r\nReferences: &lt;4D302058.5090705@...&gt;\r\nIn-Reply-To: &lt;4D302058.5090705@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Getting started with BeanShell\r\nX-Yahoo-Group-Post: member; u=137285340; y=ZrZDqRFJP9GC5LTJ7ayWHJnlyGk6WbptacpxyN6FPU-L\r\nX-Yahoo-Profile: gojomo\r\n\r\nIn Heritrix 1.14.x, the script source must come from a local file, which \nis specified via the &#39;script-file&#39; setting. (If a relative path, it will \nbe interpreted relative to the job directory.)\n\nThe script source should define a script method &#39;process(curi)&#39; which \nwill be passed the current CrawlURI. The script may also access the \nBeanShellProcessor via the &#39;self&#39; variable and the CrawlController via \nthe &#39;controller&#39; variable.\n\nYou can set it up via the web UI; after doing that here&#39;s an example \nexcerpt that was created inside order.xml:\n\n       &lt;newObject name=&quot;BeanShellProcessor&quot; \nclass=&quot;org.archive.crawler.processor.BeanShellProcessor&quot;&gt;\n         &lt;boolean name=&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n         &lt;newObject name=&quot;BeanShellProcessor#decide-rules&quot; \nclass=&quot;org.archive.crawler.deciderules.DecideRuleSequence&quot;&gt;\n           &lt;map name=&quot;rules&quot;&gt;\n           &lt;/map&gt;\n         &lt;/newObject&gt;\n         &lt;string name=&quot;script-file&quot;&gt;script.bsh&lt;/string&gt;\n         &lt;boolean name=&quot;isolate-threads&quot;&gt;true&lt;/boolean&gt;\n       &lt;/newObject&gt;\n\nIn H3, the BeanShellProcessor is replaced with the more generic \nScriptedProcessor, allowing the use of any available JSR223 scripting \nengine. In the H3 ScriptedProcessor, the key setting properties are:\n\n� &#39;engineName&#39;, specifying the scripting engine (language) to use. \nBeanshell, Groovy, and Javascript are always available; Jython, JRuby, \nand others are also possible.\n\n� &#39;scriptSource&#39;, which should be a bean of type ReadSource. A \nConfigString is a ReadSource that can be specified inline in the XML; a \nConfigFile is a ReadSource specified by file path. The source should \ndefine a function &#39;run()&#39; taking one argument, the current CrawlURI, and \ncan also make use of the variables &#39;self&#39; for the ScriptedProcessor \nitself and &#39;context&#39; for the crawl-wide ApplicationContext (from which \nall other named beans are reachable).\n\n- Gordon @ IA\n\nOn 1/14/11 2:07 AM, Colin Rosenthal wrote:\n&gt; Hi,\n&gt;\n&gt; I can&#39;t find the basic documentation for how I include a\n&gt; BeanShellProcessor in an order template. Presumably I add\n&gt; something like\n&gt; &lt;newObject name=&quot;MyCustomBeanshellProcessor&quot;\n&gt; class=&quot;org.archive.crawler.processor.BeanShellProcessor&quot;&gt;\n&gt;\n&gt; &lt;/newObject&gt;\n&gt; somwhere in the relevant processor chain. But what next? Does the shell\n&gt; text just go in as the body of the&lt;newObject&gt;  element?\n&gt;\n&gt; --\n&gt; Colin Rosenthal\n&gt; IT Developer\n&gt; State and University Library, Aarhus\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}