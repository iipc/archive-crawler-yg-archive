{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":374285561,"authorName":"Matthew Warhaftig","from":"Matthew Warhaftig &lt;mwarhaftig@...&gt;","replyTo":"LIST","senderId":"Zm7RBAGMFqejzn3HXhe3oSQNa6dPUb-A8XTHtKzELDy2YxcHLPlrJDcprLExctgUhRqUYc-zm2s3uKolx3NGmA0uHWzSt3XLAszrQS2Ozg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Recrawling In Heritrix3","postDate":"1257711620","msgId":6140,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDY0QkFCMzFCLTQ1RjMtNDBCQS1CQkIzLTBCRUMxMkQ4RTgyRUBnbWFpbC5jb20+"},"prevInTopic":0,"nextInTopic":6145,"prevInTime":6139,"nextInTime":6141,"topicId":6140,"numMessagesInTopic":6,"msgSnippet":"Hi, In H3 I am trying to setup crawl jobs that use FetchHistoryProcessor/ PersistStoreProcessor/PersistLoadProcessor to discard duplicate content.  I can get","rawEmail":"Return-Path: &lt;mwarhaftig@...&gt;\r\nReceived: (qmail 55858 invoked from network); 8 Nov 2009 22:05:18 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 8 Nov 2009 22:05:18 -0000\r\nReceived: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta2.grp.sp2.yahoo.com with SMTP; 8 Nov 2009 22:05:18 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1257717671; bh=ZxGYR+T0fJH30xx/4Z3Xvg4FDMrOaiQoJFAg5Ptp0Bo=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:Content-Type:Date:Message-Id:To:Mime-Version:X-Mailer:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=SSVc0giOtK+y/C8BHUr86zNp4PhZABSebhI/PRfXbhSYuaRif058Rz+dZciugTWhQfTqM3iKHSIjhfOu85EaUGVQ/u7YS7hZwR52OidqE4RivfEBAjYANjBce5MAJfwc\r\nReceived: from [69.147.65.148] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 08 Nov 2009 22:01:11 -0000\r\nReceived: from [98.137.34.72] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 08 Nov 2009 22:01:11 -0000\r\nX-Sender: mwarhaftig@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 48964 invoked from network); 8 Nov 2009 20:21:23 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m12.grp.re1.yahoo.com with QMQP; 8 Nov 2009 20:21:23 -0000\r\nX-Received: from unknown (HELO mail-yw0-f188.google.com) (209.85.211.188)\n  by mta3.grp.sp2.yahoo.com with SMTP; 8 Nov 2009 20:21:23 -0000\r\nX-Received: by ywh26 with SMTP id 26so2297294ywh.12\n        for &lt;archive-crawler@yahoogroups.com&gt;; Sun, 08 Nov 2009 12:20:23 -0800 (PST)\r\nX-Received: by 10.91.54.22 with SMTP id g22mr2106041agk.80.1257711623111;\n        Sun, 08 Nov 2009 12:20:23 -0800 (PST)\r\nX-Received: from ?192.168.1.100? (ool-457fe0dd.dyn.optonline.net [69.127.224.221])\n        by mx.google.com with ESMTPS id 21sm921212yxe.19.2009.11.08.12.20.21\n        (version=SSLv3 cipher=RC4-MD5);\n        Sun, 08 Nov 2009 12:20:22 -0800 (PST)\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-1-231546388\r\nDate: Sun, 8 Nov 2009 15:20:20 -0500\r\nMessage-Id: &lt;64BAB31B-45F3-40BA-BBB3-0BEC12D8E82E@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nMime-Version: 1.0 (Apple Message framework v1076)\r\nX-Mailer: Apple Mail (2.1076)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Matthew Warhaftig &lt;mwarhaftig@...&gt;\r\nSubject: Recrawling In Heritrix3\r\nX-Yahoo-Group-Post: member; u=374285561\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gojomo &lt;gojomo@...&gt; via web; 08 Nov 2009 22:01:10 -0000\r\n\r\n\r\n--Apple-Mail-1-231546388\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/plain;\n\tcharset=us-ascii;\n\tformat=flowed;\n\tdelsp=yes\r\n\r\nHi,\n\nIn H3 I am trying to setup crawl jobs that use FetchHistoryProcessor/ \nPersistStoreProcessor/PersistLoadProcessor to discard duplicate  \ncontent.  I can get H1 to recrawl correctly but the same technique is  \nnot storing a history and finding duplicates for me in H3 (my job  \nsetup is based on these postings: https://webarchive.jira.com/wiki/display/Heritrix/Feature+Notes+-+1.12.0 \n  & http://tech.groups.yahoo.com/group/archive-crawler/message/5920).\n\nFor the storing job I added the following to the default H3 crawler- \nbeans.cxml file.  In the Fetch Chain just after the &quot;fetchHttp&quot; bean:\n&gt; &lt;bean id=&quot;fetchHistoryProcessor&quot;  \n&gt; class=&quot;org.archive.modules.recrawl.FetchHistoryProcessor&quot; &gt;\n&gt; &lt;property name=&quot;historyLength&quot; value=&quot;30&quot; /&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; &lt;bean id=&quot;persistStoreProcessor&quot;  \n&gt; class=&quot;org.archive.modules.recrawl.PersistStoreProcessor&quot; &gt;\n&gt; &lt;/bean&gt;\n\nThen for another job to use this stored history I added the following  \nto the default H3 crawler-bean.cxml file.  In the Fetch Chain just  \nafter the &quot;preconditions&quot; bean:\n&gt; &lt;bean id=&quot;persistLoadProcessor&quot;  \n&gt; class=&quot;org.archive.modules.recrawl.PersistLoadProcessor&quot;&gt;\n&gt; &lt;property name=&quot;preloadSource&quot; value=&quot;/Users/mattwarhaftig/Documents/ \n&gt; heritrix-3.0.0-SNAPSHOT/jobs/basic/state&quot; /&gt;\n&gt; &lt;/bean&gt;\n\nAnd just after the &quot;fetchHttp&quot; bean:\n&gt; &lt;bean id=&quot;fetchHistoryProcessor&quot;  \n&gt; class=&quot;org.archive.modules.recrawl.FetchHistoryProcessor&quot; &gt;\n&gt; &lt;property name=&quot;historyLength&quot; value=&quot;30&quot; /&gt;\n&gt; &lt;/bean&gt;\n\n\nAm I declaring these beans correctly?\n\nThanks,\nMatt\r\n--Apple-Mail-1-231546388\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;&lt;font class=3D&quot;Apple-style=\r\n-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px=\r\n;&quot;&gt;Hi,&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span =\r\nclass=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/d=\r\niv&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-st=\r\nyle-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;In H3 I am trying to setup crawl jobs =\r\nthat use&nbsp;FetchHistoryProcessor/PersistStoreProcessor/PersistLoadProces=\r\nsor to discard duplicate content. &nbsp;I can get H1 to recrawl correctly&n=\r\nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font class=3D&quot;Apple-style-span&quot; color=3D&quot;#000000&quot;&gt;&lt;font =\r\nclass=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; styl=\r\ne=3D&quot;font-size: 12px;&quot;&gt;but the same technique is not storing a history and =\r\nfinding duplicates for me in H3&nbsp;&lt;span class=3D&quot;Apple-style-span&quot; style=\r\n=3D&quot;font-size: medium; &quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span =\r\nclass=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px; &quot;&gt;(my job setup is bas=\r\ned on these postings:&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font class=3D&quot;Apple-style-span&quot; c=\r\nolor=3D&quot;#000000&quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D=\r\n&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px; &quot;&gt;&lt;a href=3D&quot;https://webarchiv=\r\ne.jira.com/wiki/display/Heritrix/Feature+Notes+-+1.12.0&quot;&gt;https://webarchive=\r\n.jira.com/wiki/display/Heritrix/Feature+Notes+-+1.12.0&lt;/a&gt;&lt;/span&gt;&lt;/font&gt;&lt;/f=\r\nont&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-=\r\nspan&quot; style=3D&quot;font-size: 12px; &quot;&gt;&nbsp;&amp;&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font clas=\r\ns=3D&quot;Apple-style-span&quot; color=3D&quot;#000000&quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; s=\r\nize=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px; &quot;&gt;&lt;a h=\r\nref=3D&quot;http://tech.groups.yahoo.com/group/archive-crawler/message/5920&quot;&gt;htt=\r\np://tech.groups.yahoo.com/group/archive-crawler/message/5920&lt;/a&gt;&lt;/span&gt;&lt;/fo=\r\nnt&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-s=\r\npan&quot; style=3D&quot;font-size: 12px; &quot;&gt;).&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/fon=\r\nt&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=\r\n=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;d=\r\niv&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-s=\r\npan&quot; style=3D&quot;font-size: 12px;&quot;&gt;For the storing job I added the following t=\r\no the default H3&nbsp;crawler-beans.cxml file. &nbsp;In the Fetch Chain jus=\r\nt after the&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;wh=\r\nite-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span cl=\r\nass=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&quot;fetchHttp&quot; bean:&lt;/span=\r\n&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div&gt;&lt;span class=\r\n=3D&quot;Apple-style-span&quot; style=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Appl=\r\ne-style-span&quot; face=3D&quot;Courier&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; =\r\nstyle=3D&quot;font-size: 10px;&quot;&gt;&lt;bean id=3D&quot;fetchHistoryProcessor&quot; class=3D&quot;o=\r\nrg.archive.modules.recrawl.FetchHistoryProcessor&quot; &gt;\n&lt;property name=3D=\r\n&quot;historyLength&quot; value=3D&quot;30&quot; /&gt;\n&lt;/bean&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;=\r\n&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;fo=\r\nnt class=3D&quot;Apple-style-span&quot; face=3D&quot;Courier&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;Ap=\r\nple-style-span&quot; style=3D&quot;font-size: 10px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;fon=\r\nt class=3D&quot;Apple-style-span&quot; face=3D&quot;Courier&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;App=\r\nle-style-span&quot; style=3D&quot;font-size: 10px;&quot;&gt;&lt;bean id=3D&quot;persistStoreProces=\r\nsor&quot; class=3D&quot;org.archive.modules.recrawl.PersistStoreProcessor&quot; &gt;\n&lt;/=\r\nbean&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-s=\r\ntyle-span&quot; style=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Apple-style-spa=\r\nn&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;&lt;=\r\nbr&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=\r\n=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;s=\r\npan class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;Then for another =\r\njob to use this stored history I added the following to the default H3 craw=\r\nler-bean.cxml file.  In the &lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;white=\r\n-space: normal; &quot;&gt;Fetch Chain just after the &quot;preconditions&quot; bean:&lt;/span&gt;&lt;/=\r\nspan&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;span class=3D&quot;Appl=\r\ne-style-span&quot; style=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Apple-style-=\r\nspan&quot; face=3D&quot;Courier&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D=\r\n&quot;font-size: 10px;&quot;&gt;&lt;bean id=3D&quot;persistLoadProcessor&quot; class=3D&quot;org.archiv=\r\ne.modules.recrawl.PersistLoadProcessor&quot;&gt;\n&lt;property name=3D&quot;preloadSou=\r\nrce&quot; value=3D&quot;/Users/mattwarhaftig/Documents/heritrix-3.0.0-SNAPSHOT/jobs/b=\r\nasic/state&quot; /&gt;\n&lt;/bean&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;font class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-spa=\r\nn&quot; style=3D&quot;font-size: 12px;&quot;&gt;And just after the &quot;fetchHttp&quot; bean:&lt;/span&gt;&lt;/=\r\nfont&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; =\r\nstyle=3D&quot;white-space: pre-wrap; &quot;&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;=\r\nCourier&quot; size=3D&quot;2&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 10=\r\npx;&quot;&gt;&lt;bean id=3D&quot;fetchHistoryProcessor&quot; class=3D&quot;org.archive.modules.rec=\r\nrawl.FetchHistoryProcessor&quot; &gt;\n&lt;property name=3D&quot;historyLength&quot; value=\r\n=3D&quot;30&quot; /&gt;\n&lt;/bean&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;fo=\r\nnt class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; s=\r\ntyle=3D&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple=\r\n-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size=\r\n: 12px;&quot;&gt;Am I declaring these beans correctly?&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;fon=\r\nt class=3D&quot;Apple-style-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; st=\r\nyle=3D&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-=\r\nstyle-span&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size:=\r\n 12px;&quot;&gt;Thanks,&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; si=\r\nze=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;Matt&lt;/=\r\nspan&gt;&lt;/font&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-1-231546388--\r\n\n"}}