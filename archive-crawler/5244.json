{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":217178747,"authorName":"gkbrown22","from":"&quot;gkbrown22&quot; &lt;browng@...&gt;","profile":"gkbrown22","replyTo":"LIST","senderId":"rBqe7wEXkVppOTtZd0tOPtKb3RvROV6Zsm1gPM2ZJBbIxI9BjENWEJ0cKbdnmIggSJa2xAdGXKHC3wmJlkHbkhfMJQ5jzvnDP5Is","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Mid Fetch filter","postDate":"1212041766","msgId":5244,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGcxbGhuNitjZWVkQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ4MzRCQTRCLjUwMjA1MDNAYXJjaGl2ZS5vcmc+"},"prevInTopic":5229,"nextInTopic":5246,"prevInTime":5243,"nextInTime":5245,"topicId":5222,"numMessagesInTopic":6,"msgSnippet":"Thanks Gordon, I understand that many of these smaller images may not have any bandwidth benefit on this however I am trying to eliminate any images from being","rawEmail":"Return-Path: &lt;browng@...&gt;\r\nX-Sender: browng@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 54043 invoked from network); 29 May 2008 06:16:08 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m52.grp.scd.yahoo.com with QMQP; 29 May 2008 06:16:08 -0000\r\nX-Received: from unknown (HELO n13.bullet.mail.re1.yahoo.com) (69.147.103.140)\n  by mta16.grp.scd.yahoo.com with SMTP; 29 May 2008 06:16:08 -0000\r\nX-Received: from [68.142.237.89] by n13.bullet.mail.re1.yahoo.com with NNFMP; 29 May 2008 06:16:07 -0000\r\nX-Received: from [66.218.69.6] by t5.bullet.re3.yahoo.com with NNFMP; 29 May 2008 06:16:07 -0000\r\nX-Received: from [66.218.66.90] by t6.bullet.scd.yahoo.com with NNFMP; 29 May 2008 06:16:07 -0000\r\nDate: Thu, 29 May 2008 06:16:06 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;g1lhn6+ceed@...&gt;\r\nIn-Reply-To: &lt;4834BA4B.5020503@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;gkbrown22&quot; &lt;browng@...&gt;\r\nSubject: Re: Mid Fetch filter\r\nX-Yahoo-Group-Post: member; u=217178747; y=ARjjXuk2pUXcuEjQsm7ssQm2qFflRZ2VGWIakXGPDRIVYv-d\r\nX-Yahoo-Profile: gkbrown22\r\n\r\nThanks Gordon, I understand that many of these smaller images may not\nhave =\r\nany bandwidth benefit on this however I am trying to eliminate\nany images f=\r\nrom being captured. Right now, even these that are being\nlogged as &quot;REJECT&quot;=\r\n are still going to the write processor and are\nbeing written. That is what=\r\n is confusing to me. I understand that the\nbenefit to the server is nill bu=\r\nt once the reject is returned why does\nthe FetchHTTP go and get(or reget) t=\r\nhe uri?\n&quot;org.archive.modules.fetcher.FetchHTTP\n&gt; &gt; innerProcess GET&quot;\nand th=\r\nen passes it on to the writer? (This is after the rejection by\nthe filter.)=\r\n\n\nThis is what has me confused. \n\nthanks\n-glen\n\n\nI will try and capture the=\r\nm on a filter at the writer \n--- In archive-crawler@yahoogroups.com, Gordon=\r\n Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; At best, the mid-fetch filter can abort a fet=\r\nch that&#39;s already begun.\n&gt; \n&gt; As your log shows 1x1 GIFs way smaller than a=\r\n single TCP packet, the \n&gt; abort in those cases is likely to be irrelevant =\r\nto the server -- as far \n&gt; as it&#39;s concerned, it already finished serving t=\r\nhe request.\n&gt; \n&gt; Even with a large GIF, I don&#39;t know if the server-side log=\r\n would show \n&gt; anything other than a successful response. (It would depend =\r\non how \n&gt; broken connections are logged.)\n&gt; \n&gt; On the crawler side, I think=\r\n even a mid-fetch abort leaves the entry in \n&gt; the crawl.log and at least t=\r\nruncated content available for writing to \n&gt; W/ARC files. Are you seeing or=\r\n expecting something different?\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; \n&gt; gkbrown22 wrote:=\r\n\n&gt; &gt; I am trying to catch some images in a midfetch filter. I am using the\n=\r\n&gt; &gt; ContentTypeMatchesRegExpDecideRule  and from the log the rule seems to\n=\r\n&gt; &gt; be working. But the image is fetched anyway. Here&#39;s the output from\n&gt; &gt;=\r\n the log that is relevant:\n&gt; &gt; \n&gt; &gt; e.commons.httpclient.HttpMethodBase pro=\r\ncessResponseHeaders enter\n&gt; &gt; HttpMethodBase.processResponseHeaders(HttpSta=\r\nte, HttpConnection)\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE\n&gt; &gt; org.archive.modu=\r\nles.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt; &gt; evaluate testing Mid=\r\nFetch Check for CT=3Dimage/gif\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE\n&gt; &gt; org.a=\r\nrchive.modules.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt; &gt; evaluate =\r\nMidFetch CT results:true\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.archi=\r\nve.modules.deciderules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRule #0\n&gt; &gt;=\r\n org.archive.modules.deciderules.ContentTypeMatchesRegExpDecideRule\n&gt; &gt; ret=\r\nurned REJECT\n&gt; &gt; 05/20/2008 14:25:59 +0000 INFO\n&gt; &gt; org.archive.modules.dec=\r\niderules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned REJ=\r\nECT\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.archive.modules.deciderule=\r\ns.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned REJECT\n&gt; &gt;=\r\n 05/20/2008 14:25:59 +0000 INFO org.archive.modules.fetcher.FetchHTTP\n&gt; &gt; c=\r\nheckMidfetchAbort ### checkMidfetchAbort returning true -&gt; abort\n&gt; &gt; 05/20/=\r\n2008 14:25:59 +0000 FINEST org.archive.modules.fetcher.FetchHTTP\n&gt; &gt; doAbor=\r\nt Aborting URI fetch\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE org.archive.util.Re=\r\ncorder close\n&gt; &gt; ToeThread #11:\n&gt; &gt;\nhttp://dw.com.com/rubicsimp/c.gif?ver=\r\n=3D2&ts=3D2008.05.20.07.25.46&edId=3D&onId=3D&ptId=3D&sId=3D-2&appId=3D19&u=\r\nnitId=3D45&poolId=3D1&f1=3D14&f2=3D%2d0&f3=3D%2d0&alg=3D8&opt=3D1&off=3D161=\r\n0,-1\n&gt; &gt; closing\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE org.archive.io.Recordin=\r\ngInputStream\n&gt; &gt; close ToeThread #11:\n&gt; &gt;\nhttp://dw.com.com/rubicsimp/c.gif=\r\n?ver=3D2&ts=3D2008.05.20.07.25.46&edId=3D&onId=3D&ptId=3D&sId=3D-2&appId=3D=\r\n19&unitId=3D45&poolId=3D1&f1=3D14&f2=3D%2d0&f3=3D%2d0&alg=3D8&opt=3D1&off=\r\n=3D1610,-1\n&gt; &gt; closing java.io.BufferedInputStream@17490ad, ToeThread #11:\n=\r\n&gt; &gt;\nhttp://dw.com.com/rubicsimp/c.gif?ver=3D2&ts=3D2008.05.20.07.25.46&edId=\r\n=3D&onId=3D&ptId=3D&sId=3D-2&appId=3D19&unitId=3D45&poolId=3D1&f1=3D14&f2=\r\n=3D%2d0&f3=3D%2d0&alg=3D8&opt=3D1&off=3D1610,-1\n&gt; &gt; 05/20/2008 14:25:59 +00=\r\n00 FINEST\n&gt; &gt; org.apache.commons.httpclient.HttpConnection close enter\n&gt; &gt; =\r\nHttpConnection.close()\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.=\r\ncommons.httpclient.HttpConnection closeSocketAndStreams\n&gt; &gt; enter HttpConne=\r\nction.closeSockedAndStreams()\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE org.archiv=\r\ne.io.RecordingInputStream\n&gt; &gt; close ToeThread #11:\n&gt; &gt;\nhttp://dw.com.com/ru=\r\nbicsimp/c.gif?ver=3D2&ts=3D2008.05.20.07.25.46&edId=3D&onId=3D&ptId=3D&sId=\r\n=3D-2&appId=3D19&unitId=3D45&poolId=3D1&f1=3D14&f2=3D%2d0&f3=3D%2d0&alg=3D8=\r\n&opt=3D1&off=3D1610,-1\n&gt; &gt; closing null, ToeThread #11:\n&gt; &gt;\nhttp://dw.com.c=\r\nom/rubicsimp/c.gif?ver=3D2&ts=3D2008.05.20.07.25.46&edId=3D&onId=3D&ptId=3D=\r\n&sId=3D-2&appId=3D19&unitId=3D45&poolId=3D1&f1=3D14&f2=3D%2d0&f3=3D%2d0&alg=\r\n=3D8&opt=3D1&off=3D1610,-1\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apa=\r\nche.commons.httpclient.HttpConnection releaseConnection enter\n&gt; &gt; HttpConne=\r\nction.releaseConnection()\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE\n&gt; &gt; org.apache=\r\n.commons.httpclient.HttpConnection releaseConnection\n&gt; &gt; Releasing connecti=\r\non back to connection manager.\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org=\r\n.apache.commons.httpclient.HttpConnection close enter\n&gt; &gt; HttpConnection.cl=\r\nose()\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.commons.httpclien=\r\nt.HttpConnection closeSocketAndStreams\n&gt; &gt; enter HttpConnection.closeSocked=\r\nAndStreams()\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.commons.ht=\r\ntpclient.HttpMethodBase getContentCharSet enter\n&gt; &gt; getContentCharSet( Head=\r\ner contentheader )\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.comm=\r\nons.httpclient.HeaderElement parseElements enter\n&gt; &gt; HeaderElement.parseEle=\r\nments(String)\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.commons.h=\r\nttpclient.HeaderElement parseElements enter\n&gt; &gt; HeaderElement.parseElements=\r\n(char[])\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.apache.commons.httpcl=\r\nient.HeaderElement getParameterByName enter\n&gt; &gt; HeaderElement.getParameterB=\r\nyName(String)\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINE\n&gt; &gt; org.apache.commons.htt=\r\npclient.HttpMethodBase getContentCharSet Default\n&gt; &gt; charset used: ISO-8859=\r\n-1\n&gt; &gt; 05/20/2008 14:25:59 +0000 INFO org.archive.modules.fetcher.FetchHTTP=\r\n\n&gt; &gt; innerProcess GET\n&gt; &gt;\nhttp://dw.com.com/rubicsimp/c.gif?ver=3D2&ts=3D20=\r\n08.05.20.07.25.46&edId=3D&onId=3D&ptId=3D&sId=3D-2&appId=3D19&unitId=3D45&p=\r\noolId=3D1&f1=3D14&f2=3D%2d0&f3=3D%2d0&alg=3D8&opt=3D1&off=3D1610,-1\n&gt; &gt; 200=\r\n 353 image/gif\n&gt; &gt; 05/20/2008 14:25:59 +0000 INFO\n&gt; &gt; org.archive.modules.d=\r\neciderules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned P=\r\nASS\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.archive.modules.deciderule=\r\ns.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 0=\r\n5/20/2008 14:25:59 +0000 INFO\n&gt; &gt; org.archive.modules.deciderules.DecideRul=\r\neSequence innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 05/20/2008 1=\r\n4:25:59 +0000 FINEST\n&gt; &gt; org.archive.modules.deciderules.DecideRuleSequence=\r\n innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 05/20/2008 14:25:59 +=\r\n0000 INFO\n&gt; &gt; org.archive.modules.deciderules.DecideRuleSequence innerDecid=\r\ne\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST=\r\n\n&gt; &gt; org.archive.modules.deciderules.DecideRuleSequence innerDecide\n&gt; &gt; Dec=\r\nideRuleSequence returned PASS\n&gt; &gt; 05/20/2008 14:25:59 +0000 INFO\n&gt; &gt; org.ar=\r\nchive.modules.deciderules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequ=\r\nence returned PASS\n&gt; &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.archive.mod=\r\nules.deciderules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence retu=\r\nrned PASS\n&gt; &gt; 05/20/2008 14:25:59 +0000 INFO\n&gt; &gt; org.archive.modules.decide=\r\nrules.DecideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt;=\r\n &gt; 05/20/2008 14:25:59 +0000 FINEST\n&gt; &gt; org.archive.modules.deciderules.Dec=\r\nideRuleSequence innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 05/20/=\r\n2008 14:25:59 +0000 INFO\n&gt; &gt; org.archive.modules.deciderules.DecideRuleSequ=\r\nence innerDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; 05/20/2008 14:25:=\r\n59 +0000 FINEST\n&gt; &gt; org.archive.modules.deciderules.DecideRuleSequence inne=\r\nrDecide\n&gt; &gt; DecideRuleSequence returned PASS\n&gt; &gt; \n&gt; &gt; Then the link is writ=\r\nten. \n&gt; &gt; \n&gt; &gt; Any ideas?\n&gt; &gt; thanks\n&gt; &gt; -glen\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; ---------=\r\n---------------------------\n&gt; &gt; \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n=\r\n\n"}}