{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"xJ6eI38QjT4A1CcjQDIRC2s_Ed7SmkZnA4dQYMqpo0qlI2sM0yWXjzqmNa5MNhu3CGrNYlUsJTXBoS1mvlf9WCQE5KQgCfhd","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Crawling everything but only store images","postDate":"1324065320","msgId":7455,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFRUJBMjI4LjQwODAwMDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGpjZjRqais4c2VhQGVHcm91cHMuY29tPg==","referencesHeader":"PGpjZjRqais4c2VhQGVHcm91cHMuY29tPg=="},"prevInTopic":7451,"nextInTopic":7460,"prevInTime":7454,"nextInTime":7456,"topicId":7451,"numMessagesInTopic":3,"msgSnippet":"Hello, Your question sort of contains the answer. You want to crawl everything, but the ContentTypeNotMatchesRegexDecideRule you added to the scope prevents","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 77227 invoked from network); 16 Dec 2011 19:55:23 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.sp2.yahoo.com with QMQP; 16 Dec 2011 19:55:23 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mta2.grp.sp2.yahoo.com with SMTP; 16 Dec 2011 19:55:23 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id AF8966841098;\n\tFri, 16 Dec 2011 11:55:22 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id kRr-Iyuacj-g; Fri, 16 Dec 2011 11:55:21 -0800 (PST)\r\nX-Received: from Noah-Levitts-MacBook-Pro.local (c-174-62-77-252.hsd1.ca.comcast.net [174.62.77.252])\n\tby mail.archive.org (Postfix) with ESMTPSA id 6387F6841078;\n\tFri, 16 Dec 2011 11:55:21 -0800 (PST)\r\nMessage-ID: &lt;4EEBA228.4080000@...&gt;\r\nDate: Fri, 16 Dec 2011 11:55:20 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:6.0) Gecko/20110812 Thunderbird/6.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: crawltst &lt;crawltst@...&gt;\r\nReferences: &lt;jcf4jj+8sea@...&gt;\r\nIn-Reply-To: &lt;jcf4jj+8sea@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Crawling everything but only store images\r\nX-Yahoo-Group-Post: member; u=325624130; y=SEOIsAe-SkcfPz4MhEPlICUH5bK9rWfwhtIqVyYEYMZe2g\r\nX-Yahoo-Profile: nlevitt\r\n\r\nHello,\n\nYour question sort of contains the answer. You want to crawl everything, but the ContentTypeNotMatchesRegexDecideRule you added to the scope prevents anything from being crawled. Instead you need to put a rule on the writer to only store images. Something like this should work:\n\n  &lt;bean id=&quot;warcWriter&quot; class=&quot;org.archive.modules.writer.WARCWriterProcessor&quot;&gt;\n   &lt;property name=&quot;shouldProcessRule&quot;&gt;\n    &lt;bean class=&#39;org.archive.modules.deciderules.DecideRuleSequence&#39;&gt;\n     &lt;property name=&quot;rules&quot;&gt;\n      &lt;list&gt;\n       &lt;bean class=&quot;org.archive.modules.deciderules.RejectDecideRule&quot; /&gt;\n       &lt;bean class=&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDecideRule&quot;&gt;\n        &lt;property name=&quot;regex&quot; value=&quot;^image/.*$&quot; /&gt;\n       &lt;/bean&gt;\n      &lt;/list&gt;\n     &lt;/property&gt;\n    &lt;/bean&gt;\n    ...\n\nNoah\n\n\nOn 2011-12-16 01:56 , crawltst wrote:\n&gt;\n&gt;\n&gt; Hi\n&gt; I want to crawl everything is found in seed list but only saving images\n&gt; I customized the decide rules but when i start crawling it finishes immediately by giving reporting lines like this in crawl log:\n&gt;\n&gt; 2011-12-16T09:31:04.712Z   -63          - http://bachehayeghalam.ir/ - - unknown #001 - - - -\n&gt;\n&gt; What is the problem?\n&gt; My decide rules are:\n&gt;\n&gt; &lt;property name=&quot;rules&quot;&gt;\n&gt; &lt;list&gt;\n&gt; &lt;!-- Begin by ACCEPTing all... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...then ACCEPT those within configured/seed-implied SURT prefixes... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;prope rty name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;${launchId}/surts.dump&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;surtsSource&quot;&gt;\n&gt; &lt;bean class=&quot;org.archive.spring.ConfigString&quot;&gt;\n&gt; &lt;property name=&quot;value&quot;&gt;\n&gt; &lt;value&gt;\n&gt; # example.com\n&gt; # http://www.example.edu/path1/\n&gt; # +http://(org,example,\n&gt; &n bsp; &lt;/value&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/property&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but REJECT those more than a configured link-hop-count from start... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxHops&quot; value=&quot;20&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but ACCEPT those more than a configured link-hop-count from start... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxTransHops&quot; value=&quot;2&quot; /&gt; --&gt;\n&gt; &nb sp; &lt;!-- &lt;property name=&quot;maxSpeculativeHops&quot; value=&quot;1&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but REJECT those from a configurable (initially empty) set of REJECT SURTs... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot;/&gt;\n&gt; &lt;property name=&quot;surtsDumpFile&quot; value=&quot;${launchId}/negative-surts.dump&quot; /&gt;\n&gt; &lt;!-- &lt;property name=&quot;surtsSource&quot;&gt;\n&gt; &lt;bean class=&quot;org.archive.spring.ConfigFile&quot;&gt;\n&gt; &lt;property name=&quot;path&quot; value=&quot; negative-surts.txt&quot; /&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/property&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...and REJECT those from a configurable (initially empty) set of URI regexes... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.MatchesListRegexDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &lt;!-- &lt;property name=&quot;listLogicalOr&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;regexList&quot;&gt;\n&gt; &lt;list&gt;\n&gt; &lt;/list&gt;\n&gt; &lt;/property&gt; --&gt;\n&gt; &lt;/bean&gt;&lt; br&gt; &lt;!-- ...and REJECT those with suspicious repeating path-segments... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.PathologicalPathDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxRepetitions&quot; value=&quot;2&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...and REJECT those with more than threshold number of path-segments... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxPathDepth&quot; value=&quot;20&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but always ACCEPT those marked as prerequisitee for another URI... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but always REJECT those with unsup ported URI schemes --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.SchemeNotInSetDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.ContentTypeNotMatchesRegexDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &lt;property name=&quot;regex&quot; value=&quot;^image/.*$&quot;/&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/list&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}