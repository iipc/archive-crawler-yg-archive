{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":251760126,"authorName":"tizo_trico","from":"&quot;tizo_trico&quot; &lt;tizone@...&gt;","profile":"tizo_trico","replyTo":"LIST","senderId":"xMyhkBaXylD6yb7RWXBBm_gbxr-lVJkN70mOc7lDjmmc0UPs-uy53EHdfxZfyPH8TsWV3rbMBmG62cR-1rLB2GL2XE5S6w","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: HeritrixProtocolSocketFactory","postDate":"1147736152","msgId":2864,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU0YjM4bys4NmtsQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ0NjhGRDQxLjUwMzAzQGFyY2hpdmUub3JnPg=="},"prevInTopic":2863,"nextInTopic":0,"prevInTime":2863,"nextInTime":2865,"topicId":2846,"numMessagesInTopic":8,"msgSnippet":"St.Ack, Great, it works fine!!! Thanks very much, tizo ... http://sourceforge.net/tracker/index.php?func=detail&aid=1489155&group_id=73833&atid=539099. ... ","rawEmail":"Return-Path: &lt;tizone@...&gt;\r\nX-Sender: tizone@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 17366 invoked from network); 15 May 2006 23:37:18 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m32.grp.scd.yahoo.com with QMQP; 15 May 2006 23:37:18 -0000\r\nReceived: from unknown (HELO n14c.bullet.sc5.yahoo.com) (66.163.187.205)\n  by mta1.grp.scd.yahoo.com with SMTP; 15 May 2006 23:37:17 -0000\r\nReceived: from [66.163.187.121] by n14.bullet.sc5.yahoo.com with NNFMP; 15 May 2006 23:35:53 -0000\r\nReceived: from [66.218.69.2] by t2.bullet.sc5.yahoo.com with NNFMP; 15 May 2006 23:35:53 -0000\r\nReceived: from [66.218.66.74] by t2.bullet.scd.yahoo.com with NNFMP; 15 May 2006 23:35:53 -0000\r\nDate: Mon, 15 May 2006 23:35:52 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;e4b38o+86kl@...&gt;\r\nIn-Reply-To: &lt;4468FD41.50303@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;tizo_trico&quot; &lt;tizone@...&gt;\r\nSubject: Re: HeritrixProtocolSocketFactory\r\nX-Yahoo-Group-Post: member; u=251760126; y=DwP-YuBBn2nBoo-J8WmRDHJUpx25V7aEJsfUx7TLu6NO6jQ30g\r\nX-Yahoo-Profile: tizo_trico\r\n\r\nSt.Ack,\n\nGreat, it works fine!!!\n\nThanks very much,\n\ntizo\n\n\n--- In archive-=\r\ncrawler@yahoogroups.com, Michael Stack &lt;stack@...&gt; wrote:\n&gt;\n&gt; I&#39;ve made an =\r\nissue for the below problem: \n&gt;\nhttp://sourceforge.net/tracker/index.php?fu=\r\nnc=3Ddetail&aid=3D1489155&group_id=3D73833&atid=3D539099.\n&gt; \n&gt; I&#39;ve attache=\r\nd a patch that you might want to try.  Let me know if it \n&gt; works for you.\n=\r\n&gt; \n&gt; St.Ack\n&gt; \n&gt; \n&gt; Michael Stack wrote:\n&gt; &gt; tizo_trico wrote:\n&gt; &gt; &gt; St.Ack=\r\n,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Here is the deal:\n&gt; &gt; &gt;\n&gt; &gt; &gt; I have tested multiple instance=\r\ns with &#39;/local-instances.jsp&#39; page\n&gt; &gt; &gt; (Heritrix 1.8), and not our wrappe=\r\nr, but the problem is exactly the\n&gt; &gt; &gt; same!!!\n&gt; &gt;\n&gt; &gt; Thanks for finding =\r\nthe bug and trying to figure this out.\n&gt; &gt;\n&gt; &gt; I suspect the culprit is her=\r\ne:\n&gt; &gt;\n&gt; &gt;\nhttp://crawler.archive.org/xref/org/archive/crawler/fetcher/Fetc=\r\nhHTTP.html#1011\n&gt; &gt;\n&gt; &gt; ... that we can only register one ProtocolSocketFac=\r\ntory with\nhttpclient.\n&gt; &gt;\n&gt; &gt; INST_A from your illustration below registers=\r\n first with INST_A&#39;s\n&gt; &gt; ServerCache.  When INST_B starts, it registers a n=\r\new\n&gt; &gt; HeritrixProtocolSocketFactory with a ServerCache from a different\n&gt; =\r\n&gt; CrawlController -- one that hasn&#39;t been populated with the server\nthats\n&gt;=\r\n &gt; being looked up.\n&gt; &gt;\n&gt; &gt; I&#39;d guess this is the problem. I don&#39;t have the=\r\n httpclient src to hand\n&gt; &gt; and have to head out... Suggestions for how to =\r\nfix welcome.  I&#39;ll\ntake a\n&gt; &gt; look in the morning.\n&gt; &gt;\n&gt; &gt; Good luck Tizo,\n=\r\n&gt; &gt; St.Ack\n&gt; &gt; &gt;\n&gt; &gt; &gt; Steps to reproduce the problem:\n&gt; &gt; &gt;\n&gt; &gt; &gt; - Start =\r\nHeritrix\n&gt; &gt; &gt; - Create another Heritrix instance in &#39;/local-instances.jsp&#39;=\r\n page.\n&gt; &gt; &gt; Let&#39;s call the instantces INST_A and INST_B.\n&gt; &gt; &gt; - Make a lo=\r\nng job in INST_A; i.e: a job with a lot of pages to\n&gt; &gt; &gt; download. (Do not=\r\n create this job before creating INST_B, because\n&gt; &gt; &gt; otherwise, this job =\r\nis taken by INST_B too).\n&gt; &gt; &gt; - Make a short job in INST_B.\n&gt; &gt; &gt; (Both jo=\r\nbs, are created with the default settings, changing the\ndomain\n&gt; &gt; &gt; to Dom=\r\nainScope and the writer to MirrorWriterProcessor).\n&gt; &gt; &gt; - Start the crawli=\r\nng in INST_A.\n&gt; &gt; &gt; - Start the crawling in INST_B.\n&gt; &gt; &gt;\n&gt; &gt; &gt; While only =\r\nINST_A is crawling, all is OK: the pages are downloading\n&gt; &gt; &gt; correctly an=\r\nd there are neither alerts nor errors in logs. As\nsoon as\n&gt; &gt; &gt; INST_B star=\r\nts to crawling, an error appears in local-errors.log\nof the\n&gt; &gt; &gt; long job =\r\n(INST_A):\n&gt; &gt; &gt;\n&gt; &gt; &gt; 2006-05-12T01:15:52.540Z    -2          -\n&gt; &gt; &gt; http:=\r\n//www.elpais.com.uy/edicion/deportes PL\n&gt; &gt; &gt; http://www.elpais.com.uy/robo=\r\nts.txt no-type #050 - - - \n&gt; &gt; le:IOException@HTTP\n&gt; &gt; &gt; java.io.IOExceptio=\r\nn: Failed to get host www.elpais.com.uy address\n&gt; &gt; &gt; from ServerCache\n&gt; &gt; =\r\n&gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawler.fetcher.HeritrixProtocolSocketFac=\r\ntory.getHostAddress(HeritrixProtocolSocketFactory.java:172)\n&gt; &gt; &gt;       at\n=\r\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawler.fetcher.HeritrixProtocolSocketFactory.create=\r\nSocket(HeritrixProtocolSocketFactory.java:134)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\nor=\r\ng.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)\n&gt; =\r\n&gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.apache.commons.httpclient.HttpMethodDirector.ex=\r\necuteWithRetry(HttpMethodDirector.java:382)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.a=\r\npache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirecto=\r\nr.java:168)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.apache.commons.httpclient.HttpCli=\r\nent.executeMethod(HttpClient.java:396)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.apache=\r\n.commons.httpclient.HttpClient.executeMethod(HttpClient.java:324)\n&gt; &gt; &gt;    =\r\n   at\n&gt; &gt; &gt;\norg.archive.crawler.fetcher.FetchHTTP.innerProcess(FetchHTTP.ja=\r\nva:408)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; org.archive.crawler.framework.Processor.proces=\r\ns(Processor.java:103)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawler.framewo=\r\nrk.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt; &gt; &gt;       at\norg.archive=\r\n.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt; &gt; &gt;\n&gt; &gt; &gt; And in the=\r\n web, the job stay in the same percentage of done; no more\n&gt; &gt; &gt; pages are =\r\ndownloaded. INST_B, runs the short job correctly,\ndownloads\n&gt; &gt; &gt; all the p=\r\nages, and finishes it, and neither alerts nor\n&gt; &gt; &gt; errors appears.\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; After about five minutes, the long job (INST_A) terminates with 12\n&gt; &gt;=\r\n &gt; alerts!!! The only difference between alerts, are the page that is\n&gt; &gt; &gt;=\r\n trying to download. The same alerts can be seen in\nruntime-errors.log,\n&gt; &gt;=\r\n &gt; and are like the following:\n&gt; &gt; &gt;\n&gt; &gt; &gt; 2006-05-12T01:30:52.548Z    -5  =\r\n        -\n&gt; &gt; &gt; http://www.elpais.com.uy/edicion/deportes PL\n&gt; &gt; &gt; http://w=\r\nww.elpais.com.uy/robots.txt no-type #013 - - -\n&gt; &gt; &gt; err=3Djava.lang.NullPo=\r\ninterException,2t\n&gt; &gt; &gt; java.lang.NullPointerException\n&gt; &gt; &gt;       at\n&gt; &gt; &gt;=\r\n \n&gt; &gt;\norg.archive.crawler.datamodel.ServerCache.getHostFor(ServerCache.java=\r\n:145)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawler.fetcher.HeritrixProtoco=\r\nlSocketFactory.getHostAddress(HeritrixProtocolSocketFactory.java:166)\n&gt; &gt; &gt;=\r\n       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawler.fetcher.HeritrixProtocolSocketFact=\r\nory.createSocket(HeritrixProtocolSocketFactory.java:134)\n&gt; &gt; &gt;       at\n&gt; &gt;=\r\n &gt; \n&gt; &gt;\norg.apache.commons.httpclient.HttpConnection.open(HttpConnection.ja=\r\nva:707)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.apache.commons.httpclient.HttpMethodD=\r\nirector.executeWithRetry(HttpMethodDirector.java:382)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; =\r\n\n&gt; &gt;\norg.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMet=\r\nhodDirector.java:168)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.apache.commons.httpclie=\r\nnt.HttpClient.executeMethod(HttpClient.java:396)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\n=\r\norg.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:324)=\r\n\n&gt; &gt; &gt;       at\n&gt; &gt; &gt;\norg.archive.crawler.fetcher.FetchHTTP.innerProcess(Fe=\r\ntchHTTP.java:408)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; org.archive.crawler.framework.Proces=\r\nsor.process(Processor.java:103)\n&gt; &gt; &gt;       at\n&gt; &gt; &gt; \n&gt; &gt;\norg.archive.crawl=\r\ner.framework.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt; &gt; &gt;       at\no=\r\nrg.archive.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; It seems to me, that something static or singleton, is causing the\n&gt; =\r\n&gt; &gt; trouble, as it happens when the INST_B starts crawling.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Tha=\r\nnks very much,\n&gt; &gt; &gt;\n&gt; &gt; &gt; tizo\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; SPONSOR=\r\nED LINKS\n&gt; &gt; &gt; Computer security\n&gt; &gt; &gt; \n&gt; &gt;\n&lt;http://groups.yahoo.com/gads?t=\r\n=3Dms&k=3DComputer+security&w1=3DComputer+security&w2=3DComputer+training&c=\r\n=3D2&s=3D46&.sig=3DBHmcxBg5sKfN9-gcWnJWDg\n\n&gt; &gt;\n&lt;http://groups.yahoo.com/gad=\r\ns?t=3Dms&k=3DComputer+security&w1=3DComputer+security&w2=3DComputer+trainin=\r\ng&c=3D2&s=3D46&.sig=3DBHmcxBg5sKfN9-gcWnJWDg&gt;&gt;\n\n&gt; &gt;\n&gt; &gt; &gt;       Computer tr=\r\naining\n&gt; &gt; &gt; \n&gt; &gt;\n&lt;http://groups.yahoo.com/gads?t=3Dms&k=3DComputer+trainin=\r\ng&w1=3DComputer+security&w2=3DComputer+training&c=3D2&s=3D46&.sig=3Dv0JjJWA=\r\n4s7mLnWQWdFxuTQ\n\n&gt; &gt;\n&lt;http://groups.yahoo.com/gads?t=3Dms&k=3DComputer+trai=\r\nning&w1=3DComputer+security&w2=3DComputer+training&c=3D2&s=3D46&.sig=3Dv0Jj=\r\nJWA4s7mLnWQWdFxuTQ&gt;&gt;\n\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n-------------------------=\r\n-----------------------------------------------\n&gt; &gt; &gt; YAHOO! GROUPS LINKS\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt;     *  Visit your group &quot;archive-crawler\n&gt; &gt; &gt;       &lt;http://gro=\r\nups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * =\r\n To unsubscribe from this group, send an email to:\n&gt; &gt; &gt;        archive-cra=\r\nwler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;       \n&gt; &gt;\n&lt;mailto:archive-crawler-u=\r\nnsubscribe@yahoogroups.com?subject=3DUnsubscribe&gt;\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * =\r\n Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt;       Se=\r\nrvice &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n--------------=\r\n----------------------------------------------------------\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; =\r\n&gt;\n&gt; &gt; SPONSORED LINKS\n&gt; &gt; Computer security \n&gt; &gt;\n&lt;http://groups.yahoo.com/g=\r\nads?t=3Dms&k=3DComputer+security&w1=3DComputer+security&w2=3DComputer+train=\r\ning&c=3D2&s=3D46&.sig=3DBHmcxBg5sKfN9-gcWnJWDg&gt;\n\n&gt; &gt; \tComputer training \n&gt; =\r\n&gt;\n&lt;http://groups.yahoo.com/gads?t=3Dms&k=3DComputer+training&w1=3DComputer+=\r\nsecurity&w2=3DComputer+training&c=3D2&s=3D46&.sig=3Dv0JjJWA4s7mLnWQWdFxuTQ&gt;=\r\n\n\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n---------------------------------------------------------=\r\n---------------\n&gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt;\n&gt; &gt;     *  Visit your group &quot;ar=\r\nchive-crawler\n&gt; &gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on=\r\n the web.\n&gt; &gt;        \n&gt; &gt;     *  To unsubscribe from this group, send an em=\r\nail to:\n&gt; &gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt;      \n&lt;m=\r\nailto:archive-crawler-unsubscribe@yahoogroups.com?subject=3DUnsubscribe&gt;\n&gt; =\r\n&gt;        \n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Ter=\r\nms of\n&gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n--=\r\n----------------------------------------------------------------------\n&gt; &gt;\n=\r\n&gt;\n\n\n\n\n\n\n"}}