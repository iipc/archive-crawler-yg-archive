{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"srEGarLz8SkQRKBpV9qwgnRmpJE64TH9vuK3UMh4Mk9th9YCIizdkfs1YqERRrrOLuPFo3xDl3q_-vX1N0BBUawq6rc_PVzd","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: Filters vs. DecideRules Re: [archive-crawler] Re: Release 1.10.0 pending","postDate":"1157478250","msgId":3234,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0RkRCNzZBLjEwNjA1MDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVkZ3JuNit1NHRnQGVHcm91cHMuY29tPg==","referencesHeader":"PGVkZ3JuNit1NHRnQGVHcm91cHMuY29tPg=="},"prevInTopic":3230,"nextInTopic":3235,"prevInTime":3233,"nextInTime":3235,"topicId":3198,"numMessagesInTopic":23,"msgSnippet":"Hello Olaf: Should be no problem adding multiple writers, each with its own rule set. We implemented code freeze friday in readyness for 1.10.0 release (Code ","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 49487 invoked from network); 5 Sep 2006 17:43:49 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m37.grp.scd.yahoo.com with QMQP; 5 Sep 2006 17:43:49 -0000\r\nReceived: from unknown (HELO duboce.net) (63.203.238.115)\n  by mta3.grp.scd.yahoo.com with SMTP; 5 Sep 2006 17:43:48 -0000\r\nReceived: from [192.168.1.10] (unknown [192.168.1.10])\n\tby duboce.net (Postfix) with ESMTP id 8DB71C33C;\n\tTue,  5 Sep 2006 09:25:39 -0700 (PDT)\r\nMessage-ID: &lt;44FDB76A.1060509@...&gt;\r\nDate: Tue, 05 Sep 2006 10:44:10 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.1b2) Gecko/20060823 SeaMonkey/1.1a\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;edgrn6+u4tg@...&gt;\r\nIn-Reply-To: &lt;edgrn6+u4tg@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: Filters vs. DecideRules Re: [archive-crawler] Re: Release 1.10.0\n pending\r\nX-Yahoo-Group-Post: member; u=168599281; y=nAhQV_87aom9e4V4M55nHn9uqSBF0DvLfqTFb6wzwMGv4ozqANJS1j2K\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nHello Olaf:\n\nShould be no problem adding multiple writers, each with its own rule set.\n\nWe implemented code freeze friday in readyness for 1.10.0 release (Code \nfreeze means no additions other than critical bug fixes and \ndocumentation).  I&#39;ll add your new rules later in the week after we free \nup the source tree again.\n\nThanks again for the contributions,\nSt.Ack\n\npandae667 wrote:\n&gt;\n&gt; Hi InternatArchive Team,\n&gt;\n&gt; thanks alot for adding my first two DecideRules into Heritrix.\n&gt; I now also changes my SuccessfulFetchFilter into a pair of DecideRules\n&gt; called FetchStatusMatchesRegExpDecideRule and\n&gt; FetchStatusNotMatchesRegExpDecideRule.\n&gt; They work like a charm for me and allow me to easily archive all\n&gt; successful fetches (like everything with a 2xx responseCode).\n&gt; I think they&#39;d also help Frank McCown in disregarding 404 responses\n&gt; (he asked for something alike about a week ago).\n&gt;\n&gt; One thing that came to my mind while testing - is there a way to add\n&gt; multiple ARCWriters to Heritrix, each with a seperate set of\n&gt; DecideRules/Filters so I can pre-categorize my data easily?\n&gt;\n&gt; Thanks for all your hard work\n&gt; Olaf Freyer\n&gt;\n&gt; &gt;\n&gt; &gt; Hi Gordon,\n&gt; &gt;\n&gt; &gt; it does make perfect sense to me, so I refactored my\n&gt; &gt; DocumentLengthFilter into a pair of DecideRules:\n&gt; &gt;\n&gt; &gt; NotExceedsDocumentLengthTresholdDecideRule.java\n&gt; &gt; and\n&gt; &gt; ExceedsDocumentLengthTresholdDecideRule.java\n&gt; &gt;\n&gt; &gt; Hope you like it this way. If this looks fine, I&#39;ll rework my other\n&gt; &gt; filter, too. (And maybe rework a few other filters into deciderules,\n&gt; too.)\n&gt; &gt;\n&gt; &gt; Olaf Freyer\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Olaf -\n&gt; &gt; &gt;\n&gt; &gt; &gt; THanks for the contributions!\n&gt; &gt; &gt;\n&gt; &gt; &gt; What would you think about recasting the Filters as DecideRules?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Filters have historically been prone to confusion: are they &quot;filtering\n&gt; &gt; &gt; in&quot; or &quot;filtering out&quot;, or more concretely, what does &#39;true&#39; mean?\n&gt; &gt; &gt;\n&gt; &gt; &gt; It&#39;s varied in different settings -- sometimes &#39;true&#39; means &#39;exclude&#39;\n&gt; &gt; &gt; and others &#39;include&#39; -- and thus some filters have an\n&gt; &#39;if-match-return&#39;\n&gt; &gt; &gt; capability to make them usable in a reverse sense. But that can just\n&gt; &gt; &gt; add to the number of things you need to keep track of; even\n&gt; experienced\n&gt; &gt; &gt; crawl operators at IA often get these backwards.\n&gt; &gt; &gt;\n&gt; &gt; &gt; DecideRules add a little more complexity but are more explicit in\n&gt; their\n&gt; &gt; &gt; intended effects:\n&gt; &gt; &gt; - they answer ACCEPT, REJECT, or PASS\n&gt; &gt; &gt; - by chaining them, with some PASSes, they can achieve most of the\n&gt; &gt; same\n&gt; &gt; &gt; results that would require deep nesting of binary filters (with\n&gt; &gt; &gt; logical combiners like AND/OR)\n&gt; &gt; &gt; - in chains, the last non-PASS decision &#39;wins&#39;\n&gt; &gt; &gt; - by convention, pairs of DecideRule implementations are used,\n&gt; instead\n&gt; &gt; &gt; of a setting that inverts their conditional\n&gt; &gt; &gt;\n&gt; &gt; &gt; An illustrative example is the difference between URIRegExpFilter, and\n&gt; &gt; &gt; the pair of DecideRules MatchesRegExpDecideRule and\n&gt; &gt; &gt; NotMatchesRegExpDecideRule.\n&gt; &gt; &gt;\n&gt; &gt; &gt; With URIRegExpFilter, you can answer only true or false. You need to\n&gt; &gt; &gt; consider what answer the context requires, and via the\n&gt; &#39;if-match-return&#39;\n&gt; &gt; &gt; setting, you can control whether a regex match means &#39;true&#39; or\n&gt; &#39;false&#39;.\n&gt; &gt; &gt;\n&gt; &gt; &gt; But it&#39;s quite likely that the regex is not the final word -- if it\n&gt; &gt; &gt; matches, the URI is &#39;out&#39;, but if it fails to match, the URI may not\n&gt; &gt; &gt; necessarily be &#39;in&#39; or &#39;out&#39; -- other rules then kick in. So the\n&gt; &gt; &gt; non-match answer has to be logically combined with other filter\n&gt; results.\n&gt; &gt; &gt;\n&gt; &gt; &gt; With the MatchesRegExpDecideRule or NotMatchesRegExpDecideRule,\n&gt; you can\n&gt; &gt; &gt; arrange for any of the following four possibilities:\n&gt; &gt; &gt;\n&gt; &gt; &gt; ACCEPT if matches, PASS otherwise\n&gt; &gt; &gt; REJECT if matches, PASS otherwise\n&gt; &gt; &gt; ACCEPT if not matches, PASS otherwise\n&gt; &gt; &gt; REJECT if not matches, PASS otherwise\n&gt; &gt; &gt;\n&gt; &gt; &gt; The named return values constrain the usage context to interpret the\n&gt; &gt; &gt; answer in a certain way -- no &quot;does true mean &#39;include&#39; or &#39;exclude&#39;\n&gt; &gt; &gt; here?&quot; confusion -- and the PASS lets one rule of a group contribute\n&gt; &gt; &gt; nothing to the final decision, if its condition isn&#39;t met. (No\n&gt; need to\n&gt; &gt; &gt; wrap it in a AND/OR to express operator intent.)\n&gt; &gt; &gt;\n&gt; &gt; &gt; (By prepending such a rule with an all-ACCEPT or all-REJECT rule, you\n&gt; &gt; &gt; can set a &#39;default&#39; answer for PASS.)\n&gt; &gt; &gt;\n&gt; &gt; &gt; So that DecideRules can be used anywhere Filters were, there is a\n&gt; &gt; &gt; DecidingFilter class, which lets (chains of) DecideRules be used to\n&gt; &gt; &gt; render a Filter true/false response. But we generally prefer to use\n&gt; &gt; &gt; DecideRules in new contexts, and if there&#39;s a new CrawlURI-test to be\n&gt; &gt; &gt; implemented, would like it implemented as a DecideRule rather than a\n&gt; &gt; &gt; Filter. Then it can be used in Filter contexts (via\n&gt; DecidingFilter) and\n&gt; &gt; &gt; DecideRule contexts.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Does that make sense?\n&gt; &gt; &gt;\n&gt; &gt; &gt; - Gordon @ IA\n&gt; &gt; &gt;\n&gt; &gt; &gt; pandae667 wrote:\n&gt; &gt; &gt; &gt; Hi Michael,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I just added 3 tiny contributions to the &quot;Feature Request&quot;\n&gt; tracker I&#39;d\n&gt; &gt; &gt; &gt; like to see in the forthcoming release. Those are:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; - [1545840] ContentLengthFilter (multi-purpose content-length based\n&gt; &gt; &gt; &gt; filter. either determines length via HTTP header when used as\n&gt; &gt; &gt; &gt; midfetch filter or otherwise based on actual downloaded document\n&gt; size)\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; - [1545842] SuccessfulFetchFilter (simple stupid HTTP 2xx filter)\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; - [1545847] a way to simply tell heritrix to look for its\n&gt; configs in a\n&gt; &gt; &gt; &gt; different location.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Would be happy to see some or all of them in the forthcoming release\n&gt; &gt; &gt; &gt; (would make updating alot easier for me ;-) )\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Any comments are welcome\n&gt; &gt; &gt; &gt; Olaf Freyer\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Michael Stack &lt;stack@&gt;\n&gt; wrote:\n&gt; &gt; &gt; &gt;&gt; We&#39;re getting ready to release 1.10.0 of Heritrix. We&#39;re\n&gt; &gt; finishing up\n&gt; &gt; &gt; &gt;&gt; the last few Bugs and RFEs.\n&gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt;&gt; Are there Bugs or RFEs the list considers critical to any 1.10.0\n&gt; &gt; &gt; &gt; release?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  \n\n\n"}}