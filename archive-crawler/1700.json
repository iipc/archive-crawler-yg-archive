{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":164438524,"authorName":"Lars Clausen","from":"Lars Clausen &lt;lc@...&gt;","profile":"lrclause","replyTo":"LIST","senderId":"-Z7sBBaFnOaQDq-6GI8_4dNqpRVKFV_l4oyFYoDQJE9pvrITE6p0swj-PcrBLKabNcSyKQKncGdjmTroup7CGQ5X8LoBzvKSrMUQpA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix dies after a few URLs when started\tfrom within program","postDate":"1112093934","msgId":1700,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDExMTIwOTM5MzQuMzU1NS4xMy5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPg==","inReplyToHeader":"PDQyM0Y3MkFELjkwMjA3MDNAYXJjaGl2ZS5vcmc+","referencesHeader":"PDExMTE0MjM3NjQuMzk1NS4zMS5jYW1lbEBwYzk3Ny5zYi5zdGF0c2JpYmxpb3Rla2V0LmRrPiA8NDIzRjcyQUQuOTAyMDcwM0BhcmNoaXZlLm9yZz4="},"prevInTopic":1681,"nextInTopic":1701,"prevInTime":1699,"nextInTime":1701,"topicId":1680,"numMessagesInTopic":5,"msgSnippet":"... No, it s not that my program exits.  Heritrix decides that it s done and closes down normally, after which my program is notified of this fact and","rawEmail":"Return-Path: &lt;lc@...&gt;\r\nX-Sender: lc@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 93084 invoked from network); 29 Mar 2005 10:58:59 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m15.grp.scd.yahoo.com with QMQP; 29 Mar 2005 10:58:59 -0000\r\nReceived: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta4.grp.scd.yahoo.com with SMTP; 29 Mar 2005 10:58:59 -0000\r\nReceived: from pc977.sb.statsbiblioteket.dk\n (pc977.sb.statsbiblioteket.dk [130.225.24.188]) by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IE400FUH166O8@...&gt; for\n archive-crawler@yahoogroups.com; Tue, 29 Mar 2005 12:58:54 +0200 (MEST)\r\nDate: Tue, 29 Mar 2005 12:58:54 +0200\r\nIn-reply-to: &lt;423F72AD.9020703@...&gt;\r\nTo: Heritrix mailing list &lt;archive-crawler@yahoogroups.com&gt;\r\nMessage-id: &lt;1112093934.3555.13.camel@...&gt;\r\nOrganization: Statsbiblioteket\r\nMIME-version: 1.0\r\nX-Mailer: Ximian Evolution 1.4.5 (1.4.5-9)\r\nContent-type: text/plain\r\nContent-transfer-encoding: 7BIT\r\nReferences: &lt;1111423764.3955.31.camel@...&gt;\n &lt;423F72AD.9020703@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Lars Clausen &lt;lc@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix dies after a few URLs when started\tfrom\n within program\r\nX-Yahoo-Group-Post: member; u=164438524\r\nX-Yahoo-Profile: lrclause\r\n\r\nOn Tue, 2005-03-22 at 02:19, stack wrote:\n&gt; Lars Clausen wrote:\n&gt; \n&gt; &gt; Hi!\n&gt; &gt;\n&gt; &gt; ...What kinds of events\n&gt; &gt; could cause Heritrix to suddenly give up the spirit like that?\n&gt; &gt;\n&gt; ....\n&gt; \n&gt; &gt;         synchronized (this) {\n&gt; &gt;             try {\n&gt; &gt;                 wait(); // wait for the crawl to finish\n&gt; &gt;             } catch (InterruptedException e) {\n&gt; &gt;                 throw new IOFailure(&quot;Heritrix process interrupted&quot;,e);\n&gt; &gt;             }\n&gt; &gt;         }\n&gt; &gt;         logger.fine(&quot;Ending crawl..&quot;);\n&gt; &gt;     }\n&gt; \n&gt; Looks to me as though any thread that sends a notifyAll -- for example, \n&gt; when the crawler unpauses to start up crawling in HostQueuesFrontier -- \n&gt; will cause your program to exit.  Perhaps add a check that its actually \n&gt; time to exit.\n\nNo, it&#39;s not that my program exits.  Heritrix decides that it&#39;s done and\ncloses down normally, after which my program is notified of this fact\nand continues.\n\n&gt; I tried your order w/ the below class and it crawled fine (I added a new \n&gt; param to &#39;Heritrix#doOneCrawl&#39; -- effectively same as your doOneCrawl \n&gt; method -- so its now possible to pass in a listener and notice when the \n&gt; crawl is done).\n\nThank you!  That makes it easier to do this kind of stuff.\n\n-Lars\n\n\n"}}