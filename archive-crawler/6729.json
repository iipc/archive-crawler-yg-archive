{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":459535990,"authorName":"Ewa Bartosiewicz","from":"&quot;Ewa Bartosiewicz&quot; &lt;e.bartosiewicz@...&gt;","profile":"e.bartosiewicz","replyTo":"LIST","senderId":"tZAWrKbckIaVPP2sSxyu_8iCHx7PNGrLj0vWFCG2Mrm47avQgynKiBnDPiXwfrEMtajLLQLI4nIq4LuTj1st26qkQOQRLvuByRVjf3tktrPH_Lzw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: content filtering before writing","postDate":"1284544964","msgId":6729,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGk2cTVrNCtoNHJiQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGk0MnRobSs5N3JqQGVHcm91cHMuY29tPg=="},"prevInTopic":6679,"nextInTopic":0,"prevInTime":6728,"nextInTime":6732,"topicId":6627,"numMessagesInTopic":6,"msgSnippet":"I have managed to set everything up and it works fine :) Unfortunately I m stuck on the filtering. Could someone help me with getting the right syntax here? ","rawEmail":"Return-Path: &lt;e.bartosiewicz@...&gt;\r\nX-Sender: e.bartosiewicz@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 23797 invoked from network); 15 Sep 2010 10:02:49 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.sp2.yahoo.com with QMQP; 15 Sep 2010 10:02:49 -0000\r\nX-Received: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta2.grp.sp2.yahoo.com with SMTP; 15 Sep 2010 10:02:49 -0000\r\nX-Received: from [69.147.65.149] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 15 Sep 2010 10:02:44 -0000\r\nX-Received: from [98.137.34.36] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 15 Sep 2010 10:02:44 -0000\r\nDate: Wed, 15 Sep 2010 10:02:44 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;i6q5k4+h4rb@...&gt;\r\nIn-Reply-To: &lt;i42thm+97rj@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Ewa Bartosiewicz&quot; &lt;e.bartosiewicz@...&gt;\r\nSubject: Re: content filtering before writing\r\nX-Yahoo-Group-Post: member; u=459535990; y=_IvSDlPqt2br-OpwY4INlIXptAfbedgHKKiKEg3B-X8zI0i0QWc_yUY\r\nX-Yahoo-Profile: e.bartosiewicz\r\n\r\nI have managed to set everything up and it works fine :)\n\nUnfortunately I&#39;m=\r\n stuck on the filtering. Could someone help me with getting the right synta=\r\nx here? \n\n\nprotected ProcessResult innerProcessResult(CrawlURI puri) {\n\n   =\r\n    CrawlURI curi =3D (CrawlURI)puri;\n       long recordLength =3D getRecor=\r\ndedSize(curi);\n       ReplayInputStream ris =3D null;\n\n       try {\n       =\r\n    if (shouldWrite(curi)) {\n               ris =3D curi.getRecorder().getR=\r\necordedInput().\ngetReplayInputStream();\n               \n               Repl=\r\nayInputStream new_ris =3D ris;\n               ByteArrayOutputStream baos =\r\n=3D \n                  new ByteArrayOutputStream();\n               \n       =\r\n        try {\n                   new_ris.readFullyTo(baos);\n               =\r\n} finally {\n                   new_ris.close();\n               }\n\n         =\r\n      baos.close();\n               baos.toByteArray();\n\n               retu=\r\nrn write(curi, recordLength, ris, getHostAddress(curi));\n\n           } else=\r\n {\n               logger.info(&quot;does not write &quot; + curi.toString());\n       =\r\n    }\n       \n       } catch (IOException e) {\n           curi.getNonFatalF=\r\nailures().add(e);\n           logger.log(Level.SEVERE, &quot;Failed write of Reco=\r\nrd: &quot; +\n               curi.toString(), e);\n       } finally {\n           I=\r\nOUtils.closeQuietly(ris);\n       }\n       return ProcessResult.PROCEED;\n   =\r\n}\n\nI get the IO exception and I don&#39;t know why... am I using the ByteArrayO=\r\nutputStream correctly?\n\nThanks for you help!\n\nEwa\n\n\n\n--- In archive-crawler=\r\n@yahoogroups.com, &quot;Ewa Bartosiewicz&quot; &lt;e.bartosiewicz@...&gt; wrote:\n&gt;\n&gt; thanks=\r\n a lot!\n&gt; \n&gt; that does look obvious when you wrote it now...\n&gt; \n&gt; Ewa\n&gt; \n&gt; =\r\n--- In archive-crawler@yahoogroups.com, &quot;steve@&quot; &lt;steve@&gt; wrote:\n&gt; &gt;\n&gt; &gt; yo=\r\nu want the *-src.tar.gz file\n&gt; &gt; \n&gt; &gt; for the latest release(s) from source=\r\nforge\n&gt; &gt; \n&gt; &gt; http://sourceforge.net/projects/archive-crawler/files/\n&gt; &gt; \n=\r\n&gt; &gt; or from the continuous builds box\n&gt; &gt; \n&gt; &gt; https://webarchive.jira.com/=\r\nwiki/display/Heritrix/Build+Box\n&gt; &gt; \n&gt; &gt; i&#39;ll try to make this more obvious=\r\n on the wiki\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; /steve@\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; On 8/12/10 9:50 AM, Ewa Ba=\r\nrtosiewicz wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Ok, I think I found a lot of informatio=\r\nn in the developer&#39;s manual, but\n&gt; &gt; &gt; I have a very primary question: wher=\r\ne do I get the heritrix source code,\n&gt; &gt; &gt; where I can put my module? The .=\r\ntar.gz I loaded contains only binary and\n&gt; &gt; &gt; no source...\n&gt; &gt; &gt;\n&gt; &gt; &gt; tha=\r\nnks for your help!\n&gt; &gt; &gt;\n&gt; &gt; &gt; Ewa\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In archive-crawler@yahoo=\r\ngroups.com\n&gt; &gt; &gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Gordon Mohr &lt;g=\r\nojomo@&gt; wrote:\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; There is no bundled component for doing so=\r\n, but it should be easy to\n&gt; &gt; &gt;  &gt; write, either in Java or one of the scr=\r\nipting languages Heritrix\n&gt; &gt; &gt; supports.\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; You don&#39;t menti=\r\non which version you&#39;re using, so I&#39;ll assume Heritrix\n&gt; &gt; &gt;  &gt; 3.0.0+ (&quot;H3=\r\n&quot;).\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; Every processor may optionally have its own DecideRul=\r\ne (or more\n&gt; &gt; &gt;  &gt; usefully, set of rules via something like DecideRuleSeq=\r\nuence), called\n&gt; &gt; &gt;  &gt; &#39;shouldProcessRule&#39;. If changed from the default (a=\r\nn always-ACCEPT\n&gt; &gt; &gt;  &gt; rule), and the rule returns REJECT, the Processor&#39;=\r\ns normal activity will\n&gt; &gt; &gt;  &gt; be skipped.\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; Thus, adding =\r\nrules to whatever Processor is doing your content-writing\n&gt; &gt; &gt;  &gt; such tha=\r\nt they REJECT uninteresting content will have the desired effect.\n&gt; &gt; &gt;  &gt;\n=\r\n&gt; &gt; &gt;  &gt; Rules are passed the CrawlURI instance, which for any successful f=\r\netch\n&gt; &gt; &gt;  &gt; includes ways to access the retrieved content as either an In=\r\nputStream\n&gt; &gt; &gt;  &gt; or a CharSequence. Rules may be written in Java or via t=\r\nhe\n&gt; &gt; &gt;  &gt; ScriptedDecideRule class, supplied with their behavior by any J=\r\nSR-223\n&gt; &gt; &gt;  &gt; scripting engine. Javascript (aka ECMAScript), Beanshell, a=\r\nnd Groovy\n&gt; &gt; &gt;  &gt; should always be available as options in our standard di=\r\nstribution;\n&gt; &gt; &gt;  &gt; adding JRuby or Jython or Clojure shouldn&#39;t be hard.\n&gt;=\r\n &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; - Gordon @ IA\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;  &gt; On 7/29/10 9:21 AM, e.bart=\r\nosiewicz wrote:\n&gt; &gt; &gt;  &gt; &gt; I&#39;m trying to do a crawl using Heritrix, but I c=\r\nan&#39;t find one\n&gt; &gt; &gt; crucial module which would be able to filter the conten=\r\nt of the fetched\n&gt; &gt; &gt; pages before writing them into the archive. I need t=\r\no write only the\n&gt; &gt; &gt; pages that contain given keywords. Is that possible?=\r\n Am I going to have\n&gt; &gt; &gt; to write something myself? How can I write my own=\r\n filter for Heritrix?\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt; Thanks for any help =\r\nin this matter!\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt; Ewa\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt;\n=\r\n&gt; &gt; &gt;  &gt; &gt; ------------------------------------\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt; Yahoo=\r\n! Groups Links\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt; &gt;\n&gt; &gt; &gt;  &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n=\r\n\n\n\n"}}