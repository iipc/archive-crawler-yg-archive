{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"David Pane","from":"David Pane &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"aV7D4A2Z3HIzhwvTb1Y5Fl5ZGMDrEGyNcX3JTSoVuMVg4yxc3T8QQpdl9fvIMrAKStFwaUY6uMh8FAorTrkZgnyr5iA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Configuring ContentLengthDecideRule","postDate":"1327106511","msgId":7557,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMUEwOUNGLjIwMjA1MDRAY3MuY211LmVkdT4=","inReplyToHeader":"PDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+","referencesHeader":"PDRGMTYzQ0E1LjkwMTAwMDRAY3MuY211LmVkdT4gPDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+"},"prevInTopic":7539,"nextInTopic":7559,"prevInTime":7556,"nextInTime":7558,"topicId":7530,"numMessagesInTopic":9,"msgSnippet":"Gordon, ... (a) If add the additional opt-out sites to my opt-out_blacklist.surt file as a + entry (for rule below).  Can I use this rule for the new seeds","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 13374 invoked from network); 21 Jan 2012 00:42:00 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m8.grp.sp2.yahoo.com with QMQP; 21 Jan 2012 00:42:00 -0000\r\nX-Received: from unknown (HELO smtp.andrew.cmu.edu) (128.2.11.61)\n  by mta5.grp.sp2.yahoo.com with SMTP; 21 Jan 2012 00:42:00 -0000\r\nX-Received: from [128.2.209.200] (SAVOY.LTI.CS.CMU.EDU [128.2.209.200])\n\t(user=dpane mech=PLAIN (0 bits))\n\tby smtp.andrew.cmu.edu (8.14.4/8.14.4) with ESMTP id q0L0fqsw001878\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);\n\tFri, 20 Jan 2012 19:41:52 -0500\r\nMessage-ID: &lt;4F1A09CF.2020504@...&gt;\r\nDate: Fri, 20 Jan 2012 19:41:51 -0500\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt;\r\nReferences: &lt;4F163CA5.9010004@...&gt; &lt;4F18BC08.6080409@...&gt;\r\nIn-Reply-To: &lt;4F18BC08.6080409@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-PMX-Version: 5.5.9.388399, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2011.3.18.170322\r\nX-SMTP-Spam-Clean: 8% (\n BODY_SIZE_4000_4999 0, BODY_SIZE_5000_LESS 0, BODY_SIZE_7000_LESS 0, __BOUNCE_CHALLENGE_SUBJ 0, __BOUNCE_NDR_SUBJ_EXEMPT 0, __CANPHARM_UNSUB 0, __CT 0, __CTE 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __MOZILLA_MSGID 0, __SANE_MSGID 0, __TO_MALFORMED_2 0, __URI_NO_MAILTO 0, __URI_NO_PATH 0, __URI_NO_WWW 0, __URI_NS , __USER_AGENT 0)\r\nX-SMTP-Spam-Score: 8%\r\nX-Scanned-By: MIMEDefang 2.60 on 128.2.11.61\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Pane &lt;dpane@...&gt;\r\nSubject: Re: Configuring ContentLengthDecideRule\r\nX-Yahoo-Group-Post: member; u=500983475; y=8tXrDhh1BVY9nXmaKw5oRT4KuUFiJoVhlDQKfxbsOWctapLXIThXsg\r\nX-Yahoo-Profile: david_pane1\r\n\r\nGordon,\n\n\nOn 1/19/2012 7:57 PM, Gordon Mohr wrote:\n&gt;\n&gt; Re: scope changes dropped into a running crawl via the &#39;action&#39; directory\n&gt;\n&gt; It was intended that these be retained through checkpoints but after\n&gt; looking at the code I saw that the module that accumulates the running\n&gt; changes (by noticing new seeds or +/- directives),\n&gt; SurtPrefixedDecideRule, does *not* store its state for post-checkpoint\n&gt; recovery.\n&gt;\n&gt; This is a bug ï¿½ and it&#39;s even worse than just missing mid-crawl\n&gt; refinements. Any other implied patterns, learned from the original set\n&gt; of seeds or +/- directives in the seeds text, will also be forgotten.\n&gt;\n&gt; Only SURT-prefixes coming from an explicitly configured &#39;surtsSource&#39;\n&gt; are restored after a checkpoint-resume. Note that this file is just\n&gt; literal SURTs, not the +/- syntax that can be used in seeds files.\n&gt;\n&gt; This bug is now in the tracking system as:\n&gt;\n&gt; https://webarchive.jira.com/browse/HER-1985\n&gt;\n&gt; Until it&#39;s fixed, possible workaround would include:\n&gt;\n&gt; (1) Always configuring SurtPrefixedDecideRules to use a surtsSource, and\n&gt; making sure that surtsSource is kept up-to-date as the canonical list of\n&gt; prefixes to rule-in (for an +/ACCEPT rule) or rule-out (for a -/REJECT\n&gt; rule), before any resumes.\n&gt;\n(a) If add the additional opt-out sites to my &quot;opt-out_blacklist.surt&quot; \nfile as a &quot;+&quot; entry (for rule below).  Can I use this rule for the new \nseeds but use a &quot;-&quot; entry?\n\n    &lt;!-- ...but REJECT those from a configurable (initially empty) set \nof REJECT SURTs... --&gt;\n     &lt;bean \nclass=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n           &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n           &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot;/&gt;\n           &lt;property name=&quot;surtsDumpFile&quot; \nvalue=&quot;${launchId}/negative-surts.dump&quot; /&gt;\n           &lt;property name=&quot;surtsSource&quot;&gt;\n            &lt;bean class=&quot;org.archive.spring.ConfigFile&quot;&gt;\n             &lt;!-- DAP opt out path here --&gt;\n             &lt;property name=&quot;path&quot; \nvalue=&quot;/bos/tmp15/heritrix_crawl/jobs03/2011-12-23/opt-out_blacklist.surt&quot; \n/&gt;\n            &lt;/bean&gt;\n           &lt;/property&gt;\n     &lt;/bean&gt;\n\n&gt; (2) After a checkpoint resume, while crawl is still paused, re-present\n&gt; all previously &#39;done&#39; files (including original seed-set/directives) to\n&gt; &#39;action&#39; directory for re-learning.\n&gt;\n\nOur initial seed list was 10M seeds.  Do I need to include this in the \naction directory after every restart?\n\n-David\n\n\n&gt; - Gordon\n&gt;\n&gt;\n&gt; On 1/17/12 7:29 PM, David Pane wrote:\n&gt;&gt; I am using Heritrix 3.1.1. After some analysis of the average size of\n&gt;&gt; documents that we have been crawling, I would like to configure the\n&gt;&gt; crawler (mid-crawl) to begin only downloading documents under a certail\n&gt;&gt; size threshold. I am considering a size limit of 3-5MB.\n&gt;&gt;\n&gt;&gt; I understand that maxLengthBytes in the Http fetcher module can be\n&gt;&gt; configure with the maximum length in bytes to fetch. The document, if\n&gt;&gt; larger than this, is truncated at this threshold. It seems the\n&gt;&gt; ContentLengthDecideRule is more attractive because it can be configured\n&gt;&gt; to avoid downloading documents that are larger than a certain threshold.\n&gt;&gt;\n&gt;&gt; I searched for an example of the syntax to configure this decide rule to\n&gt;&gt; no avail. Can someone help me with this? Can I put this someplace near\n&gt;&gt; the Transclusion decide rule in the crawler-beans.cxml.\n&gt;&gt;\n&gt;&gt; Is there an easy way for a Heritrix user to find the correct syntax and\n&gt;&gt; options for these options? The default crawler-beans.cxml is useful for\n&gt;&gt; many options, but I have found it difficult to understand how to include\n&gt;&gt; items that are not already in this file.\n&gt;&gt;\n&gt;&gt; Due to our server&#39;s network going down tomorrow morning, I will be\n&gt;&gt; pausing our 5 instances of Heritrix. I am considering shutting down the\n&gt;&gt; crawlers completely and resuming them from the last checkpoint. Will\n&gt;&gt; changes in the crawler-beans.cxml take effect when doing this\n&gt;&gt; (i.e. configuring the ContentLengthDecideRule)?\n&gt;&gt;\n&gt;&gt; Additionally, I have been dropping additional bla.seeds files into the\n&gt;&gt; action directory when someone asks us to avoid their site. Am I correct\n&gt;&gt; that the checkpoint will preserve these opt-out domains?\n&gt;&gt;\n&gt;&gt;\n&gt;\n\n"}}