{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":90724651,"authorName":"John Lekashman","from":"John Lekashman &lt;lekash@...&gt;","profile":"lekash","replyTo":"LIST","senderId":"8-ouvSslpOviEYAtuOVtJd4trldxqLbuG5KNELf23oLB2u0TjGxWd0YPRvi-1qbo0pAD6lO8ckvhRrwGwQuUAYLwsSXO4BEeZp8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix set up and infrastructure question","postDate":"1250888319","msgId":5995,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBOEYwQTdGLjgwMTA3MDdAYmF5YXJlYS5uZXQ+","inReplyToHeader":"PDRBOEVCRkJBMDIwMDAwMTIwMDNCRUJGQUBudGd3Z2F0ZS5sb2MuZ292Pg==","referencesHeader":"PGg1ZTN1Yitob2diQGVHcm91cHMuY29tPiA8aDV2MzAwK2c1dnZAZUdyb3Vwcy5jb20+IDw0QThFQkZCQTAyMDAwMDEyMDAzQkVCRkFAbnRnd2dhdGUubG9jLmdvdj4="},"prevInTopic":5994,"nextInTopic":5997,"prevInTime":5994,"nextInTime":5996,"topicId":5945,"numMessagesInTopic":9,"msgSnippet":"Hi there, I admit, I have heritrix 1.15 and 3.0, and just skipped 2.x entirely. So, if that isn t sufficiently similar, you may ignore this. The crawler","rawEmail":"Return-Path: &lt;lekash@...&gt;\r\nX-Sender: lekash@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 74074 invoked from network); 21 Aug 2009 20:58:49 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m1.grp.re1.yahoo.com with QMQP; 21 Aug 2009 20:58:49 -0000\r\nX-Received: from unknown (HELO mail.bayarea.net) (209.128.87.230)\n  by mta2.grp.sp2.yahoo.com with SMTP; 21 Aug 2009 20:58:49 -0000\r\nX-Received: from [192.168.1.103] (c-76-126-186-152.hsd1.ca.comcast.net [76.126.186.152])\n\t(authenticated bits=0)\n\tby mail.bayarea.net (8.13.8/8.13.8) with ESMTP id n7LKwdoN052441\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 21 Aug 2009 13:58:39 -0700 (PDT)\n\t(envelope-from lekash@...)\r\nMessage-ID: &lt;4A8F0A7F.8010707@...&gt;\r\nDate: Fri, 21 Aug 2009 13:58:39 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7.12) Gecko/20050915\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;h5e3ub+hogb@...&gt; &lt;h5v300+g5vv@...&gt; &lt;4A8EBFBA02000012003BEBFA@...&gt;\r\nIn-Reply-To: &lt;4A8EBFBA02000012003BEBFA@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: John Lekashman &lt;lekash@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix set up and infrastructure question\r\nX-Yahoo-Group-Post: member; u=90724651; y=vA11Puoy1U2owYHfk7IK7G8UGf-lAt4P2Y2m3VY6IJZ9\r\nX-Yahoo-Profile: lekash\r\n\r\nHi there,\n\nI admit, I have heritrix 1.15 and 3.0, and just skipped 2.x entirely.\nSo, if that isn&#39;t sufficiently similar, you may ignore this.\n\nThe crawler version isn&#39;t terribly significant, though, what you\nare describing is data management,  applicable to pretty much\nany given data app.  Crawler, or something else that produces\na lot of data in an incremental way.\n\nSpecific to how one deals with heritrix:\n\n - I find it very useful to pause the crawler, pull out the arcs and/or \nwarcs\nthat are complete, move them out.  One gets much better disk I/O\nhandling when you do it this way.  (Read: it all finishes much faster)\n\n- Be careful with the log files.  They are live and open, and if you\ndo something that looks innocuous, e.g. copy/truncate, the application\nwill still be confused by it, since it will have an open file handle\nagainst it.  If you are moving things via the web UI, it may take care\nof some of this cleanly for you.  (which the cron work may not do right.)\n\nYou generally can&#39;t move a file out that a program isn&#39;t done\nwith.  What will happen is:\n\n1. The file name will disappear from the directory structure.\n2. The space will not be reclaimed on the disk.\n3. When it does finally exit, the file name and data content\nof said file will be problematic.  It may re-appear.\nReally depends on what program did what, when, but you could have a \nsparse data\nfile, a complete data file from when you first moved it,\n\nSo, look at why you are moving log files.  If you need to do some sort\nof post processing associated with the archive data files you moved,\ntry a copy, with maintaining a pointer in the copy as to what is going\non, rather than actually moving logs, until the crawl exits.\nThen do a final cleanup.\n\nJohn\n\nGina Jones wrote:\n\n&gt;  \n&gt;\n&gt; Just curious if anyone else has a set up for crawling similar to ours \n&gt; to see if we can get any lessons learned.\n&gt;\n&gt; We have heritrix 2.0.2 set up and firewalled on a server that we only \n&gt; use for crawling. We have 3 separate instances of the crawler running \n&gt; and about 2 TB space available on the server.\n&gt;\n&gt; We have the webui running one instance and we have been running chron \n&gt; jobs on the other two instances.\n&gt;\n&gt; We have to keep moving content from our crawling server to our \n&gt; qr/access servers. We don&#39;t have any other options.\n&gt;\n&gt; The problem that we have had recently has to do with the chron jobs, \n&gt; more specifically with the alerts and crawl log.\n&gt;\n&gt; Is there anything that we should be aware of when we are running \n&gt; heritrix and trying to move files out, from the logs dir or the jobs dir?\n&gt;\n&gt; thanks, Gina\n&gt;\n&gt; Gina Jones, gjon@... &lt;mailto:gjon%40loc.gov&gt;\n&gt; Digital Media Project Coordinator\n&gt; Office of Strategic Initiatives\n&gt; Library of Congress\n&gt; http://www.loc.gov/webcapture &lt;http://www.loc.gov/webcapture&gt;\n&gt; 1-202-707-6604\n&gt; gjon@... &lt;mailto:gjon%40loc.gov&gt;\n&gt;\n&gt; \n\n\n"}}