{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":362973207,"authorName":"Juergen Umbrich","from":"Juergen Umbrich &lt;juergen@...&gt;","replyTo":"LIST","senderId":"DzMP1a_h3HZSa8T5AGymg-AEHzpH_6Daa3fwRNakTWzAaji2opvOgIKpQ-jQTWTgj4oT8KGET5t41OWgPEFrPjlqle80iGvC_vaAYw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] TooManyOpenFiles with 1M seed and 300 ToeThreads","postDate":"1226515244","msgId":5573,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5MUIyMzJDLjUwOTA0QHVtYnJpY2gubmV0Pg==","inReplyToHeader":"PDQ5MUIxRDIwLjQwNzAzMDBAdW1icmljaC5uZXQ+","referencesHeader":"PDQ5MUIxRDIwLjQwNzAzMDBAdW1icmljaC5uZXQ+"},"prevInTopic":5572,"nextInTopic":5574,"prevInTime":5572,"nextInTime":5574,"topicId":5572,"numMessagesInTopic":5,"msgSnippet":"Sorry, I attached the wrong global.sheet, Please find attached the correct global.sheet and also the logs. Sorry for the repost. best juergen ... root=map,","rawEmail":"Return-Path: &lt;juergen@...&gt;\r\nX-Sender: juergen@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 10187 invoked from network); 12 Nov 2008 18:42:21 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m56.grp.scd.yahoo.com with QMQP; 12 Nov 2008 18:42:21 -0000\r\nX-Received: from unknown (HELO mx1.nuigalway.ie) (140.203.201.100)\n  by mta17.grp.scd.yahoo.com with SMTP; 12 Nov 2008 18:42:18 -0000\r\nX-IronPort-Anti-Spam-Filtered: true\r\nX-IronPort-Anti-Spam-Result: ApoEAEayGkkKhJ0L/2dsb2JhbADQeYNXhE8\r\nX-IronPort-AV: E=Sophos;i=&quot;4.33,591,1220223600&quot;; \n   d=&quot;log&#39;?zip&#39;48?scan&#39;48,48,208&quot;;a=&quot;269566816&quot;\r\nX-Received: from exbe1.ac.nuigalway.ie (HELO EVS1.ac.nuigalway.ie) ([10.132.157.11])\n  by mx1.nuigalway.ie with ESMTP; 12 Nov 2008 18:42:05 +0000\r\nX-Received: from EVS1.ac.nuigalway.ie ([10.132.157.14]) by EVS1.ac.nuigalway.ie with Microsoft SMTPSVC(6.0.3790.3959);\n\t Wed, 12 Nov 2008 18:42:04 +0000\r\nX-Received: from [10.2.17.73] ([140.203.154.12]) by EVS1.ac.nuigalway.ie over TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959);\n\t Wed, 12 Nov 2008 18:42:04 +0000\r\nMessage-ID: &lt;491B232C.50904@...&gt;\r\nDate: Wed, 12 Nov 2008 18:40:44 +0000\r\nUser-Agent: Mozilla-Thunderbird 2.0.0.17 (X11/20081018)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;491B1D20.4070300@...&gt;\r\nIn-Reply-To: &lt;491B1D20.4070300@...&gt;\r\nContent-Type: multipart/mixed;\n boundary=&quot;------------030208020505000807080108&quot;\r\nReturn-Path: juergen@...\r\nX-OriginalArrivalTime: 12 Nov 2008 18:42:04.0566 (UTC) FILETIME=[5B914360:01C944F6]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Juergen Umbrich &lt;juergen@...&gt;\r\nSubject: Re: [archive-crawler] TooManyOpenFiles with 1M seed and 300 ToeThreads\r\nX-Yahoo-Group-Post: member; u=362973207\r\n\r\n\r\n--------------030208020505000807080108\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nSorry, I attached the wrong global.sheet,\n\nPlease find attached the correct global.sheet and also the logs.\n\nSorry for the repost.\n\nbest juergen\n\n\nJuergen Umbrich wrote:\n&gt; Hi all,\n&gt;\n&gt; we had a TMOF-Excetpion while we tried to run a crawl with 300 \n&gt; ToeThreads, 1M seed URIs, and a\n&gt; #ulimit -l = 32768. (global sheet attached)\n&gt; The execption happens just at the beginning, when the URIs from the seed \n&gt; list were parsed and loaded and the crawler started.\n&gt; The crawl.log contains 458 entries, with 380 dns - lookups.\n&gt; All the other log files are empty.\n&gt;\n&gt; I think with a ulimit of 32768 this should not happen! Or am I wrong?\n&gt;\n&gt; Best juergen\n&gt;\n&gt;\n&gt; alerts.log:\n&gt; ------------------------------------------------------------------------------------------------------------------------\n&gt;\n&gt;  org.archive.modules.fetcher.FetchDNS storeDNSRecord\n&gt; SEVERE: Failed store of DNS Record for dns:breakers.typepad.com (in \n&gt; thread &#39;ToeThread #88: dns:breakers.typepad.com&#39;; in processor &#39;DNS&#39;)\n&gt; java.io.FileNotFoundException: \n&gt; /home/heritrix/heritrix-2.0.1/jobs/active-BenchmarkCrawl-20081026023802/scratch/tt88http.ris \n&gt; (Too many open files)\n&gt;     at java.io.FileOutputStream.open(Native Method)\n&gt;     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:179)\n&gt;     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:70)\n&gt;     at \n&gt; org.archive.io.RecordingOutputStream.open(RecordingOutputStream.java:207)\n&gt;     at \n&gt; org.archive.io.RecordingOutputStream.open(RecordingOutputStream.java:173)\n&gt;     at \n&gt; org.archive.io.RecordingInputStream.open(RecordingInputStream.java:92)\n&gt;     at org.archive.util.Recorder.inputWrap(Recorder.java:150)\n&gt;     at org.archive.modules.fetcher.FetchDNS.recordDNS(FetchDNS.java:270)\n&gt;     at \n&gt; org.archive.modules.fetcher.FetchDNS.storeDNSRecord(FetchDNS.java:215)\n&gt;     at org.archive.modules.fetcher.FetchDNS.innerProcess(FetchDNS.java:170)\n&gt;     at org.archive.modules.Processor.innerProcessResult(Processor.java:157)\n&gt;     at org.archive.modules.Processor.process(Processor.java:123)\n&gt;     at \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:310)\n&gt;     at org.archive.crawler.framework.ToeThread.run(ToeThread.java:157)\n&gt; 26-Oct-2008 04:00:49 org.archive.modules.fetcher.FetchDNS storeDNSRecord\n&gt; SEVERE: Failed store of DNS Record for dns:depts.drew.edu (in thread \n&gt; &#39;ToeThread #88: dns:depts.drew.edu&#39;; in processor &#39;DNS&#39;)\n&gt; java.io.IOException: RIS already open for ToeThread #88: dns:depts.drew.edu\n&gt;     at \n&gt; org.archive.io.RecordingInputStream.open(RecordingInputStream.java:88)\n&gt;     at org.archive.util.Recorder.inputWrap(Recorder.java:150)\n&gt;     at org.archive.modules.fetcher.FetchDNS.recordDNS(FetchDNS.java:270)\n&gt;     at \n&gt; org.archive.modules.fetcher.FetchDNS.storeDNSRecord(FetchDNS.java:215)\n&gt;     at org.archive.modules.fetcher.FetchDNS.innerProcess(FetchDNS.java:170)\n&gt;     at org.archive.modules.Processor.innerProcessResult(Processor.java:157)\n&gt;     at org.archive.modules.Processor.process(Processor.java:123)\n&gt;     at \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:310)\n&gt;     at org.archive.crawler.framework.ToeThread.run(ToeThread.java:157)\n&gt;\n&gt;\n&gt;   \n\r\n--------------030208020505000807080108\r\nContent-Type: text/plain;\n name=&quot;global.sheet&quot;\r\nContent-Disposition: inline;\n filename=&quot;global.sheet&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------030208020505000807080108\r\nContent-Type: application/zip;\n name=&quot;logs.zip&quot;\r\nContent-Disposition: inline;\n filename=&quot;logs.zip&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------030208020505000807080108--\r\n\n"}}