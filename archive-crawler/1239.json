{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"bP67O013gaOY-mZX2bpsXdLnqrQVm2bIZFtvDJyjHkB0Sk-OW8kmM9fTrM1Z49ierwsGkeZw7iikxyH465-2Ig","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Persistent frontier with XML, prioritization","postDate":"1101943838","msgId":1239,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQxQUU1NDFFLjEwMzA5MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGNvbDNzMStubmNuQGVHcm91cHMuY29tPg==","referencesHeader":"PGNvbDNzMStubmNuQGVHcm91cHMuY29tPg=="},"prevInTopic":1234,"nextInTopic":1240,"prevInTime":1238,"nextInTime":1240,"topicId":1234,"numMessagesInTopic":3,"msgSnippet":"The below is sweet. St.Ack","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 44534 invoked from network); 1 Dec 2004 23:37:21 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m17.grp.scd.yahoo.com with QMQP; 1 Dec 2004 23:37:21 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta5.grp.scd.yahoo.com with SMTP; 1 Dec 2004 23:37:21 -0000\r\nReceived: (qmail 7763 invoked by uid 100); 1 Dec 2004 23:24:03 -0000\r\nReceived: from debord.archive.org (HELO ?207.241.238.140?) (stack@...@207.241.238.140)\n  by mail-dev.archive.org with SMTP; 1 Dec 2004 23:24:03 -0000\r\nMessage-ID: &lt;41AE541E.1030905@...&gt;\r\nDate: Wed, 01 Dec 2004 15:30:38 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20041007 Debian/1.7.3-5\r\nX-Accept-Language: en-us\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;col3s1+nncn@...&gt;\r\nIn-Reply-To: &lt;col3s1+nncn@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.8 required=6.5 tests=AWL,CLICK_BELOW autolearn=no \n\tversion=2.63\r\nX-eGroups-Remote-IP: 207.241.224.172\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Persistent frontier with XML, prioritization\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nThe below is sweet.\nSt.Ack\n\ntztwh wrote:\n\n&gt;\n&gt; I&#39;ve written a frontier module with persistent state.  Both the\n&gt; current frontier state (queued URIs, statistics, etc.) and the\n&gt; set of successfully fetched URIs are stored in XML files.  By\n&gt; saving an XML file, it&#39;s possible to re-crawl a site and fetch\n&gt; only new URIs.\n&gt;\n&gt; Here&#39;s an example of what&#39;s saved for one successfully fetched\n&gt; URI:\n&gt; &lt;Resource URL=&quot;http://www.foo.com/index.html&quot;\n&gt;    lastModified=&quot;2004-11-21T11:13:37Z&quot;\n&gt;    Adler32=&quot;4050765356&quot; contentType=&quot;text/html&quot; bytes=&quot;36587&quot;\n&gt;    path=&quot;www.foo.com/index.html&quot; requestTime=&quot;2004-11-22T01:46:35Z&quot;/&gt;\n&gt;\n&gt; The optional lastModified attribute gives the value of the\n&gt; Last-Modified header, if the server sent one.  The path is\n&gt; where MirrorWriterProcessor wrote the file.\n&gt;\n&gt; There&#39;s currently no code to re-fetch already fetched URIs.\n&gt;\n&gt; Every queued URI has a priority.  Seeds start with a default\n&gt; priority.  A newly discovered URI inherits the priority of its\n&gt; via.  The inherited priority can be raised or lowered  by matching\n&gt; the URI against a sequence of regular expressions.  For example,\n&gt; suppose you want to fetch all PDF and jar files, grabbing each\n&gt; jar file as soon as it is seen, but waiting until last to fetch\n&gt; the PDFs.  The two rules\n&gt;    (?i).*&#92;.jar$   1\n&gt;    (?i).*&#92;.pdf$  -1\n&gt; would increase the priority of jar files by one, and decrease\n&gt; the priority of PDFs by one.  Since the URI queue is in an\n&gt; XML file, it&#39;s also easy to terminate a job, edit the XML, and\n&gt; start a new job.\n&gt;\n&gt; I&#39;m not suggesting adding this code to the Heritrix\n&gt; distribution.  The reason for this announcement is that it\n&gt; might be useful to someone as a starting point for solving some\n&gt; specialized problem.  Some reasons you might not want it are:\n&gt;\n&gt; * It&#39;s had very limited testing, only with Heritrix 1.0.4,\n&gt;   Java 1.4.1_01, and Mac OS X 10.2.8.\n&gt;\n&gt; * It uses JAXB for reading and writing XML.  I couldn&#39;t find a\n&gt;   satisfactory Maven plug-in for JAXB, so building is kludgy.\n&gt;\n&gt; * The JAXB I tested with is in Java Web Services Developer Pack 1.3.\n&gt;\n&gt; * It&#39;s only intended for crawling one site at a time, using one\n&gt;   toe thread.  The frontier only emits one URI for crawling at\n&gt;   a time.\n&gt;\n&gt; * Politeness is limited to a random time delay.\n&gt;\n&gt; * It needs MirrorWriterProcessor.  You&#39;d need to do a little\n&gt;   hacking to use ARCWriterProcessor.\n&gt;\n&gt; * It doesn&#39;t scale.  All data structures are in memory.  The\n&gt;   XML files are snapshots of in-memory data structures.\n&gt;\n&gt; * It needs tuning.\n&gt;\n&gt; * It doesn&#39;t follow Heritrix coding conventions.\n&gt;\n&gt; If you&#39;d like to see the code, let me know and I&#39;ll make it\n&gt; available.  It&#39;s all LGPL.  However, please only ask if you\n&gt; have some serious use in mind, not if you&#39;re just idly\n&gt; curious.  It&#39;s a fair amount of work to write up enough to\n&gt; explain how to use and build it.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; *Yahoo! Groups Sponsor*\n&gt; ADVERTISEMENT\n&gt; click here \n&gt; &lt;http://us.ard.yahoo.com/SIG=129lcv15o/M=298184.5639630.6699735.3001176/D=groups/S=1705004924:HM/EXP=1102013513/A=2434971/R=0/SIG=11eeoolb0/*http://www.netflix.com/Default?mqso=60185400&gt; \n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}