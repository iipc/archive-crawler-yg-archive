{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"SfAcdSalaU1xs5zNGgea5uJZUqU0VNb4e6qydGjqhXibODcfHtzoval5Op0vj69qD01QRcsE2zZOPgd7haxiJiT9-O_TiqU","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] warc files left open H3-beta","postDate":"1257892992","msgId":6146,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBRjlFQzgwLjEwMjA1MDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDM4NTUyNi43ODIzLnFtQHdlYjQzMTQ1Lm1haWwuc3AxLnlhaG9vLmNvbT4=","referencesHeader":"PDM4NTUyNi43ODIzLnFtQHdlYjQzMTQ1Lm1haWwuc3AxLnlhaG9vLmNvbT4="},"prevInTopic":6141,"nextInTopic":0,"prevInTime":6145,"nextInTime":6147,"topicId":6141,"numMessagesInTopic":2,"msgSnippet":"If your curl-script has the effect of pushing the terminate button in the web UI, then the crawl should (after a little time for any pending fetches to","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 28524 invoked from network); 10 Nov 2009 22:44:25 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m5.grp.sp2.yahoo.com with QMQP; 10 Nov 2009 22:44:25 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta3.grp.re1.yahoo.com with SMTP; 10 Nov 2009 22:44:25 -0000\r\nX-Received: (qmail 72483 invoked from network); 10 Nov 2009 22:43:12 -0000\r\nX-Received: from 67.188.14.54 (HELO ?192.168.1.107?) (67.188.14.54)\n  by relay03.pair.com with SMTP; 10 Nov 2009 22:43:12 -0000\r\nX-pair-Authenticated: 67.188.14.54\r\nMessage-ID: &lt;4AF9EC80.1020501@...&gt;\r\nDate: Tue, 10 Nov 2009 14:43:12 -0800\r\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;385526.7823.qm@...&gt;\r\nIn-Reply-To: &lt;385526.7823.qm@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] warc files left open H3-beta\r\nX-Yahoo-Group-Post: member; u=137285340; y=sHzwAcxDwKX7CltbWMTRwNDJHohV43SW31H6cvTibArC\r\nX-Yahoo-Profile: gojomo\r\n\r\nIf your curl-script has the effect of pushing the &#39;terminate&#39; button in \nthe web UI, then the crawl should (after a little time for any pending \nfetches to complete/timeout) close cleanly, with all WARCs also closed \ncleanly and renamed to lose the &#39;.open&#39; suffix.\n\nIf you can reliably create a situation where the WARCs are left &#39;.open&#39;, \nand the crawler JVM is still running and shows the job run has having \ncompleted, please let us know the steps you took, and any suspicious log \noutput that might indicate a problem with job-wrapup.\n\nGenerally, any job terminated through the UI should, after some number \nof timeout minutes, end cleanly, with the only drawback being not \ncrawling those URIs waiting to be visited/discovered. (Actually killing \nthe process or powering down the machine could leave other open files \nincompletely written, but this typically manifests as just some missing \nlines at the end of logs, or a last-record in WARCs that is \ntruncated/corrupt, with all other records still usable.)\n\n- Gordon @ IA\n\nPranay Pandey wrote:\n&gt; \n&gt; \n&gt; \n&gt; I have written a script that controls the build, launch and termination \n&gt; of jobs using curl commands. I pass along a parameter to the script \n&gt; telling it how long the job has to run before it terminates it.\n&gt; \n&gt; I noticed that many of the broad crawl jobs (perhaps due to forced and \n&gt; hence abrupt termination) leave the later-timestamped warcs in open \n&gt; state. Is there a way to close these warcs? What are the other possible \n&gt; drawbacks of prematurely terminating jobs like this?\n&gt; \n&gt; Thanks,\n&gt; Pranay \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n"}}