{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"rLgKIWQj7Ec08GzdZ_HCpoMg3C7YvcEwKPU3S-UAZkBCVwuusL5P8T5XgpQrILsIL4vcE_PrXAPdsJSo4iiJWMrC8u2SeAHR","spamInfo":{"isSpam":false,"reason":"0"},"subject":"[PROPOSAL] ARC file metadata body specification (Was &quot;Heritrix ARC naming...&quot;)","postDate":"1084844510","msgId":395,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwQTk2OURFLjQwMjA3MDBAYXJjaGl2ZS5vcmc+"},"prevInTopic":0,"nextInTopic":417,"prevInTime":394,"nextInTime":396,"topicId":395,"numMessagesInTopic":5,"msgSnippet":"This note is a follow on from a note sent a month ago by Gordon giving a heads-up and soliciting feedback on a new ARC file naming convention and of pending","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 11836 invoked from network); 18 May 2004 01:48:20 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m9.grp.scd.yahoo.com with QMQP; 18 May 2004 01:48:20 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (209.237.232.202)\n  by mta4.grp.scd.yahoo.com with SMTP; 18 May 2004 01:48:23 -0000\r\nReceived: (qmail 13748 invoked by uid 100); 18 May 2004 01:41:41 -0000\r\nReceived: from b116-dyn-60.archive.org (HELO archive.org) (stack@...@209.237.240.60)\n  by mail-dev.archive.org with SMTP; 18 May 2004 01:41:41 -0000\r\nMessage-ID: &lt;40A969DE.4020700@...&gt;\r\nDate: Mon, 17 May 2004 18:41:50 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.5) Gecko/20031107 Debian/1.5-3\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: &quot;Brad Tofel&quot; &lt;brad@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.5 required=6.0 tests=AWL,NORMAL_HTTP_TO_IP \n\tautolearn=ham version=2.63\r\nX-eGroups-Remote-IP: 209.237.232.202\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: [PROPOSAL] ARC file metadata body specification (Was &quot;Heritrix ARC\n naming...&quot;)\r\nX-Yahoo-Group-Post: member; u=168599281\r\n\r\nThis note is a follow on from a note sent a month ago by Gordon giving a \nheads-up and soliciting feedback on a new ARC file naming convention and \nof pending changes to the ARC file metadata record.\n\nThe change to the heritrix naming of ARCs has been completed and \ncommitted to the code base.  The format is now:\n\n&lt;OPERATOR SPECIFIED&gt; &#39;-&#39; &lt;12 DIGIT TIMESTAMP&gt; &#39;-&#39; &lt;SERIAL NO.&gt; &#39;-&#39; &lt;FQDN \nHOSTNAME&gt; &#39;.arc&#39; | &#39;.gz&#39;\n\n... where &lt;OPERATOR SPECIFIED&gt; is any operator specified text, &lt;SERIAL \nNO&gt; is a zero-padded 5 digit number and &lt;FQDN HOSTNAME&gt; is the \nfully-qualified domainname on which the crawl was run.\n\nHere is an example: UKGOV-200403221010-00004-debord.archive.org.arc.gz\n\nThe rest of this note is a more formal description of the HEADER section \nof Gordon&#39;s note describing the changes we intend to make to the ARC \nrecord metadata header and metadata body.  Again, comments are invited.\n\nARC FILE METADATA RECORD -- i.e. the first record of an ARC -- PROPOSED \nCHANGES\n\n1. If an ARC file metadata record has extra information in its body, the \nsecond &#39;&lt;reserved&gt;&#39; field of the second line of version 1 ARC files will \nbe changed from &#39;0&#39; to &#39;1&#39;.  Previously, in version 1, ARC metadata \nrecords had zero-length bodies [See #1 for description of version 1 ARC \nfiles].\n2. If present, the ARC file metadata record body will contain at least \nthe following fields.  Later revisions of may add other fields:\n\n2a.  Software and software version used creating the ARC file.  The \nvalue of this field is not overrideable by an operator.  Example: \n&#39;heritrix 0.7.1 http://crawler.archive.org&#39;.\n2b. The IP of the host that created the ARC file.  The value of this \nfield is not overrideable by an operator.  Example: &#39;103.1.0.3&#39;.\n2c. The hostname of the host that created the ARC file.  The value of \nthis field is not overrideable by an operator.  Example \n&#39;debord.archive.org&#39;.\n2d. Contact name of the crawl operator.   The operator will be able to \nset this value upon job creation.  Default value is &#39;admin&#39;. 2e. The \nhttp-header &#39;user-agent&#39; field from the crawl-job order file. This field \nis recorded here in the metadata only until the day ARCs record the HTTP \nrequest made.  Example: &#39;os-heritrix/0.7.0 (+http://localhost.localdomain)&#39;.\n2f. The http-header &#39;from&#39; from the crawl-job order file.  This field is \nrecorded here in the metadata only until the day ARCs record the HTTP \nrequest made.  Example: &#39;webmaster@...&#39;.\n2g. The &#39;description&#39; from the crawl-job order file.  Example: &#39;Heritrix \nintegrated selftest&#39;.\n2h. Robots obeyed.  Copied from crawl-job order file.  Example: &#39;true&#39;.\n2i. Organization on whose behalf the operator is running the crawl.  \nExample &#39;Internet Archive&#39;.\n2j. The &#39;name&#39; from the crawl-job order file.  Example: &#39;Selftest&#39; or \n&#39;UKGOV-April2004&#39;.\n2k. The recipient of the crawl ARC resource if known.  Example: &#39;Library \nof Congress&#39;.\n\n3. The above listed fields will be written into the ARC file metadata \nbody as validatable XML.\n4. The XML Schema used to validate will be in the main qualified Dublin \nCore [#2] with mixed in Internet Archive elements and refinements.  The \nDC elements with qualifiers will be used to describe the ARC resource \nitself.  The Internet Archive elements will be used to record \ninformation about the context in which the crawler wrote the ARC and \nInternet Archive element-qualifiers will be used refining DC elements.\n5.  Here are example XML instances to match the XML schema as yet \nundefined outlined in 4. above featuring the fields listed in 2. above.\n\n5.1 Selftest\n\nGiven:\n\nOperator=&quot;stack at archive dot org&quot;\nOrganization=&quot;Internet Archive&quot;\nCrawl-Job Description=&quot;Heritrix integrated selftest.&quot;\nCrawl-Job Name=&quot;Selftest&quot;\nRecipient of arc=&quot;Selftest analysis&quot;\n\nThe XML instance will look like:\n\n&lt;arcmetadata xmlns=&quot;http://archive.org/arc/meta/1.0/&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://archive.org/arc/meta/1.0 \nhttp://archive.org/arc/meta/1.0/schema.xsd&quot;\n &lt;!--iac namespace done for sake of clarity demarking naming in the \nbelow.--&gt;\n xmlns:iac=&quot;http://archive.org/arc/meta/1.0/&quot;\n xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;\n xmlns:dcterms=&quot;http://purl.org/dc/terms/&quot;&gt;\n\n&lt;dc:publisher&gt;Internet Archive&lt;/dc:publisher&gt;\n&lt;dc:description&gt;Heritrix integrated selftest&lt;/dc:description&gt;\n&lt;dcterms:audience&gt;Selftest analysis&lt;/dcterms:audience&gt;\n&lt;dcterms:isPartOf xsi:type=&quot;dcterms:Collection&quot;&gt;Selftest&lt;/dcterms:isPartOf&gt;\n&lt;dc:creator xsi:type=&quot;iac:operator&quot;&gt;stack at archive org&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:host-ip&quot;&gt;127.0.0.1&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:hostname&quot;&gt;localhost.localdomain&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:software&quot;&gt;Heritrix 0.7.1 \nhttp://crawler.archive.org&lt;/dc:creator&gt;\n&lt;iac:robots-honored&gt;true&lt;/iac:robots-honored&gt;\n&lt;iac:http-header-from&gt;stack@...&lt;/iac:iac:http-header-from&gt;\n&lt;iac:http-header-user-agent&gt;os-heritrix/0.7.0 \n(+http://localhost.localdomain)\n    &lt;/iac:http-header-user-agent&gt;\n&lt;!--Boilerplate--&gt;\n&lt;dc:type&gt;ARC file version 1.1&lt;/dc:type&gt;\n&lt;dcterms:conformsTo\nxsi:type=&quot;dcterms:URI&quot;&gt;http://www.archive.org/web/researcher/ArcFileFormat.php&lt;/dcterms:conformsTo&gt;\n&lt;/arcmetadata&gt;\n\n5.2 Library of Congress crawl run by Internet Archive\n\nGiven:\n\nOperator=&quot;stack at archive dot org&quot;\nOrganization=&quot;Internet Archive&quot;\nCrawl-Job Description=&quot;May 2004 Election Crawl.&quot;\nCrawl-Job Name=&quot;Election2004-May&quot;\nRecipient of arc=&quot;Library of Congress&quot;\n\nThe XML instance will look like:\n\n&lt;arcmetadata xmlns=&quot;http://archive.org/arc/meta/1.0/&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://archive.org/arc/meta/1.0 \nhttp://archive.org/arc/meta/1.0/schema.xsd&quot;\n &lt;!--iac namespace done for sake of clarity demarking naming in the \nbelow.--&gt;\n xmlns:iac=&quot;http://archive.org/arc/meta/1.0/&quot;\n xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;\n xmlns:dcterms=&quot;http://purl.org/dc/terms/&quot;&gt;\n\n&lt;dc:publisher&gt;Internet Archive&lt;/dc:publisher&gt;\n&lt;dc:description&gt;May 2004 Election Crawl&lt;/dc:description&gt;\n&lt;dcterms:audience&gt;Library of Congress&lt;/dcterms:audience&gt;\n&lt;dcterms:isPartOf \nxsi:type=&quot;dcterms:Collection&quot;&gt;Election2004-May&lt;/dcterms:isPartOf&gt;\n&lt;dc:creator xsi:type=&quot;iac:operator&quot;&gt;stack at archive org&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:host-ip&quot;&gt;123.1.2.3&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:hostname&quot;&gt;crawl08.archive.org&lt;/dc:creator&gt;\n&lt;dc:creator xsi:type=&quot;iac:software&quot;&gt;Heritrix 0.7.1 \nhttp://crawler.archive.org&lt;/dc:creator&gt;\n&lt;iac:robots-honored&gt;false&lt;/iac:robots-honored&gt;\n&lt;iac:http-header-from&gt;stack@...&lt;/iac:iac:http-header-from&gt;\n&lt;iac:http-header-user-agent&gt;os-heritrix/0.7.0 \n(+http://localhost.localdomain)\n    &lt;/iac:http-header-user-agent&gt;\n&lt;!--Boilerplate--&gt;\n&lt;dc:type&gt;ARC file version 1.1&lt;/dc:type&gt;\n&lt;dcterms:conformsTo\nxsi:type=&quot;dcterms:URI&quot;&gt;http://www.archive.org/web/researcher/ArcFileFormat.php&lt;/dcterms:conformsTo&gt;\n&lt;/arcmetadata&gt;\n\n6. The IA schema of qualifiers and elements will be available at \nhttp://archive.org/arc/meta/1.0 (This URL is subject to change).  The DC \nschema is available at [#3].\n7. On the notion of adding the complete crawl-job order file to the ARC, \nthat was made into an RFE at [#4].\n\n#1. ARC file formal description: \nhttp://www.archive.org/web/researcher/ArcFileFormat.php.\n#2. Dublic Core Metadata Initiative (DCMI): http://dublincore.org\n#3. Notes on XML Schema for Qualified DC: \nhttp://dublincore.org/schemas/xmls/qdc/2003/04/02/notes/\n#4. Adding crawl-job order file to arcs: \nhttp://sourceforge.net/tracker/index.php?func=detail&aid=955562&group_id=73833&atid=539102\n\nYours,\nSt.Ack\n\n--- In archive-crawler@yahoogroups.com, &quot;Gordon Mohr (Internet Archive)&quot; \n&lt;gojomo@a...&gt; wrote:\n &gt; Thanks for the comments, everyone. Some of these are good ideas\n &gt; that we won&#39;t get to for 1.0, but will keep on the docket for\n &gt; later.\n &gt;\n &gt; kaisa_kaunonen wrote:\n &gt; &gt; Hi all,\n &gt; &gt;\n &gt; &gt; good ideas you have, here are a couple of comments =&gt;\n &gt; &gt;\n &gt; &gt; It&#39;s not possible to tell from file names which job each arc file\n &gt; &gt; comes from?\n &gt;\n &gt; Not automatically: it depends on the operator choosing an ARC name\n &gt; prefix that correlates with the Heritrix job name.\n &gt;\n &gt; I don&#39;t think we want to force these to be the same. The job\n &gt; names get a formulaic (timestamp) expansion for UI convenience\n &gt; and uniqueness within the application&#39;s domain. However, the\n &gt; naming needs for long-term ARC file archival may be different and\n &gt; thus can be chosen in separate ARC name options.\n &gt;\n &gt; Job names should definitely go into the in-ARC header record;\n &gt; I&#39;ll make that a clear part of the arc-header spec.\n &gt;\n &gt; &gt; During harvesting every job has its own directory but in the end one\n &gt; &gt; may place all arcs into a bigger pool for further processing.\n &gt; &gt;\n &gt; &gt; Would a series number be unique only inside a job so you could have\n &gt; &gt; files\n &gt; &gt;\n &gt; &gt; name - 00001 - timestamp1 - IP.arc.gz\n &gt; &gt; name - 00001 - timestamp2 - IP.arc.gz\n &gt; &gt; name - 00001-  timestamp3 - IP.arc.gz\n &gt; &gt; name - 00001 - timestamp4 - IP.arc.gz\n &gt; &gt;\n &gt; &gt; produced by four different jobs. I somehow think a running series\n &gt; &gt; number in an archive implies that no two files in an archive have\n &gt; &gt; identical s-numbers (even if their timestamps differ)\n &gt;\n &gt; The serial numbers are strictly within a single crawl/job for now.\n &gt; Attempting uniqueness over a larger domain would require other\n &gt; coordination between jobs, software runs, software installs, etc.\n &gt;\n &gt; It is currently up to the operator to vary the prefix-names on\n &gt; subsequent runs in such a situation. If they don&#39;t, the above\n &gt; is possible, which is a potential source of confusion with both\n &gt; the grouping you show, and when you consider that the default\n &gt; sort order of the ARCs of separate crawls will be...\n &gt;\n &gt; name - 00001 - timestamp1 - IP.arc.gz\n &gt; name - 00001 - timestamp3 - IP.arc.gz\n &gt; name - 00001-  timestamp5 - IP.arc.gz\n &gt; name - 00001 - timestamp7 - IP.arc.gz\n &gt; name - 00002 - timestamp2 - IP.arc.gz\n &gt; name - 00002 - timestamp4 - IP.arc.gz\n &gt; name - 00002-  timestamp6 - IP.arc.gz\n &gt; name - 00002 - timestamp8 - IP.arc.gz\n &gt;\n &gt; Because of this, we&#39;ve decided to keep the timestamp and serial-number\n &gt; values in the current code&#39;s order, timestamp first, then serial-number,\n &gt; so that within a given &#39;name&#39;, the lexicographic sort order will always\n &gt; match the time-sort order.\n &gt;\n &gt; &gt; S-number makes file names more unique but it&#39;s not very informative.\n &gt;\n &gt; We find the serial numbers helpful as a way to highlight a\n &gt; particular ARC as the container of a resource of interest.\n &gt; For example, &quot;you can grep for the weird server response in ARC\n &gt; #27&quot;. The timestamps are somewhat more difficult to use as\n &gt; casual pointers.\n &gt;\n &gt; &gt; Would it be possible to use job name instead\n &gt; &gt;\n &gt; &gt; OperatorGivenName - Jobname - Timestamp - IP.arc.gz for example =&gt;\n &gt; &gt;\n &gt; &gt; finland - photoarchives - timestamp - IP.arc.gz\n &gt; &gt;\n &gt; &gt; Slight problem of course that job names have variable lengths unlike\n &gt; &gt; s-numbers.\n &gt;\n &gt; I suspect many operators will want to make their ARC prefixes\n &gt; and jobnames match, but for the reasons listed above, I&#39;d\n &gt; rather not enforce that relationship in software.\n &gt;\n &gt; Some other ideas for the future:\n &gt;   - an operator could be offered a easy way (checkbox?) to\n &gt;     make the ARC prefix conform to the job name\n &gt;   - an operator could be warned if a arc-prefix was used\n &gt;     in a known previous crawl, and offered a suggested\n &gt;     revision\n &gt;   - the crawler could consult an external inventory process\n &gt;     somewhere to verify that a proposed crawl name and\n &gt;     ARC prefix are unique\n &gt;\n &gt; Andrew Boyko wrote:\n &gt; # The ARC naming proposal sounds good to me.  The only thing I might\n &gt; # ponder is the idea of a separate identifier, for the instance of a\n &gt; # repeated crawl.   Obviously the operator could just add a suffix to the\n &gt; # &#39;operator-given-name&#39;, and the timestamp is a clear key to regularly\n &gt; # repeated crawls (monthly or weekly), so this isn&#39;t a big deal.  \nEven so,\n &gt; # it&#39;s still compelling to have the tool auto-generate a sequence number\n &gt; # whenever a operator-given-name is reused within an instance of the \ntool.\n &gt; #  Two or three digits would presumably more than cover it.\n &gt; #\n &gt; # So in the example of repeated Congress crawls (to choose an example at\n &gt; # random :), assuming the same instance of the tool is used for each, the\n &gt; # seventh ARC for the fifth instance of the crawl would be\n &gt; #    CONGRESS005-00007-20040420133907-FG71E2B.arc.gz\n &gt; # where the 005 is automatically assigned by the crawler based on the\n &gt; # prior instances it knows of, and of course defaults to 001 for any new\n &gt; # crawl name.\n &gt;\n &gt; We&#39;ve been relying on operator diligence to do this, and picking \ndate-related\n &gt; names -- things like CONGRESS0312 (dec 2003), CONGRESS0401 (jan \n2004), etc.\n &gt;\n &gt; I agree automating this would be a big operator convenience For the \ncurrent\n &gt; update, though, we&#39;ll leave this as a manual practice rather than rush in\n &gt; an automated system that might be constraining.\n &gt;\n &gt; # As far as the new header block, why not add the entire crawl order and\n &gt; # seed list?  A couple K added to a 100MB file shouldn&#39;t worry anyone.\n &gt;\n &gt; Excellent point. It might also be achieved as a special record\n &gt; past the header; perhaps even as a crawler self-fetch, like...\n &gt;\n &gt;    http://127.0.0.1:8080/currentcrawl/order.xml\n &gt;\n &gt; It might be sufficient to do this only for the first ARC, or otherwise\n &gt; include this info by reference where preferred by the operator.\n &gt;\n &gt; - Gordon @ IA\n\n\n"}}