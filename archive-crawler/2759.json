{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"7WnkhXv60Fg3p6Q8wh39SqQG_zP5OzV2Ch3d59xVRZSN1p3_gbmq--8N3y8gvmwV-NBf21uqBhiCubjn-16UTsre0PsNnIkP","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] reusing a job and others questions","postDate":"1143074701","msgId":2759,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0MjFFRjhELjIwMDAzMDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGR2c28zYis5b2tjQGVHcm91cHMuY29tPg==","referencesHeader":"PGR2c28zYis5b2tjQGVHcm91cHMuY29tPg=="},"prevInTopic":2758,"nextInTopic":2767,"prevInTime":2758,"nextInTime":2760,"topicId":2748,"numMessagesInTopic":15,"msgSnippet":"... Your english is great. ... You can poll the Heritrix instance status or you can register for JMX notifications.  For illustration, see notifications tab in","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 50675 invoked from network); 23 Mar 2006 00:44:50 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m11.grp.scd.yahoo.com with QMQP; 23 Mar 2006 00:44:50 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta9.grp.scd.yahoo.com with SMTP; 23 Mar 2006 00:44:50 -0000\r\nReceived: from [192.168.1.105] ([192.168.1.105])\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k2MNYcZ07302;\n\tWed, 22 Mar 2006 15:34:38 -0800\r\nMessage-ID: &lt;4421EF8D.2000303@...&gt;\r\nDate: Wed, 22 Mar 2006 16:45:01 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8.0.1) Gecko/20060127 SeaMonkey/1.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;dvso3b+9okc@...&gt;\r\nIn-Reply-To: &lt;dvso3b+9okc@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] reusing a job and others questions\r\nX-Yahoo-Group-Post: member; u=168599281; y=U1tXoGGoS6lOUPwY1ZsoZvpZtii54eAKQHrh2unKOtMlMGRFFVPiYQdO\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\ntizo_trico wrote:\n&gt; St.Ack,\n&gt;\n&gt; Thanks very much for your time, and sorry about my english.\nYour english is great.\n&gt;\n&gt; I have been testing JMX methods with jconsole, and I was able to\n&gt; create a job, given an order file and a seed file, so one approach to\n&gt; reusing a job (the first we are testing), would be to hava a Java\n&gt; program that creates jobs whenever needed.\n&gt;\n&gt; The fact is that we don&#39;t need a scheduling program properly said:\n&gt; what we need is that a job be enqued again as soon as it finishes (at\n&gt; least at the moment), so, is there any way to realize when a job have\n&gt; finished via JMX?\nYou can poll the Heritrix instance status or you can register for JMX \nnotifications.  For illustration, see notifications tab in JConsole for \nCrawlJobs.  Enable them.  See how you get different types of events: \nprogress stats on a period and notification of pause, etc. events.  Our \nhcc application actually registers for notifications from the JMX Agent \nitself filtering for MBean creation/destruction.  This is how it notices \nthe coming and going of jobs.\n\nWould it be of use if Heritrix could shut itself down when asked to run \na job off the command-line? (IIRC, we used to have something like this \nfunctionality once) So, you&#39;d do something like pass a command-line \nargument that told heritrix shutdown when no more jobs to run -- &#39;% \nheritrix -r --shutdown order.xml&#39; -- and heritrix would run the one job \nthen go down?  Would that be of general use?\n&gt;\n&gt; Another question is if others instances of Heritrix on the same JVM\n&gt; can be created via JMX. I have made some tests, and I could create\n&gt; other Heritrix instances with the GUI admin, in the url\n&gt; http://localhost:8080/local-instances.jsp, and I could access those\n&gt; new instances with jconsole. What I could not find, is how to create\n&gt; those with jconsole, is there a way to do that?\n&gt;\nNot that I know of. It may be possible in JConsole (or in other JMX \nclients -- JManage?).  Its possible to create Heritrix instances via the \nhcc application and via the little cmdline-jmxclient that comes in the \nheritrix bin directory (See http://crawler.archive.org/cmdline-jmxclient/).\n\nSt.Ack\n\n&gt; Thanks very much,\n&gt;\n&gt; tizo\n&gt;\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; tizo_trico wrote:\n&gt; &gt; &gt; St.Ack,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yes, Yan Zhang&#39;s suggestion works; I already have been working in that\n&gt; &gt; &gt; way, but I wonderer  if that could be done automatically.\n&gt; &gt;\n&gt; &gt; What would you suggest?\n&gt; &gt; &gt;\n&gt; &gt; &gt; I have also thought in make a Java program that controls Heritrix via\n&gt; &gt; &gt; JMX, and creates jobs &quot;based on existing jobs&quot;, as soon as they\n&gt; &gt; &gt; finished, but what about the seeds?, how can I recover the same seeds?\n&gt; &gt; I may be misinterpreting your question.  Are you asking how to reuse\n&gt; the\n&gt; &gt; same seeds in every job?  If so, as part of creating a job, you specify\n&gt; &gt; the seeds to use usually by having the order.xml point to a seeds.txt\n&gt; &gt; file, the very file that was used in all previous crawls.  With JMX you\n&gt; &gt; can pass paths to the order and seed file to use or pass seeds as a\n&gt; &gt; string or pass a jar file that has the order and seeds as well as any\n&gt; &gt; settings overrides (The latter makes it easier posting jobs to a remote\n&gt; &gt; Heritrix instance).\n&gt; &gt; &gt; Should the program itself control the seeds for each &quot;reusable&quot; job?\n&gt; &gt; &gt; or there is a simpler way?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Anyway, when you say &quot;Automated rescheduling of jobs is not part of\n&gt; &gt; &gt; the crawler.&quot;, is because it should not be part of the crawler?\n&gt; &gt; Thats what I think.  Keeps things modular and our options open. \n&gt; &gt; Scheduler can then be as simple as a cron job invoking heritrix\n&gt; &gt; command-line arguments or as sophisticated as quartz\n&gt; &gt; (http://www.opensymphony.com/quartz/) \n&gt; &lt;http://www.opensymphony.com/quartz/%29&gt; invoking Heritrix via JMX as\n&gt; &gt; originally suggested up on this list a while back\n&gt; &gt; (http://groups.yahoo.com/group/archive-crawler/message/1827). \n&gt; &lt;http://groups.yahoo.com/group/archive-crawler/message/1827%29.&gt;\n&gt; &gt;\n&gt; &gt; &gt; or\n&gt; &gt; &gt; could it be a new functionality for future releases? It the last was\n&gt; &gt; &gt; true, maybe I could work on that, but I don&#39;t know yet, because we are\n&gt; &gt; &gt; studying the best way to implement the reusability of jobs, and one of\n&gt; &gt; &gt; the alternatives is modifying Heritrix code.\n&gt; &gt; For sure it could be part of a future Heritrix and we&#39;d welcome any\n&gt; &gt; scheduling contribution.\n&gt; &gt;\n&gt; &gt; For our archive-it service we have a basic scheduler that lets you\n&gt; start\n&gt; &gt; a job at defined coarse intervals (Once a day, once a week, etc.).\n&gt; This\n&gt; &gt; &#39;scheduling&#39; is built into the application that manages all of the\n&gt; &gt; Hertrice instances each running distinct crawl jobs.  It does this via\n&gt; &gt; the hcc Heritrix subproject: http://crawler.archive.org/hcc/ (hcc is\n&gt; &gt; beginnings of a &#39;Heritrix Cluster Controller&#39;, an application that can\n&gt; &gt; give a view onto a cluster of Heritrix crawlers).  If hcc had a\n&gt; built-in\n&gt; &gt; scheduler, our archive-it would likely use it. If it was part of\n&gt; hcc, so\n&gt; &gt; could others.\n&gt; &gt;\n&gt; &gt; Myself, I don&#39;t see much value in adding a scheduler to Heritrix\n&gt; itself:\n&gt; &gt; Another heavy jar, multiple specification screens if the scheduler\n&gt; is of\n&gt; &gt; any sophistication at all, and a new place on disk to worry about  for\n&gt; &gt; persisted schedules.  I&#39;d be more interested in an external scheduler\n&gt; &gt; that is able to schedule multiple instances being part of a separate\n&gt; &gt; cluster-management application but perhaps others see value in building\n&gt; &gt; scheduling into Heritrix itself?\n&gt; &gt;\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thanks very much,\n&gt; &gt; &gt;\n&gt; &gt; &gt; tizo\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@&gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; tizo_trico wrote:\n&gt; &gt; &gt; &gt; &gt; Hi there,\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Is there any way to reuse a job after it has finished? I mean,\n&gt; after a\n&gt; &gt; &gt; &gt; &gt; job finishes its crawl, could it be enqued automatically again.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; No.  Automated rescheduling of jobs is not part of the crawler.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Will Yan Zhang&#39;s suggestion work  for you?  You could create and\n&gt; queue\n&gt; &gt; &gt; &gt; up lots of the same job distingushed by a serial number and as a\n&gt; crawl\n&gt; &gt; &gt; &gt; finishes, it&#39;ll start in on the next job.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Otherwise, you need to set a program to watch the crawler.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; St.Ack\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Thanks very much,\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; tizo\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; SPONSORED LINKS\n&gt; &gt; &gt; &gt; &gt; Computer security\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg&gt;&gt;&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;       Computer training\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ&gt;&gt;&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; &gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;     *  Visit your group &quot;archive-crawler\n&gt; &gt; &gt; &gt; &gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt; &gt; &gt; &gt; &gt;      \n&gt; &gt; &gt; &gt; &gt;     *  To unsubscribe from this group, send an email to:\n&gt; &gt; &gt; &gt; &gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt; &gt; &gt;    \n&gt; &gt; &gt;\n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt; &gt; &gt;      \n&gt; &gt; &gt; &gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; SPONSORED LINKS\n&gt; &gt; &gt; Computer security\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+security&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=BHmcxBg5sKfN9-gcWnJWDg&gt;&gt;\n&gt;\n&gt; &gt; &gt;       Computer training\n&gt; &gt; &gt;\n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+training&w1=Computer+security&w2=Computer+training&c=2&s=46&.sig=v0JjJWA4s7mLnWQWdFxuTQ&gt;&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt; &gt;\n&gt; &gt; &gt;     *  Visit your group &quot;archive-crawler\n&gt; &gt; &gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     *  To unsubscribe from this group, send an email to:\n&gt; &gt; &gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;     \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}