{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":119451900,"authorName":"Andrew Jackson","from":"Andrew Jackson &lt;anj@...&gt;","profile":"andy_and_eilidh","replyTo":"LIST","senderId":"ov1LrHeYeABjed1dJGQz99E1NMkWayy6ZZBXbR6--fJGnOtCDU0QTojrnPsyg6N9sLjY6_E5YXZRJ4SDRliXmgPHHe8IphLOpw","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Issues when re-enabling querying of the Frontier in H3","postDate":"1361400216","msgId":7964,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDdEMTkzNTM3LUIxMTgtNDNFMS05RTdBLTE4MDJBQjA5MjdFOUBhbmphY2tzb24ubmV0Pg=="},"prevInTopic":0,"nextInTopic":0,"prevInTime":7963,"nextInTime":7965,"topicId":7964,"numMessagesInTopic":1,"msgSnippet":"Hi, I ve been experimenting with re-enabling the ability to query the frontier in H3. The code itself seems to be essentially complete, apart from actually","rawEmail":"Return-Path: &lt;anj@...&gt;\r\nX-Sender: anj@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 52815 invoked from network); 20 Feb 2013 22:43:37 -0000\r\nX-Received: from unknown (10.193.84.163)\n  by m7.grp.bf1.yahoo.com with QMQP; 20 Feb 2013 22:43:37 -0000\r\nX-Received: from unknown (HELO mail-wg0-f45.google.com) (74.125.82.45)\n  by mta3.grp.bf1.yahoo.com with SMTP; 20 Feb 2013 22:43:37 -0000\r\nX-Received: by mail-wg0-f45.google.com with SMTP id dq12so6995923wgb.12\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 20 Feb 2013 14:43:36 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=x-received:from:content-type:subject:date:message-id:to\n         :mime-version:x-mailer:x-gm-message-state;\n        bh=IngKeTfVQ+UoXy0RfqGY0MYUruaWAaBwujXb7GYyW7g=;\n        b=bEi4mNE2wTj/QGcagGMJE/RX0+UwpTqCC4260mO1Aa3mz3RuxG6qHwZRG/SQYUV0jK\n         Zl9Q4b994Vayt3Jml4THcZ7GqypvT4S/2Uufc6rH5FzvA8XhKdiiAumZmfan2SQl7nps\n         gzSymM8vMoUYFntGRK4Xjnb8HHTkiDKluqDp1sZZWlU/miUbBbIBJ9/+l3jUAcTzjho4\n         a9B5cuIho0Ssjw5BuJ/WyiMsRZOpKKhsKfEWhUIO92At6UgltAytdOTA5cwQxucZ2cq0\n         KLAVCrgY1hA3yNSE6iEHHNsKDJvTuu6BGr7MCMWM3FqkmBbjGb+k3VGcKc73tXYC5lpJ\n         gIHA==\r\nX-Received: by 10.194.238.226 with SMTP id vn2mr36995851wjc.23.1361400216640;\n        Wed, 20 Feb 2013 14:43:36 -0800 (PST)\r\nReturn-Path: &lt;anj@...&gt;\r\nX-Received: from [192.168.2.6] (cpc7-seac21-2-0-cust987.7-2.cable.virginmedia.com. [86.0.151.220])\n        by mx.google.com with ESMTPS id ex1sm36657137wib.7.2013.02.20.14.43.35\n        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);\n        Wed, 20 Feb 2013 14:43:35 -0800 (PST)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_230AF13F-680B-472A-9294-56A4057124E8&quot;\r\nDate: Wed, 20 Feb 2013 22:43:36 +0000\r\nMessage-Id: &lt;7D193537-B118-43E1-9E7A-1802AB0927E9@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nMime-Version: 1.0 (Apple Message framework v1283)\r\nX-Mailer: Apple Mail (2.1283)\r\nX-Gm-Message-State: ALoCoQk6mmUU5ClXVLXFy1UazydmM41uFvW4BYOpPAwrUaUN69mnIqDSYXwt3n83xeYpJ6LQ0/kb\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Andrew Jackson &lt;anj@...&gt;\r\nSubject: Issues when re-enabling querying of the Frontier in H3\r\nX-Yahoo-Group-Post: member; u=119451900; y=HskclAPxca_Y60DtwZU0FeTER92PXESSsbvHs5GGSEdBztHhB3lih8RA\r\nX-Yahoo-Profile: andy_and_eilidh\r\n\r\n\r\n--Apple-Mail=_230AF13F-680B-472A-9294-56A4057124E8\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=us-ascii\r\n\r\nHi,\n\nI&#39;ve been experimenting with re-enabling the ability to query the fron=\r\ntier in H3. The code itself seems to be essentially complete, apart from ac=\r\ntually returning the data in a plain bean rather than a H1-style JMX object=\r\n. Having replaced that code, it appears to work fine. However, I worry I ma=\r\ny be missing something, as it seems unlikely that this was simply overlooke=\r\nd - perhaps there was some reason this was not enabled? Also, this line in =\r\nthe Frontier JavaDoc fills me with fear and dread:\n\nIt is unsafe to make ch=\r\nanges to the frontier while this method is executing. The crawler should be=\r\n in a paused state before invoking it.\n\nSee https://github.com/ukwa/heritri=\r\nx3/blob/master/engine/src/main/java/org/archive/crawler/framework/Frontier.=\r\njava#L400\n\nSo, my questions are: Can I just enable frontier queries? Or is =\r\nthere some underlying problem? Is there an open ticker concerning this issu=\r\ne, or an old thread I should look at? Is that warning really justified? Sur=\r\nely the BdbFrontier allows read-only queries without preventing queue modif=\r\nications? (although of course the Cursor markers might get invalidated).\n\nT=\r\nhanks,\nAndy Jackson \n\n\n\r\n--Apple-Mail=_230AF13F-680B-472A-9294-56A4057124E8\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode:=\r\n space; -webkit-line-break: after-white-space; &quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;v=\r\ne been experimenting with re-enabling the ability to query the frontier in =\r\nH3. The code itself seems to be essentially complete, apart from actually r=\r\neturning the data in a plain bean rather than a H1-style JMX object. Having=\r\n replaced that code, it appears to work fine. However, I worry I may be mis=\r\nsing something, as it seems unlikely that this was simply overlooked - perh=\r\naps there was some reason this was not enabled? Also, this line in the Fron=\r\ntier JavaDoc fills me with fear and dread:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;d=\r\niv style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-=\r\nleft: 0px; font: normal normal normal 10px/normal Menlo; color: rgb(73, 117=\r\n, 199); &quot;&gt;It is unsafe to make changes to the frontier while&nbsp;this meth=\r\nod is executing. The crawler should be in a paused state before&nbsp;invoki=\r\nng it.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;&lt;a href=3D&quot;https://git=\r\nhub.com/ukwa/heritrix3/blob/master/engine/src/main/java/org/archive/crawler=\r\n/framework/Frontier.java#L400&quot;&gt;https://github.com/ukwa/heritrix3/blob/maste=\r\nr/engine/src/main/java/org/archive/crawler/framework/Frontier.java#L400&lt;/a&gt;=\r\n&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So, my questions are: Can I just enable frontier =\r\nqueries? Or is there some underlying problem? Is there an open ticker conce=\r\nrning this issue, or an old thread I should look at? Is that warning really=\r\n justified? Surely the BdbFrontier allows read-only queries without prevent=\r\ning queue modifications? (although of course the Cursor markers might get i=\r\nnvalidated).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Andy Jackson&nbsp;&lt;=\r\n/div&gt;&lt;div&gt;&lt;div style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: =\r\n0px; margin-left: 0px; font: normal normal normal 10px/normal Menlo; color:=\r\n rgb(73, 117, 199); &quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=3D&quot;margin-top: 0px; margin=\r\n-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal norm=\r\nal 10px/normal Menlo; color: rgb(73, 117, 199); &quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail=_230AF13F-680B-472A-9294-56A4057124E8--\r\n\n"}}