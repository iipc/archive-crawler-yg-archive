{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":165458231,"authorName":"Bjarne Andersen","from":"Bjarne Andersen &lt;bja@...&gt;","profile":"bjarne_dk2000","replyTo":"LIST","senderId":"WJgIZ2lKIaqXsR4eeA4S8qj4GkGNyc915y4ZzXRPWI7dBdwNVS1jWw5Nt-WiGagF4Ytfo6LQdlzgVfmrrozLo7xZVnoiGnKYpztIxZiexII","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] queue counting is buggy","postDate":"1123593913","msgId":2098,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyRjhBRUI5LjkwODA1MDBAc3RhdHNiaWJsaW90ZWtldC5kaz4=","inReplyToHeader":"PDQyRjg5QzI0LjkwMTAyMDlAc3RhdHNiaWJsaW90ZWtldC5kaz4=","referencesHeader":"PDQyRjg5QzI0LjkwMTAyMDlAc3RhdHNiaWJsaW90ZWtldC5kaz4="},"prevInTopic":2096,"nextInTopic":2099,"prevInTime":2097,"nextInTime":2099,"topicId":2096,"numMessagesInTopic":3,"msgSnippet":"So - I have digged a little into the code (HEAD) I think that WorkQueueFrontier.finished(...) needs this: wq.refund(getCost(curi)); when handling:  if","rawEmail":"Return-Path: &lt;bja@...&gt;\r\nX-Sender: bja@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 40402 invoked from network); 9 Aug 2005 13:25:15 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m7.grp.scd.yahoo.com with QMQP; 9 Aug 2005 13:25:15 -0000\r\nReceived: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta1.grp.scd.yahoo.com with SMTP; 9 Aug 2005 13:25:15 -0000\r\nReceived: from [130.225.25.67] (pc975.sb.statsbiblioteket.dk [130.225.25.67])\n by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0IKY006N5IM1FL@...&gt; for\n archive-crawler@yahoogroups.com; Tue, 09 Aug 2005 15:25:13 +0200 (MEST)\r\nDate: Tue, 09 Aug 2005 15:25:13 +0200\r\nIn-reply-to: &lt;42F89C24.9010209@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-id: &lt;42F8AEB9.9080500@...&gt;\r\nOrganization: Statsbiblioteket\r\nMIME-version: 1.0\r\nContent-type: multipart/mixed; boundary=&quot;Boundary_(ID_M4ZkThwx8AUr+8hU/fiEFQ)&quot;\r\nX-Accept-Language: en-us, en\r\nUser-Agent: Mozilla Thunderbird 1.0 (X11/20041206)\r\nReferences: &lt;42F89C24.9010209@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Bjarne Andersen &lt;bja@...&gt;\r\nSubject: Re: [archive-crawler] queue counting is buggy\r\nX-Yahoo-Group-Post: member; u=165458231; y=BeMMp8Th9QmFdeBn2q2HyIzYPoRGTjU3Rirwfxa22b-lLQZU9EWhJw\r\nX-Yahoo-Profile: bjarne_dk2000\r\n\r\n\r\n--Boundary_(ID_M4ZkThwx8AUr+8hU/fiEFQ)\r\nContent-type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-transfer-encoding: 8BIT\r\n\r\nSo - I have digged a little into the code (HEAD)\nI think that WorkQueueFrontier.finished(...) needs this:\n\nwq.refund(getCost(curi));\n\nwhen handling:  &#39;if (needsRetrying(curi)) {...}&#39; (line 767-786)\n\njust like when handling disregarded URIs\nAm I mistaken ??\n\nbest\nBjarne\n\nBjarne Andersen wrote:\n&gt; URI&#39;s that hit crawledURINeedRetry(CrawlURI curi) in\n&gt; StatisticsTracker.java because of prerequisits still missing (dns: &\n&gt; robots.txt) are using from the queue-budget !!\n&gt; \n&gt; So if you the a queue-total-budget to 50 something around 45-48 objects\n&gt; will typically be fetched\n&gt; \n&gt; Could such URI&#39;s not use from the budget ?? (since they are never\n&gt; fetched but just put back on the URI-queue)\n&gt; \n&gt; We use the queue-total-budget in all crawls and want it to be as\n&gt; accurate as possible\n&gt; \n&gt; best\n&gt; -- \n&gt; Bjarne Andersen\n&gt; IT-udvikler\n&gt; \n&gt; STATSBIBLIOTEKET\n&gt; Universitetsparken\n&gt; 8000 �rhus C\n&gt; Tlf. 89462165 - Mobil 28713889\n&gt; CVR/SE 10100682 - EAN 5798000791084\n&gt; http://statsbiblioteket.dk\n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt; \n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; \n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; \n\n-- \nBjarne Andersen\nIT-udvikler\n\nSTATSBIBLIOTEKET\nUniversitetsparken\n8000 �rhus C\nTlf. 89462165 - Mobil 28713889\nCVR/SE 10100682 - EAN 5798000791084\nhttp://statsbiblioteket.dk\n\r\n--Boundary_(ID_M4ZkThwx8AUr+8hU/fiEFQ)\r\nContent-type: text/x-vcard; charset=utf-8; name=bja.vcf\r\nContent-disposition: attachment; filename=bja.vcf\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_M4ZkThwx8AUr+8hU/fiEFQ)--\r\n\n"}}