{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":83282930,"authorName":"Mr. J","from":"&quot;Mr. J&quot; &lt;bighead007us@...&gt;","profile":"bighead007us","replyTo":"LIST","senderId":"n6aUSmxuW74qgkyhlHpnGMynKdL3W6f-sEERhC-34oiH97woDlz6l5dUW461bEwYfJ_VSAT1OEFgURuXBBCG2eXcg2ES-Vs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Help on Site + 1 crawl","postDate":"1112161504","msgId":1704,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQyZGVkMCszZXNmQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQyNDlEMDZELjgwNzAxMDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":1703,"nextInTopic":1705,"prevInTime":1703,"nextInTime":1705,"topicId":1694,"numMessagesInTopic":10,"msgSnippet":"Thanks a bunch.  Exactly what I am looking for.  So far I am only interested in +1, not +N yet, so I ll not worry about that yet. Maybe +N will be solved with","rawEmail":"Return-Path: &lt;bighead007us@...&gt;\r\nX-Sender: bighead007us@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 4276 invoked from network); 30 Mar 2005 05:45:11 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m21.grp.scd.yahoo.com with QMQP; 30 Mar 2005 05:45:11 -0000\r\nReceived: from unknown (HELO n2a.bulk.scd.yahoo.com) (66.94.237.36)\n  by mta2.grp.scd.yahoo.com with SMTP; 30 Mar 2005 05:45:11 -0000\r\nDomainKey-Signature: \r\nReceived: from [66.218.69.3] by n2.bulk.scd.yahoo.com with NNFMP; 30 Mar 2005 05:45:07 -0000\r\nReceived: from [66.218.66.70] by mailer3.bulk.scd.yahoo.com with NNFMP; 30 Mar 2005 05:45:07 -0000\r\nDate: Wed, 30 Mar 2005 05:45:04 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;d2ded0+3esf@...&gt;\r\nIn-Reply-To: &lt;4249D06D.8070102@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3611\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Mr. J&quot; &lt;bighead007us@...&gt;\r\nSubject: Re: Help on Site + 1 crawl\r\nX-Yahoo-Group-Post: member; u=83282930\r\nX-Yahoo-Profile: bighead007us\r\n\r\n\nThanks a bunch.  Exactly what I am looking for.  So far I am only\ninterested in +1, not +N yet, so I&#39;ll not worry about that yet.\nMaybe +N will be solved with new scope model. :)\n\nWhich codebase do you think I should use for production purpose,\nshould I stick with 1.2 or get the HEAD from cvs ?  You guys might\nhave more idea how mature the code is in CVS.\n\nFor LowerCase Rule, the reason I am asking is one of the site I am\ncrawling is IIS based and they reference the page / graphic in both\ncase even they are the same file and ofcourse it works on their\nserver.  For me having duplicate image is better than missing image. \nDo you guys think I should take out that rule or create the new rule\nto change case for host and domain part only ?\n\nThx,\nJay\n\n\n\n--- In archive-crawler@yahoogroups.com, Igor Ranitovic &lt;igor@a...&gt; wrote:\n&gt; Hi Jay,\n&gt; \n&gt; We could not figure out any combination of existing scopes and\nfilters that will accomplish this. \n&gt; Therefore, you will need to write a new scope for this purpose.\n&gt; The idea is to accept all URIs that fall into one of these two\ncategories:\n&gt; \t- URI in the scope (domain, host, and etc.)\n&gt;          - URI not in the scope but URI&#39;s via in the scope\n&gt; \n&gt; This should allow you +1 hop crawling and should not be hard to\nimplement.\n&gt; Maybe something like this (host scope +1 hop away):\n&gt; \n&gt; public class HostPlusOneScope extends HostScope {\n&gt;      public HostPlusOneScope(String name) {\n&gt;          super(name);\n&gt;          setDescription(&quot;HostPlusOne&quot;);\n&gt;      }\n&gt; \n&gt;      protected boolean focusAccepts(Object o) {\n&gt;          UURI u = getUURI(o);\n&gt;          if (u == null) {\n&gt;              return false;\n&gt;          }\n&gt; \n&gt;          Iterator iter = seedsIterator();\n&gt;          while(iter.hasNext()) {\n&gt;              // Check if in host scope\n&gt;              if (isSameHost((UURI)iter.next(), u)){\n&gt;                      return true;\n&gt;              }\n&gt;              // URI not in host scope, check via URI\n&gt;              UURI via = getVia(o);\n&gt;              if (via != null && isSameHost(((UURI)iter.next()), via)){\n&gt;                  return true;\n&gt;              }\n&gt;          }\n&gt;          return false;\n&gt;      }\n&gt; \n&gt;      private UURI getVia(Object o){\n&gt;          if (o instanceof CandidateURI) {\n&gt;              return ((CandidateURI) o).getVia();\n&gt;          }\n&gt;          return null;\n&gt;      }\n&gt; }\n&gt; \n&gt; If you want to write a scope that will do +N hops away, then it will\nbe a bit more complicated since \n&gt; you will need extra tracking of not-in-scope URIs.\n&gt; \n&gt; Let us if we can help more.\n&gt; i.\n&gt; \n&gt; P.S.\n&gt; 1. LowercaseRule changes the entire URI string to lowercase.\n&gt; 2. max-refferal-hops limits crawling of redirects that are out of scope.\n&gt; \n&gt; \n&gt; &gt; Thanks for wonderful crawler.  I am trying to figure out the way to\n&gt; &gt; crawl the website (domain scope) + 1 external hop, not only the\n&gt; &gt; embedded image, also the html links.\n&gt; &gt; \n&gt; &gt; I have been messing with SurtScope, surtfilter + pathdepth filter on\n&gt; &gt; prefetch processor with broad scope.  Not much luck, ends up crawling\n&gt; &gt; everything until max-link-hop reach.\n&gt; &gt; \n&gt; &gt; I read through on the wiki about NewScopingModel and problems with\n&gt; &gt; current scope.\n&gt; &gt; \n&gt; &gt; Any pointer or direction would be really appreciated.  \n&gt; &gt; \n&gt; &gt; on the side note, here are some question I couldn&#39;t find the\nanswer for\n&gt; &gt; 1. Does the LowercaseRule change lower case only to the domain portion\n&gt; &gt; of the url or the whole string ??\n&gt; &gt; 2. What is the  max-referral-hops for under the transitiveFilter ??\n&gt; &gt; \n&gt; &gt; Thanks again,\n&gt; &gt; Jay\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n\n\n\n\n"}}