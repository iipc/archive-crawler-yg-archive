{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":473207283,"authorName":"Kristinn Sigur√∞sson","from":"=?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"-gHsZduPEUJxAAtelDBbGBOcDf2S81BGzu75Fgt01fNF64E2Iq8omhKPo7_CEzF89TfMbHU_60F8F-Bwa7FvIwLsD4CiRmY8qu7TMfB8FUjPuMS6IjGlPKX4YVCOnJVtifLpAfWUKunb","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: Intermittent issue running Heritrix with Java 7","postDate":"1373559421","msgId":8208,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOUU2QkU1QGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","inReplyToHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MTE4M0E2NjRAdzJrMy1ic3BleDE+","referencesHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MTE4M0E2NjRAdzJrMy1ic3BleDE+"},"prevInTopic":8207,"nextInTopic":8209,"prevInTime":8207,"nextInTime":8209,"topicId":8206,"numMessagesInTopic":15,"msgSnippet":"... Yes, I ll try that. ... Some hosts are unaffected, others are heavily affected, but none are consistently affected (i.e. every URL fails). I have made a","rawEmail":"Return-Path: &lt;kristinn@...&gt;\r\nX-Sender: kristinn@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 12154 invoked by uid 102); 11 Jul 2013 16:17:53 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m3.grp.bf1.yahoo.com with SMTP; 11 Jul 2013 16:17:53 -0000\r\nX-Received: (qmail 8663 invoked from network); 11 Jul 2013 16:17:52 -0000\r\nX-Received: from unknown (HELO vala.bok.hi.is) (130.208.186.10)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 11 Jul 2013 16:17:52 -0000\r\nX-Received: from bliki.bokhlada.local (bliki.bok.hi.is [130.208.186.6])\n\tby vala.bok.hi.is (8.13.8/8.13.8) with ESMTP id r6BGHkpe009312\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 11 Jul 2013 16:17:46 GMT\r\nX-Received: from BLIKI.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) by\n bliki.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) with mapi id\n 14.01.0438.000; Thu, 11 Jul 2013 16:17:02 +0000\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nThread-Topic: Intermittent issue running Heritrix with Java 7\r\nThread-Index: Ac59hHGg2/uan2q8Qx2HXU0sKl34RAAtmpqQAASf0rA=\r\nDate: Thu, 11 Jul 2013 16:17:01 +0000\r\nMessage-ID: &lt;E486D93E372D8C4282E8DF078392F12D9E6BE5@...&gt;\r\nReferences: &lt;74C97E7DF5A7784D997217FF75D121661183A664@w2k3-bspex1&gt;\r\nIn-Reply-To: &lt;74C97E7DF5A7784D997217FF75D121661183A664@w2k3-bspex1&gt;\r\nAccept-Language: en-US, is-IS\r\nContent-Language: en-US\r\nX-MS-Has-Attach: yes\r\nX-MS-TNEF-Correlator: \r\nContent-Type: multipart/related;\n\tboundary=&quot;_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_&quot;;\n\ttype=&quot;multipart/alternative&quot;\r\nMIME-Version: 1.0\r\nX-Spam-Status: No, score=0.0 required=4.6 tests=HTML_MESSAGE\n\tautolearn=disabled version=3.3.1\r\nX-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on gleipnir.rhi.hi.is\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;\r\nSubject: RE: Intermittent issue running Heritrix with Java 7\r\nX-Yahoo-Group-Post: member; u=473207283; y=VrhnxtIFe_j0KbVK2c2HH2jhyzsA6L71I8XKWfOW6kZRQ4lU\r\nX-Yahoo-Profile: kristsi25\r\n\r\n\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;_000_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_&quot;\r\n\r\n\r\n--_000_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&gt; -Djava.net.preferIPv4Stack=3Dtrue\n\nYes, I&#39;ll try that.\n&gt; Are the affected=\r\n URLs consistently associated with the same host, or does the problem appea=\r\nr for totally different URLs each time?\nSome hosts are unaffected, others a=\r\nre heavily affected, but none are consistently affected (i.e. every URL fai=\r\nls).\n\nI have made a variant of H3 that logs this exception instead of swall=\r\nowing it. I&#39;ll use it when I rerun this with the IPv4 setting you suggested=\r\n. If that doesn&#39;t fix the issue, at least I may get something more useful t=\r\nhan &quot;-2&quot;.\n\nThanks Andy.\n\n- Kris\n\n\n[cid:company2]\n[cid:lbs_logo_litid_sig]\nL=\r\nandsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107=\r\n Reykjav=EDk\nS=EDmi/Tel: +354 5255600 | www.landsbokasafn.is&lt;http://landsbo=\r\nkasafn.is/&gt;\nLeiddu hugann a=F0 umhverfinu =E1=F0ur en =FE=FA prentar =FAt t=\r\n=F6lvup=F3st [cid:greentree]\n\n\nFyrirvari / Disclaimer&lt;http://fyrirvari.land=\r\nsbokasafn.is&gt;\n\n\n\n\n\nFrom: archive-crawler@yahoogroups.com [mailto:archive-cr=\r\nawler@yahoogroups.com] On Behalf Of Jackson, Andrew\nSent: 11. j=FAl=ED 2013=\r\n 13:44\nTo: archive-crawler@yahoogroups.com\nSubject: RE: [archive-crawler] I=\r\nntermittent issue running Heritrix with Java 7\n\n\nHi Kris,\n\nBit of a long sh=\r\not, but could you try running under Java 7 but also setting it up to use IP=\r\nv4 using:\n\n-Djava.net.preferIPv4Stack=3Dtrue\n\nI&#39;ve seen some notes about po=\r\nssible issues with the Java 7 IPv6 implementation, but it&#39;s a bit tenuous.\n=\r\n\nAre the affected URLs consistently associated with the same host, or does =\r\nthe problem appear for totally different URLs each time?\n\nDigging into the =\r\ncode, it seems that error code is only raised here:\nhttps://github.com/inte=\r\nrnetarchive/heritrix3/blob/master/modules/src/main/java/org/archive/modules=\r\n/fetcher/FetchHTTP.java#L887\n\nWhich is only called from here:\nhttps://githu=\r\nb.com/internetarchive/heritrix3/blob/master/modules/src/main/java/org/archi=\r\nve/modules/fetcher/FetchHTTP.java#L663\n\ni.e. under Linux, this should only =\r\nhappen when HTTPClient.execute throws and IOException, variations of which =\r\nare listed on this page:\n\nhttp://hc.apache.org/httpclient-legacy/exception-=\r\nhandling.html#Transport_exceptions\n\nIt looks like H3 is swallowing the orig=\r\ninal exception, making it difficult to debug as it&#39;s not clear what kind of=\r\n IOException is being thrown.\n\nHope that helps.\n\nAndy\n\nFrom: archive-crawle=\r\nr@yahoogroups.com&lt;mailto:archive-crawler@yahoogroups.com&gt; [mailto:archive-c=\r\nrawler@yahoogroups.com] On Behalf Of Kristinn Sigur=F0sson\nSent: 10 July 20=\r\n13 16:56\nTo: archive-crawler@yahoogroups.com&lt;mailto:archive-crawler@yahoogr=\r\noups.com&gt;\nSubject: [archive-crawler] Intermittent issue running Heritrix wi=\r\nth Java 7\n\n\n\nI was running a broad crawl (20+ thousand seeds) using the lat=\r\nest SNAPSHOT build of Heritrix (3.1.2-20130625) when I noticed that one of =\r\nour big blogging site wasn&#39;t making much progress.\n\nAs it turned out it was=\r\n making intermittent progress and then hitting large stretches of time wher=\r\ne every fetch attempt ended with a -2 (connect fail).\n\nMy initial thought w=\r\nas that we were being blocked by the website, but that did not turn out to =\r\nbe the case. Additional inspection of the crawl log revealed that during a =\r\n20+ million URL crawl over 14 thousand URLs had errored out with a -2. I co=\r\nmpared this with our most recent comparable crawl and for that the number w=\r\nas 60 URLs out of 40+ million. Clearly there was a problem with the crawler=\r\n.\n\nWhile some domains were affect and other not, I could not deduce any pat=\r\ntern as to what domains or URLs this affected.\n\nMy second assumption then w=\r\nas that this was due to me running a SNAPSHOT build. So I put 3.1.0-RC1 (wh=\r\nich I had used for the previous crawl) into play on the same machine. The i=\r\nssue reoccurred. -2 errors began showing up in the crawl log about 2 hours =\r\nin (exactly when the 500 second wait times between 15 retries period had pa=\r\nssed). This is not a regression in Heritrix.\n\nThat left two variables. The =\r\nfact that I was running on new hardware and that I had upgraded from Java 6=\r\n to 7 (1.7.0_25-b15 to be exact).\n\nI then installed Java 1.6.0-b105 and tri=\r\ned the crawl a third time (again using the SNAPSHOT build), shortening the =\r\nretry wait interval from 500 seconds to 50. I figured this could only make =\r\nthe issue worse and would mean that it could manifest in as little as 15 mi=\r\nnutes, instead of 2 hours.\n\nNow 5.5 hours in there are no sign of URLs with=\r\n inexplicable -2 status codes. It seems the issue IS related to the Java ve=\r\nrsion.\n\nHas anyone encountered this? Any ideas on cause or how this could b=\r\ne remedied? For now, just using an older version of Java will fix the issue=\r\n, but that isn&#39;t a long term solution.\n\n- Kris\n\n---------------------------=\r\n-------------------------------\nLandsb=F3kasafn =CDslands - H=E1sk=F3lab=F3=\r\nkasafn | Arngr=EDmsg=F6tu 3 - 107 Reykjav=EDk\nS=EDmi/Tel: +354 5255600 | ww=\r\nw.landsbokasafn.is&lt;http://www.landsbokasafn.is&gt;\n---------------------------=\r\n-------------------------------\nfyrirvari/disclaimer - http://fyrirvari.lan=\r\ndsbokasafn.is\n\n\r\n--_000_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html xmlns:v=3D&quot;urn:schemas-microsoft-com:vml&quot; xmlns:o=3D&quot;urn:schemas-micr=\r\nosoft-com:office:office&quot; xmlns:w=3D&quot;urn:schemas-microsoft-com:office:word&quot; =\r\nxmlns:m=3D&quot;http://schemas.microsoft.com/office/2004/12/omml&quot; xmlns=3D&quot;http:=\r\n//www.w3.org/TR/REC-html40&quot;&gt;\n&lt;head&gt;\n&lt;meta http-equiv=3D&quot;Content-Type&quot; conte=\r\nnt=3D&quot;text/html; charset=3Diso-8859-1&quot;&gt;\n&lt;meta name=3D&quot;Generator&quot; content=3D=\r\n&quot;Microsoft Word 14 (filtered medium)&quot;&gt;\n&lt;!--[if !mso]&gt;&lt;style&gt;v&#92;:* {behavior:=\r\nurl(#default#VML);}\no&#92;:* {behavior:url(#default#VML);}\nw&#92;:* {behavior:url(#=\r\ndefault#VML);}\n.shape {behavior:url(#default#VML);}\n&lt;/style&gt;&lt;![endif]--&gt;&lt;st=\r\nyle&gt;&lt;!--\n/* Font Definitions */\n@font-face\n\t{font-family:Wingdings;\n\tpanose=\r\n-1:5 0 0 0 0 0 0 0 0 0;}\n@font-face\n\t{font-family:Wingdings;\n\tpanose-1:5 0 =\r\n0 0 0 0 0 0 0 0;}\n@font-face\n\t{font-family:Calibri;\n\tpanose-1:2 15 5 2 2 2 =\r\n4 3 2 4;}\n@font-face\n\t{font-family:Tahoma;\n\tpanose-1:2 11 6 4 3 5 4 4 2 4;}=\r\n\n@font-face\n\t{font-family:Consolas;\n\tpanose-1:2 11 6 9 2 2 4 3 2 4;}\n@font-=\r\nface\n\t{font-family:Verdana;\n\tpanose-1:2 11 6 4 3 5 4 4 2 4;}\n/* Style Defin=\r\nitions */\np.MsoNormal, li.MsoNormal, div.MsoNormal\n\t{margin:0cm;\n\tmargin-bo=\r\nttom:.0001pt;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\na=\r\n:link, span.MsoHyperlink\n\t{mso-style-priority:99;\n\tcolor:blue;\n\ttext-decora=\r\ntion:underline;}\na:visited, span.MsoHyperlinkFollowed\n\t{mso-style-priority:=\r\n99;\n\tcolor:purple;\n\ttext-decoration:underline;}\np\n\t{mso-style-priority:99;\n=\r\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\t=\r\nmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;=\r\n}\ncode\n\t{mso-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\npre\n\t{mso-styl=\r\ne-priority:99;\n\tmso-style-link:&quot;HTML Preformatted Char&quot;;\n\tmargin:0cm;\n\tmarg=\r\nin-bottom:.0001pt;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Courier New&quot;;}\ntt\n\t{mso=\r\n-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\np.MsoAcetate, li.MsoAcetat=\r\ne, div.MsoAcetate\n\t{mso-style-priority:99;\n\tmso-style-link:&quot;Balloon Text Ch=\r\nar&quot;;\n\tmargin:0cm;\n\tmargin-bottom:.0001pt;\n\tfont-size:8.0pt;\n\tfont-family:&quot;T=\r\nahoma&quot;,&quot;sans-serif&quot;;}\np.MsoListParagraph, li.MsoListParagraph, div.MsoListP=\r\naragraph\n\t{mso-style-priority:34;\n\tmargin-top:0cm;\n\tmargin-right:0cm;\n\tmarg=\r\nin-bottom:0cm;\n\tmargin-left:36.0pt;\n\tmargin-bottom:.0001pt;\n\tfont-size:12.0=\r\npt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\nspan.cat\n\t{mso-style-name:cat;=\r\n}\nspan.ct\n\t{mso-style-name:ct;}\nspan.HTMLPreformattedChar\n\t{mso-style-name:=\r\n&quot;HTML Preformatted Char&quot;;\n\tmso-style-priority:99;\n\tmso-style-link:&quot;HTML Pre=\r\nformatted&quot;;\n\tfont-family:Consolas;}\np.attach, li.attach, div.attach\n\t{mso-s=\r\ntyle-name:attach;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-=\r\nbottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:9.0pt;\n\tfont-family:&quot;Arial&quot;,&quot;=\r\nsans-serif&quot;;}\np.bold, li.bold, div.bold\n\t{mso-style-name:bold;\n\tmso-margin-=\r\ntop-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:=\r\n0cm;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Arial&quot;,&quot;sans-serif&quot;;\n\tfont-weight:bol=\r\nd;}\np.green, li.green, div.green\n\t{mso-style-name:green;\n\tmso-margin-top-al=\r\nt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\t=\r\nfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;\n\tcolor:#628C2A;}\n=\r\np.replbq, li.replbq, div.replbq\n\t{mso-style-name:replbq;\n\tmargin:3.0pt;\n\tfo=\r\nnt-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad, li.ad, div.a=\r\nd\n\t{mso-style-name:ad;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-ma=\r\nrgin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Ti=\r\nmes New Roman&quot;,&quot;serif&quot;;}\np.underline, li.underline, div.underline\n\t{mso-sty=\r\nle-name:underline;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin=\r\n-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times =\r\nNew Roman&quot;,&quot;serif&quot;;}\nspan.yshortcuts\n\t{mso-style-name:yshortcuts;}\np.ad1, l=\r\ni.ad1, div.ad1\n\t{mso-style-name:ad1;\n\tmso-margin-top-alt:auto;\n\tmargin-righ=\r\nt:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tf=\r\nont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad2, li.ad2, div.ad2\n\t{mso-style-n=\r\name:ad2;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmargin-bottom:7.5pt;=\r\n\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif=\r\n&quot;;}\np.underline1, li.underline1, div.underline1\n\t{mso-style-name:underline1=\r\n;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;=\r\n\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif=\r\n&quot;;\n\ttext-decoration:underline;}\nspan.yshortcuts1\n\t{mso-style-name:yshortcut=\r\ns1;\n\tfont-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;\n\tfont-weight:bold;}\nspan.yshortcut=\r\ns2\n\t{mso-style-name:yshortcuts2;\n\tfont-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;\n\tfont=\r\n-weight:normal;}\nspan.EmailStyle36\n\t{mso-style-type:personal-reply;\n\tfont-f=\r\namily:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tcolor:#1F497D;}\nspan.BalloonTextChar\n\t{mso-s=\r\ntyle-name:&quot;Balloon Text Char&quot;;\n\tmso-style-priority:99;\n\tmso-style-link:&quot;Bal=\r\nloon Text&quot;;\n\tfont-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;;}\n.MsoChpDefault\n\t{mso-style=\r\n-type:export-only;\n\tfont-size:10.0pt;}\n@page WordSection1\n\t{size:612.0pt 79=\r\n2.0pt;\n\tmargin:70.85pt 70.85pt 70.85pt 70.85pt;}\ndiv.WordSection1\n\t{page:Wo=\r\nrdSection1;}\n/* List Definitions */\n@list l0\n\t{mso-list-id:84233404;\n\tmso-l=\r\nist-template-ids:856168544;}\n@list l0:level1\n\t{mso-level-number-format:bull=\r\net;\n\tmso-level-text:&#92;F0B7;\n\tmso-level-tab-stop:36.0pt;\n\tmso-level-number-po=\r\nsition:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family=\r\n:Symbol;}\n@list l0:level2\n\t{mso-level-number-format:bullet;\n\tmso-level-text=\r\n:o;\n\tmso-level-tab-stop:72.0pt;\n\tmso-level-number-position:left;\n\ttext-inde=\r\nnt:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:&quot;Courier New&quot;;\n\tmso-bi=\r\ndi-font-family:&quot;Times New Roman&quot;;}\n@list l0:level3\n\t{mso-level-number-forma=\r\nt:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:108.0pt;\n\tmso-level-nu=\r\nmber-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont=\r\n-family:Wingdings;}\n@list l0:level4\n\t{mso-level-number-format:bullet;\n\tmso-=\r\nlevel-text:&#92;F0A7;\n\tmso-level-tab-stop:144.0pt;\n\tmso-level-number-position:l=\r\neft;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:Wingdin=\r\ngs;}\n@list l0:level5\n\t{mso-level-number-format:bullet;\n\tmso-level-text:&#92;F0A=\r\n7;\n\tmso-level-tab-stop:180.0pt;\n\tmso-level-number-position:left;\n\ttext-inde=\r\nnt:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:l=\r\nevel6\n\t{mso-level-number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-t=\r\nab-stop:216.0pt;\n\tmso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tms=\r\no-ansi-font-size:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:level7\n\t{mso-lev=\r\nel-number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:252.0pt=\r\n;\n\tmso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-siz=\r\ne:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:level8\n\t{mso-level-number-forma=\r\nt:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:288.0pt;\n\tmso-level-nu=\r\nmber-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont=\r\n-family:Wingdings;}\n@list l0:level9\n\t{mso-level-number-format:bullet;\n\tmso-=\r\nlevel-text:&#92;F0A7;\n\tmso-level-tab-stop:324.0pt;\n\tmso-level-number-position:l=\r\neft;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:Wingdin=\r\ngs;}\nol\n\t{margin-bottom:0cm;}\nul\n\t{margin-bottom:0cm;}\n--&gt;&lt;/style&gt;&lt;!--[if g=\r\nte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapedefaults v:ext=3D&quot;edit&quot; spidmax=3D&quot;1026&quot; /&gt;\n&lt;/xml&gt;&lt;=\r\n![endif]--&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapelayout v:ext=3D&quot;edit&quot;&gt;\n&lt;o:idmap=\r\n v:ext=3D&quot;edit&quot; data=3D&quot;1&quot; /&gt;\n&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;\n&lt;/head&gt;\n&lt;b=\r\nody bgcolor=3D&quot;white&quot; lang=3D&quot;IS&quot; link=3D&quot;blue&quot; vlink=3D&quot;purple&quot;&gt;\n&lt;div clas=\r\ns=3D&quot;WordSection1&quot;&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;fo=\r\nnt-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color=\r\n:#1F497D&quot;&gt;&gt;\n&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:=\r\n#1F497D&quot;&gt;-Djava.net.preferIPv4Stack=3Dtrue&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot; style=\r\n=3D&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;=\r\n;color:#1F497D&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D=\r\n&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;san=\r\ns-serif&quot;;color:#1F497D&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNo=\r\nrmal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;font-family:&quot;Cali=\r\nbri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;Yes, I&#8216;ll try that.&lt;o=\r\n:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:aut=\r\no;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0p=\r\nt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&gt=\r\n;\n&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;Are =\r\nthe affected URLs consistently associated with the same host, or does the p=\r\nroblem appear for totally different URLs each time?&lt;/span&gt;&lt;span lang=3D&quot;EN-=\r\nUS&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; styl=\r\ne=3D&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot=\r\n;;color:#1F497D&quot;&gt;Some hosts are unaffected, others are heavily affected, bu=\r\nt none are\n&lt;i&gt;consistently&lt;/i&gt; affected (i.e. every URL fails).&lt;o:p&gt;&lt;/o:p&gt;&lt;=\r\n/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:1=\r\n1.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;=\r\n&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; s=\r\ntyle=3D&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&q=\r\nuot;;color:#1F497D&quot;&gt;I have made a variant of H3 that logs this exception in=\r\nstead of swallowing it. I&#8217;ll use it when I rerun this with the IPv4 s=\r\netting you suggested.\n If that doesn&#8217;t fix the issue, at least I may =\r\nget something more useful than &#8220;-2&#8221;.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p c=\r\nlass=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;font-fami=\r\nly:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o=\r\n:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-si=\r\nze:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F4=\r\n97D&quot;&gt;Thanks Andy.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=\r\n=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;=\r\nsans-serif&quot;;color:#1F497D&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;Ms=\r\noNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;font-family:&quot;C=\r\nalibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;- Kris&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;=\r\n&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;=\r\nfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&quot;&gt;&lt;o:p&gt;=\r\n&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;table border=3D&quot;0&quot;&gt;\n&lt;tbody&gt;\n&lt;tr style=3D&quot;T=\r\nEXT-DECORATION: &quot;&gt;\n&lt;td colspan=3D&quot;2&quot;&gt;&lt;img id=3D&quot;IMG1&quot; border=3D&quot;0&quot; src=3D&quot;c=\r\nid:company2&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr style=3D&quot;TEXT-DECORATION: &quot;&gt;\n&lt;td align=3D&quot;cent=\r\ner&quot;&gt;&lt;img id=3D&quot;IMG1&quot; border=3D&quot;0&quot; src=3D&quot;cid:lbs_logo_litid_sig&quot;&gt;&lt;/td&gt;\n&lt;td&gt;=\r\n\n&lt;table border=3D&quot;0&quot;&gt;\n&lt;tbody&gt;\n&lt;tr style=3D&quot;TEXT-DECORATION: &quot;&gt;\n&lt;td&gt;&lt;font st=\r\nyle=3D&quot;FONT-SIZE: 10pt&quot; color=3D&quot;#4b4b4b&quot; face=3D&quot;Calibri&quot; family=3D&quot;calibr=\r\ni&quot;&gt;Landsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 -=\r\n 107 Reykjav=EDk&lt;/font&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr style=3D&quot;TEXT-DECORATION: &quot;&gt;\n&lt;td&gt;&lt;fo=\r\nnt style=3D&quot;FONT-SIZE: 8pt&quot; color=3D&quot;#4b4b4b&quot; family=3D&quot;calibri&quot;&gt;&lt;font styl=\r\ne=3D&quot;FONT-SIZE: 10pt&quot; face=3D&quot;Calibri&quot;&gt;S=EDmi/Tel: &#43;354 5255600 |\n&lt;/fon=\r\nt&gt;&lt;a href=3D&quot;http://landsbokasafn.is/&quot;&gt;&lt;font style=3D&quot;FONT-SIZE: 10pt&quot; face=\r\n=3D&quot;Calibri&quot;&gt;www.landsbokasafn.is&lt;/font&gt;&lt;/a&gt;&lt;/font&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr style=3D=\r\n&quot;TEXT-DECORATION: &quot;&gt;\n&lt;td&gt;&lt;font style=3D&quot;FONT-SIZE: 8pt&quot; face=3D&quot;Calibri&quot;&gt;&lt;f=\r\nont style=3D&quot;FONT-SIZE: 8pt&quot;&gt;&lt;font style=3D&quot;FONT-SIZE: 8pt&quot; color=3D&quot;#4b4b4=\r\nb&quot; family=3D&quot;calibri&quot;&gt;Leiddu hugann a=F0\n&lt;/font&gt;&lt;font style=3D&quot;FONT-SIZE: 8=\r\npt&quot; color=3D&quot;green&quot; family=3D&quot;calibri&quot;&gt;umhverfinu&lt;/font&gt;\n&lt;font style=3D&quot;FON=\r\nT-SIZE: 8pt&quot; color=3D&quot;#4b4b4b&quot; family=3D&quot;calibri&quot;&gt;=E1=F0ur en =FE=FA prenta=\r\nr =FAt t=F6lvup=F3st\n&lt;img border=3D&quot;0&quot; hspace=3D&quot;0&quot; src=3D&quot;cid:greentree&quot;&gt;&lt;=\r\n/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr style=3D&quot;=\r\nTEXT-DECORATION: &quot;&gt;\n&lt;td colspan=3D&quot;2&quot;&gt;&lt;font style=3D&quot;FONT-SIZE: 8pt&quot;&gt;&lt;img i=\r\nd=3D&quot;IMG1&quot; border=3D&quot;0&quot; src=3D&quot;cid:company2670718827.&quot; width=3D&quot;595&quot; height=\r\n=3D&quot;4&quot;&gt;&lt;br&gt;\n&lt;/font&gt;\n&lt;center&gt;&lt;a href=3D&quot;http://fyrirvari.landsbokasafn.is&quot;&gt;&lt;=\r\nfont style=3D&quot;FONT-SIZE: 8pt&quot; color=3D&quot;#4b4b4b&quot; face=3D&quot;Calibri&quot; family=3D&quot;=\r\ncalibri&quot;&gt;Fyrirvari / Disclaimer&lt;/font&gt;&lt;/a&gt;&lt;/center&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/=\r\ntable&gt;\n&lt;br&gt;\n&lt;div style=3D&quot;border:none;border-left:solid blue 1.5pt;padding:=\r\n0cm 0cm 0cm 4.0pt&quot;&gt;\n&lt;div&gt;\n&lt;div style=3D&quot;border:none;border-top:solid #B5C4D=\r\nF 1.0pt;padding:3.0pt 0cm 0cm 0cm&quot;&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span lang=3D=\r\n&quot;EN-US&quot; style=3D&quot;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans=\r\n-serif&quot;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:10.0p=\r\nt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&quot;&gt; archive-crawler@y=\r\nahoogroups.com [mailto:archive-crawler@yahoogroups.com]\n&lt;b&gt;On Behalf Of &lt;/b=\r\n&gt;Jackson, Andrew&lt;br&gt;\n&lt;b&gt;Sent:&lt;/b&gt; 11. j=FAl=ED 2013 13:44&lt;br&gt;\n&lt;b&gt;To:&lt;/b&gt; ar=\r\nchive-crawler@yahoogroups.com&lt;br&gt;\n&lt;b&gt;Subject:&lt;/b&gt; RE: [archive-crawler] Int=\r\nermittent issue running Heritrix with Java 7&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;=\r\n/div&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;=\r\n/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&nbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/=\r\np&gt;\n&lt;div id=3D&quot;ygrp-mlmsg&quot;&gt;\n&lt;div id=3D&quot;ygrp-msg&quot;&gt;\n&lt;div id=3D&quot;ygrp-text&quot;&gt;\n&lt;di=\r\nv&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-botto=\r\nm-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;H=\r\ni Kris,&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNo=\r\nrmal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span la=\r\nng=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span la=\r\nng=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-mar=\r\ngin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;=\r\nfont-size:11.0pt;color:#1F497D&quot;&gt;Bit of a long shot, but could you try runni=\r\nng under Java 7 but also setting it up to use IPv4 using:&lt;/span&gt;&lt;span lang=\r\n=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margi=\r\nn-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;fo=\r\nnt-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;=\r\n&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-mar=\r\ngin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#=\r\n1F497D&quot;&gt;-Djava.net.preferIPv4Stack=3Dtrue&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;=\r\n/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;ms=\r\no-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;co=\r\nlor:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p cl=\r\nass=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:au=\r\nto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;I&#8217;v=\r\ne seen some notes about possible issues with the Java 7 IPv6 implementation=\r\n, but it&#8217;s a bit tenuous.&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/spa=\r\nn&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-b=\r\nottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497=\r\nD&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;Mso=\r\nNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span =\r\nlang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;Are the affected UR=\r\nLs consistently associated with the same host, or does the problem appear f=\r\nor totally different URLs\n each time?&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p=\r\n&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-ma=\r\nrgin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:=\r\n#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=\r\n=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;=\r\n&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;Digging into=\r\n the code, it seems that error code is only raised here:&lt;/span&gt;&lt;span lang=\r\n=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margi=\r\nn-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;fo=\r\nnt-size:11.0pt;color:#1F497D&quot;&gt;&lt;a href=3D&quot;https://github.com/internetarchive=\r\n/heritrix3/blob/master/modules/src/main/java/org/archive/modules/fetcher/Fe=\r\ntchHTTP.java#L887&quot;&gt;https://github.com/internetarchive/heritrix3/blob/master=\r\n/modules/src/main/java/org/archive/modules/fetcher/FetchHTTP.java#L887&lt;/a&gt;\n=\r\n&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; s=\r\ntyle=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;E=\r\nN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;E=\r\nN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top=\r\n-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-si=\r\nze:11.0pt;color:#1F497D&quot;&gt;Which is only called from here:&lt;/span&gt;&lt;span lang=\r\n=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margi=\r\nn-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;fo=\r\nnt-size:11.0pt;color:#1F497D&quot;&gt;&lt;a href=3D&quot;https://github.com/internetarchive=\r\n/heritrix3/blob/master/modules/src/main/java/org/archive/modules/fetcher/Fe=\r\ntchHTTP.java#L663&quot;&gt;https://github.com/internetarchive/heritrix3/blob/master=\r\n/modules/src/main/java/org/archive/modules/fetcher/FetchHTTP.java#L663&lt;/a&gt;&lt;=\r\n/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; st=\r\nyle=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN=\r\n-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN=\r\n-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-=\r\nalt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-siz=\r\ne:11.0pt;color:#1F497D&quot;&gt;i.e. under Linux, this should only happen when HTTP=\r\nClient.execute throws and IOException, variations of which are listed\n on t=\r\nhis page:&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;Mso=\r\nNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span =\r\nlang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span =\r\nlang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-m=\r\nargin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=\r\n=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&lt;a href=3D&quot;http://hc.apache.org/httpcli=\r\nent-legacy/exception-handling.html#Transport_exceptions&quot;&gt;http://hc.apache.o=\r\nrg/httpclient-legacy/exception-handling.html#Transport_exceptions&lt;/a&gt;&lt;/span=\r\n&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=\r\n=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US=\r\n&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US=\r\n&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt=\r\n:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:1=\r\n1.0pt;color:#1F497D&quot;&gt;It looks like H3 is swallowing the original exception,=\r\n making it difficult to debug as it&#8217;s not clear what kind of IOExcept=\r\nion\n is being thrown.&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p =\r\nclass=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:=\r\nauto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;=\r\n/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; st=\r\nyle=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN=\r\n-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;Hope that helps.&lt;/span&gt;&lt;span =\r\nlang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-m=\r\nargin-top-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=\r\n=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;=\r\n&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;m=\r\nso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;c=\r\nolor:#1F497D&quot;&gt;Andy&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p cla=\r\nss=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:aut=\r\no&quot;&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:11.0pt;color:#1F497D&quot;&gt;&nbsp;&lt;/sp=\r\nan&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;div style=3D&quot;border:none;bo=\r\nrder-left:solid blue 1.5pt;padding:0cm 0cm 0cm 0cm&quot;&gt;\n&lt;div&gt;\n&lt;div style=3D&quot;bo=\r\nrder:none;border-top:solid #B5C4DF 1.0pt;padding:0cm 0cm 0cm 0cm&quot;&gt;\n&lt;p class=\r\n=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto&quot;=\r\n&gt;&lt;b&gt;&lt;span lang=3D&quot;EN-US&quot; style=3D&quot;font-size:10.0pt&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span l=\r\nang=3D&quot;EN-US&quot; style=3D&quot;font-size:10.0pt&quot;&gt;\n&lt;a href=3D&quot;mailto:archive-crawler=\r\n@yahoogroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt; [&lt;a href=3D&quot;mailto:ar=\r\nchive-crawler@yahoogroups.com&quot;&gt;mailto:archive-crawler@yahoogroups.com&lt;/a&gt;]\n=\r\n&lt;b&gt;On Behalf Of &lt;/b&gt;Kristinn Sigur=F0sson&lt;br&gt;\n&lt;b&gt;Sent:&lt;/b&gt; 10 July 2013 16:=\r\n56&lt;br&gt;\n&lt;b&gt;To:&lt;/b&gt; &lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;archiv=\r\ne-crawler@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;b&gt;Subject:&lt;/b&gt; [archive-crawler] Intermi=\r\nttent issue running Heritrix with Java 7&lt;/span&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&lt;o:p&gt;&lt;/=\r\no:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-to=\r\np-alt:auto;mso-margin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&nbsp;&lt;o:p&gt;&lt;/o:=\r\np&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;mso-margin-top-alt:auto;mso-m=\r\nargin-bottom-alt:auto&quot;&gt;&lt;span lang=3D&quot;EN-US&quot;&gt;&nbsp;\n&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;=\r\ndiv id=3D&quot;ygrp-mlmsg&quot;&gt;\n&lt;div id=3D&quot;ygrp-msg&quot;&gt;\n&lt;div id=3D&quot;ygrp-text&quot;&gt;\n&lt;p&gt;&lt;spa=\r\nn lang=3D&quot;EN-US&quot;&gt;I was running a broad crawl (20&#43; thousand seeds) using=\r\n the latest SNAPSHOT build of Heritrix (3.1.2-20130625) when I noticed that=\r\n one of our big blogging site wasn&#39;t making much progress.&lt;br&gt;\n&lt;br&gt;\nAs it t=\r\nurned out it was making intermittent progress and then hitting large stretc=\r\nhes of time where every fetch attempt ended with a -2 (connect fail).&lt;br&gt;\n&lt;=\r\nbr&gt;\nMy initial thought was that we were being blocked by the website, but t=\r\nhat did not turn out to be the case. Additional inspection of the crawl log=\r\n revealed that during a 20&#43; million URL crawl over 14 thousand URLs had=\r\n errored out with a -2. I compared this\n with our most recent comparable cr=\r\nawl and for that the number was 60 URLs out of 40&#43; million. Clearly the=\r\nre was a problem with the crawler.&lt;br&gt;\n&lt;br&gt;\nWhile some domains were affect =\r\nand other not, I could not deduce any pattern as to what domains or URLs th=\r\nis affected.&lt;br&gt;\n&lt;br&gt;\nMy second assumption then was that this was due to me=\r\n running a SNAPSHOT build. So I put 3.1.0-RC1 (which I had used for the pre=\r\nvious crawl) into play on the same machine. The issue reoccurred. -2 errors=\r\n began showing up in the crawl log about 2 hours in (exactly\n when the 500 =\r\nsecond wait times between 15 retries period had passed). This is not a regr=\r\nession in Heritrix.&lt;br&gt;\n&lt;br&gt;\nThat left two variables. The fact that I was r=\r\nunning on new hardware and that I had upgraded from Java 6 to 7 (1.7.0_25-b=\r\n15 to be exact).&lt;br&gt;\n&lt;br&gt;\nI then installed Java 1.6.0-b105 and tried the cr=\r\nawl a third time (again using the SNAPSHOT build), shortening the retry wai=\r\nt interval from 500 seconds to 50. I figured this could only make the issue=\r\n worse and would mean that it could manifest in as little\n as 15 minutes, i=\r\nnstead of 2 hours.&lt;br&gt;\n&lt;br&gt;\nNow 5.5 hours in there are no sign of URLs with=\r\n inexplicable -2 status codes. It seems the issue IS related to the Java ve=\r\nrsion.&lt;br&gt;\n&lt;br&gt;\nHas anyone encountered this? Any ideas on cause or how this=\r\n could be remedied? For now, just using an older version of Java will fix t=\r\nhe issue, but that isn&#39;t a long term solution.&lt;br&gt;\n&lt;br&gt;\n- Kris&lt;br&gt;\n&lt;br&gt;\n---=\r\n-------------------------------------------------------&lt;br&gt;\nLandsb=F3kasafn=\r\n =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Reykjav=EDk&lt;b=\r\nr&gt;\nS=EDmi/Tel: &#43;354 5255600 | &lt;a href=3D&quot;http://www.landsbokasafn.is&quot;&gt;w=\r\nww.landsbokasafn.is&lt;/a&gt;&lt;br&gt;\n-----------------------------------------------=\r\n-----------&lt;br&gt;\nfyrirvari/disclaimer - &lt;a href=3D&quot;http://fyrirvari.landsbok=\r\nasafn.is&quot;&gt;http://fyrirvari.landsbokasafn.is&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;/div=\r\n&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;p class=3D&quot;MsoNormal&quot;&gt;&lt;span lan=\r\ng=3D&quot;EN-US&quot; style=3D&quot;color:white&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/di=\r\nv&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\r\n--_000_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_--\r\n\n\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: image/jpeg; name=&quot;company2&quot;\r\nContent-Description: company2\r\nContent-Disposition: inline; filename=&quot;company2&quot;; size=23481;\n\tcreation-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;;\n\tmodification-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;\r\nContent-ID: &lt;company2&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: image/png; name=&quot;lbs_logo_litid_sig&quot;\r\nContent-Description: lbs_logo_litid_sig\r\nContent-Disposition: inline; filename=&quot;lbs_logo_litid_sig&quot;; size=5030;\n\tcreation-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;;\n\tmodification-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;\r\nContent-ID: &lt;lbs_logo_litid_sig&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: image/png; name=&quot;greentree&quot;\r\nContent-Description: greentree\r\nContent-Disposition: inline; filename=&quot;greentree&quot;; size=385;\n\tcreation-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;;\n\tmodification-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;\r\nContent-ID: &lt;greentree&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_\r\nContent-Type: image/jpeg; name=&quot;company2670718827&quot;\r\nContent-Description: company2670718827\r\nContent-Disposition: inline; filename=&quot;company2670718827&quot;; size=23481;\n\tcreation-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;;\n\tmodification-date=&quot;Thu, 11 Jul 2013 16:17:02 GMT&quot;\r\nContent-ID: &lt;company2670718827.&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--_007_E486D93E372D8C4282E8DF078392F12D9E6BE5blikibokhladaloca_--\r\n\n"}}