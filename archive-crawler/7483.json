{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"kxV45a5SZA8bOn0okyRTUyPI2VsKmMzOwgOnySkSJ9QJPrAFkgKIk7z-iVyTQjNooyMCJz-tZn24kINLQdb8piq-03QvM5M","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Problem in crawler with downloading files","postDate":"1324670048","msgId":7483,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFRjREQzYwLjYwOTAxMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGpkMjFkditsMjRtQGVHcm91cHMuY29tPg==","referencesHeader":"PGpkMjFkditsMjRtQGVHcm91cHMuY29tPg=="},"prevInTopic":7481,"nextInTopic":0,"prevInTime":7482,"nextInTime":7484,"topicId":7466,"numMessagesInTopic":3,"msgSnippet":"The MirrorWriterProcessor is an external contribution not used on IA s crawls so if it is part of the issue, I m not familiar with its operation. The two main","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 61658 invoked from network); 23 Dec 2011 19:54:11 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m5.grp.sp2.yahoo.com with QMQP; 23 Dec 2011 19:54:11 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta2.grp.sp2.yahoo.com with SMTP; 23 Dec 2011 19:54:11 -0000\r\nX-Received: (qmail 25842 invoked by uid 0); 23 Dec 2011 19:54:09 -0000\r\nX-Received: from 64.81.246.146 (HELO silverbook.local) (64.81.246.146)\n  by relay01.pair.com with SMTP; 23 Dec 2011 19:54:09 -0000\r\nX-pair-Authenticated: 64.81.246.146\r\nMessage-ID: &lt;4EF4DC60.6090109@...&gt;\r\nDate: Fri, 23 Dec 2011 11:54:08 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:8.0) Gecko/20111105 Thunderbird/8.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;jd21dv+l24m@...&gt;\r\nIn-Reply-To: &lt;jd21dv+l24m@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Problem in crawler with downloading files\r\nX-Yahoo-Group-Post: member; u=137285340; y=IV1kOmlZOPH-VLchOMOKkPesbg9c7tm1Deji70FZUzkc\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe MirrorWriterProcessor is an external contribution not used on IA&#39;s \ncrawls so if it is part of the issue, I&#39;m not familiar with its operation.\n\nThe two main possibilities are: the download was broken mid-stream (in \nwhich case there would normally be some error logged and an automatic \nretry of the complete fetch), or the fetch completed and writing was \ninterrupted (in which case I would also expect some error to be shown \nsomewhere).\n\nYou can set a maximum-length for downloads, and in such cases Heritrix \nwill truncate the resource at that size and write what it retrieved \n(with a special annotation in the crawl.log and WARC-record), but unless \nyou&#39;ve intentionally set that option exactly to the shortened-size \nyou&#39;re seeing, it&#39;s not the cause.\n\nHere are the things I&#39;d check:\n\n� do the same URIs show the exact same truncation on subsequent crawls, \nor is the problem intermittent and truncation-size variable? (If it&#39;s \nnot reproduceable each recrawl, it&#39;s more likely a network or \nremote-server issue.)\n\n� does moving to a different internet connection help? (I&#39;ve \noccasionally seen routing/packet-fragmentation configuration problems \nwhich lead to certain HTTP fetch connections dying, repeatedly, at the \nsame place, from a particular OS/connection � while other HTTP fetches, \nor different OS or internet connections, have no problems.)\n\n� does the crawl.log show a 200 response for the URI and size \ncorresponding with the expected full size?\n\n� are there any errors referencing the URI, or around the time it was \nfetched, in heritrix_out.log, the runtime-errors.log, or \nnonfatal-errors.log?\n\n� if the headers of the server&#39;s response are available (and \nMirrorWriterProcessor may not preserve them), do the affected responses \nhave a &#39;Content-Length&#39; header or declare a &#39;Transfer-Encoding&#39;? (The \nabsence of Content-Length or presence of Transfer-Encoding change how \nthe length of a response is interpreted so could be relevant with some \nservers or server/network-related issues.)\n\n- Gordon\n\n\nOn 12/23/11 5:58 AM, crawltst wrote:\n&gt; No idea?\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, &quot;crawltst&quot;&lt;crawltst@...&gt;  wrote:\n&gt;&gt;\n&gt;&gt; Hi\n&gt;&gt; I configured Heritrix 3.1 to crawl some seed urls and store some pdf\n&gt;&gt; files using MirrorWriterProcessor.\n&gt;&gt; It works, crawls and finds files correctly but when it want to save\n&gt;&gt; them, some of files are not downloaded completely!\n&gt;&gt; for example it found a 9.7MB PDF file but downloaded only 2.3MB !\n&gt;&gt; Is there any limitation or setting that I missed?\n&gt;&gt; does heritrix re-queue these partially downloaded files(In my point of\n&gt;&gt; view FAILED) to download (or resume) later?\n&gt;&gt;\n&gt;&gt; thanks\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}