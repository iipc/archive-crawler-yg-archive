{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":476753605,"authorName":"HONGYING YI","from":"HONGYING YI &lt;y195322@...&gt;","profile":"y195322","replyTo":"LIST","senderId":"-eOx8vcPre9O_xIS8DDJiRmXJtRMj6mfbh7AfeRXhcB0oL9UQKTr3qnhJL83Tr1a4BzyufqXB9Oj-_pJfX4cVyDNEYTL9p-CVQ","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re-discover links","postDate":"1302720022","msgId":7103,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU4NDI4My44MTY1OC5xbUB3ZWIxNTkwNC5tYWlsLmNuYi55YWhvby5jb20+","inReplyToHeader":"PDREOTRGNTBELjkwMDAwMDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":7076,"nextInTopic":0,"prevInTime":7102,"nextInTime":7104,"topicId":7044,"numMessagesInTopic":11,"msgSnippet":"Hi Gordon, Thanks for your reply! When I extracted the outlinks from WARC metadata record, I got the links as the following: ","rawEmail":"Return-Path: &lt;y195322@...&gt;\r\nX-Sender: y195322@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 39711 invoked from network); 13 Apr 2011 18:40:26 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m17.grp.re1.yahoo.com with QMQP; 13 Apr 2011 18:40:26 -0000\r\nX-Received: from unknown (HELO web15904.mail.cnb.yahoo.com) (202.165.103.49)\n  by mta3.grp.re1.yahoo.com with SMTP; 13 Apr 2011 18:40:24 -0000\r\nX-Received: (qmail 96224 invoked by uid 60001); 13 Apr 2011 18:40:22 -0000\r\nMessage-ID: &lt;584283.81658.qm@...&gt;\r\nX-YMail-OSG: O76yqLkVM1lzg4Rw9tJVwzrHWG43nReii1ADXLwcoNiLJOY\n zXRO8PF8MXISHxQKFI8BR9TMC2nfKkTw47_Ik1ayOgX4rt3F5465rl85xvKY\n hS251rAY1s0SM0E7xf6SIT9p.gq_NyVUpPKXZ2do88dpU_XrSSXMqwrlS1fi\n vyVgzv3Ihgn6GkL3DIQMhuxapTAGdg0nlf8ijEhrdpNUPbIdUwdcSs0LGIii\n BKN.qEK_Xyg7uzqIDI6VGuzOQW53UgjjLSF0zIBaq8gmd.e8qMqohXwJi2Yc\n NniJ3_ZFbLlq43h5ivWxr2s2y8bQ4S9f7wavlABZjgv7wNbntF3HqcdecPex\n Fw0Dh65hs4mhvS9yODzT2PjfcPZeTFD8tB_9lRliGug--\r\nX-Received: from [64.236.138.1] by web15904.mail.cnb.yahoo.com via HTTP; Thu, 14 Apr 2011 02:40:22 CST\r\nX-Mailer: YahooMailClassic/12.0.2 YahooMailWebService/0.8.109.295617\r\nDate: Thu, 14 Apr 2011 02:40:22 +0800 (CST)\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;4D94F50D.9000002@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-1651325173-1302720022=:81658&quot;\r\nFrom: HONGYING YI &lt;y195322@...&gt;\r\nSubject: Re: [archive-crawler] Re-discover links\r\nX-Yahoo-Group-Post: member; u=476753605; y=UgUuZeOVFUxxUYV-g4wDBoz4B6VTKVXwfUBNULJVFy6zxg\r\nX-Yahoo-Profile: y195322\r\n\r\n\r\n--0-1651325173-1302720022=:81658\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Gordon,\n\nThanks for your reply!\n\nWhen I extracted the outlinks from WARC=\r\n &#39;metadata&#39; record, I got the links as the following:\n\nhttp://www.games.com=\r\n/hub/solitaire/us.games\nhttp://www.games.com/hub/solitaire/js/mg2.js\nhttp:/=\r\n/www.games.com/hub/solitaire/a.morph\n..\n\nAll the above links are broken. Do=\r\n you know why they are there, and how I can exclude them in the data? Will =\r\nit help if I remove some Extractors, such as &#39;org.archive.crawler.extractor=\r\n.ExtractorJS&#39;?\n\nThanks!\n\nRegards.\n=C2=A0\n\n\n--- 11=E5=B9=B44=E6=9C=881=E6=97=\r\n=A5=EF=BC=8C=E5=91=A8=E4=BA=94, Gordon Mohr &lt;gojomo@...&gt; =E5=86=99=\r\n=E9=81=93=EF=BC=9A\n\n=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@archiv=\r\ne.org&gt;\n=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n=E6=94=\r\n=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...&gt;\n=E6=8A=84=E9=80=\r\n=81: archive-crawler@yahoogroups.com\n=E6=97=A5=E6=9C=9F: 2011=E5=B9=B44=E6=\r\n=9C=881=E6=97=A5,=E5=91=A8=E4=BA=94,=E4=B8=8A=E5=8D=885:41\n\nThe Heritrix me=\r\nchanisms for defining rules for which URIs are of \ninterest or not are all =\r\npart of the &quot;Scope&quot; mechanism and &quot;DecideRules&quot;.\n\nThe rules are usually app=\r\nlied only to determine whether a URI should be \noffered to the &quot;Frontier&quot; o=\r\nf URIs waiting to be crawled. (They can also \nbe applied in a few other pla=\r\nces to enable/disable certain processing \nsteps.)\n\nEven when we set rules t=\r\no prevent certain URIs from being crawled, we \nwant a log of their discover=\r\ny in the WARC &#39;metadata&#39; record. (This is \nvaluable for later analysis, and=\r\n often for determining what future \nexpansions of defined scope would be su=\r\nitable.) So there is no \nmechanism, nor do I foresee one, that would limit =\r\nwhich outlinks are \nsaved as metadata. I suggest you write your apply your =\r\nown filters as a \nlater step outside Heritrix (perhaps reusing some of its =\r\ncode as model, \nif it&#39;s helpful).\n\n- Gordon @ IA\n\n\nOn 3/28/11 4:32 PM, HONG=\r\nYING YI wrote:\n&gt; Hi Gordon,\n&gt; Thanks a lot! I was able to get all the outli=\r\nnks for each page on some\n&gt; domians following your suggestions.\n&gt; For my an=\r\nalysis, I also want to:\n&gt; (1) exclude URLs which do not belong to specified=\r\n domains, e.g.\n&gt; &#39;yahoo.com&#39;;\n&gt; (2) excluded URLs containing a &#39;?&#39;;\n&gt; (3) r=\r\nemove .js files or other URLs which do not represent hypertext\n&gt; content (e=\r\n.g., images, postscript and other data types), as they\n&gt; represent leaf nod=\r\neswithout outlinks.\n&gt; I know I can do some parsing of the meta data to get =\r\nrid of those URLs,\n&gt; but I&#39;m wondering whether there are any configuration =\r\nsettings to\n&gt; exclude those URLs in Heritrix?\n&gt; Thanks again!\n&gt;\n&gt;\n&gt; --- *11=\r\n=E5=B9=B43=E6=9C=8819=E6=97=A5=EF=BC=8C=E5=91=A8=E5=85=AD, Gordon Mohr /&lt;go=\r\njomo@...&gt;/* =E5=86=99=E9=81=93=EF=BC=9A\n&gt;\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=\r\n=A0=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;\n&gt;=C2=A0 =\r\n=C2=A0=C2=A0=C2=A0=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover lin=\r\nks\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;y1=\r\n95322@...&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=8A=84=E9=80=81: archive-c=\r\nrawler@yahoogroups.com\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E6=97=A5=E6=9C=9F: 2011=\r\n=E5=B9=B43=E6=9C=8819=E6=97=A5,=E5=91=A8=E5=85=AD,=E4=B8=8A=E5=8D=8810:14\n&gt;=\r\n\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Both Heritrix 1.14.4 and Heritrix 3.0.0 include =\r\nthe WARCWriterProcessor\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0as an alternative way to =\r\nwrite crawled content.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0in both versions, if you=\r\n use the WARCWriterProcessor, then &#39;metadata&#39;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0rec=\r\nords that include outlinks will be written alongside the other\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0content.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0So you don&#39;t need to up=\r\ngrade just to get the outlinks written to a file\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=\r\nduring crawling.\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0If having the outlinks listed =\r\nin the WARC file is not enough, then you\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0can writ=\r\ne your own code that processes the oulinks in some other way. I\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0think adding your own modules is a little easier in Heritrix=\r\n 3, but is\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0just as possible in Heritrix 1.14.4.\n&gt;=\r\n\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0- Gordon @ IA\n&gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0On 3/9=\r\n/11 1:51 PM, HONGYING YI wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Hi Gordon,\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; Thanks for your informative reply!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =\r\nI am using Heritrix 1.14.4 now. For WARCWriterProcessor, if I\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0still use\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Heritrix 1.14.4, it seems =\r\nthat I will need to make some changes\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0in the\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; source codes. If I upgrade it to Heritrix 3, then I can=\r\n get all the\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; outlinks in the data without making ch=\r\nanges to the source codes.\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0Is that\n&gt;=C2=A0 =C2=A0=\r\n =C2=A0 &gt; correct?\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n=\r\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; --- *11=E5=B9=B43=E6=9C=883=\r\n=E6=97=A5=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordon Mohr /&lt;gojomo@...\n&gt;=C2=\r\n=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojom=\r\no@...&gt;&gt;/*\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=E5=86=99=E9=81=93=EF=BC=9A\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E5=\r\n=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...\n&gt;=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...=\r\n&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-dis=\r\ncover links\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING =\r\nYI&quot; &lt;y195322@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.y=\r\nahoo.com/mc/compose?to=3Dy195322@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=\r\n=8A=84=E9=80=81: archive-crawler@yahoogroups.com\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0=\r\n&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups=\r\n.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=883=\r\n=E6=97=A5,=E5=91=A8=E5=9B=9B,=E4=B8=8A=E5=8D=889:35\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;=\r\n\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; On 3/2/11 3:47 PM, HONGYING YI wrote:\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt; Hi Gordon,\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;=\r\n &gt; Thanks for your reply!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;=\r\n &gt; I&#39;m still a little confused. Are all the outlinks of a URI logged\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; in the\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; crawl.log whether or n=\r\not those outlinks have already been\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0discovered?\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Outlinks (specifically outli=\r\nnks) are not logged to crawl.log. The\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; crawl.log is =\r\na log of *completed* URIs. So to appear in crawl.log, a\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; URI has to:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; (1) be di=\r\nscovered (as a seed or outlink from elsewhere); then...\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; (2) pass scoping rules, so that it is enqueued to be fetched; then...=\r\n\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; (3) either be successfully fetched, or suffer defi=\r\nnitive failure\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; (certain errors from the server or n=\r\no-success after many retries).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; This crawl.log logging happens arbitrarily long after the URI was\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; first discovered. (The URI might be waiting in a que=\r\nue for its\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; chance to be crawled for hours, days, we=\r\neks, months.)\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; In a typical =\r\nsnapshot crawl, most normal URIs are only fetched once,\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; so they only appear in the crawl.log once. (The &#39;via&#39; URI that is\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; shown later on the crawl.log line is the one other U=\r\nRI from which it\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; was specifically discovered first,=\r\n even though it may have later\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; been found many time=\r\ns.)\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; (URIs which must be ret=\r\nried to refresh our knowledge, like DNS and\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; /robots=\r\n.txt, will be fetched and appear in crawl.log multiple times.\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; Also, there are certain non-standard ways you can force a URI =\r\nto be\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; refetched. But you wouldn&#39;t use those mechani=\r\nsms to achieve what I\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; believe is your goal, discove=\r\nring all the links to a page.)\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; I&#39;m not familiar with WARCWriterProcessor, could you explain more\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; on that?\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; In Heritrix 1.x releases, the default way to write web content was\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; the ARCWriterProcessor, which wrote HTTP responses t=\r\no long\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; transcript files called ARCs (with extension=\r\n .arc.gz). Since only\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; the raw content was written, =\r\nto get the outlinks again at a later\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; time, you&#39;d ne=\r\ned to parse the HTML again.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;=\r\n In Heritrix 3, a new &#39;WARC&#39; format is preferred, via the\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt; WARCWriterProcessor. While similar to the ARC format it has more\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; places for extra metadata. By default, it writes not=\r\n just the HTTP\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; response (like in ARC) but also the =\r\nexact HTTP request and an extra\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &#39;metadata&#39; record w=\r\nith a list of the outlinks that were discovered.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Ou=\r\ntlinks are listed here even if they did not pass scope-testing (so\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; would not be enqueued/fetched and thus would never appear i=\r\nn the\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; crawl.log).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; You can use WARCWriterProcessor in H1, also, by replacing t=\r\nhe\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; reference to ARCWriterProcessor with WARCWriterP=\r\nrocessor.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Even if you don&#39;t=\r\n want to use WARCWriterProcessor, you could look at\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;=\r\n its source code to see how it looks at the list of discovered\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; outlinks, and log them to someplace of your choosing, by writi=\r\nng\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; your own custom Processor code to plug into Heri=\r\ntrix.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; Hope this helps,\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; - Gordon @ IA\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=\r\n=A0 =C2=A0 =C2=A0 &gt; &gt; --- *11=E5=B9=B43=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=\r\n=A8=E4=BA=8C, Gordon Mohr /&lt;gojomo@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;h=\r\nttp://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@arch=\r\nive.org&gt;&gt;/*\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =E5=86=99=E9=81=93=EF=BC=9A\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E5=8F=\r\n=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&gt;\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojo=\r\nmo@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E4=B8=BB=E9=A2=98: Re: [archive=\r\n-crawler] Re-discover links\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E6=94=B6=E4=BB=B6=E4=\r\n=BA=BA: &quot;HONGYING YI&quot; &lt;y195322@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http=\r\n://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@yah=\r\noo.com.cn&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E6=8A=84=E9=80=81: archive-crawler@y=\r\nahoogroups.com\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc=\r\n/compose?to=3Darchive-crawler@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=\r\n=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchi=\r\nve-crawler@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E6=97=A5=E6=9C=9F: 2=\r\n011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=887:40\n=\r\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; All the outlinks discov=\r\nered from a URI are inside the CrawlURI\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0during\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; its processing, until it is finished (and logged i=\r\nn the crawl.log).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; If yo=\r\nu use the WARCWriterProcessor, they are part of the data\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; written in\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; the &#39;metadata&#39; record associat=\r\ned with the URI.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; Altern=\r\natively, you could insert your own custom processor to\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0log this\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; data somewhere else (using the WAR=\r\nCWriterProcessor&#39;s writeMetadata\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; method as a mode=\r\nl).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; In this way, you ca=\r\nn get the link data you want, without\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; revisiting th=\r\ne\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; same URLs many times (indeed infinitely via lin=\r\nk-loops!).\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; - Gordon @ I=\r\nA\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; On 2/28/11 3:16 PM, H=\r\nONGYING YI wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; Hi Gordon,\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; &gt; We want to know all the out-going links and in-coming links for\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; each\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; page, and in the ex=\r\nample, for aol.com, aolhealth.com is an\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; out-going\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; link for aol.com, and drugchecker.aolhealth.com =\r\nis an in-coming\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; link for\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; =\r\n&gt; &gt; aol.com. If the link from drugchecker.aolhealth.com to aol.com\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &gt; does not\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; show up, we will not=\r\n get all the in-coming links for aol.com. Is\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; ther=\r\ne\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; any way to retrieve that link? Can any config=\r\nuration setting\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0in the\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =\r\n&gt; crawl get round that?\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; Thanks!\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt; &gt; &gt; Yang\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; --- *11=E5=B9=B43=E6=\r\n=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;gojomo@archive.o=\r\nrg\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Dgojomo@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.yahoo.=\r\ncom/mc/compose?to=3Dgojomo@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =\r\n=C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@ar=\r\nchive.org&gt;&gt;/*\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =E5=86=99=E9=81=93=EF=BC=9A\n&gt;=C2=A0=\r\n =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; =\r\n&gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@archi=\r\nve.org&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;http://cn.mc159.mail.yahoo.com/mc/compose?=\r\nto=3Dgojomo@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &lt;http://cn.mc159.mail.ya=\r\nhoo.com/mc/compose?to=3Dgojomo@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; =\r\n=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links\n&gt;=C2=A0 =C2=A0 =\r\n=C2=A0 &gt; &gt; &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA: archive-crawler@yahoogroups.com\n&gt;=\r\n=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dar=\r\nchive-crawler@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0=C2=A0=\r\n=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoo=\r\ngroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=\r\n=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-craw=\r\nler@yahoogroups.com&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; =E6=8A=84=E9=80=81: &quot;y1953=\r\n22&quot; &lt;y195322@...\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.y=\r\nahoo.com/mc/compose?to=3Dy195322@...&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &lt;htt=\r\np://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&gt;\n&gt;=C2=A0 =\r\n=C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0&lt;http://cn.mc159.mail.yahoo.com=\r\n/mc/compose?to=3Dy195322@...&gt;&gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; =E6=97=\r\n=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=\r\n=8A=E5=8D=886:33\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; On=\r\n 2/28/11 10:20 AM, y195322 wrote:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt; Hi!We are d=\r\noing web crawling using Heritrix, and found one\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0i=\r\nssue\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; in that once a link has been &#39;discovered,&#39;=\r\n it won&#39;t be\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &#39;rediscovered.&#39; This means that if=\r\n we have something like:\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt; aol.com-&gt;aolhealth.c=\r\nom\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt; aolhealth.com-&gt;drugchecker.aolhealth.com\n&gt;=\r\n=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt; and if drugcheck=\r\ner.aolhealth.com links to aol.com, that\n&gt;=C2=A0 =C2=A0=C2=A0=C2=A0link will=\r\n\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; not show up in the file.\n&gt;=C2=A0 =C2=A0 =C2=A0=\r\n &gt; &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; &gt; Is there any way to fix this problem=\r\n? Thanks!\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; Usually a=\r\n single snapshot crawl only wants to retrieve each URL\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; &gt; once, so\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; this is by-design, rather th=\r\nan a problem.\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; Why d=\r\no you want to fetch aol.com twice in a single crawl? (Or\n&gt;=C2=A0 =C2=A0=C2=\r\n=A0=C2=A0am I\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; misunderstanding?)\n&gt;=C2=A0 =C2=A0=\r\n =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt; - Gordon @ IA\n&gt;=C2=A0 =C2=A0 =C2=\r\n=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=\r\n=A0 =C2=A0 &gt; &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;=C2=A0 =C2=A0 =C2=A0 &gt;\n&gt;\n\r\n--0-1651325173-1302720022=:81658\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;table cellspacing=3D&quot;0&quot; cellpadding=3D&quot;0&quot; border=3D&quot;0&quot; &gt;&lt;tr&gt;&lt;td valign=3D&quot;=\r\ntop&quot; style=3D&quot;font: inherit;&quot;&gt;Hi Gordon,&lt;br&gt;&lt;br&gt;Thanks for your reply!&lt;br&gt;&lt;=\r\nbr&gt;When I extracted the outlinks from WARC &#39;metadata&#39; record, I got the lin=\r\nks as the following:&lt;br&gt;&lt;br&gt;http://www.games.com/hub/solitaire/us.games&lt;br&gt;=\r\nhttp://www.games.com/hub/solitaire/js/mg2.js&lt;br&gt;http://www.games.com/hub/so=\r\nlitaire/a.morph&lt;br&gt;..&lt;br&gt;&lt;br&gt;All the above links are broken. Do you know wh=\r\ny they are there, and how I can exclude them in the data? Will it help if I=\r\n remove some Extractors, such as &#39;org.archive.crawler.extractor.ExtractorJS=\r\n&#39;?&lt;br&gt;&lt;br&gt;Thanks!&lt;br&gt;&lt;br&gt;Regards.&lt;br&gt;&nbsp;&lt;br&gt;&lt;br&gt;&lt;br&gt;--- &lt;b&gt;11=E5=B9=B44=\r\n=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=94, Gordon Mohr &lt;i&gt;&lt;gojomo@a=\r\nrchive.org&gt;&lt;/i&gt;&lt;/b&gt; =E5=86=99=E9=81=93=EF=BC=9A&lt;br&gt;&lt;blockquote style=3D&quot;=\r\nborder-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5p=\r\nx;&quot;&gt;&lt;br&gt;=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;gojomo@...&gt;=\r\n&lt;br&gt;=E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discover links&lt;br&gt;=E6=94=\r\n=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING\n YI&quot; &lt;y195322@...&gt;&lt;br&gt;=E6=\r\n=8A=84=E9=80=81: archive-crawler@yahoogroups.com&lt;br&gt;=E6=97=A5=E6=9C=9F: 201=\r\n1=E5=B9=B44=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=94,=E4=B8=8A=E5=8D=885:41&lt;br=\r\n&gt;&lt;br&gt;&lt;div class=3D&quot;plainMail&quot;&gt;The Heritrix mechanisms for defining rules fo=\r\nr which URIs are of &lt;br&gt;interest or not are all part of the &quot;Scope&quot; mechani=\r\nsm and &quot;DecideRules&quot;.&lt;br&gt;&lt;br&gt;The rules are usually applied only to determin=\r\ne whether a URI should be &lt;br&gt;offered to the &quot;Frontier&quot; of URIs waiting to =\r\nbe crawled. (They can also &lt;br&gt;be applied in a few other places to enable/d=\r\nisable certain processing &lt;br&gt;steps.)&lt;br&gt;&lt;br&gt;Even when we set rules to prev=\r\nent certain URIs from being crawled, we &lt;br&gt;want a log of their discovery i=\r\nn the WARC &#39;metadata&#39; record. (This is &lt;br&gt;valuable for later analysis, and=\r\n often for determining what future &lt;br&gt;expansions of defined scope would be=\r\n suitable.) So there is no &lt;br&gt;mechanism, nor do I foresee one, that would =\r\nlimit which outlinks are &lt;br&gt;saved as metadata. I suggest you write your ap=\r\nply your own filters\n as a &lt;br&gt;later step outside Heritrix (perhaps reusing=\r\n some of its code as model, &lt;br&gt;if it&#39;s helpful).&lt;br&gt;&lt;br&gt;- Gordon @ IA&lt;br&gt;&lt;=\r\nbr&gt;&lt;br&gt;On 3/28/11 4:32 PM, HONGYING YI wrote:&lt;br&gt;&gt; Hi Gordon,&lt;br&gt;&gt; Th=\r\nanks a lot! I was able to get all the outlinks for each page on some&lt;br&gt;&gt=\r\n; domians following your suggestions.&lt;br&gt;&gt; For my analysis, I also want =\r\nto:&lt;br&gt;&gt; (1) exclude URLs which do not belong to specified domains, e.g.=\r\n&lt;br&gt;&gt; &#39;yahoo.com&#39;;&lt;br&gt;&gt; (2) excluded URLs containing a &#39;?&#39;;&lt;br&gt;&gt; (=\r\n3) remove .js files or other URLs which do not represent hypertext&lt;br&gt;&gt; =\r\ncontent (e.g., images, postscript and other data types), as they&lt;br&gt;&gt; re=\r\npresent leaf nodeswithout outlinks.&lt;br&gt;&gt; I know I can do some parsing of=\r\n the meta data to get rid of those URLs,&lt;br&gt;&gt; but I&#39;m wondering whether =\r\nthere are any configuration settings to&lt;br&gt;&gt; exclude those URLs in Herit=\r\nrix?&lt;br&gt;&gt; Thanks again!&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt; --- *11=E5=B9=B43=E6=9C=\r\n=8819=E6=97=A5=EF=BC=8C=E5=91=A8=E5=85=AD, Gordon\n Mohr /&lt;&lt;a ymailto=3D&quot;=\r\nmailto:gojomo@...&quot; href=3D&quot;/mc/compose?to=3Dgojomo@...&quot;&gt;goj=\r\nomo@...&lt;/a&gt;&gt;/* =E5=86=99=E9=81=93=EF=BC=9A&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&g=\r\nt;&nbsp; &nbsp;&nbsp;&nbsp;=E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;&lt;a =\r\nymailto=3D&quot;mailto:gojomo@...&quot; href=3D&quot;/mc/compose?to=3Dgojomo@archi=\r\nve.org&quot;&gt;gojomo@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E4=B8=\r\n=BB=E9=A2=98: Re: [archive-crawler] Re-discover links&lt;br&gt;&gt;&nbsp; &nbsp;&=\r\nnbsp;&nbsp;=E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;&lt;a ymailto=3D&quot;mai=\r\nlto:y195322@...&quot; href=3D&quot;/mc/compose?to=3Dy195322@...&quot;&gt;y1=\r\n95322@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=8A=84=E9=80=\r\n=81: &lt;a ymailto=3D&quot;mailto:archive-crawler@yahoogroups.com&quot; href=3D&quot;/mc/comp=\r\nose?to=3Darchive-crawler@yahoogroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/=\r\na&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=\r\n=8819=E6=97=A5,=E5=91=A8=E5=85=AD,=E4=B8=8A=E5=8D=8810:14&lt;br&gt;&gt;&lt;br&gt;&gt;&n=\r\nbsp; &nbsp;&nbsp;&nbsp;Both Heritrix 1.14.4 and Heritrix 3.0.0 include the =\r\nWARCWriterProcessor&lt;br&gt;&gt;&nbsp;\n &nbsp;&nbsp;&nbsp;as an alternative way =\r\nto write crawled content.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;in both v=\r\nersions, if you use the WARCWriterProcessor, then &#39;metadata&#39;&lt;br&gt;&gt;&nbsp; =\r\n&nbsp;&nbsp;&nbsp;records that include outlinks will be written alongside t=\r\nhe other&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;content.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; &nb=\r\nsp;&nbsp;&nbsp;So you don&#39;t need to upgrade just to get the outlinks writte=\r\nn to a file&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;during crawling.&lt;br&gt;&gt;&lt;br&gt;&gt=\r\n;&nbsp; &nbsp;&nbsp;&nbsp;If having the outlinks listed in the WARC file is=\r\n not enough, then you&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;can write your own co=\r\nde that processes the oulinks in some other way. I&lt;br&gt;&gt;&nbsp; &nbsp;&nbs=\r\np;&nbsp;think adding your own modules is a little easier in Heritrix 3, but=\r\n is&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;just as possible in Heritrix 1.14.4.&lt;br=\r\n&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;- Gordon @ IA&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp; &=\r\nnbsp;&nbsp;&nbsp;On 3/9/11\n 1:51 PM, HONGYING YI wrote:&lt;br&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; Hi Gordon,&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Thanks for your i=\r\nnformative reply!&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; I am using Heritrix 1.14=\r\n.4 now. For WARCWriterProcessor, if I&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;still=\r\n use&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Heritrix 1.14.4, it seems that I will=\r\n need to make some changes&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;in the&lt;br&gt;&gt;&n=\r\nbsp; &nbsp; &nbsp; &gt; source codes. If I upgrade it to Heritrix 3, then I=\r\n can get all the&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; outlinks in the data with=\r\nout making changes to the source codes.&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;Is =\r\nthat&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; correct?&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; =\r\n&gt; Thanks!&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &=\r\ngt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; --- *11=E5=B9=B43=E6=9C=883=E6=97=A5=\r\n=EF=BC=8C=E5=91=A8=E5=9B=9B, Gordon Mohr /&lt;&lt;a ymailto=3D&quot;mailto:gojomo@a=\r\nrchive.org&quot;\n href=3D&quot;/mc/compose?to=3Dgojomo@...&quot;&gt;gojomo@...=\r\ng&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.y=\r\nahoo.com/mc/compose?to=3Dgojomo@...&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&gt;&gt;/*&lt;br&gt;&gt;=\r\n&nbsp; &nbsp;&nbsp;&nbsp;=E5=86=99=E9=81=93=EF=BC=9A&lt;br&gt;&gt;&nbsp; &nbsp; &=\r\nnbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt=\r\n; =E5=8F=91=E4=BB=B6=E4=BA=BA: Gordon Mohr &lt;&lt;a ymailto=3D&quot;mailto:gojomo@=\r\narchive.org&quot; href=3D&quot;/mc/compose?to=3Dgojomo@...&quot;&gt;gojomo@...=\r\ng&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.y=\r\nahoo.com/mc/compose?to=3Dgojomo@...&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&gt;&gt;&lt;br&gt;&gt;&n=\r\nbsp; &nbsp; &nbsp; &gt; =E4=B8=BB=E9=A2=98: Re: [archive-crawler] Re-discov=\r\ner links&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HON=\r\nGYING YI&quot; &lt;&lt;a ymailto=3D&quot;mailto:y195322@...&quot;\n href=3D&quot;/mc/compo=\r\nse?to=3Dy195322@...&quot;&gt;y195322@...&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;=\r\n&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy=\r\n195322@...&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/co=\r\nmpose?to=3Dy195322@...&lt;/a&gt;&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt=\r\n; =E6=8A=84=E9=80=81: &lt;a ymailto=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;=\r\n href=3D&quot;/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot;&gt;archive-crawler@=\r\nyahoogroups.com&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://c=\r\nn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; tar=\r\nget=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawl=\r\ner@yahoogroups.com&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E6=97=A5=E6=9C=\r\n=9F: 2011=E5=B9=B43=E6=9C=883=E6=97=A5,=E5=91=A8=E5=9B=9B,=E4=B8=8A=E5=8D=\r\n=889:35&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; O=\r\nn 3/2/11 3:47 PM, HONGYING YI wrote:&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =\r\nHi Gordon,&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp;\n &nbs=\r\np; &gt; &gt; Thanks for your reply!&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;b=\r\nr&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; I&#39;m still a little confused. Are all t=\r\nhe outlinks of a URI logged&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; in the&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt; crawl.log whether or not those outlinks have=\r\n already been&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;discovered?&lt;br&gt;&gt;&nbsp; &nb=\r\nsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Outlinks (specifically out=\r\nlinks) are not logged to crawl.log. The&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; cr=\r\nawl.log is a log of *completed* URIs. So to appear in crawl.log, a&lt;br&gt;&gt;&=\r\nnbsp; &nbsp; &nbsp; &gt; URI has to:&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&g=\r\nt;&nbsp; &nbsp; &nbsp; &gt; (1) be discovered (as a seed or outlink from el=\r\nsewhere); then...&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; (2) pass scoping rules, =\r\nso that it is enqueued to be fetched; then...&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &=\r\ngt; (3) either be successfully fetched, or suffer definitive\n failure&lt;br&gt;&g=\r\nt;&nbsp; &nbsp; &nbsp; &gt; (certain errors from the server or no-success a=\r\nfter many retries).&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &=\r\nnbsp; &gt; This crawl.log logging happens arbitrarily long after the URI wa=\r\ns&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; first discovered. (The URI might be wait=\r\ning in a queue for its&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; chance to be crawle=\r\nd for hours, days, weeks, months.)&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; In a typical snapshot crawl, most normal URIs are=\r\n only fetched once,&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; so they only appear in=\r\n the crawl.log once. (The &#39;via&#39; URI that is&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt=\r\n; shown later on the crawl.log line is the one other URI from which it&lt;br&gt;&=\r\ngt;&nbsp; &nbsp; &nbsp; &gt; was specifically discovered first, even though=\r\n it may have later&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; been found many times.)=\r\n&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp;\n &nbsp; &gt; (URIs w=\r\nhich must be retried to refresh our knowledge, like DNS and&lt;br&gt;&gt;&nbsp; &=\r\nnbsp; &nbsp; &gt; /robots.txt, will be fetched and appear in crawl.log mult=\r\niple times.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Also, there are certain non-st=\r\nandard ways you can force a URI to be&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; refe=\r\ntched. But you wouldn&#39;t use those mechanisms to achieve what I&lt;br&gt;&gt;&nbsp=\r\n; &nbsp; &nbsp; &gt; believe is your goal, discovering all the links to a p=\r\nage.)&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt=\r\n; I&#39;m not familiar with WARCWriterProcessor, could you explain more&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; on that?&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; In Heritrix 1.x releases, the default way to writ=\r\ne web content was&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; the ARCWriterProcessor, =\r\nwhich wrote HTTP responses to long&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; transcr=\r\nipt files called ARCs (with extension .arc.gz).\n Since only&lt;br&gt;&gt;&nbsp; &=\r\nnbsp; &nbsp; &gt; the raw content was written, to get the outlinks again at=\r\n a later&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; time, you&#39;d need to parse the HTM=\r\nL again.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =\r\nIn Heritrix 3, a new &#39;WARC&#39; format is preferred, via the&lt;br&gt;&gt;&nbsp; &nbs=\r\np; &nbsp; &gt; WARCWriterProcessor. While similar to the ARC format it has =\r\nmore&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; places for extra metadata. By default=\r\n, it writes not just the HTTP&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; response (li=\r\nke in ARC) but also the exact HTTP request and an extra&lt;br&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; &#39;metadata&#39; record with a list of the outlinks that were disco=\r\nvered.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Outlinks are listed here even if th=\r\ney did not pass scope-testing (so&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; would no=\r\nt be enqueued/fetched and thus would never appear in the&lt;br&gt;&gt;&nbsp; &nbs=\r\np; &nbsp; &gt; crawl.log).&lt;br&gt;&gt;&nbsp;\n &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; =\r\n&nbsp; &nbsp; &gt; You can use WARCWriterProcessor in H1, also, by replacin=\r\ng the&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; reference to ARCWriterProcessor with=\r\n WARCWriterProcessor.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp;=\r\n &nbsp; &gt; Even if you don&#39;t want to use WARCWriterProcessor, you could l=\r\nook at&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; its source code to see how it looks=\r\n at the list of discovered&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; outlinks, and l=\r\nog them to someplace of your choosing, by writing&lt;br&gt;&gt;&nbsp; &nbsp; &nbs=\r\np; &gt; your own custom Processor code to plug into Heritrix.&lt;br&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; Hope this helps,&lt;br&gt;&g=\r\nt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; - Gordon @ IA&lt;=\r\nbr&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Than=\r\nks!&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =\r\n&gt; --- *11=E5=B9=B43=E6=9C=881=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C,\n Gord=\r\non Mohr /&lt;&lt;a ymailto=3D&quot;mailto:gojomo@...&quot; href=3D&quot;/mc/compose?t=\r\no=3Dgojomo@...&quot;&gt;gojomo@...&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&n=\r\nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@ar=\r\nchive.org&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=\r\n=3Dgojomo@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a href=\r\n=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; targ=\r\net=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@archive=\r\n.org&lt;/a&gt;&gt;&gt;/*&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =E5=86=99=E9=81=93=EF=\r\n=BC=9A&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &g=\r\nt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA: =\r\nGordon Mohr &lt;&lt;a ymailto=3D&quot;mailto:gojomo@...&quot; href=3D&quot;/mc/compos=\r\ne?to=3Dgojomo@...&quot;&gt;gojomo@...&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp=\r\n;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo=\r\n@...&quot;\n target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?=\r\nto=3Dgojomo@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a hre=\r\nf=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; tar=\r\nget=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@archiv=\r\ne.org&lt;/a&gt;&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E4=B8=BB=E9=A2=98:=\r\n Re: [archive-crawler] Re-discover links&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &=\r\ngt; =E6=94=B6=E4=BB=B6=E4=BA=BA: &quot;HONGYING YI&quot; &lt;&lt;a ymailto=3D&quot;mailto:y19=\r\n5322@...&quot; href=3D&quot;/mc/compose?to=3Dy195322@...&quot;&gt;y195322@y=\r\nahoo.com.cn&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dy195322@...&quot; target=3D&quot;_blank&quot;&gt;=\r\nhttp://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@...&lt;/a&gt;&gt;=\r\n&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo=\r\n.com/mc/compose?to=3Dy195322@...&quot;\n target=3D&quot;_blank&quot;&gt;http://cn.mc1=\r\n59.mail.yahoo.com/mc/compose?to=3Dy195322@...&lt;/a&gt;&gt;&gt;&lt;br&gt;&gt;&=\r\nnbsp; &nbsp; &nbsp; &gt; &gt; =E6=8A=84=E9=80=81: &lt;a ymailto=3D&quot;mailto:arch=\r\nive-crawler@yahoogroups.com&quot; href=3D&quot;/mc/compose?to=3Darchive-crawler@yahoo=\r\ngroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&=\r\nnbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-=\r\ncrawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/m=\r\nc/compose?to=3Darchive-crawler@yahoogroups.com&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp;=\r\n &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159=\r\n.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; target=3D&quot;=\r\n_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yaho=\r\nogroups.com&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E6=97=A5=E6=9C=\r\n=9F: 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=\r\n=887:40&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &=\r\ngt; &gt; All the outlinks discovered from a URI are\n inside the CrawlURI&lt;br=\r\n&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;during&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =\r\nits processing, until it is finished (and logged in the crawl.log).&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; If you=\r\n use the WARCWriterProcessor, they are part of the data&lt;br&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; &gt; written in&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; the &#39;me=\r\ntadata&#39; record associated with the URI.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &g=\r\nt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; Alternatively, you could insert yo=\r\nur own custom processor to&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;log this&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt; data somewhere else (using the WARCWriterPro=\r\ncessor&#39;s writeMetadata&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; method as a mo=\r\ndel).&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt=\r\n; &gt; In this way, you can get the link data you want, without&lt;br&gt;&gt;&nbs=\r\np; &nbsp; &nbsp; &gt; revisiting\n the&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;=\r\n same URLs many times (indeed infinitely via link-loops!).&lt;br&gt;&gt;&nbsp; &n=\r\nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; - Gordon @ IA&lt;b=\r\nr&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =\r\nOn 2/28/11 3:16 PM, HONGYING YI wrote:&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt=\r\n; &gt; Hi Gordon,&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; We want to kno=\r\nw all the out-going links and in-coming links for&lt;br&gt;&gt;&nbsp; &nbsp; &nbs=\r\np; &gt; each&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; page, and in the ex=\r\nample, for aol.com, aolhealth.com is an&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; ou=\r\nt-going&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; link for aol.com, and dr=\r\nugchecker.aolhealth.com is an in-coming&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &g=\r\nt; link for&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; aol.com. If the link=\r\n from drugchecker.aolhealth.com to aol.com&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;=\r\n &gt; does\n not&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; show up, we will=\r\n not get all the in-coming links for aol.com. Is&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp=\r\n; &gt; &gt; there&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; any way to ret=\r\nrieve that link? Can any configuration setting&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&n=\r\nbsp;in the&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; crawl get round that?=\r\n&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; Thanks!&lt;br&gt;&gt;&nbsp; &nbsp; &n=\r\nbsp; &gt; &gt; &gt; Yang&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&gt;=\r\n&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &=\r\ngt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; --- *11=E5=B9=B43=E6=9C=881=\r\n=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=8C, Gordon Mohr /&lt;&lt;a ymailto=3D&quot;mailto=\r\n:gojomo@...&quot; href=3D&quot;/mc/compose?to=3Dgojomo@...&quot;&gt;gojomo@ar=\r\nchive.org&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc15=\r\n9.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot;\n target=3D&quot;_blank&quot;&gt;htt=\r\np://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&gt;&lt;br&gt;&=\r\ngt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/=\r\nmc/compose?to=3Dgojomo@...&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.=\r\nyahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &=\r\nnbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc=\r\n159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; target=3D&quot;_blank&quot;&gt;ht=\r\ntp://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&gt;&gt;=\r\n/*&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =E5=86=99=E9=81=93=EF=BC=9A&lt;br&gt;&gt=\r\n;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =\r\n&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; =E5=8F=91=E4=BB=B6=E4=BA=BA=\r\n: Gordon Mohr &lt;&lt;a ymailto=3D&quot;mailto:gojomo@...&quot; href=3D&quot;/mc/comp=\r\nose?to=3Dgojomo@...&quot;&gt;gojomo@...&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nb=\r\nsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojo=\r\nmo@...&quot;\n target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compos=\r\ne?to=3Dgojomo@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a h=\r\nref=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; t=\r\narget=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@arch=\r\nive.org&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &lt;&lt;a href=3D&quot;http:/=\r\n/cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&quot; target=3D&quot;_bla=\r\nnk&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dgojomo@...&lt;/a&gt;&g=\r\nt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; =E4=B8=BB=E9=A2=98: Re: [=\r\narchive-crawler] Re-discover links&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &g=\r\nt; =E6=94=B6=E4=BB=B6=E4=BA=BA: &lt;a ymailto=3D&quot;mailto:archive-crawler@yahoog=\r\nroups.com&quot; href=3D&quot;/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot;&gt;archiv=\r\ne-crawler@yahoogroups.com&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=\r\n=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogro=\r\nups.com&quot;\n target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3D=\r\narchive-crawler@yahoogroups.com&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br=\r\n&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com=\r\n/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;http://=\r\ncn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&lt;/a&gt;=\r\n&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;=\r\n&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.=\r\ncom/mc/compose?to=3Darchive-crawler@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;http=\r\n://cn.mc159.mail.yahoo.com/mc/compose?to=3Darchive-crawler@yahoogroups.com&lt;=\r\n/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; =E6=8A=84=E9=80=81: &quot;y19=\r\n5322&quot; &lt;&lt;a ymailto=3D&quot;mailto:y195322@...&quot; href=3D&quot;/mc/compose?to=\r\n=3Dy195322@...&quot;&gt;y195322@...&lt;/a&gt;&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp=\r\n;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy19532=\r\n2@...&quot;\n target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compos=\r\ne?to=3Dy195322@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &lt;&lt;a=\r\n href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322@....c=\r\nn&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/mc/compose?to=3Dy195322=\r\n@...&lt;/a&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &=\r\nnbsp;&nbsp;&nbsp;&lt;&lt;a href=3D&quot;http://cn.mc159.mail.yahoo.com/mc/compose?t=\r\no=3Dy195322@...&quot; target=3D&quot;_blank&quot;&gt;http://cn.mc159.mail.yahoo.com/=\r\nmc/compose?to=3Dy195322@...&lt;/a&gt;&gt;&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp=\r\n; &gt; &gt; &gt; =E6=97=A5=E6=9C=9F: 2011=E5=B9=B43=E6=9C=881=E6=97=A5,=E5=\r\n=91=A8=E4=BA=8C,=E4=B8=8A=E5=8D=886:33&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt=\r\n; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; On 2/28/11 10:20 AM, y195=\r\n322 wrote:&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; &gt; Hi!We are doing =\r\nweb crawling using Heritrix, and found one&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;=\r\nissue&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; in that once a link has be=\r\nen\n &#39;discovered,&#39; it won&#39;t be&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; &#39;r=\r\nediscovered.&#39; This means that if we have something like:&lt;br&gt;&gt;&nbsp; &nbs=\r\np; &nbsp; &gt; &gt; &gt; &gt; aol.com-&gt;aolhealth.com&lt;br&gt;&gt;&nbsp; &nbsp=\r\n; &nbsp; &gt; &gt; &gt; &gt; aolhealth.com-&gt;drugchecker.aolhealth.com&lt;br=\r\n&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &=\r\ngt; &gt; &gt; &gt; and if drugchecker.aolhealth.com links to aol.com, that&lt;=\r\nbr&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;link will&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; =\r\n&gt; &gt; not show up in the file.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &g=\r\nt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; &gt; Is there any way to=\r\n fix this problem? Thanks!&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&g=\r\nt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; Usually a single snapshot crawl only =\r\nwants to retrieve each URL&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; once,=\r\n so&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; this is by-design,\n rather t=\r\nhan a problem.&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nb=\r\nsp; &nbsp; &gt; &gt; &gt; Why do you want to fetch aol.com twice in a singl=\r\ne crawl? (Or&lt;br&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;am I&lt;br&gt;&gt;&nbsp; &nbsp; &nbs=\r\np; &gt; &gt; &gt; misunderstanding?)&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; =\r\n&gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt; - Gordon @ IA&lt;br&gt;&gt;&nbsp;=\r\n &nbsp; &nbsp; &gt; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt; &gt;&lt;br=\r\n&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt; &gt;&lt;b=\r\nr&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&nbsp; &nbsp; &nbsp; &gt;&lt;br&gt;&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\r\n--0-1651325173-1302720022=:81658--\r\n\n"}}