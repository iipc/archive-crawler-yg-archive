{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":361563137,"authorName":"Adam Broke≈°","from":"=?UTF-8?B?QWRhbSBCcm9rZcWh?= &lt;adam.brokes@...&gt;","profile":"goblin_cz","replyTo":"LIST","senderId":"VRzlP261J7Kq2fLrWqWc3j2eaALDfQZo4r5pljzx2Y_SaZuaC6VLzsXlH2RUeSWE9KlfrMgP_AqNVn-1j9QjeydIVK5uEPqZToZgxA6LI8QOPZs3Sn2OWIS8SA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Too many open files Exception","postDate":"1293020262","msgId":6936,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGk9ZjYwK3QwNDZuelZna3gzcGhodThHcUo1ZjZ3MTlfRDVBa3FSQUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":0,"nextInTopic":6938,"prevInTime":6935,"nextInTime":6937,"topicId":6936,"numMessagesInTopic":5,"msgSnippet":"Hallo folks, I am working on domain crawl and I have encounter few strange problems. First of all, the crawl has some rapid slowdown (ten times slower). This","rawEmail":"Return-Path: &lt;adam.brokes@...&gt;\r\nX-Sender: adam.brokes@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 99700 invoked from network); 22 Dec 2010 12:18:04 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m13.grp.re1.yahoo.com with QMQP; 22 Dec 2010 12:18:04 -0000\r\nX-Received: from unknown (HELO mail-ww0-f43.google.com) (74.125.82.43)\n  by mta2.grp.re1.yahoo.com with SMTP; 22 Dec 2010 12:18:03 -0000\r\nX-Received: by wwi17 with SMTP id 17so4821461wwi.12\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 22 Dec 2010 04:18:02 -0800 (PST)\r\nX-Received: by 10.227.138.82 with SMTP id z18mr155148wbt.94.1293020282429; Wed,\n 22 Dec 2010 04:18:02 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.227.152.19 with HTTP; Wed, 22 Dec 2010 04:17:42 -0800 (PST)\r\nDate: Wed, 22 Dec 2010 13:17:42 +0100\r\nMessage-ID: &lt;AANLkTi=f60+t046nzVgkx3phhu8GqJ5f6w19_D5AkqRA@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/mixed; boundary=0016363b972a9f255e0497febe06\r\nFrom: =?UTF-8?B?QWRhbSBCcm9rZcWh?= &lt;adam.brokes@...&gt;\r\nReply-To: adam.brokes@...\r\nSubject: Too many open files Exception\r\nX-Yahoo-Group-Post: member; u=361563137; y=DGENq2Razhlxx12E8qyyky5LugQB0zTGBFP42ndDza2j8xOr\r\nX-Yahoo-Profile: goblin_cz\r\n\r\n\r\n--0016363b972a9f255e0497febe06\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHallo folks,\n\nI am working on domain crawl and I have encounter few strange=\r\n\nproblems. First of all, the crawl has some rapid slowdown (ten times\nslowe=\r\nr). This was caused by managing (or comparing) cookies. Well, we\nhave decid=\r\ned that disabling cookies for bulk crawl is not big issue.\nAfter few days, =\r\nwhen 4 TB was harvested, heritrix threw too many open\nfiles exception. I tr=\r\nied to recover, but all my attempts failed. I\nrestarted heritrix, build new=\r\n job based on the old one. Lower the\ntoethreads to 250 and started. This or=\r\nder xml is quite the same as I\nused last year for crawling 9.5 TB. After tw=\r\no and half days with 1TB\ncrawled heritrix suddenly stop with exception thre=\r\nw on all threads. I\nhave attached the exception in the bottom. The limit on=\r\n the open files\nin the system is set to more than one million. Frankly, I a=\r\nm not sure\nhow to track down this problem. Especially when this setting was=\r\n\nworking last year (probably on 1.14.3).\n\nThank you very much.\n\nBest regard=\r\ns.\n\nBrokes\n\nHW & SW config\n\n3485312 KB max heap\n32bit java6 update22\nheritr=\r\nix 1.14.4\n4 core Intel(R) Xeon(R) CPU           E5420  @ 2.50GHz\n8 GiB RAM\n=\r\n64bit Debian 5.0.6\n\nException\n\nFatal exception in ToeThread #181:  (in thre=\r\nad &#39;ToeThread #181: &#39;)\nException: \t\ncom.sleepycat.util.RuntimeExceptionWrap=\r\nper: (JE 3.3.82) fetchTarget of\n0x32/0x1ed6a7 parent IN=3D1266390 IN class=\r\n=3Dcom.sleepycat.je.tree.BIN\nlastFullVersion=3D0x8b2/0x56a066 parent.getDir=\r\nty()=3Dfalse state=3D0\ncom.sleepycat.je.log.LogFileNotFoundException: (JE 3=\r\n.3.82)\n0x32/0x1ed6a7 (JE 3.3.82) Couldn&#39;t open file\n/mnt/pole-c/cz2010/craw=\r\nl2/state/00000032.jdb:\n/mnt/pole-c/cz2010/crawl2/state/00000032.jdb (Too ma=\r\nny open files)\nCause: com.sleepycat.je.DatabaseException: (JE 3.3.82) fetch=\r\nTarget of\n0x32/0x1ed6a7 parent IN=3D1266390 IN class=3Dcom.sleepycat.je.tre=\r\ne.BIN\nlastFullVersion=3D0x8b2/0x56a066 parent.getDirty()=3Dfalse state=3D0\n=\r\ncom.sleepycat.je.log.LogFileNotFoundException: (JE 3.3.82)\n0x32/0x1ed6a7 (J=\r\nE 3.3.82) Couldn&#39;t open file\n/mnt/pole-c/cz2010/crawl2/state/00000032.jdb:\n=\r\n/mnt/pole-c/cz2010/crawl2/state/00000032.jdb (Too many open files)\n\tat com.=\r\nsleepycat.je.tree.IN.fetchTarget(IN.java:1230)\n\tat com.sleepycat.je.dbi.Cur=\r\nsorImpl.searchAndPosition(CursorImpl.java:2103)\n\tat com.sleepycat.je.Cursor=\r\n.searchInternal(Cursor.java:1778)\n\tat com.sleepycat.je.Cursor.searchAllowPh=\r\nantoms(Cursor.java:1748)\n\tat com.sleepycat.je.Cursor.search(Cursor.java:161=\r\n5)\n\tat com.sleepycat.je.Cursor.getSearchKey(Cursor.java:1067)\n\tat com.sleep=\r\nycat.util.keyrange.RangeCursor.doGetSearchKey(RangeCursor.java:965)\n\tat com=\r\n.sleepycat.util.keyrange.RangeCursor.getSearchKey(RangeCursor.java:592)\n\tat=\r\n com.sleepycat.collections.DataCursor.doGetSearchKey(DataCursor.java:577)\n\t=\r\nat com.sleepycat.collections.DataCursor.getSearchKey(DataCursor.java:559)\n\t=\r\nat com.sleepycat.collections.StoredContainer.getValue(StoredContainer.java:=\r\n299)\n\tat com.sleepycat.collections.StoredMap.get(StoredMap.java:227)\n\tat or=\r\ng.archive.util.ObjectIdentityBdbCache.getOrUse(ObjectIdentityBdbCache.java:=\r\n264)\n\tat org.archive.util.ObjectIdentityBdbCache.get(ObjectIdentityBdbCache=\r\n.java:217)\n\tat org.archive.util.ObjectIdentityBdbCache.get(ObjectIdentityBd=\r\nbCache.java:75)\n\tat org.archive.crawler.frontier.WorkQueueFrontier.activate=\r\nInactiveQueue(WorkQueueFrontier.java:732)\n\tat org.archive.crawler.frontier.=\r\nWorkQueueFrontier.next(WorkQueueFrontier.java:634)\n\tat org.archive.crawler.=\r\nframework.ToeThread.run(ToeThread.java:147)\n\nStacktrace: com.sleepycat.util=\r\n.RuntimeExceptionWrapper: (JE 3.3.82)\nfetchTarget of 0x32/0x1ed6a7 parent I=\r\nN=3D1266390 IN\nclass=3Dcom.sleepycat.je.tree.BIN lastFullVersion=3D0x8b2/0x=\r\n56a066\nparent.getDirty()=3Dfalse state=3D0\ncom.sleepycat.je.log.LogFileNotF=\r\noundException: (JE 3.3.82)\n0x32/0x1ed6a7 (JE 3.3.82) Couldn&#39;t open file\n/mn=\r\nt/pole-c/cz2010/crawl2/state/00000032.jdb:\n/mnt/pole-c/cz2010/crawl2/state/=\r\n00000032.jdb (Too many open files)\n\tat com.sleepycat.collections.StoredCont=\r\nainer.convertException(StoredContainer.java:466)\n\tat com.sleepycat.collecti=\r\nons.StoredContainer.getValue(StoredContainer.java:306)\n\tat com.sleepycat.co=\r\nllections.StoredMap.get(StoredMap.java:227)\n\tat org.archive.util.ObjectIden=\r\ntityBdbCache.getOrUse(ObjectIdentityBdbCache.java:264)\n\tat org.archive.util=\r\n.ObjectIdentityBdbCache.get(ObjectIdentityBdbCache.java:217)\n\tat org.archiv=\r\ne.util.ObjectIdentityBdbCache.get(ObjectIdentityBdbCache.java:75)\n\tat org.a=\r\nrchive.crawler.frontier.WorkQueueFrontier.activateInactiveQueue(WorkQueueFr=\r\nontier.java:732)\n\tat org.archive.crawler.frontier.WorkQueueFrontier.next(Wo=\r\nrkQueueFrontier.java:634)\n\tat org.archive.crawler.framework.ToeThread.run(T=\r\noeThread.java:147)\nCaused by: com.sleepycat.je.DatabaseException: (JE 3.3.8=\r\n2) fetchTarget\nof 0x32/0x1ed6a7 parent IN=3D1266390 IN class=3Dcom.sleepyca=\r\nt.je.tree.BIN\nlastFullVersion=3D0x8b2/0x56a066 parent.getDirty()=3Dfalse st=\r\nate=3D0\ncom.sleepycat.je.log.LogFileNotFoundException: (JE 3.3.82)\n0x32/0x1=\r\ned6a7 (JE 3.3.82) Couldn&#39;t open file\n/mnt/pole-c/cz2010/crawl2/state/000000=\r\n32.jdb:\n/mnt/pole-c/cz2010/crawl2/state/00000032.jdb (Too many open files)\n=\r\n\tat com.sleepycat.je.tree.IN.fetchTarget(IN.java:1230)\n\tat com.sleepycat.je=\r\n.dbi.CursorImpl.searchAndPosition(CursorImpl.java:2103)\n\tat com.sleepycat.j=\r\ne.Cursor.searchInternal(Cursor.java:1778)\n\tat com.sleepycat.je.Cursor.searc=\r\nhAllowPhantoms(Cursor.java:1748)\n\tat com.sleepycat.je.Cursor.search(Cursor.=\r\njava:1615)\n\tat com.sleepycat.je.Cursor.getSearchKey(Cursor.java:1067)\n\tat c=\r\nom.sleepycat.util.keyrange.RangeCursor.doGetSearchKey(RangeCursor.java:965)=\r\n\n\tat com.sleepycat.util.keyrange.RangeCursor.getSearchKey(RangeCursor.java:=\r\n592)\n\tat com.sleepycat.collections.DataCursor.doGetSearchKey(DataCursor.jav=\r\na:577)\n\tat com.sleepycat.collections.DataCursor.getSearchKey(DataCursor.jav=\r\na:559)\n\tat com.sleepycat.collections.StoredContainer.getValue(StoredContain=\r\ner.java:299)\n\t... 7 more\n--\nAdam Broke=C5=A1\nhttp://www.brokes.net\nadam.bro=\r\nkes@...\n42799740\n\r\n--0016363b972a9f255e0497febe06\r\nContent-Type: text/xml; charset=US-ASCII; name=&quot;order.xml&quot;\r\nContent-Disposition: attachment; filename=&quot;order.xml&quot;\r\nX-Attachment-Id: f_gi03s8i11\r\n\r\n[ Attachment content not displayed ]\r\n--0016363b972a9f255e0497febe06--\r\n\n"}}