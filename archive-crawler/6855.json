{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":468881551,"authorName":"Mohamed Elsayed","from":"Mohamed Elsayed &lt;mohammed.elsayyed@...&gt;","profile":"mody1first","replyTo":"LIST","senderId":"agGx6V7eNgNGq_mexxnSzLJkno2BFfg2REaIsBMpCysOl9bPSkjljqr_tNOyyiBFkmRJ_lO1kB43NEXKnnQpHhetXagV8VtMZhdNct4cMMQcMgj1ikE","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: NotExceedsDocumentLengthTresholdDecideRule","postDate":"1291559786","msgId":6855,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDRkJBMzZBLjcwNjA3QGJpYmFsZXgub3JnPg==","inReplyToHeader":"PGlkOGoxYitnY3V1QGVHcm91cHMuY29tPg==","referencesHeader":"PGlkOGoxYitnY3V1QGVHcm91cHMuY29tPg=="},"prevInTopic":6847,"nextInTopic":6857,"prevInTime":6854,"nextInTime":6856,"topicId":6841,"numMessagesInTopic":9,"msgSnippet":"Thanks so much for your reply. I used the property maxLengthBytes before, as it downloaded the file till reached to the specified limit. The file was","rawEmail":"Return-Path: &lt;Mohammed.Elsayyed@...&gt;\r\nX-Sender: Mohammed.Elsayyed@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 76120 invoked from network); 5 Dec 2010 14:35:17 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m7.grp.sp2.yahoo.com with QMQP; 5 Dec 2010 14:35:17 -0000\r\nX-Received: from unknown (HELO mail.bibalex.org) (196.204.161.5)\n  by mta3.grp.sp2.yahoo.com with SMTP; 5 Dec 2010 14:35:17 -0000\r\nX-Received: from [10.8.33.68] (10.8.33.68) by mail.bibalex.org (10.202.2.22)\n with Microsoft SMTP Server (TLS) id 8.3.106.1; Sun, 5 Dec 2010 16:31:50 +0200\r\nMessage-ID: &lt;4CFBA36A.70607@...&gt;\r\nDate: Sun, 5 Dec 2010 16:36:26 +0200\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.15) Gecko/20101027 Thunderbird/3.0.10\r\nMIME-Version: 1.0\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nReferences: &lt;id8j1b+gcuu@...&gt;\r\nIn-Reply-To: &lt;id8j1b+gcuu@...&gt;\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;------------070103030608030404060300&quot;\r\nReturn-Path: mohammed.elsayyed@...\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Mohamed Elsayed &lt;mohammed.elsayyed@...&gt;\r\nSubject: Re: [archive-crawler] Re: NotExceedsDocumentLengthTresholdDecideRule\r\nX-Yahoo-Group-Post: member; u=468881551; y=JzCezwR9NlrjjMyb_TlJKbykEVYmD_aVZIVyMOIWGfDz-NFHFw\r\nX-Yahoo-Profile: mody1first\r\n\r\n\r\n--------------070103030608030404060300\r\nContent-Type: text/plain; charset=&quot;windows-1252&quot;; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\n\r\nThanks so much for your reply. I used the property &quot;maxLengthBytes&quot; \nbefore, as it downloaded the file till reached to the specified limit. \nThe file was actually downloaded, but with a specific length. I don&#39;t \nlike this solution, because I would like to reject the large file, so \nyour first solution is suitable to me. I applied \n&quot;setShouldFetchBodyRule&quot; to the FetchHTTP processor and applied \n&quot;shouldProcessDecideRule&quot; to ARCWriterProcessor. Heritrix-3.1.1-SNAPSHOT \ndisplayed an error message &quot;/2010-12-05T11:56:26.756Z SEVERE Invalid \nproperty &#39;shouldProcessDecideRule&#39; of bean class \n[org.archive.modules.writer.ARCWriterProcessor]: Bean property \n&#39;shouldProcessDecideRule&#39; is not writable or has an invalid setter \nmethod. Does the parameter type of the setter match the return type of \nthe getter?; Can&#39;t create bean &#39;warcWriter&#39;; Can&#39;t create bean \n&#39;dispositionProcessors&#39;; ; Can&#39;t create bean &#39;crawlController&#39;; Can&#39;t \ncreate bean &#39;statisticsTracker&#39;; ; Can&#39;t create bean &#39;seeds&#39;; ; Can&#39;t \ncreate bean \n&#39;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule#7a0136b0&#39;; \nCan&#39;t create bean &#39;scope&#39;; ; Can&#39;t create bean &#39;frontier/&#39;.&quot; The \nfollowing is a code snippet of FetchHTTP processor and ARCWriterProcessor._*\n\nFetchHTTP processor*_\n\n&lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;\n\n    &lt;!--&lt;property name=&quot;maxLengthBytes&quot; value=&quot;500000&quot; /&gt;--&gt;\n\n   &lt;!--&lt;property name=&quot;timeoutSeconds&quot; value=&quot;1200&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;defaultEncoding&quot; value=&quot;ISO-8859-1&quot; /&gt;  --&gt;\n\n   /  &lt;property name=&quot;shouldFetchBodyRule&quot;&gt;/\n\n/     &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;/&gt;/\n\n/   &lt;/property&gt;/\n\n   &lt;!--&lt;property name=&quot;soTimeoutMs&quot; value=&quot;20000&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sendIfModifiedSince&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sendIfNoneMatch&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sendConnectionClose&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sendReferer&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sendRange&quot; value=&quot;false&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;ignoreCookies&quot; value=&quot;false&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;sslTrustLevel&quot; value=&quot;OPEN&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;acceptHeaders&quot;&gt;  \n\n         &lt;list&gt;\n\n         &lt;/list&gt;\n\n        &lt;/property&gt;\n\n   --&gt;\n\n   &lt;!--&lt;property name=&quot;httpBindAddress&quot; value=&quot;&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;httpProxyHost&quot; value=&quot;&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;httpProxyPort&quot; value=&quot;0&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt;  --&gt;\n\n  &lt;/bean&gt;\n\n_*\nARCWriterProcessor*_\n\n  &lt;bean id=&quot;warcWriter&quot; class=&quot;org.archive.modules.writer.ARCWriterProcessor&quot;&gt;\n\n   &lt;!--&lt;property name=&quot;compress&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n    &lt;property name=&quot;prefix&quot; value=&quot;TEST&quot; /&gt;\n\n    &lt;!--&lt;property name=&quot;suffix&quot; value=&quot;&quot; /&gt;  --&gt;\n\n    &lt;!--&lt;property name=&quot;maxFileSizeBytes&quot; value=&quot;100000000&quot; /&gt;--&gt;\n\n    &lt;property name=&quot;poolMaxActive&quot; value=&quot;5&quot; /&gt;\n\n   &lt;!--&lt;property name=&quot;poolMaxWaitMs&quot; value=&quot;300000&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;skipIdenticalDigests&quot; value=&quot;false&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;maxTotalBytesToWrite&quot; value=&quot;0&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;directory&quot; value=&quot;.&quot; /&gt;  --&gt;\n\n    &lt;property name=&quot;storePaths&quot;&gt;\n\n         &lt;list&gt;\n\n          &lt;value&gt;/0/webcrawl&lt;/value&gt;\n\n         &lt;/list&gt;\n\n        &lt;/property&gt;\n\n   &lt;!--&lt;property name=&quot;writeRequests&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;writeMetadata&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;writeRevisitForIdenticalDigests&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   &lt;!--&lt;property name=&quot;writeRevisitForNotModified&quot; value=&quot;true&quot; /&gt;  --&gt;\n\n   /&lt;property name=&quot;shouldProcessDecideRule&quot;&gt;/\n\n/     &lt;list&gt;/\n\n/       &lt;bean class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;/\n\n/         &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;/\n\n/         &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;/\n\n/     &lt;/bean&gt;/\n\n/     &lt;/list&gt;/\n\n/   &lt;/property&gt;/\n\n  &lt;/bean&gt;\n\nAny suggestions will be much appreciated. Thanks a lot.\n\nMohamed Elsayed\nBibliotheca Alexandrina\n\nOn 12/02/2010 06:55 PM, kristsi25 wrote:\n&gt;\n&gt; If the content-length is incorrect, the best you can do is set the \n&gt; &quot;maxLengthBytes&quot; setting on the FetchHTTP processor. Once this limit \n&gt; is hit, the processor will stop downloading a file and a truncated \n&gt; file will be written to your archive (unless you have filters on the \n&gt; W(ARC)WriterProcessor to prevent this).\n&gt;\n&gt; - Kris\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Mohamed Elsayed \n&gt; &lt;mohammed.elsayyed@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Thanks very much for your care and for your useful reply. Enabling the\n&gt; &gt; property &quot;setShouldFetchBodyRule&quot; which is under &quot;FetchHTTP&quot; processor\n&gt; &gt; will prevent downloading a large file in case of its size is written in\n&gt; &gt; HTTP header. If the file size is not included in HTTP header, then what\n&gt; &gt; is the suitable solution to prevent downloading large files? Thanks \n&gt; again.\n&gt; &gt;\n&gt; &gt; Mohamed Elsayed\n&gt; &gt; Bibliotheca Alexandrina\n&gt; &gt;\n&gt; &gt; On 12/01/2010 03:03 PM, kristsi25 wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule can not be used in the\n&gt; &gt; &gt; scope rules as you have configured. Scope rules are applied prior to\n&gt; &gt; &gt; any network activity and the size of the document is unknown at that\n&gt; &gt; &gt; time. Only rules relating to the actual URL itself can be applied in\n&gt; &gt; &gt; scope rules.\n&gt; &gt; &gt;\n&gt; &gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule should be used to\n&gt; &gt; &gt; influence the behavior of processors. For each processor it is\n&gt; &gt; &gt; possible to set a shouldProcessDecideRule attribute. If you merely\n&gt; &gt; &gt; wish to avoid storing such long files, you could apply the filter to\n&gt; &gt; &gt; the (W)ARCWriterProcessor.\n&gt; &gt; &gt;\n&gt; &gt; &gt; If you wish to avoid downloading large files, you will need to apply\n&gt; &gt; &gt; the setShouldFetchBodyRule to the FetchHTTP processor and make sure\n&gt; &gt; &gt; your NotExceedsDocumentLengthTresholdDecideRule is set to use header\n&gt; &gt; &gt; length. This will cause the FetchHTTP processor to run the decide \n&gt; rule\n&gt; &gt; &gt; after fetching the HTTP header (which hopefully contains an accurate\n&gt; &gt; &gt; content-length value) and will not download the actual file if it is\n&gt; &gt; &gt; too large.\n&gt; &gt; &gt;\n&gt; &gt; &gt; - Kris\n&gt; &gt; &gt;\n&gt;\n&gt; \n\r\n--------------070103030608030404060300\r\nContent-Type: text/html; charset=&quot;windows-1252&quot;\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta content=&quot;text/html; charset=windows-1252&quot;\n http-equiv=&quot;Content-Type&quot;&gt;\n&lt;/head&gt;\n&lt;body text=&quot;#000000&quot; bgcolor=&quot;#ffffff&quot;&gt;\nThanks so much for your reply. I used the property &quot;maxLengthBytes&quot;\nbefore, as it downloaded the file till reached to the specified limit.\nThe file was actually downloaded, but with a specific length. I don&#39;t\nlike this solution, because I would like to reject the large file, so\nyour first solution is suitable to me. I applied\n&quot;setShouldFetchBodyRule&quot; to the FetchHTTP processor and applied\n&quot;shouldProcessDecideRule&quot; to ARCWriterProcessor.\nHeritrix-3.1.1-SNAPSHOT displayed an error message &quot;&lt;i&gt;2010-12-05T11:56:26.756Z\nSEVERE Invalid property &#39;shouldProcessDecideRule&#39; of bean class\n[org.archive.modules.writer.ARCWriterProcessor]: Bean property\n&#39;shouldProcessDecideRule&#39; is not writable or has an invalid setter\nmethod. Does the parameter type of the setter match the return type of\nthe getter?; Can&#39;t create bean &#39;warcWriter&#39;; Can&#39;t create bean\n&#39;dispositionProcessors&#39;; ; Can&#39;t create bean &#39;crawlController&#39;; Can&#39;t\ncreate bean &#39;statisticsTracker&#39;; ; Can&#39;t create bean &#39;seeds&#39;; ; Can&#39;t\ncreate bean\n&#39;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule#7a0136b0&#39;;\n\nCan&#39;t create bean &#39;scope&#39;; ; Can&#39;t create bean &#39;frontier&lt;/i&gt;&#39;.&quot; The\nfollowing is a code snippet of FetchHTTP processor and\nARCWriterProcessor.&lt;u&gt;&lt;b&gt;&lt;br&gt;\n&lt;br&gt;\nFetchHTTP processor&lt;/b&gt;&lt;/u&gt;&lt;br&gt;\n&lt;pre&gt;&lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;!--&lt;property name=&quot;maxLengthBytes&quot; value=&quot;500000&quot; /&gt;--&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;timeoutSeconds&quot; value=&quot;1200&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;defaultEncoding&quot; value=&quot;ISO-8859-1&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;��&lt;i&gt; &lt;property name=&quot;shouldFetchBodyRule&quot;&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;��� &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;/&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;� &lt;/property&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;soTimeoutMs&quot; value=&quot;20000&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sendIfModifiedSince&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sendIfNoneMatch&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sendConnectionClose&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sendReferer&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sendRange&quot; value=&quot;false&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;ignoreCookies&quot; value=&quot;false&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;sslTrustLevel&quot; value=&quot;OPEN&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;acceptHeaders&quot;&gt; &lt;/pre&gt;\n&lt;pre&gt;������� &lt;list&gt;&lt;/pre&gt;\n&lt;pre&gt;������� &lt;/list&gt;&lt;/pre&gt;\n&lt;pre&gt;������ &lt;/property&gt;&lt;/pre&gt;\n&lt;pre&gt;� --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;httpBindAddress&quot; value=&quot;&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;httpProxyHost&quot; value=&quot;&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;httpProxyPort&quot; value=&quot;0&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;�&lt;/bean&gt;&lt;/pre&gt;\n&lt;u&gt;&lt;b&gt;&lt;br&gt;\nARCWriterProcessor&lt;/b&gt;&lt;/u&gt;&lt;br&gt;\n&lt;pre&gt;�&lt;bean id=&quot;warcWriter&quot; class=&quot;org.archive.modules.writer.ARCWriterProcessor&quot;&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;compress&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;property name=&quot;prefix&quot; value=&quot;TEST&quot; /&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;!-- &lt;property name=&quot;suffix&quot; value=&quot;&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;!--&lt;property name=&quot;maxFileSizeBytes&quot; value=&quot;100000000&quot; /&gt;--&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;property name=&quot;poolMaxActive&quot; value=&quot;5&quot; /&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;poolMaxWaitMs&quot; value=&quot;300000&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;skipIdenticalDigests&quot; value=&quot;false&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;maxTotalBytesToWrite&quot; value=&quot;0&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;directory&quot; value=&quot;.&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;�� &lt;property name=&quot;storePaths&quot;&gt;&lt;/pre&gt;\n&lt;pre&gt;������� &lt;list&gt;&lt;/pre&gt;\n&lt;pre&gt;�������� &lt;value&gt;/0/webcrawl&lt;/value&gt;&lt;/pre&gt;\n&lt;pre&gt;������� &lt;/list&gt;&lt;/pre&gt;\n&lt;pre&gt;������ &lt;/property&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;writeRequests&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;writeMetadata&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;writeRevisitForIdenticalDigests&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;!-- &lt;property name=&quot;writeRevisitForNotModified&quot; value=&quot;true&quot; /&gt; --&gt;&lt;/pre&gt;\n&lt;pre&gt;� &lt;i&gt;&lt;property name=&quot;shouldProcessDecideRule&quot;&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;��� &lt;list&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;����� &lt;bean class=&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresholdDecideRule&quot;&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;������� &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;������� &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10&quot;/&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;��� &lt;/bean&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;��� &lt;/list&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;i&gt;� &lt;/property&gt;&lt;/i&gt;&lt;/pre&gt;\n&lt;pre&gt;�&lt;/bean&gt;&lt;/pre&gt;\nAny suggestions will be much appreciated. Thanks a lot. &lt;br&gt;\n&lt;br&gt;\nMohamed Elsayed&lt;br&gt;\nBibliotheca Alexandrina&lt;br&gt;\n&lt;br&gt;\nOn 12/02/2010 06:55 PM, kristsi25 wrote:\n&lt;blockquote cite=&quot;mid:id8j1b+gcuu@...&quot; type=&quot;cite&quot;&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot;\n content=&quot;text/html; charset=windows-1252&quot;&gt;\n  &lt;span style=&quot;display: none;&quot;&gt;�&lt;/span&gt;\n\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;If the content-length is incorrect, the best you can do is set the\n&quot;maxLengthBytes&quot; setting on the FetchHTTP processor. Once this limit is\nhit, the processor will stop downloading a file and a truncated file\nwill be written to your archive (unless you have filters on the\nW(ARC)WriterProcessor to prevent this).&lt;br&gt;\n  &lt;br&gt;\n- Kris&lt;br&gt;\n  &lt;br&gt;\n--- In &lt;a moz-do-not-send=&quot;true&quot;\n href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@yahoogroups.com&lt;/a&gt;,\nMohamed Elsayed &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:mohammed.elsayyed@...&quot;&gt;&lt;mohammed.elsayyed@...&gt;&lt;/a&gt; wrote:&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Thanks very much for your care and for your useful reply. Enabling\nthe &lt;br&gt;\n&gt; property &quot;setShouldFetchBodyRule&quot; which is under &quot;FetchHTTP&quot;\nprocessor &lt;br&gt;\n&gt; will prevent downloading a large file in case of its size is\nwritten in &lt;br&gt;\n&gt; HTTP header. If the file size is not included in HTTP header, then\nwhat &lt;br&gt;\n&gt; is the suitable solution to prevent downloading large files?\nThanks again.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Mohamed Elsayed&lt;br&gt;\n&gt; Bibliotheca Alexandrina&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; On 12/01/2010 03:03 PM, kristsi25 wrote:&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule can not be\nused in the &lt;br&gt;\n&gt; &gt; scope rules as you have configured. Scope rules are applied\nprior to &lt;br&gt;\n&gt; &gt; any network activity and the size of the document is unknown\nat that &lt;br&gt;\n&gt; &gt; time. Only rules relating to the actual URL itself can be\napplied in &lt;br&gt;\n&gt; &gt; scope rules.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule should be used\nto &lt;br&gt;\n&gt; &gt; influence the behavior of processors. For each processor it\nis &lt;br&gt;\n&gt; &gt; possible to set a shouldProcessDecideRule attribute. If you\nmerely &lt;br&gt;\n&gt; &gt; wish to avoid storing such long files, you could apply the\nfilter to &lt;br&gt;\n&gt; &gt; the (W)ARCWriterProcessor.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; If you wish to avoid downloading large files, you will need\nto apply &lt;br&gt;\n&gt; &gt; the setShouldFetchBodyRule to the FetchHTTP processor and\nmake sure &lt;br&gt;\n&gt; &gt; your NotExceedsDocumentLengthTresholdDecideRule is set to use\nheader &lt;br&gt;\n&gt; &gt; length. This will cause the FetchHTTP processor to run the\ndecide rule &lt;br&gt;\n&gt; &gt; after fetching the HTTP header (which hopefully contains an\naccurate &lt;br&gt;\n&gt; &gt; content-length value) and will not download the actual file\nif it is &lt;br&gt;\n&gt; &gt; too large.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; - Kris&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n  &lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n\n\n&lt;!-- end group email --&gt;&lt;/blockquote&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------070103030608030404060300--\r\n\n"}}