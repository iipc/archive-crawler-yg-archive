{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Q_FsW72Cfxtl6YkF1HCWSC7YB6t1-dbOiN2V-gy3wTLvzDOopvFDDPzAa5I-UvtMkvI_h8QZMpKTMG7RQrFdNEN4wMJeLZs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Extractors communicating with CandidateChain processors...","postDate":"1368497347","msgId":8085,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUxOTE5Q0MzLjMwNDA1MDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFQzVFQGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPiA8QjNGOEU4NUItODAxQy00MDVGLThBOTctQzVFMjdDMjk2OUMxQGFyY2hpdmUub3JnPiA8Q0FBLXo3MEtXdjlCOF9VaGtzRD1GZ2tXQ3RYWVNUekVFWlhZanBjSEc4SjNzNTJ0UmNnQG1haWwuZ21haWwuY29tPiA8NkU5NDE1MzctRDAyOS00RDNELTk0NTctNjFDRTQwQjg2NTQzQGFyY2hpdmUub3JnPiA8RTQ4NkQ5M0UzNzJEOEM0MjgyRThERjA3ODM5MkYxMkQ5OEVDNUVAYmxpa2kuYm9raGxhZGEubG9jYWw+"},"prevInTopic":8082,"nextInTopic":8093,"prevInTime":8084,"nextInTime":8086,"topicId":8073,"numMessagesInTopic":8,"msgSnippet":"Another option: some refactoring recently done in HER-2031 allows earlier processors to add configured CrawlURIs directly to the triggering/origin CrawlURI s","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 32040 invoked by uid 102); 14 May 2013 02:09:10 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m7.grp.bf1.yahoo.com with SMTP; 14 May 2013 02:09:10 -0000\r\nX-Received: (qmail 9591 invoked from network); 14 May 2013 02:09:10 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 14 May 2013 02:09:10 -0000\r\nX-Received: (qmail 95513 invoked by uid 0); 14 May 2013 02:09:09 -0000\r\nX-Received: from 50.0.190.171 (HELO silverbook.local) (50.0.190.171)\n  by relay01.pair.com with SMTP; 14 May 2013 02:09:09 -0000\r\nX-pair-Authenticated: 50.0.190.171\r\nMessage-ID: &lt;51919CC3.3040502@...&gt;\r\nDate: Mon, 13 May 2013 19:09:07 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:17.0) Gecko/20130328 Thunderbird/17.0.5\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt; &lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt; &lt;CAA-z70KWv9B8_UhksD=FgkWCtXYSTzEEZXYjpcHG8J3s52tRcg@...&gt; &lt;6E941537-D029-4D3D-9457-61CE40B86543@...&gt; &lt;E486D93E372D8C4282E8DF078392F12D98EC5E@...&gt;\r\nIn-Reply-To: &lt;E486D93E372D8C4282E8DF078392F12D98EC5E@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Extractors communicating with CandidateChain\n processors...\r\nX-Yahoo-Group-Post: member; u=137285340; y=Rzk_Yfd7db0tiUOKr-sp-bQNysWVh8kqRMUqxbesm_TN\r\nX-Yahoo-Profile: gojomo\r\n\r\nAnother option: some refactoring recently done in HER-2031 allows \nearlier processors to add configured CrawlURIs directly to the \ntriggering/origin CrawlURI&#39;s outCandidates (rather than just a Link in \noutLinks which is later turned into a full CrawlURI).\n\nFor example, this new possibility is used in \nFormLoginProcessor.createFormSubmissionAttempt.\n\nThe original Link/CrawlURI split was intended to defer creating the \nlarger CrawlURIs unless definitely needed, and until after an alternate \nbase-URI for derelativization might be set. It might not be important to \nmaintain the separate representations, especially if CrawlURI could be \nslimmed a bit, since now every Link does become a CrawlURI before \nscoping. OTOH, maybe a separate thinner representation of a Link is \nstill helpful. (I&#39;d need to think a bunch more to have a strong opinion \non whether unification would be worthwhile...)\n\n- Gordon\n\nOn 5/13/13 8:26 AM, Kristinn Sigur�sson wrote:\n&gt; Yes, adding a data map to Link would really solve this quite thoroughly.\n&gt;\n&gt; I sketched out how it might work in my H3 fork. See https://github.com/kris-sigur/heritrix3/commit/7c5b2ceb005ea9ba02cd0a657578514c3caee080\n&gt;\n&gt; - Kris\n&gt;\n&gt; P.S. Its seems really odd that Link and CrawlURI do not belong to the same package. Would have made this easier.\n&gt;\n&gt;\n&gt; -------------------------------------------------------------------------\n&gt; Landsb�kasafn �slands - H�sk�lab�kasafn | Arngr�msg�tu 3 - 107 Reykjav�k\n&gt; S�mi/Tel: +354 5255600 | www.landsbokasafn.is\n&gt; -------------------------------------------------------------------------\n&gt; fyrirvari/disclaimer - http://fyrirvari.landsbokasafn.is\n&gt;&gt; -----Original Message-----\n&gt;&gt; From: archive-crawler@yahoogroups.com [mailto:archive-\n&gt;&gt; crawler@yahoogroups.com] On Behalf Of Adam Miller\n&gt;&gt; Sent: 10. ma� 2013 20:47\n&gt;&gt; To: archive-crawler@yahoogroups.com\n&gt;&gt; Subject: Re: [archive-crawler] Extractors communicating with\n&gt;&gt; CandidateChain processors...\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; That sounds very useful to me. It&#39;s better than abusing the context\n&gt;&gt; field for every possible case where someone would want to tag\n&gt;&gt; something onto a URI\n&gt;&gt;\n&gt;&gt; ~Adam\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On May 10, 2013, at 12:27 PM, Noah Levitt &lt;nlevitt@...&gt;\n&gt;&gt; wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;        It sounds like we have two use cases for adding a &quot;flexible\n&gt;&gt; dynamic attributes list&quot; like CrawlURI.data to\n&gt;&gt; org.archive.modules.extractor.Link\n&gt;&gt;        . Would be very cheap for the common case where it&#39;s not used.\n&gt;&gt; Would you guys agree that that&#39;s the preferred solution?\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;        Noah\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;        On Fri, May 10, 2013 at 11:25 AM, Adam Miller\n&gt;&gt; &lt;adam@...&gt; wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;                I have used a custom ViaContext, to annotate a URL for\n&gt;&gt; later detection in the processor chain. This required creating a\n&gt;&gt; custom decide rule to check the context.\n&gt;&gt;\n&gt;&gt;                An example of this can be seen here:\n&gt;&gt;                https://github.com/adam-\n&gt;&gt; miller/ExternalBrowserExtractorHTML\n&gt;&gt;\n&gt;&gt;                Decide Rule: https://github.com/adam-\n&gt;&gt; miller/ExternalBrowserExtractorHTML/blob/master/src/main/java/org/arc\n&gt;&gt; hive/modules/deciderules/ViaContextMatchesRegexDecideRule.java\n&gt;&gt;\n&gt;&gt;                An example from ExternalBrowserExtractorHtml.java which\n&gt;&gt; gets &#39;processLink()&#39; from ExtractorHtml\n&gt;&gt;\n&gt;&gt;        processLink(curi,json.getString(&quot;url&quot;),&quot;=BROWSER_MISC&quot;.toString\n&gt;&gt; ());\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;                ~Adam Miller\n&gt;&gt;\n&gt;&gt;                On May 10, 2013, at 9:43 AM, Kristinn Sigur�sson\n&gt;&gt; &lt;kristinn@...&gt; wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;                        I have an extractor that needs to be able to mark\n&gt;&gt; up extracted URLs so that a processor in the candidates chain knows\n&gt;&gt; how to handle them.\n&gt;&gt;\n&gt;&gt;                        The only options I see is to have the extractor\n&gt;&gt; create a CrawlURI itself and add it to the OutCandidates list rather\n&gt;&gt; than OutLinks or write all the markup into the parent curi&#39;s data map\n&gt;&gt; and retrieve it using the curi.getFullVia() once in the candidate\n&gt;&gt; chain.\n&gt;&gt;\n&gt;&gt;                        The latter option feels like a royal hack and the\n&gt;&gt; former also feels a bit iffy, so I&#39;m asking if there a recommended or\n&gt;&gt; established way of doing this?\n&gt;&gt;\n&gt;&gt;                        Best,\n&gt;&gt;                        Kris\n&gt;&gt;\n&gt;&gt;                        -------------------------------------------------\n&gt;&gt; ---------\n&gt;&gt;\n&gt;&gt;                        Landsb�kasafn �slands - H�sk�lab�kasafn |\n&gt;&gt; Arngr�msg�tu 3 - 107 Reykjav�k\n&gt;&gt;                        S�mi/Tel: +354 5255600 &lt;tel:%2B354%205255600&gt;  |\n&gt;&gt; www.landsbokasafn.is &lt;http://www.landsbokasafn.is/&gt;\n&gt;&gt;                        -------------------------------------------------\n&gt;&gt; ---------\n&gt;&gt;\n&gt;&gt;                        fyrirvari/disclaimer -\n&gt;&gt; http://fyrirvari.landsbokasafn.is\n&gt;&gt; &lt;http://fyrirvari.landsbokasafn.is/&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}