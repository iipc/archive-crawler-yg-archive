{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"59wMZF5Gpb3HPtDlA4P-enKyi7sOlsdlek_TGJE7UlcW1iSHvAgplo5VqoG1g8XxefK3Y8qBkQErg2RnUOsiOnZuMcVnN8w","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Large crawl - OOM?","postDate":"1227381343","msgId":5589,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ5Mjg1QTVGLjIwMzA1MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGdnOWdpNSs0dWY0QGVHcm91cHMuY29tPg==","referencesHeader":"PGdnOWdpNSs0dWY0QGVHcm91cHMuY29tPg=="},"prevInTopic":5588,"nextInTopic":0,"prevInTime":5588,"nextInTime":5590,"topicId":5588,"numMessagesInTopic":2,"msgSnippet":"... What version of Heritrix? ... This looks like in the course of composing a web page response for the admin UI, on which a count of unviewed alerts appears,","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 12564 invoked from network); 22 Nov 2008 19:15:48 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m47.grp.scd.yahoo.com with QMQP; 22 Nov 2008 19:15:48 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta17.grp.scd.yahoo.com with SMTP; 22 Nov 2008 19:15:48 -0000\r\nX-Received: (qmail 96339 invoked from network); 22 Nov 2008 19:15:45 -0000\r\nX-Received: from 70.137.183.43 (HELO ?10.0.13.7?) (70.137.183.43)\n  by relay03.pair.com with SMTP; 22 Nov 2008 19:15:45 -0000\r\nX-pair-Authenticated: 70.137.183.43\r\nMessage-ID: &lt;49285A5F.2030504@...&gt;\r\nDate: Sat, 22 Nov 2008 11:15:43 -0800\r\nUser-Agent: Thunderbird 2.0.0.18 (Windows/20081105)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;gg9gi5+4uf4@...&gt;\r\nIn-Reply-To: &lt;gg9gi5+4uf4@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Large crawl - OOM?\r\nX-Yahoo-Group-Post: member; u=137285340; y=-s9e65NkyGYAVvggxeZTyZx1OuJv6TsqRROVRn7u_9uC\r\nX-Yahoo-Profile: gojomo\r\n\r\ngoblin_cz wrote:\n&gt; Hallo,\n&gt; \n&gt; I am working on large crawl (whole czech domain -- 480k domains). The\n&gt; crawl is based on this order.xml\n&gt; \n&gt; http://raptor.webarchiv.cz/heritrix/order.xml\n\nWhat version of Heritrix?\n\n&gt; After preparing phase ware all seeds loaded into queues (with depth 1)\n&gt; and after I hit Start - this exception is thrown:\n&gt; \n&gt; java.util.ConcurrentModificationException\n&gt; \n&gt; java.util.ConcurrentModificationException\n&gt; \tat\n&gt; java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)\n&gt; \tat java.util.AbstractList$Itr.next(AbstractList.java:343)\n&gt; \tat org.archive.io.SinkHandler.getUnreadCount(SinkHandler.java:141)\n&gt; \tat org.archive.crawler.Heritrix$1.getNewCount(Heritrix.java:453)\n&gt; \tat org.archive.crawler.Heritrix.getNewAlertsCount(Heritrix.java:1866)\n&gt; \tat org.archive.crawler.jspc.admin.index_jsp._jspService(Unknown Source)\n&gt; \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n&gt; \tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:358)\n&gt; \tat\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:342)\n&gt; \tat org.archive.crawler.admin.ui.RootFilter.doFilter(RootFilter.java:67)\n&gt; \tat\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:334)\n&gt; \tat\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:286)\n&gt; \tat\n&gt; org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n&gt; \tat org.mortbay.http.HttpContext.handle(HttpContext.java:1807)\n&gt; \tat\n&gt; org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:525)\n&gt; \tat org.mortbay.http.HttpContext.handle(HttpContext.java:1757)\n&gt; \tat org.mortbay.http.HttpServer.service(HttpServer.java:879)\n&gt; \tat org.mortbay.http.HttpConnection.service(HttpConnection.java:789)\n&gt; \tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:960)\n&gt; \tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:806)\n&gt; \tat\n&gt; org.mortbay.http.SocketListener.handleConnection(SocketListener.java:218)\n&gt; \tat org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:300)\n&gt; \tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:511)\n\nThis looks like in the course of composing a web page response for the \nadmin UI, on which a count of unviewed alerts appears, the collection of \nunviewed alerts was growing -- thus the ConcurrentModificationException.\n\nThough ideally this wouldn&#39;t ever happen, I believe this exception alone \nshould be transient and harmless. Backing up, and then viewing the main \nconsole, the crawl may be started and unharmed.\n\nHowever, whatever is causing the alert(s) at start is a greater concern.\n\n&gt; In logs I found a lot of exceptions like this one:\n&gt; \n&gt; 11/22/2008 17:32:11 +0000 SEVERE\n&gt; org.archive.crawler.frontier.BdbWorkQueue peekItem Trying get #2 in\n&gt; queue cz,aaa-auto-praha-repy, with 1 items using key\n&gt; cz,aaa-auto-praha-repy,\n&gt; 11/22/2008 17:32:11 +0000 SEVERE\n&gt; org.archive.crawler.frontier.BdbWorkQueue peekItem peekItem failure;\n&gt; retrying\n&gt; com.sleepycat.je.DatabaseException: (JE 3.3.62) bdb queue cap missing\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbMultipleWorkQueues.getNextNearestItem(BdbMultipleWorkQueues.java:294)\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbMultipleWorkQueues.get(BdbMultipleWorkQueues.java:258)\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbWorkQueue.peekItem(BdbWorkQueue.java:107)\n&gt;         at org.archive.crawler.frontier.WorkQueue.peek(WorkQueue.java:145)\n&gt;         at\n&gt; org.archive.crawler.frontier.WorkQueueFrontier.next(WorkQueueFrontier.java:656)\n&gt;         at org.archive.crawler.framework.ToeThread.run(ToeThread.java:144)\n&gt; 11/22/2008 17:32:11 +0000 SEVERE\n&gt; org.archive.crawler.frontier.BdbWorkQueue peekItem Trying get #3 in\n&gt; queue cz,aaa-auto-praha-repy, with 1 items using key\n&gt; cz,aaa-auto-praha-repy,\n&gt; 11/22/2008 17:32:11 +0000 SEVERE\n&gt; org.archive.crawler.frontier.BdbWorkQueue peekItem peekItem failure;\n&gt; retrying\n&gt; com.sleepycat.je.DatabaseException: (JE 3.3.62) bdb queue cap missing\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbMultipleWorkQueues.getNextNearestItem(BdbMultipleWorkQueues.java:294)\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbMultipleWorkQueues.get(BdbMultipleWorkQueues.java:258)\n&gt;         at\n&gt; org.archive.crawler.frontier.BdbWorkQueue.peekItem(BdbWorkQueue.java:107)\n&gt;         at org.archive.crawler.frontier.WorkQueue.peek(WorkQueue.java:145)\n&gt;         at\n&gt; org.archive.crawler.frontier.WorkQueueFrontier.next(WorkQueueFrontier.java:656)\n&gt;         at org.archive.crawler.framework.ToeThread.run(ToeThread.java:144)\n\nThis is suggestive of corruption in the BDB-JE that maintains the URI \nqueues. Each queue has a dummy object at its top; this error says it&#39;s \nmissing.\n\nAre these the very first exceptions appearing in heritrix_out?\n\nHave there been any successfully crawling URIs (in crawl.log)?\n\nAre you sure you&#39;re starting the crawl pointing at a fresh/empty &#39;state&#39; \ndirectory (where the BDB-JE environment lives)?\n\nCan you move to the very latest Heritrix, 1.14.2? It uses the latest \nBDB-JE library (3.3.74) which does have fixes that could affect Heritrix \ncrawls. (Though, with your errors happening immediately after launch, I \ndoubt any such issues would be the culprit.)\n\nYour subject line mentions OOM but your message doesn&#39;t include any \nindications of you&#39;ve seen an OutOfMemoryError on this crawl. Have you \nsomewhere else in the same logs?\n\n- Gordon @ IA\n\n\n&gt; A spent a lot of time with experimenting, but everything ended like\n&gt; this. Any ideas where the problem can be?\n&gt; \n&gt; Thanks a lot,\n&gt; \n&gt; Adam\n&gt; \n&gt; Oh and tech. spec:\n&gt; \n&gt; 8 core Xeon\n&gt; 8GB RAM\n&gt; 64bit sun java\n&gt; 3GB java heap\n&gt; Debian 4.1\n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}