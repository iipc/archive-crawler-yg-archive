{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":202034705,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"ZVmV0MoxQreyeJEtt9Ha6qFVSHNLEXhlDAqWouhSoETbYDz8uDA_MIiZlaeiwH8TYAntPTUCKd3qNbh6HLLU_zqQLw5ywWI","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Question on Embedding Heritrix","postDate":"1183479096","msgId":4407,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2OEE3NTM4LjgwMzA2MDVAZHVib2NlLm5ldD4=","inReplyToHeader":"PGY2ZDBndStoOWE4QGVHcm91cHMuY29tPg==","referencesHeader":"PGY2ZDBndStoOWE4QGVHcm91cHMuY29tPg=="},"prevInTopic":4406,"nextInTopic":4409,"prevInTime":4406,"nextInTime":4408,"topicId":4400,"numMessagesInTopic":13,"msgSnippet":"The WARNING in the below is a complaint about your order file.  It states that current Heritrix version does not know what to do with the configuration named","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 59257 invoked from network); 3 Jul 2007 16:12:31 -0000\r\nReceived: from unknown (66.218.66.68)\n  by m43.grp.scd.yahoo.com with QMQP; 3 Jul 2007 16:12:31 -0000\r\nReceived: from unknown (HELO mail5.epsilon.netvigour.com) (208.229.144.195)\n  by mta11.grp.scd.yahoo.com with SMTP; 3 Jul 2007 16:12:31 -0000\r\nReceived: from incoming-imf1.netvigour.com ([10.201.10.8]) by mail5.epsilon.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 3 Jul 2007 12:08:30 -0400\r\nReceived: from [208.76.47.58] ([208.76.47.58]) by incoming-imf1.netvigour.com with Microsoft SMTPSVC(6.0.3790.1830);\n\t Tue, 3 Jul 2007 12:08:29 -0400\r\nMessage-ID: &lt;468A7538.8030605@...&gt;\r\nDate: Tue, 03 Jul 2007 09:11:36 -0700\r\nUser-Agent: Thunderbird 1.5.0.12 (Macintosh/20070509)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f6d0gu+h9a8@...&gt;\r\nIn-Reply-To: &lt;f6d0gu+h9a8@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: stack@...\r\nX-OriginalArrivalTime: 03 Jul 2007 16:08:29.0987 (UTC) FILETIME=[65889730:01C7BD8C]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Question on Embedding Heritrix\r\nX-Yahoo-Group-Post: member; u=202034705; y=PE-ni2Vou6jTA8waqV7QylUfYONCaKvg33aGjcQmjMEX-MfZCOkGWMQH\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nThe WARNING in the below is a complaint about your order file.  It \nstates that current Heritrix version does not know what to do with the \nconfiguration named &#39;sha1-content&#39;. &#39;sha1-content&#39; is a config. that \nused to exist.   It was replaced by two options -- whether to digest and \nwhat the digest should be (e.g. sha1, md5, etc.).  See \nhttp://webteam.archive.org/jira/browse/HER-1074,\n\nIn another post, I see you adding the below lines to CATALINA_PATH:\n\n-Dcom.sun.management.jmxremote=true\n\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n-Dheritrix.properties=/path/to/properties/file\n-Dcom.sun.management.jmxremote.port=8849\n\nYou shouldn&#39;t have to do that because tomcat runs its own JMX Agent (The \nabove is starting up the JVM&#39;s JMX agent).\n\nAlso in previous post, you say &#39;problem solved&#39;.  Did that mean you have \nsuccessfully managed to embed Heritrix inside your webapp?\n\nSt.Ack\n\nP.S. Regards embedding, you might check out the heritrix.war web.xml \nfile: src/webapps/admin/WEB-INF/web.xml. See how it makes use of the \nclass org.archive.crawler.WebappLifecycle.\n\n\nArtem Antonov wrote:\n&gt;\n&gt; No, there are nothing in heritrix_out.log.\n&gt; In debug mode I get the following lines:\n&gt;\n&gt; 03.07.2007 10:43:38 org.archive.crawler.Heritrix postRegister\n&gt; INFO:\n&gt; org.archive.crawler:guiport=8080,host=artem,name=Heritrix,type=CrawlService \n&gt;\n&gt; registered to MBeanServerId=artem_1183448131849,\n&gt; SpecificationVersion=1.2 Maintenance Release,\n&gt; ImplementationVersion=1.5.0_04-b05, SpecificationVendor=Sun\n&gt; Microsystems\n&gt; 03.07.2007 10:43:39\n&gt; org.archive.crawler.settings.CrawlSettingsSAXHandler$SimpleElementHandler\n&gt; endElement\n&gt; WARNING: Unknown attribute &#39;sha1-content&#39; in\n&gt; &#39;file:/home/artem/java/projects/test/order.xml-200707025353227/order.xml&#39;, \n&gt;\n&gt; line: 146, column: 52\n&gt; 03.07.2007 10:43:39\n&gt; org.archive.crawler.settings.CrawlSettingsSAXHandler$SimpleElementHandler\n&gt; endElement\n&gt; WARNING: Unknown attribute &#39;sha1-content&#39; in\n&gt; &#39;file:/home/artem/java/projects/test/order.xml-200707025353227/order.xml&#39;, \n&gt;\n&gt; line: 173, column: 52\n&gt;\n&gt; When I use the same order.xml and seeds.txt to run job in Heritrix\n&gt; Admin Console, everyting is ok.\n&gt;\n&gt; It seems, the problem is that Heritrix in my web-application could\n&gt; not look up any JMX Agent Running. How I could register Heritrix\n&gt; with JMX Agent?\n&gt;\n&gt; Web-application is running on Tomcat 5.5.\n&gt; Thanks.\n&gt;\n&gt; Regards,\n&gt; Artem.\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Michael Stack &lt;stack@...&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt; Anything in heritrix_out.log? Can you run your embedded instance\n&gt; inside\n&gt; &gt; a debugger to try and figure what is awry? Does the\n&gt; order.xml+seeds.txt\n&gt; &gt; in an unembedded Heritrix crawl?\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Artem Antonov wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hello,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I use the following code to embedding Heritrix to my\n&gt; &gt; &gt; web-application:\n&gt; &gt; &gt;\n&gt; &gt; &gt; try {\n&gt; &gt; &gt; Heritrix heritrix = new Heritrix(true);\n&gt; &gt; &gt; heritrix.addCrawlJob(\n&gt; &gt; &gt; &quot;path/to/order.xml&quot;,\n&gt; &gt; &gt; &quot;job_name&quot;,\n&gt; &gt; &gt; &quot;job_description&quot;,\n&gt; &gt; &gt; &quot;seeds.txt&quot;);\n&gt; &gt; &gt;\n&gt; &gt; &gt; heritrix.start();\n&gt; &gt; &gt; heritrix.startCrawling();\n&gt; &gt; &gt;\n&gt; &gt; &gt; CrawlJobHandler handler = heritrix.getJobHandler();\n&gt; &gt; &gt; while (handler.isCrawling()) {\n&gt; &gt; &gt; /* some actions */\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; } catch (Exception ex) {\n&gt; &gt; &gt; logger.error( &quot;Error: &quot;, ex );\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; The problem is that I get an empty &#39;crawl.log&#39; file. It seems\n&gt; that\n&gt; &gt; &gt; Heritrix creates all the necessary directories, but does not\n&gt; perform\n&gt; &gt; &gt; crawling.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Heritrix ver. 1.12.1.\n&gt; &gt; &gt; Does anybody have an idea to solve the problem?\n&gt; &gt; &gt; Thanks.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Regards,\n&gt; &gt; &gt; Artem.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;  \n\n\n"}}