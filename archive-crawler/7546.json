{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"David Pane","from":"David Pane &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"htlVjzS6LrDaVFMxO08YeyIYYrRZaI21e_aT6Zuahzip_QxVQ3hS6bRzR5aINcieQ57vO4c-mAKBzbTKFvPJ6IO9h1c","spamInfo":{"isSpam":false,"reason":"5"},"subject":"Re: crawl instance stopped crawling","postDate":"1327084433","msgId":7546,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMTlCMzkxLjEwNzA0MDFAY3MuY211LmVkdT4=","inReplyToHeader":"PDRGMTVCQjNBLjUwMzA2QGFyY2hpdmUub3JnPg==","referencesHeader":"PDRGMTU5NEQwLjIwOTA4MDhAY3MuY211LmVkdT4gPDRGMTVCQjNBLjUwMzA2QGFyY2hpdmUub3JnPg=="},"prevInTopic":7529,"nextInTopic":7547,"prevInTime":7545,"nextInTime":7547,"topicId":7527,"numMessagesInTopic":27,"msgSnippet":"This morning, I noticed that instance #0 stopped crawling - it stopped in the middle of the night.  I captured the jstack and then restarted the crawl.  The","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 21652 invoked from network); 20 Jan 2012 18:34:03 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 20 Jan 2012 18:34:03 -0000\r\nX-Received: from unknown (HELO smtp.andrew.cmu.edu) (128.2.11.61)\n  by mta1.grp.sp2.yahoo.com with SMTP; 20 Jan 2012 18:34:00 -0000\r\nX-Received: from [128.2.209.200] (SAVOY.LTI.CS.CMU.EDU [128.2.209.200])\n\t(user=dpane mech=PLAIN (0 bits))\n\tby smtp.andrew.cmu.edu (8.14.4/8.14.4) with ESMTP id q0KIXrbQ026180\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);\n\tFri, 20 Jan 2012 13:33:53 -0500\r\nMessage-ID: &lt;4F19B391.1070401@...&gt;\r\nDate: Fri, 20 Jan 2012 13:33:53 -0500\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt;\r\nReferences: &lt;4F1594D0.2090808@...&gt; &lt;4F15BB3A.50306@...&gt;\r\nIn-Reply-To: &lt;4F15BB3A.50306@...&gt;\r\nContent-Type: multipart/mixed;\n boundary=&quot;------------020502020700080806060106&quot;\r\nX-PMX-Version: 5.5.9.388399, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2011.3.18.170322\r\nX-SMTP-Spam-Clean: 10% (\n BASE64_ENC_TEXT 0.5, MIME_TEXT_ONLY_MP_MIXED 0.05, BODY_SIZE_10000_PLUS 0, LINK_TO_IMAGE 0, TXT_ATTACHED 0, __BAT_BOUNDARY 0, __BOUNCE_CHALLENGE_SUBJ 0, __BOUNCE_NDR_SUBJ_EXEMPT 0, __CP_MEDIA_BODY 0, __CP_URI_IN_BODY 0, __CT 0, __CTYPE_HAS_BOUNDARY 0, __CTYPE_MULTIPART 0, __CTYPE_MULTIPART_MIXED 0, __HAS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __MOZILLA_MSGID 0, __SANE_MSGID 0, __STOCK_PHRASE_7 0, __TO_MALFORMED_2 0, __URI_NO_MAILTO 0, __USER_AGENT 0)\r\nX-SMTP-Spam-Score: 10%\r\nX-Scanned-By: MIMEDefang 2.60 on 128.2.11.61\r\nX-eGroups-Msg-Info: 1:5:0:0:0\r\nFrom: David Pane &lt;dpane@...&gt;\r\nSubject: Re: crawl instance stopped crawling\r\nX-Yahoo-Group-Post: member; u=500983475; y=Zjb9OX6XrLFZw0h0bboEFuYhHn1JxBC4o1t1ClmUtlt4aOq4oFV94A\r\nX-Yahoo-Profile: david_pane1\r\n\r\n\r\n--------------020502020700080806060106\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nThis morning, I noticed that instance #0 stopped crawling - it stopped \nin the middle of the night.  I captured the jstack and then restarted \nthe crawl.  The first attempt of recovering from the last checkpoint \nfailed (well actually it took way over 1 hr to recover so I restarted \nHeritrix. I used the next to the last checkpoint this time (1 hr back).\n\nThe crawl restarted and began to crawl.  I did start to pause the \ninstance and decided to un-pause before it was in the paused state. \nRight after un-pausing, the crawl stopped completely. This happened to \nbe about 1 hr after the restart) and about the same place in the crawl \nthat it stopped the last time.\n\nI have attached the jstack and log file from this last 1hr crawl segment \nand will follow up with the jstack and log from the longer 2+ day segment.\n\n--David\n\nOn 1/17/2012 1:17 PM, Gordon Mohr wrote:\n&gt; What does the stack for ToeThread #527 show (either via the web UI or\n&gt; the &#39;jstack&#39; tool)?\n&gt;\n&gt; Were there any other errors noted in the logs, especially around the\n&gt; time progress stopped?\n&gt;\n&gt; Some unrecoverable errors kill a thread without releasing any locks the\n&gt; thread holds; that could explain this state. Finding the triggering\n&gt; error could help determine how best to resume and if there are any other\n&gt; continuing risks on that node.\n&gt;\n&gt; - Gordon\n&gt;\n&gt; On 1/17/12 7:33 AM, David Pane wrote:\n&gt;&gt; Can someone explain what is happening here and how I can get out of this\n&gt;&gt; state. It turns out that the last URI that this instance crawled was\n&gt;&gt; yesterday year morning.\n&gt;&gt;\n&gt;&gt; It appears that every thread has this same Blocked/Waiting On:\n&gt;&gt; org.archive.bdb.BdbModule$1@106ac860 which is owned by ToeThread #527:\n&gt;&gt; (550) message\n&gt;&gt;\n&gt;&gt; --David\n&gt;&gt;\n&gt;&gt; Toe threads report - 201201171526\n&gt;&gt; Job being crawled: The Lemur Web Crawler\n&gt;&gt; Number of toe threads in pool: 1200 (1179 active)\n&gt;&gt;\n&gt;&gt; [ToeThread #1: http://jj8wzhg.artlog.com/artworks/13881\n&gt;&gt; CrawlURI http://jj8wzhg.artlog.com/artworks/13881 LLLL\n&gt;&gt; http://jj8wzhg.artlog.com/people/15676-allen-vandever 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d10h49m16s518ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m12s753ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;&gt; [ToeThread #2:\n&gt;&gt; http://www.kurjeoko.com/sdlink/foto.php?PHPSESSID=3437b30f8d8c441f52b17f30d1bdc327\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; CrawlURI\n&gt;&gt; http://www.kurjeoko.com/sdlink/foto.php?PHPSESSID=3437b30f8d8c441f52b17f30d1bdc327\n&gt;&gt;\n&gt;&gt; LL http://www.kurjeoko.com/sdlink/oko.php 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d10h49m21s628ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m10s512ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;&gt; [ToeThread #3: http://www.climbing.nl/images/nieuws/pie-klein.jpg\n&gt;&gt; CrawlURI http://www.climbing.nl/images/nieuws/pie-klein.jpg LLLLLE\n&gt;&gt; http://www.climbing.nl/nieuws/2007-2.html 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d10h49m16s322ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m14s119ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; .\n&gt;&gt; .\n&gt;&gt; .\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [ToeThread #1198: http://www.glassgaragegallery.com/artwork/MS1004B.jpg\n&gt;&gt; CrawlURI http://www.glassgaragegallery.com/artwork/MS1004B.jpg LLLELE\n&gt;&gt; http://www.glassgaragegallery.com/lib/display.php?a=MS1004B&t=Ladies&#39;%20Underwater%20Gardening%20Society%20--%20Shark%20Mngmnt.%20Class,%20Society%20Lesson%20No.%203%20(Detail%201)&h=40&w=60&d=0&m=\n&gt;&gt;\n&gt;&gt; 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d11h6m27s632ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h46m17s242ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;&gt; [ToeThread #1199:\n&gt;&gt; http://technicalservices.nsula.edu/assets/Tutorial-Files/iChat/3.-iChat-verify.png\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; CrawlURI\n&gt;&gt; http://technicalservices.nsula.edu/assets/Tutorial-Files/iChat/3.-iChat-verify.png\n&gt;&gt;\n&gt;&gt; LLLLLLLLLLLLLL\n&gt;&gt; http://technicalservices.nsula.edu/home/SearchForm?start=100 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d10h49m40s135ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m17s438ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;&gt; [ToeThread #1200:\n&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?t=1198&view=next\n&gt;&gt; CrawlURI\n&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?t=1198&view=next LLLE\n&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?p=7047&sid=6928b406d15a95929cf756f0e2d29073\n&gt;&gt;\n&gt;&gt; 1 attempts\n&gt;&gt; in processor:\n&gt;&gt; ACTIVE for 1d10h49m39s675ms\n&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m19s23ms\n&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt; ]\n&gt;\n\r\n--------------020502020700080806060106\r\nContent-Type: text/plain;\n name=&quot;i0.1hr.20120120.stopped.jstack.txt&quot;\r\nContent-Disposition: attachment;\n filename=&quot;i0.1hr.20120120.stopped.jstack.txt&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------020502020700080806060106\r\nContent-Type: text/plain;\n name=&quot;i0.1hr.heritrix_out.log.txt&quot;\r\nContent-Disposition: attachment;\n filename=&quot;i0.1hr.heritrix_out.log.txt&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------020502020700080806060106--\r\n\n"}}