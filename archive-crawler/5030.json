{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"fy5cVZpjNsp5S5gdLvrMIhMjkWxHgXO-71QMFcidM5dJuwoyNip0GKIZu4c9pYTs9Bxqb6iWjD0dOfvhKz4ogfWUMN2BrTM","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] redirects inside and outside of scope","postDate":"1204338435","msgId":5030,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3QzhCRjAzLjUwMDAyMDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ3QzdGNTIyLjcwNzA3MDJAc3RhdHNiaWJsaW90ZWtldC5kaz4=","referencesHeader":"PDQ3QzdGNTIyLjcwNzA3MDJAc3RhdHNiaWJsaW90ZWtldC5kaz4="},"prevInTopic":5029,"nextInTopic":0,"prevInTime":5029,"nextInTime":5031,"topicId":5028,"numMessagesInTopic":3,"msgSnippet":"... TansclusionDecideRule will either PASS or ACCEPT. It ACCEPTs if a hops-path ends in at least 1, but not more than its maximum, number of non- L hops: E ,","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 95737 invoked from network); 1 Mar 2008 02:27:21 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m48.grp.scd.yahoo.com with QMQP; 1 Mar 2008 02:27:21 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta17.grp.scd.yahoo.com with SMTP; 1 Mar 2008 02:27:21 -0000\r\nX-Received: (qmail 70062 invoked from network); 1 Mar 2008 02:27:11 -0000\r\nX-Received: from unknown (HELO ?192.168.1.28?) (unknown)\n  by unknown with SMTP; 1 Mar 2008 02:27:11 -0000\r\nX-pair-Authenticated: 71.204.189.79\r\nMessage-ID: &lt;47C8BF03.5000201@...&gt;\r\nDate: Fri, 29 Feb 2008 18:27:15 -0800\r\nUser-Agent: Thunderbird 2.0.0.12 (Windows/20080213)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;47C7F522.7070702@...&gt;\r\nIn-Reply-To: &lt;47C7F522.7070702@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] redirects inside and outside of scope\r\nX-Yahoo-Group-Post: member; u=137285340; y=POgxTjKb7DQHawLU62WiRXicbEtrRBt4cCMa8AJuLvYE\r\nX-Yahoo-Profile: gojomo\r\n\r\nBjarne Andersen wrote:\n&gt; Hi.\n&gt; \n&gt; With a basic DecideRule sequence it seems to me as redirects are always fetched (including transitions and embeds from the resulting page) \n&gt; no matter the resulting page (the one that the redirect goes to) are inside or outside of the ordinary scope.\n&gt; \n&gt; Are there any way of defining a filter that only follows redirects if the resulting page is also inside scope ??\n&gt; \n&gt; My DecideRule Sequence is:\n&gt; RejectDecideRule\n&gt; OnDomainDecideRule\n&gt; TooManyHopsDecideRule\n&gt; PathologicalPathDecideRule\n&gt; TransclusionDecideRule\n&gt; TooManyPathSegmentsDecideRulePrerequisiteAcceptDecideRule\n&gt; \n&gt; URLs that I do not want all have this Hoppath: RLRXE\n&gt; \n&gt; I want the scoping and thus fetching to stop with the L - the second redirect goes out of my scope.\n\nTansclusionDecideRule will either PASS or ACCEPT. It ACCEPTs if a \nhops-path ends in at least 1, but not more than its maximum, number of \nnon-&#39;L&#39; hops: &#39;E&#39;, &#39;X&#39;, &#39;R&#39;, &#39;P&#39;. (It can also cap the number of &#39;X&#39; \nspeculative hops in the up-to-max ending non-L hops.)\n\nI thus interpret your request as leaving &#39;R&#39; hops out of this calculatio n.\n\nThere&#39;s no specific way to do this with TransclusionDecideRule, but \nTransclusionDecideRule is a special-case of what&#39;s possible with the \nHopsPathMatchesRegExpDecideRule. It should be possible to achieve what \nyou want with that rule.\n\nConsidering a TransclusionDecideRule with a &#39;max-trans-hops&#39; of 3 and a \n&#39;max-speculative-hops&#39; of 1, it should be possible to make an equivalent \nHopsPathMatchesRegExpDecideRule with the right &#39;regexp&#39; value. (It won&#39;t \nnecessarily be a pretty regex, because of the difficulty of matching &#39;no \nmore than 1 X&#39;.) I think this fancy fellow does the trick:\n\n   ^(.?L)*[ERX]{1,3}(?&lt;!X[ER]?X[ER]?)$\n\nSo, if you want the equivalent of a TransclusionDecideRule that doesn&#39;t \never let &#39;R&#39; hops get a free scoping ACCEPT, you could use a \nHopsPathMatchesRegExpDecideRule with a &#39;regexp&#39; of:\n\n   ^(.?L)*[EX]{1,3}(?&lt;!XE?XE?)$\n\nHops-path regex matching is going to marginally less efficient but I \ndoubt it matters in practice.\n\n(Transclusion usually accepts &#39;P&#39; hops, too, but I&#39;ve left those out \nabove, because you already have PrerequisiteDecideRule to catch them.)\n\nThis should do what you want, though you may then find some cases where \nyou wish you had the results of &#39;R&#39;s to render a page. (EG: a hops-path \nof LER, where the redirect satisfies the fetch of an embedded image or \nother inline resource.).\n\n- Gordon @ IA\n\n\n\n\n\n"}}