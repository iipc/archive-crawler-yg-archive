{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"hzqH9HyljpyVDow-39li4ytU8BsK4j-vKWgOpgYHvnO4bkdo4SoIt3cooVvL8_NFzQToXzvnEBUFT-umeJv2Ln5hKCjU3z4","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Crawl rate decreasing with time?","postDate":"1311290630","msgId":7216,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFMjhCNTA2LjYwMzAyMDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGowYWIxZitvdTVuQGVHcm91cHMuY29tPg==","referencesHeader":"PGowYWIxZitvdTVuQGVHcm91cHMuY29tPg=="},"prevInTopic":7215,"nextInTopic":7217,"prevInTime":7215,"nextInTime":7217,"topicId":7213,"numMessagesInTopic":9,"msgSnippet":"What do you mean by VM size ? (What tool is reporting that number?) It would be very atypical for the heap size or JavaVM process address space to be 150","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 24899 invoked from network); 21 Jul 2011 23:23:53 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m10.grp.re1.yahoo.com with QMQP; 21 Jul 2011 23:23:53 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta1.grp.re1.yahoo.com with SMTP; 21 Jul 2011 23:23:53 -0000\r\nX-Received: (qmail 9506 invoked by uid 0); 21 Jul 2011 23:23:52 -0000\r\nX-Received: from 76.218.213.38 (HELO silverbook.local) (76.218.213.38)\n  by relay03.pair.com with SMTP; 21 Jul 2011 23:23:52 -0000\r\nX-pair-Authenticated: 76.218.213.38\r\nMessage-ID: &lt;4E28B506.6030206@...&gt;\r\nDate: Thu, 21 Jul 2011 16:23:50 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.18) Gecko/20110616 Thunderbird/3.1.11\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;j0ab1f+ou5n@...&gt;\r\nIn-Reply-To: &lt;j0ab1f+ou5n@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Crawl rate decreasing with time?\r\nX-Yahoo-Group-Post: member; u=137285340; y=FXPrwSzlocVlYa9X30ZnfUbvqIxsXRbqh-GgODZfhTD3\r\nX-Yahoo-Profile: gojomo\r\n\r\nWhat do you mean by &quot;VM size&quot;? (What tool is reporting that number?)\n\nIt would be very atypical for the heap size or JavaVM process address \nspace to be 150 gigabytes.\n\nWhat is the hardware like? (RAM, CPU, disk count/speed)\n\nIf all the threads are working on something, and the &#39;congestion ratio&#39; \nis high, then the problem is not that there&#39;s too little that&#39;s eligible \nto crawl politely.\n\nSome top possibilities:\n\n� Java process size has grown larger than RAM and excessive swapping is \noccurring. Due to Java&#39;s pattern of memory access, you essentially never \nwant to be using swap. If &#39;top&#39; or &#39;vmstat&#39; show any swap being used, \nadd RAM or scale back the heap so that it isn&#39;t.\n\n� most threads are making fetches against unresponsive sites, which can \ntake a long time to timeout. Large crawls that hit giant link-lists to \ndefunct/fake sites can experience this. More threads, shortening the \nFetchHTTP soTimeout, and manually pruning the bad URIs can help.\n\n� the crawl has grown so large that accesses to the data-structures \nwhich overflow to disk (notably the default &#39;already-seen&#39; \nBdbUriUniqFilter) are now dominating its time usage. On broader and \nlarger crawls -- expected to grow to more than a few tens of millions of \nURIs -- you may want to consider the BloomUriUniqFilter, though it has \nother RAM costs and imprecision caveats.\n\nHope this helps,\n\n- Gordon\n\nOn 7/21/11 3:59 PM, helloitsmaxine wrote:\n&gt; Some other details I&#39;ve noticed are that according to the activity\n&gt; monitor, the VM size is about 150gb, and CPU usage during the crawl\n&gt; is typically very low, with over 95% idle.\n&gt;\n&gt; Is that weird? If there is so much CPU and VM available, would it\n&gt; just make sense to keep increasing memory allocation and # threads to\n&gt; keep crawl rates up? Anyone have experience with this sort of thing?\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com,\n&gt; &quot;helloitsmaxine&quot;&lt;itsmaxine@...&gt;  wrote:\n&gt;&gt;\n&gt;&gt; On my crawls I&#39;ve noticed that they generally have been starting\n&gt;&gt; out at pretty good rates, ie. 1500kb/s, but then after a few hours,\n&gt;&gt; this goes down to 0-50kb/s and pretty much stays there.\n&gt;&gt;\n&gt;&gt; After reading about some other people&#39;s same problems I tried a few\n&gt;&gt; tweaks: - increasing JVM memory to 1024 - increasing # threads from\n&gt;&gt; 50 to 100 - increasing in/out recording buffers However the problem\n&gt;&gt; still persists.\n&gt;&gt;\n&gt;&gt; Some information about my crawl is: - using Heritrix 1.4 - the max\n&gt;&gt; heap is being used (ie. current and max are the same) - the threads\n&gt;&gt; are all pretty much active (99-100 out of 100 active at a time) -\n&gt;&gt; very high congestion ratio, (ie. 7000) - so far it has crawled\n&gt;&gt; 674003 URI&#39;s in about 20h.\n&gt;&gt;\n&gt;&gt; Does anyone have insight into how I can prevent this problem? I&#39;ve\n&gt;&gt; read this:\n&gt;&gt; https://webarchive.jira.com/wiki/display/Heritrix/making+a+busy+crawl+go+faster\n&gt;&gt;\n&gt;&gt;\nand a few other posts but am not sure what applies to my situation and \nwhat would be the best next steps to take. Or if there&#39;s any other \ninformation that might be helpful let me know!\n&gt;&gt;\n&gt;&gt; Thanks!\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}