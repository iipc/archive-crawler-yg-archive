{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"mkasglgCSgKOTH3Epaxpl0CJrkQV7sE0gx3fGs4BkmBPXfIyfWM3SXj7GQhyn68pYASGbeE_rpW_zBuDu9lB7zTYRmCbGYw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Configuring ContentLengthDecideRule","postDate":"1329101139","msgId":7617,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMzg3OTUzLjMwODAwMDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDRGMzQ3MkE4LjIwNTA3MDJAY3MuY211LmVkdT4=","referencesHeader":"PDRGMTYzQ0E1LjkwMTAwMDRAY3MuY211LmVkdT4gPDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+IDw0RjM0NzJBOC4yMDUwNzAyQGNzLmNtdS5lZHU+"},"prevInTopic":7614,"nextInTopic":0,"prevInTime":7616,"nextInTime":7618,"topicId":7530,"numMessagesInTopic":9,"msgSnippet":"Simply adding another  at the top-level won t usually have an effect. (The exception being when it s a particular type","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 15323 invoked from network); 13 Feb 2012 02:45:40 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m6.grp.sp2.yahoo.com with QMQP; 13 Feb 2012 02:45:40 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta3.grp.sp2.yahoo.com with SMTP; 13 Feb 2012 02:45:40 -0000\r\nX-Received: (qmail 62677 invoked by uid 0); 13 Feb 2012 02:45:39 -0000\r\nX-Received: from 70.36.143.78 (HELO silverbook.local) (70.36.143.78)\n  by relay02.pair.com with SMTP; 13 Feb 2012 02:45:39 -0000\r\nX-pair-Authenticated: 70.36.143.78\r\nMessage-ID: &lt;4F387953.3080006@...&gt;\r\nDate: Sun, 12 Feb 2012 18:45:39 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: David Pane &lt;dpane@...&gt;, archive-crawler@yahoogroups.com\r\nReferences: &lt;4F163CA5.9010004@...&gt; &lt;4F18BC08.6080409@...&gt; &lt;4F3472A8.2050702@...&gt;\r\nIn-Reply-To: &lt;4F3472A8.2050702@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: Configuring ContentLengthDecideRule\r\nX-Yahoo-Group-Post: member; u=137285340; y=vbVawn0ZRnK2cYTB2N63YCsCA9n3ogaOOO_YAkqvXMUB\r\nX-Yahoo-Profile: gojomo\r\n\r\nSimply adding another &lt;bean id=&#39;something&#39; � � � /bean&gt; at the top-level \nwon&#39;t usually have an effect. (The exception being when it&#39;s a \nparticular type other beans are expecting, and thus gets &#39;auto-wired&#39; \ninto them, or does something all on its own in reaction to \nApplicationContext lifecycle events.)\n\nThat rule would have to be present as (or as part of) the FetchHTTP&#39;s \n&#39;shouldFetchBodyRule&#39;.\n\nSee the Spring IOC chapter for more about how the XML format is used to \n&#39;wire&#39; together components in the right places:\n\nhttp://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html\n\n- Gordon\n\nOn 2/9/12 5:28 PM, David Pane wrote:\n&gt;\n&gt; I added this rule right before the FetchHTTP in the crawler-beans.cxml.\n&gt; and right after the &quot;fetchWhois&quot; bean.\n&gt;\n&gt; &lt;!-- added this rule\n&gt; Placing this rule at the mid-fetch point, and it answers REJECT,\n&gt; the download will be cut off before downloading the content. --&gt;\n&gt; &lt;bean id=&quot;contentLenDecideRule&quot;\n&gt; class=&quot;org.archive.modules.deciderules.ContentLengthDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;10000000&quot; /&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; Does this do anything or do I need to add other rules?\n&gt;\n&gt;\n&gt; Is having above set as well as this:\n&gt;\n&gt; &lt;bean id=&quot;fetchHttp&quot; class=&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;\n&gt; maxLengthBytes&quot; value=&quot;10000000\n&gt;\n&gt; Is there any benefit to having both?\n&gt;\n&gt; --David\n&gt;\n&gt;\n&gt; On 1/19/2012 7:57 PM, Gordon Mohr wrote:\n&gt;&gt; Re: ContentLengthDecideRule\n&gt;&gt;\n&gt;&gt; Since you only know the length of a resource after the HTTP response has\n&gt;&gt; begin, the ContentLengthDecideRule is only usable as a &#39;mid-fetch&#39; rule\n&gt;&gt; that&#39;s specific to the FetchHTTP processor. (That is, it&#39;s not mixed in\n&gt;&gt; with normal &#39;scoping&#39; rules to decide whether a URI should be enqueued.)\n&gt;&gt;\n&gt;&gt; If you put a set of rules at the mid-fetch point, and they answer\n&gt;&gt; REJECT, the download will be cut off before downloading the content.\n&gt;&gt;\n&gt;&gt; I don&#39;t know of an online example of setting up these rules for H3.\n&gt;&gt; (There was some prior discussion of the similar rules in H1, though.)\n\n"}}