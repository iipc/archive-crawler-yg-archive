{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"ImBedHdfhon7f2QcASWuS4NHFzmET3Rf-mdTCLnn1FOQX_bHHYwHiIYI16ckxI-G_Uf-D9uYx2iqPmMfaeD1eYHWGBhbJVY","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Configuring ContentLengthDecideRule","postDate":"1327121578","msgId":7559,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMUE0NEFBLjEwNTAxMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDRGMUEwOUNGLjIwMjA1MDRAY3MuY211LmVkdT4=","referencesHeader":"PDRGMTYzQ0E1LjkwMTAwMDRAY3MuY211LmVkdT4gPDRGMThCQzA4LjYwODA0MDlAYXJjaGl2ZS5vcmc+IDw0RjFBMDlDRi4yMDIwNTA0QGNzLmNtdS5lZHU+"},"prevInTopic":7557,"nextInTopic":7561,"prevInTime":7558,"nextInTime":7560,"topicId":7530,"numMessagesInTopic":9,"msgSnippet":"... A seed is generally a URI you want to crawl, so you would not usually add a seed (in any way) to a REJECT rule, unless it s a matter of changing your","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 59320 invoked from network); 21 Jan 2012 04:52:59 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m4.grp.sp2.yahoo.com with QMQP; 21 Jan 2012 04:52:59 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta2.grp.sp2.yahoo.com with SMTP; 21 Jan 2012 04:52:59 -0000\r\nX-Received: (qmail 2926 invoked by uid 0); 21 Jan 2012 04:52:58 -0000\r\nX-Received: from 76.218.213.38 (HELO silverbook.local) (76.218.213.38)\n  by relay01.pair.com with SMTP; 21 Jan 2012 04:52:58 -0000\r\nX-pair-Authenticated: 76.218.213.38\r\nMessage-ID: &lt;4F1A44AA.1050105@...&gt;\r\nDate: Fri, 20 Jan 2012 20:52:58 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: David Pane &lt;dpane@...&gt;, archive-crawler@yahoogroups.com\r\nCc: Noah Levitt &lt;nlevitt@...&gt;\r\nReferences: &lt;4F163CA5.9010004@...&gt; &lt;4F18BC08.6080409@...&gt; &lt;4F1A09CF.2020504@...&gt;\r\nIn-Reply-To: &lt;4F1A09CF.2020504@...&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: Configuring ContentLengthDecideRule\r\nX-Yahoo-Group-Post: member; u=137285340; y=NVpPV33HiRVX03BtYJspFEGlm2PETzVBTWxxGcmY-qVc\r\nX-Yahoo-Profile: gojomo\r\n\r\nOn 1/20/12 4:41 PM, David Pane wrote:\n&gt;&gt; Only SURT-prefixes coming from an explicitly configured &#39;surtsSource&#39;\n&gt;&gt; are restored after a checkpoint-resume. Note that this file is just\n&gt;&gt; literal SURTs, not the +/- syntax that can be used in seeds files.\n&gt;&gt;\n&gt;&gt; This bug is now in the tracking system as:\n&gt;&gt;\n&gt;&gt; https://webarchive.jira.com/browse/HER-1985\n&gt;&gt;\n&gt;&gt; Until it&#39;s fixed, possible workaround would include:\n&gt;&gt;\n&gt;&gt; (1) Always configuring SurtPrefixedDecideRules to use a surtsSource, and\n&gt;&gt; making sure that surtsSource is kept up-to-date as the canonical list of\n&gt;&gt; prefixes to rule-in (for an +/ACCEPT rule) or rule-out (for a -/REJECT\n&gt;&gt; rule), before any resumes.\n&gt;&gt;\n&gt; (a) If add the additional opt-out sites to my &quot;opt-out_blacklist.surt&quot;\n&gt; file as a &quot;+&quot; entry (for rule below). Can I use this rule for the new\n&gt; seeds but use a &quot;-&quot; entry?\n&gt;\n&gt; &lt;!-- ...but REJECT those from a configurable (initially empty) set of\n&gt; REJECT SURTs... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot;/&gt;\n&gt; &lt;property name=&quot;surtsDumpFile&quot; value=&quot;${launchId}/negative-surts.dump&quot; /&gt;\n&gt; &lt;property name=&quot;surtsSource&quot;&gt;\n&gt; &lt;bean class=&quot;org.archive.spring.ConfigFile&quot;&gt;\n&gt; &lt;!-- DAP opt out path here --&gt;\n&gt; &lt;property name=&quot;path&quot;\n&gt; value=&quot;/bos/tmp15/heritrix_crawl/jobs03/2011-12-23/opt-out_blacklist.surt&quot;\n&gt; /&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n\nA &#39;seed&#39; is generally a URI you want to crawl, so you would not usually \nadd a seed (in any way) to a REJECT rule, unless it&#39;s a matter of \nchanging your mind about how it (and URIs that are implied extensions of \nit) should be treated.\n\nLooking over the code, I see that:\n\n- when lines are announced from a textual &#39;.seeds&#39; source, the &#39;+&#39; or \n&#39;-&#39; can affect which of different SurtPrefixedDecideRules notice that \nline, but in either case, if the line is noticed, it is *added* to that \nrule&#39;s set of SURT-prefixes\n\n- when lines are being processed from a static textual &#39;surtsSource&#39; \n(either inline ConfigString or disk ConfigFile), only &#39;+&#39; directives are \nnoticed, and the following prefix (or hostname/URI that can be coerced \nto a prefix) is added to the rule&#39;s set of prefixes\n\nThis is a bit confusing, but it means the exact same list of &quot;things to \nblock&quot; would be prefixed with &#39;-&#39; if dropped in via a mixed \nseeds/directives &quot;.seeds&quot; file, but should be naked hosts/URIs (no \ndirective) or preceded with a &#39;+&#39; (if a formal SURT) if supplied as a \n&#39;surtsSource&#39;.\n\n(I&#39;m not sure what exactly your question meant but that covers the \ndifferent possibilities.)\n\n&gt;&gt; (2) After a checkpoint resume, while crawl is still paused, re-present\n&gt;&gt; all previously &#39;done&#39; files (including original seed-set/directives) to\n&gt;&gt; &#39;action&#39; directory for re-learning.\n&gt;&gt;\n&gt;\n&gt; Our initial seed list was 10M seeds. Do I need to include this in the\n&gt; action directory after every restart?\n\nIf your crawl depends on learning a giant acceptable-sites SURT list \nfrom the seeds, and you are choosing this (2) workaround, then yes. But \nmost broad crawls *don&#39;t* learn an acceptable set of sites from their \nseed list, so if that&#39;s the case for your crawl, then *no*, there&#39;s no \nneed to re-present the seeds each time.\n\n- Gordon\n\n&gt;&gt; On 1/17/12 7:29 PM, David Pane wrote:\n&gt;&gt;&gt; I am using Heritrix 3.1.1. After some analysis of the average size of\n&gt;&gt;&gt; documents that we have been crawling, I would like to configure the\n&gt;&gt;&gt; crawler (mid-crawl) to begin only downloading documents under a certail\n&gt;&gt;&gt; size threshold. I am considering a size limit of 3-5MB.\n&gt;&gt;&gt;\n&gt;&gt;&gt; I understand that maxLengthBytes in the Http fetcher module can be\n&gt;&gt;&gt; configure with the maximum length in bytes to fetch. The document, if\n&gt;&gt;&gt; larger than this, is truncated at this threshold. It seems the\n&gt;&gt;&gt; ContentLengthDecideRule is more attractive because it can be configured\n&gt;&gt;&gt; to avoid downloading documents that are larger than a certain threshold.\n&gt;&gt;&gt;\n&gt;&gt;&gt; I searched for an example of the syntax to configure this decide rule to\n&gt;&gt;&gt; no avail. Can someone help me with this? Can I put this someplace near\n&gt;&gt;&gt; the Transclusion decide rule in the crawler-beans.cxml.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Is there an easy way for a Heritrix user to find the correct syntax and\n&gt;&gt;&gt; options for these options? The default crawler-beans.cxml is useful for\n&gt;&gt;&gt; many options, but I have found it difficult to understand how to include\n&gt;&gt;&gt; items that are not already in this file.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Due to our server&#39;s network going down tomorrow morning, I will be\n&gt;&gt;&gt; pausing our 5 instances of Heritrix. I am considering shutting down the\n&gt;&gt;&gt; crawlers completely and resuming them from the last checkpoint. Will\n&gt;&gt;&gt; changes in the crawler-beans.cxml take effect when doing this\n&gt;&gt;&gt; (i.e. configuring the ContentLengthDecideRule)?\n&gt;&gt;&gt;\n&gt;&gt;&gt; Additionally, I have been dropping additional bla.seeds files into the\n&gt;&gt;&gt; action directory when someone asks us to avoid their site. Am I correct\n&gt;&gt;&gt; that the checkpoint will preserve these opt-out domains?\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n\n"}}