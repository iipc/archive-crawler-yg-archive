{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"tJ2K00RS8yK9t2ecvqXwzN7WNyCDBUoQFaarmc51GujCHo-ZA-es57_SkRs3J0y6rrOBwyh8EHuZFg2UqneE7tLBxbYruC9H","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Question on Embedding Heritrix","postDate":"1183571782","msgId":4410,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2OEJERjQ2LjYwNDA4MDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGY2ZzAxdiszZWtxQGVHcm91cHMuY29tPg==","referencesHeader":"PGY2ZzAxdiszZWtxQGVHcm91cHMuY29tPg=="},"prevInTopic":4409,"nextInTopic":4412,"prevInTime":4409,"nextInTime":4411,"topicId":4400,"numMessagesInTopic":13,"msgSnippet":"Artem, Stack: I am going to jump in if you don t mind :) We changed processor Filters to DecidRrules in 1.12.0. From the release notes: 2.4.2. DecideRules have","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 26533 invoked from network); 4 Jul 2007 17:57:00 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m43.grp.scd.yahoo.com with QMQP; 4 Jul 2007 17:57:00 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta13.grp.scd.yahoo.com with SMTP; 4 Jul 2007 17:57:00 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id C5A4B1416BE39\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed,  4 Jul 2007 10:56:20 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 32343-04-18 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tWed, 4 Jul 2007 10:56:20 -0700 (PDT)\r\nReceived: from [127.0.0.1] (nor75-24-88-170-99-175.fbx.proxad.net [88.170.99.175])\n\tby mail.archive.org (Postfix) with ESMTP id 6F84E1416BDA7\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed,  4 Jul 2007 10:56:19 -0700 (PDT)\r\nMessage-ID: &lt;468BDF46.6040809@...&gt;\r\nDate: Wed, 04 Jul 2007 19:56:22 +0200\r\nUser-Agent: Thunderbird 1.5.0.12 (Windows/20070509)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f6g01v+3ekq@...&gt;\r\nIn-Reply-To: &lt;f6g01v+3ekq@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] Re: Question on Embedding Heritrix\r\nX-Yahoo-Group-Post: member; u=137477665; y=Fz5XRzltb72yFK-M9RtL0FPnVeV6WOg1NIvZoVghC8_YOeErJw\r\nX-Yahoo-Profile: iranitovic\r\n\r\nArtem, Stack:\n\nI am going to jump in if you don&#39;t mind :)\n\nWe changed processor Filters to DecidRrules in 1.12.0.\n From the release notes:\n2.4.2. DecideRules have replaced Filters on Processors\n\nAll Processors which used internal Filters for differentially acting on \nURIs now use DecideRules instead. In those cases where a DecideRule \nreplacement for a Filter is not yet available, a legacy Filter can be \nwrapped in a FilterDecideRule to preserve prior functionality. In a \nfuture release, all Filters will be removed in favor of equivalent \nDecideRules.\n\nMore about the release notes can be found here:\nhttp://crawler.archive.org/articles/releasenotes/1_12_0.html\n\nSo, you should probably replace:\n\n      &lt;map name=&quot;filters&quot;&gt;\n        &lt;newObject name=&quot;contentType&quot;\n         class=&quot;org.archive.crawler.filter.ContentTypeRegExpFilter&quot;&gt;\n          &lt;boolean name=&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n          &lt;boolean name=&quot;if-match-return&quot;&gt;true&lt;/boolean&gt;\n          &lt;string name=&quot;regexp&quot;&gt;(?i)text/html.*&lt;/string&gt;\n        &lt;/newObject&gt;\n      &lt;/map&gt;\n\nwith probably:\n\n&lt;newObject name=&quot;Archiver#decide-rules&quot; \nclass=&quot;org.archive.crawler.deciderules.DecideRuleSequence&quot;&gt;\n      &lt;map name=&quot;rules&quot;&gt;\n         &lt;newObject name=&quot;rejectAll&quot; \nclass=&quot;org.archive.crawler.deciderules.RejectDecideRule&quot;&gt;\n        &lt;/newObject&gt;\n        &lt;newObject name=&quot;contentType&quot; \nclass=&quot;org.archive.crawler.deciderules.ContentTypeMatchesRegExpDecideRule&quot;&gt; \n\n           &lt;string name=&quot;decision&quot;&gt;ACCEPT&lt;/string&gt;\n           &lt;string name=&quot;regexp&quot;&gt;(?i)text/html.*&lt;/string&gt;\n        &lt;/newObject&gt;\n      &lt;/map&gt;\n&lt;/newObject&gt;\n\n\nI did not try this so I suggest that you configure this part via Web UI \n(if possible) just to be safe.\n\nI hope this helps.\n\nTake care,\ni.\n\nArtem Antonov wrote:\n&gt; Thanks, I&#39;ve replaced &#39;sha1-content&#39; config by two options according   \n&gt; with the current Heritrix version. There are no WARNINGS at all.   \n&gt;    \n&gt; About &#39;problem solved&#39;. Yes, I&#39;ve added the listener   \n&gt; (org.archive.crawler.WebappLifecycle) to my web application, and now   \n&gt; I can manage Heritrix jobs inside my webapp.   \n&gt;    \n&gt; And one question about ARCWriterProcessor.   \n&gt; Earlier I used Heritrix 1.10.1, and the same order.xml file I use   \n&gt; now with 1.12.1 version.   \n&gt; The point is I want to save only text/html contents in archive file, \n&gt; and the following configuration is used:   \n&gt;    \n&gt; &lt;map name=&quot;write-processors&quot;&gt;   \n&gt;   &lt;newObject name=&quot;Archiver&quot;   \n&gt;    class=&quot;org.archive.crawler.writer.ARCWriterProcessor&quot;&gt;   \n&gt;     &lt;boolean name=&quot;enabled&quot;&gt;true&lt;/boolean&gt;   \n&gt;     &lt;map name=&quot;filters&quot;&gt;   \n&gt;       &lt;newObject name=&quot;contentType&quot;   \n&gt;        class=&quot;org.archive.crawler.filter.ContentTypeRegExpFilter&quot;&gt;   \n&gt;         &lt;boolean name=&quot;enabled&quot;&gt;true&lt;/boolean&gt;   \n&gt;         &lt;boolean name=&quot;if-match-return&quot;&gt;true&lt;/boolean&gt;   \n&gt;         &lt;string name=&quot;regexp&quot;&gt;(?i)text/html.*&lt;/string&gt;   \n&gt;       &lt;/newObject&gt;   \n&gt;     &lt;/map&gt;   \n&gt;     &lt;boolean name=&quot;compress&quot;&gt;true&lt;/boolean&gt;   \n&gt;     &lt;string name=&quot;prefix&quot;&gt;IAH&lt;/string&gt;   \n&gt;     &lt;string name=&quot;suffix&quot;&gt;${HOSTNAME}&lt;/string&gt;   \n&gt;     &lt;long name=&quot;max-size-bytes&quot;&gt;100000000&lt;/long&gt;   \n&gt;     &lt;stringList name=&quot;path&quot;&gt;   \n&gt;       &lt;string&gt;arcs&lt;/string&gt;   \n&gt;     &lt;/stringList&gt;   \n&gt;     &lt;integer name=&quot;pool-max-active&quot;&gt;5&lt;/integer&gt;   \n&gt;     &lt;integer name=&quot;pool-max-wait&quot;&gt;300000&lt;/integer&gt;   \n&gt;     &lt;long name=&quot;total-bytes-to-write&quot;&gt;0&lt;/long&gt;   \n&gt;     &lt;boolean name=&quot;skip-identical-digests&quot;&gt;false&lt;/boolean&gt;   \n&gt;   &lt;/newObject&gt;   \n&gt; &lt;/map&gt;   \n&gt;    \n&gt; I noticed that with 1.12.1 version all crawled contents are saved in   \n&gt; archive file. Should I change something in configuration?   \n&gt;    \n&gt; Thanks for your help.   \n&gt;    \n&gt; Regards,   \n&gt; Artem.   \n&gt;    \n&gt; --- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@...&gt;   \n&gt; wrote:   \n&gt;&gt;   \n&gt;&gt; The WARNING in the below is a complaint about your order file.  It    \n&gt;&gt; states that current Heritrix version does not know what to do with   \n&gt; the    \n&gt;&gt; configuration named &#39;sha1-content&#39;. &#39;sha1-content&#39; is a config.   \n&gt; that    \n&gt;&gt; used to exist.   It was replaced by two options -- whether to   \n&gt; digest and    \n&gt;&gt; what the digest should be (e.g. sha1, md5, etc.).  See    \n&gt;&gt; http://webteam.archive.org/jira/browse/HER-1074,   \n&gt;&gt;    \n&gt;&gt; In another post, I see you adding the below lines to   \n&gt; CATALINA_PATH:   \n&gt;&gt;    \n&gt;&gt; -Dcom.sun.management.jmxremote=true   \n&gt;&gt;    \n&gt;&gt; -Dcom.sun.management.jmxremote.authenticate=false   \n&gt;&gt; -Dcom.sun.management.jmxremote.ssl=false   \n&gt;&gt; -Dheritrix.properties=/path/to/properties/file   \n&gt;&gt; -Dcom.sun.management.jmxremote.port=8849   \n&gt;&gt;    \n&gt;&gt; You shouldn&#39;t have to do that because tomcat runs its own JMX   \n&gt; Agent (The    \n&gt;&gt; above is starting up the JVM&#39;s JMX agent).   \n&gt;&gt;    \n&gt;&gt; Also in previous post, you say &#39;problem solved&#39;.  Did that mean   \n&gt; you have    \n&gt;&gt; successfully managed to embed Heritrix inside your webapp?   \n&gt;&gt;    \n&gt;&gt; St.Ack   \n&gt;&gt;    \n&gt;&gt; P.S. Regards embedding, you might check out the heritrix.war   \n&gt; web.xml    \n&gt;&gt; file: src/webapps/admin/WEB-INF/web.xml. See how it makes use of   \n&gt; the    \n&gt;&gt; class org.archive.crawler.WebappLifecycle.   \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}