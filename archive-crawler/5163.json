{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":327956242,"authorName":"Goel, Ankur","from":"&quot;Goel, Ankur&quot; &lt;Ankur.Goel@...&gt;","profile":"ankur_goel79","replyTo":"LIST","senderId":"OS3VwfYzJVASjEjIWiU0f34d_7Qk-8OM6MudPQZcH1JTID84FLuAnh5vjUpoYayuouekbqXnB2L4MxLc7xmWOgttaVr3FOsq2vtA61HL","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Distribution using Consistent Hashing scheme","postDate":"1209716646","msgId":5163,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDhGMTE3MjJBMDU2MkJCNEY4MEE2ODBFRDRDRkVEMEQ1MDFDRUVFRDBARVZTQk5HMDIuYWQub2ZmaWNlLmFvbC5jb20+","inReplyToHeader":"PDQ4MTY0NjMzLjYwNDAxMDZAYXJjaGl2ZS5vcmc+"},"prevInTopic":5152,"nextInTopic":5164,"prevInTime":5162,"nextInTime":5164,"topicId":5152,"numMessagesInTopic":7,"msgSnippet":"Hi Folks, We have our own implementation of the crawl farm based on top of Heritrix 1.6. We moved to version 1.13 sometime back. As a part of our work we have","rawEmail":"Return-Path: &lt;Ankur.Goel@...&gt;\r\nX-Sender: Ankur.Goel@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 33895 invoked from network); 2 May 2008 08:24:31 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m44.grp.scd.yahoo.com with QMQP; 2 May 2008 08:24:31 -0000\r\nX-Received: from unknown (HELO r2d2.nscp.aoltw.net) (64.236.137.26)\n  by mta15.grp.scd.yahoo.com with SMTP; 2 May 2008 08:24:31 -0000\r\nX-Received: from AOLDTCMEH01.ad.office.aol.com (aoldtcmeh01.office.aol.com [10.180.121.20])\n\tby r2d2.nscp.aoltw.net (8.10.0/8.10.0) with ESMTP id m428OC611891;\n\tFri, 2 May 2008 01:24:12 -0700 (PDT)\r\nX-Received: from EVSBNG02.ad.office.aol.com ([10.146.190.243]) by AOLDTCMEH01.ad.office.aol.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Fri, 2 May 2008 04:24:12 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----_=_NextPart_001_01C8AC2D.E3B2430E&quot;\r\nDate: Fri, 2 May 2008 13:54:06 +0530\r\nMessage-ID: &lt;8F11722A0562BB4F80A680ED4CFED0D501CEEED0@...&gt;\r\nIn-Reply-To: &lt;48164633.6040106@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: Distribution using Consistent Hashing scheme\r\nThread-Index: Acipea3w2lJOJgPeQPCnXdT837TOsACsFamA\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nX-OriginalArrivalTime: 02 May 2008 08:24:12.0945 (UTC) FILETIME=[E7055010:01C8AC2D]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Goel, Ankur&quot; &lt;Ankur.Goel@...&gt;\r\nSubject: Distribution using Consistent Hashing scheme\r\nX-Yahoo-Group-Post: member; u=327956242; y=uYnuZ6mQyazj1_TZmhZCr-LxrgYrg4zm6EATy5WKVaQpO_4Sa0Pe\r\nX-Yahoo-Profile: ankur_goel79\r\n\r\n\r\n------_=_NextPart_001_01C8AC2D.E3B2430E\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Folks,\n            We have our own implementation of the crawl farm base=\r\nd on\ntop of Heritrix 1.6. We moved to version 1.13 sometime back.\nAs a part=\r\n of our work we have extended the heritrix code and implemented\na consisten=\r\nt hashing scheme for maintaining politeness\nand consistent distribution. We=\r\n would like to contribute some of our\ndistribution related code to the heri=\r\ntrix community.\n \nLet me give a brief idea of what we have done that we wou=\r\nld like to\ncontribute. \n \n1. Each crawl node (called crawl engine in heritr=\r\nix 2.0)  is responsible\nfor figuring out if it should crawl the recieved/ex=\r\ntracted URLs \nor the right crawler node that should be crawling it and disp=\r\natches the\nURLs over JMX to the appropriate node. \n \n2. The crawl node uses=\r\n the services of a &#39;DynamicCrawlMapper&#39; to take\ncare of distribution. This =\r\nis a regular heritrix &#39;Processor&#39; integrated\ninto heritrix processing chain=\r\n.\n \n3. The &#39;DynamicCrawlMapper&#39; uses the services of a &#39;Distributor&#39; that\nt=\r\nalks to different crawl nodes over JMX and uses consistent hashing \nscheme =\r\nto figure the destination node for the URL. If the URL&#39;s hash\nfalls in the =\r\nbucket of the local node then it is scheduled directly\ninto the local herit=\r\nrix instance.\n \n4. The &#39;Distributor&#39; caches the info for all other crawl no=\r\ndes. So in\nthis environment every crawl node is agnostic of every other cra=\r\nwl node.\n \nIf the community thinks this could bring value then we can work =\r\ntowards\nscrubbing out our custom code and get all licensing/legal issues \ns=\r\norted out to get the code into heritrix.\n \nThanks\n-Ankur\n\r\n------_=_NextPart_001_01C8AC2D.E3B2430E\r\nContent-Type: text/html;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.=\r\nw3c.org/TR/1999/REC-html401-19991224/loose.dtd&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;\n&lt;META http-eq=\r\nuiv=3DContent-Type content=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;\n&lt;META content=\r\n=3D&quot;MSHTML 6.00.6000.16640&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;\n&lt;BODY style=3D&quot;BACKGRO=\r\nUND-COLOR: #ffffff&quot;&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN=\r\n class=3D567245607-02052008&gt;Hi \nFolks,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=\r\n=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;&nbsp;&=\r\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \nWe have our ow=\r\nn implementation of the crawl farm based on top of Heritrix 1.6. \n&lt;/SPAN&gt;&lt;/=\r\nFONT&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-0=\r\n2052008&gt;We moved to version 1.13 sometime \nback.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nFONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008=\r\n&gt;As a \npart of our work we have extended the heritrix code and implemented =\r\na consistent \nhashing scheme for maintaining politeness&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;=\r\n\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-0=\r\n2052008&gt;and \nconsistent distribution. &lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT face=3DArial colo=\r\nr=3D#0000ff \nsize=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;We would like to con=\r\ntribute some of our \ndistribution related code to the heritrix community.&lt;/=\r\nSPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \n=\r\nclass=3D567245607-02052008&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DAri=\r\nal color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;Let \nme&nbsp;g=\r\nive a brief idea of what we have done&nbsp;that we would like to \ncontribut=\r\ne. &lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;S=\r\nPAN \nclass=3D567245607-02052008&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=\r\n=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;1. \nEach=\r\n crawl node (called crawl engine in heritrix 2.0)&nbsp; \nis&lt;/SPAN&gt;&lt;/FONT&gt;&lt;F=\r\nONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008=\r\n&gt;&nbsp;responsible &lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT face=3DArial \ncolor=3D#0000ff size=\r\n=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;for figuring out&nbsp;if it \nshould c=\r\nrawl the recieved/extracted URLs &lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DAri=\r\nal color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;or the \nright =\r\ncrawler node that should be crawling it and dispatches the \n&lt;/SPAN&gt;&lt;/FONT&gt;&lt;=\r\nFONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-0205200=\r\n8&gt;URLs over JMX to the appropriate node. \n&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT f=\r\nace=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;&lt;/SP=\r\nAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SP=\r\nAN class=3D567245607-02052008&gt;2. The \ncrawl node uses the services of a &#39;Dy=\r\nnamicCrawlMapper&#39; to take care of \ndistribution. This is &lt;/SPAN&gt;&lt;/FONT&gt;&lt;FON=\r\nT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;a=\r\n regular heritrix &#39;Processor&#39; \nintegrated&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT fa=\r\nce=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;into \n=\r\nheritrix processing chain.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial colo=\r\nr=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=3D56724=\r\n5607-02052008&gt;3. The \n&#39;DynamicCrawlMapper&#39; uses the services of a &#39;Distribu=\r\ntor&#39; that talks to \ndifferent crawl nodes over JMX and uses &lt;/SPAN&gt;&lt;/FONT&gt;&lt;=\r\nFONT face=3DArial \ncolor=3D#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-0205200=\r\n8&gt;consistent hashing \n&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D=\r\n#0000ff size=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;scheme \nto figure the des=\r\ntination node for the URL. If the URL&#39;s hash falls in the \nbucket of the&nb=\r\nsp;local node then it is scheduled directly&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT =\r\nface=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;int=\r\no&lt;/SPAN&gt;&lt;/FONT&gt;&lt;FONT face=3DArial color=3D#0000ff \nsize=3D2&gt;&lt;SPAN class=3D5=\r\n67245607-02052008&gt; the local heritrix \ninstance.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nFONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-0205200=\r\n8&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=\r\n=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;4. The \n&#39;Distributor&#39; caches the info=\r\n for all other crawl nodes. So in this environment \nevery crawl node is agn=\r\nostic of every other crawl node.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DAria=\r\nl color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;&lt;/SPAN&gt;&lt;/FONT&gt;=\r\n&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN class=\r\n=3D567245607-02052008&gt;If the \ncommunity thinks this could bring value then =\r\nwe can work towards scrubbing out \nour custom code and get all licensing/le=\r\ngal issues &lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff siz=\r\ne=3D2&gt;&lt;SPAN class=3D567245607-02052008&gt;sorted \nout to get the code into her=\r\nitrix.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2=\r\n&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT fa=\r\nce=3DArial color=3D#0000ff size=3D2&gt;&lt;SPAN \nclass=3D567245607-02052008&gt;Thank=\r\ns&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;&lt;SPA=\r\nN \nclass=3D567245607-02052008&gt;-Ankur&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------_=_NextPart_001_01C8AC2D.E3B2430E--\r\n\n"}}