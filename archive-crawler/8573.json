{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"Gb5xyjBSA-vBLoXupooUJA7vQyMmjPHJ6UQF5mSzYWTS3Ko5zbAbxuj5xXKcM6mg_JecN-MMJUBAsPc9Cr-HiRu-k3gCv_o0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] NPE issue","postDate":"1405475585","msgId":8573,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzArY3Jkc0tldVpjUDBoLWYzM3NUVkFoSjVpVDRzSk0rSjNyd01rRFFBOU5DUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJERDdEREJBQGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJERDdEREJBQGJsaWtpLmJva2hsYWRhLmxvY2FsPg=="},"prevInTopic":8572,"nextInTopic":8574,"prevInTime":8572,"nextInTime":8574,"topicId":8572,"numMessagesInTopic":3,"msgSnippet":"Hey Kris, It looks like you can enable stack traces for all exceptions with the java option -XX:-OmitStackTraceInFastThrow. ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 64874 invoked by uid 102); 16 Jul 2014 01:53:11 -0000\r\nX-Received: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m8.grp.bf1.yahoo.com with SMTP; 16 Jul 2014 01:53:11 -0000\r\nX-Received: (qmail 11138 invoked from network); 16 Jul 2014 01:53:10 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 16 Jul 2014 01:53:10 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 8B439A62040\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 15 Jul 2014 18:53:10 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id eAKJOMxeShIJ for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 15 Jul 2014 18:53:06 -0700 (PDT)\r\nX-Received: from mail-ob0-f181.google.com (mail-ob0-f181.google.com [209.85.214.181])\n\tby mail.archive.org (Postfix) with ESMTPSA id F1694A6203E\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 15 Jul 2014 18:53:05 -0700 (PDT)\r\nX-Received: by mail-ob0-f181.google.com with SMTP id va2so247070obc.26\n        for &lt;archive-crawler@yahoogroups.com&gt;; Tue, 15 Jul 2014 18:53:05 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.181.42 with SMTP id dt10mr21159229obc.69.1405475585079;\n Tue, 15 Jul 2014 18:53:05 -0700 (PDT)\r\nX-Received: by 10.76.74.103 with HTTP; Tue, 15 Jul 2014 18:53:05 -0700 (PDT)\r\nIn-Reply-To: &lt;E486D93E372D8C4282E8DF078392F12DD7DDBA@...&gt;\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12DD7DDBA@...&gt;\r\nDate: Tue, 15 Jul 2014 18:53:05 -0700\r\nMessage-ID: &lt;CAA-z70+crdsKeuZcP0h-f33sTVAhJ5iT4sJM+J3rwMkDQA9NCQ@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [archive-crawler] NPE issue\r\nX-Yahoo-Group-Post: member; u=325624130; y=9SBYA19R4Cev_HnqWcIFgas25LtIiW2CdlABDkZJKv6JFA\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\nHey Kris,\n\nIt looks like you can enable stack traces for all exceptions wit=\r\nh the\njava option -XX:-OmitStackTraceInFastThrow.\nhttp://stackoverflow.com/=\r\nquestions/4659151/recurring-exception-without-a-stack-trace-how-to-reset\n\nI=\r\n found a few -5s in some of our currently active crawl jobs. Most of\nthem a=\r\nlso have no stack trace. I found one with the same stack trace\nas yours. Ex=\r\ncerpt from RequestAddCookies.java:\n\n154        final List&lt;Cookie&gt; cookies =\r\n=3D new\nArrayList&lt;Cookie&gt;(cookieStore.getCookies());\n155        // Find coo=\r\nkies matching the given origin\n156        final List&lt;Cookie&gt; matchedCookies=\r\n =3D new ArrayList&lt;Cookie&gt;();\n157        final Date now =3D new Date();\n158=\r\n        for (final Cookie cookie : cookies) {\n159            if (!cookie.is=\r\nExpired(now)) {\n160                if (cookieSpec.match(cookie, cookieOrigi=\r\nn)) {\n\nSo it would appear that one of the cookies in the list returned by\nc=\r\nookieStore.getCookies() is null. It could be a threading issue, where\nanoth=\r\ner thread adds or removes a cookie at the same time that line 154\nthere is =\r\nin the middle of making its copy. If that is the problem we\ncould probably =\r\nfix it by synchronizing BdbCookieStore.getCookies() and\nhaving it return a =\r\ncopy of the list. It seems wasteful to copy the\nlist when it&#39;s about to get=\r\n copied again, but I&#39;m not sure there&#39;s a\nbetter way, if that&#39;s really the =\r\nissue.\n\nFWIW I also found another -5 NPE that looked this. Not sure what to=\r\n\nmake of it, but presumably it would only affect https urls.\n\n2014-07-08 23=\r\n:32:14.415 SEVERE thread-326\norg.archive.crawler.framework.ToeThread.recove=\r\nrableProblem() Problem\njava.lang.NullPointerException occured when trying t=\r\no process\n&#39;https://play.google.com/store?q75http://data.howardcountymd.gov/=\r\ndatadownload/kml/Utilities_WaterServiceRepairs2009.KML46mid075140484323346s=\r\nhowlabs075146err075146hl75en46sa75N46tab75l8&#39;\nat step ABOUT_TO_BEGIN_PROCES=\r\nSOR in\n\njava.lang.NullPointerException\n        at sun.security.ssl.SSLSocke=\r\ntImpl.getEnabledCipherSuites(SSLSocketImpl.java:2355)\n        at javax.net.=\r\nssl.SSLSocket.getSSLParameters(SSLSocket.java:614)\n        at sun.security.=\r\nssl.SSLSocketImpl.getSSLParameters(SSLSocketImpl.java:2441)\n        at sun.=\r\nsecurity.ssl.SSLAlgorithmConstraints.&lt;init&gt;(SSLAlgorithmConstraints.java:65=\r\n)\n        at sun.security.ssl.Handshaker.init(Handshaker.java:236)\n        =\r\nat sun.security.ssl.Handshaker.&lt;init&gt;(Handshaker.java:191)\n        at sun.s=\r\necurity.ssl.ClientHandshaker.&lt;init&gt;(ClientHandshaker.java:104)\n        at s=\r\nun.security.ssl.SSLSocketImpl.initHandshaker(SSLSocketImpl.java:1249)\n     =\r\n   at sun.security.ssl.SSLSocketImpl.doneConnect(SSLSocketImpl.java:639)\n  =\r\n      at sun.security.ssl.SSLSocketImpl.&lt;init&gt;(SSLSocketImpl.java:537)\n    =\r\n    at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryI=\r\nmpl.java:109)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactor=\r\ny.createLayeredSocket(SSLConnectionSocketFactory.java:263)\n        at org.a=\r\npache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionS=\r\nocketFactory.java:254)\n        at org.apache.http.impl.conn.HttpClientConne=\r\nctionOperator.connect(HttpClientConnectionOperator.java:117)\n        at org=\r\n.apache.http.impl.conn.BasicHttpClientConnectionManager.connect(BasicHttpCl=\r\nientConnectionManager.java:318)\n        at org.apache.http.impl.execchain.M=\r\nainClientExec.establishRoute(MainClientExec.java:363)\n        at org.apache=\r\n.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)\n      =\r\n  at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:=\r\n195)\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.=\r\njava:86)\n        at org.apache.http.impl.client.InternalHttpClient.doExecut=\r\ne(InternalHttpClient.java:186)\n        at org.apache.http.impl.client.Close=\r\nableHttpClient.execute(CloseableHttpClient.java:72)\n        at org.apache.h=\r\nttp.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:57)\n  =\r\n      at org.archive.modules.fetcher.FetchHTTPRequest.execute(FetchHTTPRequ=\r\nest.java:632)\n        at org.archive.modules.fetcher.FetchHTTP.innerProcess=\r\n(FetchHTTP.java:658)\n        at org.archive.modules.Processor.innerProcessR=\r\nesult(Processor.java:175)\n        at org.archive.modules.Processor.process(=\r\nProcessor.java:142)\n        at org.archive.modules.ProcessorChain.process(P=\r\nrocessorChain.java:131)\n        at org.archive.crawler.framework.ToeThread.=\r\nrun(ToeThread.java:148)\n\nNoah\n\nOn Tue, Jul 15, 2014 at 5:48 AM, Kristinn Si=\r\ngur=C3=B0sson\nkristinn@... [archive-crawler]\n&lt;archive-crawler@=\r\nyahoogroups.com&gt; wrote:\n&gt; Hi all,\n&gt;\n&gt; I&#39;m running Heritrix -3.3.0-20140604.=\r\n200748-55 and I&#39;m seeing a fair number of errors (about 6500 out of 25 mill=\r\nion URIs crawled) like this one in the runtime errors log:\n&gt;\n&gt; 2014-07-11T1=\r\n5:41:03.872Z    -5          1 http://andi.is/Andi.is/Likamsrkt_hugans_files=\r\n/shapeimage_2.png RLLE http://andi.is/Andi.is/Likamsrkt_hugans.html unknown=\r\n #014 - - http://andi.is/ err=3Djava.lang.NullPointerException\n&gt;  java.lang=\r\n.NullPointerException\n&gt;  java.lang.NullPointerException\n&gt;\n&gt; Almost none of =\r\nthe errors have a stacktrace. But at the very top of the runtime errors log=\r\n there are two errors that look similar but do have a stack trace.\n&gt;\n&gt; 2014=\r\n-07-11T14:31:13.076Z    -5          1 http://arkhd.is/GRAFIK/rtakki_fyrirt2=\r\n.gif X http://arkhd.is/ unknown #012 - - http://arkhd.is/ err=3Djava.lang.N=\r\nullPointerException\n&gt;  java.lang.NullPointerException\n&gt;         at org.apac=\r\nhe.http.client.protocol.RequestAddCookies.process(RequestAddCookies.java:15=\r\n9)\n&gt;         at org.apache.http.protocol.ImmutableHttpProcessor.process(Imm=\r\nutableHttpProcessor.java:131)\n&gt;         at org.apache.http.impl.execchain.P=\r\nrotocolExec.execute(ProtocolExec.java:193)\n&gt;         at org.apache.http.imp=\r\nl.execchain.RetryExec.execute(RetryExec.java:86)\n&gt;         at org.apache.ht=\r\ntp.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\n&gt; =\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(Closeabl=\r\neHttpClient.java:72)\n&gt;         at org.apache.http.impl.client.CloseableHttp=\r\nClient.execute(CloseableHttpClient.java:57)\n&gt;         at org.archive.module=\r\ns.fetcher.FetchHTTPRequest.execute(FetchHTTPRequest.java:632)\n&gt;         at =\r\norg.archive.modules.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:658)\n&gt;   =\r\n      at org.archive.modules.Processor.innerProcessResult(Processor.java:17=\r\n5)\n&gt;         at org.archive.modules.Processor.process(Processor.java:142)\n&gt;=\r\n         at org.archive.modules.ProcessorChain.process(ProcessorChain.java:=\r\n131)\n&gt;         at org.archive.crawler.framework.ToeThread.run(ToeThread.jav=\r\na:148)\n&gt;  java.lang.NullPointerException\n&gt;         at org.apache.http.clien=\r\nt.protocol.RequestAddCookies.process(RequestAddCookies.java:159)\n&gt;         =\r\nat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpPro=\r\ncessor.java:131)\n&gt;         at org.apache.http.impl.execchain.ProtocolExec.e=\r\nxecute(ProtocolExec.java:193)\n&gt;         at org.apache.http.impl.execchain.R=\r\netryExec.execute(RetryExec.java:86)\n&gt;         at org.apache.http.impl.clien=\r\nt.InternalHttpClient.doExecute(InternalHttpClient.java:186)\n&gt;         at or=\r\ng.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.j=\r\nava:72)\n&gt;         at org.apache.http.impl.client.CloseableHttpClient.execut=\r\ne(CloseableHttpClient.java:57)\n&gt;         at org.archive.modules.fetcher.Fet=\r\nchHTTPRequest.execute(FetchHTTPRequest.java:632)\n&gt;         at org.archive.m=\r\nodules.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:658)\n&gt;         at org.=\r\narchive.modules.Processor.innerProcessResult(Processor.java:175)\n&gt;         =\r\nat org.archive.modules.Processor.process(Processor.java:142)\n&gt;         at o=\r\nrg.archive.modules.ProcessorChain.process(ProcessorChain.java:131)\n&gt;       =\r\n  at org.archive.crawler.framework.ToeThread.run(ToeThread.java:148)\n&gt;\n&gt; No=\r\nt sure if it is actually the same issue.\n&gt;\n&gt; This error is causing the URLs=\r\n in question to fail with a -5. Re-adding them using  a .force file in the =\r\naction directory, allows them to be successfully crawled, so it is not some=\r\nthing directly related to the URLs themselves.\n&gt;\n&gt; Any thoughts on this?\n&gt;\n=\r\n&gt; - Kris\n&gt; ----------------------------------------------------------------=\r\n---------\n&gt; Landsb=C3=B3kasafn =C3=8Dslands - H=C3=A1sk=C3=B3lab=C3=B3kasaf=\r\nn | Arngr=C3=ADmsg=C3=B6tu 3 - 107 Reykjav=C3=ADk\n&gt; S=C3=ADmi/Tel: +354 525=\r\n5600 | www.landsbokasafn.is\n&gt; ---------------------------------------------=\r\n----------------------------\n&gt; fyrirvari/disclaimer - http://fyrirvari.land=\r\nsbokasafn.is\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt; Posted by: =3D?ut=\r\nf-8?B?S3Jpc3Rpbm4gU2lndXLDsHNzb24=3D?=3D &lt;kristinn@...&gt;\n&gt; ----=\r\n--------------------------------\n&gt;\n&gt;\n&gt; ------------------------------------=\r\n\n&gt;\n&gt; Yahoo Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}