{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":212342429,"authorName":"Pranay Pandey","from":"Pranay Pandey &lt;sspranay@...&gt;","profile":"sspranay","replyTo":"LIST","senderId":"603MBHANWTKTNPiz58smR7DX9rKi-MbMO4e5yNM67nWhndP19ElyoiX1zg-TcwINHri6NDv13iuaHK-7aTjkrN6dVWpuSqWFLQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] HTML meta tags based filter","postDate":"1317738588","msgId":7340,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEzMTc3Mzg1ODguODI1MjIuWWFob29NYWlsTmVvQHdlYjQzMTQ1Lm1haWwuc3AxLnlhaG9vLmNvbT4=","inReplyToHeader":"PDRFODJCNzhDLjcwNDA4MDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PDEzMTcwNjk3MTIuODkxNjAuWWFob29NYWlsTmVvQHdlYjQzMTQyLm1haWwuc3AxLnlhaG9vLmNvbT4gPDRFODJCNzhDLjcwNDA4MDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":7337,"nextInTopic":0,"prevInTime":7339,"nextInTime":7341,"topicId":7330,"numMessagesInTopic":3,"msgSnippet":"Â  Thanks for the insights, Gordon. We are evaluating the options, if feasible, I will take a shot at implementing it. thanks! Pranay ","rawEmail":"Return-Path: &lt;sspranay@...&gt;\r\nX-Sender: sspranay@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 98261 invoked from network); 4 Oct 2011 14:29:49 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m16.grp.sp2.yahoo.com with QMQP; 4 Oct 2011 14:29:49 -0000\r\nX-Received: from unknown (HELO nm5.bullet.mail.sp2.yahoo.com) (98.139.91.75)\n  by mta3.grp.sp2.yahoo.com with SMTP; 4 Oct 2011 14:29:49 -0000\r\nX-Received: from [98.139.91.63] by nm5.bullet.mail.sp2.yahoo.com with NNFMP; 04 Oct 2011 14:29:49 -0000\r\nX-Received: from [98.139.91.41] by tm3.bullet.mail.sp2.yahoo.com with NNFMP; 04 Oct 2011 14:29:49 -0000\r\nX-Received: from [127.0.0.1] by omp1041.mail.sp2.yahoo.com with NNFMP; 04 Oct 2011 14:29:49 -0000\r\nX-Yahoo-Newman-Property: ymail-3\r\nX-Yahoo-Newman-Id: 103386.18521.bm@...\r\nX-Received: (qmail 37111 invoked by uid 60001); 4 Oct 2011 14:29:49 -0000\r\nX-YMail-OSG: wXxhL.cVM1lnsX1._5vIXvmw8MFpGZ1GK2rMjkKpppkPeH_\n lBsLzEIrjK_owzCZj4C9yLsCo1wCluzJQuQcI2GR0DfiMpDVlOMFSacmv0a1\n vJQIJqf3DVp.vGqosr_9DY1vi0belqUxijiHAbJejjlq5GJVUKTkxzzr0Od4\n TGRtbl6xLHdyGCI.5OKz5wZktMX0e77ILADGKS_F1Jca5ScH.ailleSxpDqj\n tFoCBj8eCIqG_ErjoO0e3uzLX3bOED_uDTAIuyGbb7Wn4hyeQRn8XjOMlzfs\n AFUTC0Wqjss7pkI8EIeDZOEqMoQIzIxYp2uILS9lzA8K3yRji4TyvjV8OXv.\n 09aK8WSHdTETfg1vtof8nSEvg1bAcsbi5xJ4R4SBrNeZCBjAgivDZnWM0T9X\n QMsc41BlU.5xmB8XLqeVUrv0mYioHoe2MSqWuHgjrmE5y73AvG8BK39iQJ5N\n Vd.GVKyVsx54SB49tIpxzA2cJCe_en7HmIeVZrmWN17343GPReN_AB.4hO9z\n kvHPAy5utGOzGeiWglONoInupu1MRuaV3wNyHoSUCTUqynLlLVnTnOikqMpT\n st9RJNg_6GRSQd2ZabyHzjBNWeImWLt18WZ3By.DiL_0y4ZB2VVwPhgIJxe6\n TJCkUCk9RjEkPTWcnEpzS_lPW1C4Yn7E7W2Mo3nUOJzrgV7ix3UD7K4LePyF\n n_U8oFmyW2ZPGCXTExFoVGgbWfpKyuc8MaD8Gut5dvvSIfYTWQtnphHOofPp\n JM.8bpuOfCoDGlq76hKYDwWyiVMZnRDtCJhfPqi33e.shJyd_juQJxHFkkvR\n 3B7wXoVsYZMiuLFSUj8LQyHEU7coEcr1o2ycvnTHtisphrhuu1wnMj3KTpSL\n 2XG1eEPpn5Q6_es2RRXuiHm2CCRsAK8zKMcSbUrbXZ3CGTEVUCLuUlRzgSpw\n sBcWKnZ7mzQEv_nOrs.N6ErG0SEz9SwXCVczkqQI6p5gjs04uOmEq84ZAsdU\n IoEP9ikLMyyWDk726gysWdrDthK4LvbNpLZ3dSOWGTBBus8zrWXP29davBSh\n JF.XdTtW0iVmj3JT1M_5tXNT9WEHpZe94TUrthy5BKfhbKRtR5mmrJkdrdwp\n 7TVXMIQP316kyp7Y0xiCzga4uRkAnIHKXPt5YBL1.6uQwKO_gci1n8WzCfCt\n ru1QpILeDfjthx562G09RelYU3LZWKi57q2qa4JXw1RemQ2_1S5mEjkrk_gD\n owQ2AiZE9BjXatc48o0E6hK7i2dI3Wupqeciu.aTXCf9J7iFlsP6H5Ym.Lr8\n CsU2QGKhyetdoLUiWf2gekUOVJhjOmqAkddkpCJRmDtn8Z90Ute2eKYbMhkm\n zL6E_dtXHqPsUXen8xkRldrleZ8Eua2S.Gr9sU4r7VrSyM8NaQQibgBJmXSb\n DISAy5PYueTy3vsfA6LpnNaMghrVccZ5nFNX5brUeOPJfRGj7uqV7ukSl8Db\n 3X1UsbPJbDpHwOzOETHRseFfsa7yzQJf0TsQL06YQYQdn7FHVQW5z8gIv6.u\n qlqK8ZRROtWvB.m_Tz4k8jswFVbkciEZkcIqAAsVilzmJDx97ZWNpvHCqKEs\n yqSMFEugMgKW.lutvZ3n3O562vA1McE8EOYeBnFwPoFnOATXDlvY7LMCeHlu\n omV8cECDFKQnufgYzTkjdfD1MKH.IAFH6dn74o8FVQGxj8w9v7OyL9yWoF5U\n UgtbI6erDaVclnPm._nYhVH8vXNC3C5ukjGaQcSIYKsm5qZixvQWjcKojGYn\n uwxzLlb9alFtncK0NL12K8HKIAtQ80maw2iW04cWc3XKqfGur4o3U9Zsz60W\n Qt_qurM2KQtl5YoGWJgGTr6mQRHe2rfI7mSFeInd3FaRqO7ea8mfPM_yNB7M\n 3dSIAsnKwcn0g8b99waEUltXLRWmlfWSoRHVOiDU4HLaFceG5FoBuLia8_VY\n n0Ev2nA55IM2uyzyO4pe.LZt_qtAm8i_WNBPvH4wZprH4FHj0oiXHBzAmCnr\n yxeATQ2JAVAoaWVolKZHBF87RU1ZZakYcCZZq2ZG.RrIsD937AgWYOq2txnt\n uB8Z2k2pEMy.0CyZi565zfeU3hpFmEpbMY9Qqgx_iIA61Nj.okFTcpcCvSfJ\n KatkH1hg7RRQIgTjsRg8GMPAx5x4UL6IKTnMVdn34hmJ4zdUf5LqqfMFmIDm\n Sf_hO06fbbOnZzPT_7XUH6iw92uwyBdXUmnlf1wCkXL6O9mq024nv_4QyK_E\n gsEMW1x6zdTPg37LpBts-\r\nX-Received: from [204.194.77.3] by web43145.mail.sp1.yahoo.com via HTTP; Tue, 04 Oct 2011 07:29:48 PDT\r\nX-Mailer: YahooMailWebService/0.8.114.317681\r\nReferences: &lt;1317069712.89160.YahooMailNeo@...&gt; &lt;4E82B78C.7040802@...&gt;\r\nMessage-ID: &lt;1317738588.82522.YahooMailNeo@...&gt;\r\nDate: Tue, 4 Oct 2011 07:29:48 -0700 (PDT)\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;4E82B78C.7040802@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;100102327-1603425394-1317738588=:82522&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Pranay Pandey &lt;sspranay@...&gt;\r\nReply-To: Pranay Pandey &lt;sspranay@...&gt;\r\nSubject: Re: [archive-crawler] HTML meta tags based filter\r\nX-Yahoo-Group-Post: member; u=212342429; y=k4K2HYyJ0ny2z148YOPDMsTayyKTjgE6lrtklj3mf44rcHI\r\nX-Yahoo-Profile: sspranay\r\n\r\n\r\n--100102327-1603425394-1317738588=:82522\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n\n\n=C2=A0\nThanks for the insights, Gordon.\n\nWe are evaluating the options, i=\r\nf feasible, I will take a shot at implementing it.\n\nthanks!\nPranay\n\n\n______=\r\n__________________________\nFrom: Gordon Mohr &lt;gojomo@...&gt;\nTo: archi=\r\nve-crawler@yahoogroups.com\nSent: Wednesday, September 28, 2011 1:58 AM\nSubj=\r\nect: Re: [archive-crawler] HTML meta tags based filter\n\n\n=C2=A0 \nOn 9/26/11=\r\n 1:41 PM, Pranay Pandey wrote:\n&gt; I need to exclude a URL from crawling if i=\r\nt has a specific value for a\n&gt; specific meta tag.\n&gt;\n&gt; I was hoping that Ext=\r\nractorHTML bean might have a property that could\n&gt; let me do a regex match =\r\nfor the meta tags and accept/reject the url\n&gt; accordingly.\n&gt;\n&gt; Is there an =\r\noff the shelf solution that could serve my purpose or\n&gt; patching extractorH=\r\nTML with a custom meta-handling property, the only way?\n\nSince you need the=\r\n URI contents to check the META tag, in one important \nsense it&#39;s already b=\r\neen &#39;crawled&#39; (or at least &#39;fetched&#39;). So, you can&#39;t \nreally reject it in t=\r\nhe scoping sense... but you could cancel its \npermanent storage and/or disc=\r\nard its outlinks.\n\nFor that purpose, I&#39;d recommend creating your own specia=\r\nl-purpose \nProcessor that scans for the relevant META tag values. (Combinin=\r\ng your \nscan for the META tag with ExtractorHTML might be a little more \nef=\r\nficient but mixing that functionality into the general extractor would \nbe =\r\nmore complicated and error-prone.)\n\nIn that special-purpose Processor, when=\r\n appropriate, you could mark-up \nthe CrawlURI instance to change its subseq=\r\nuent handling.\n\nFor example, there are at least two ways you could suppress=\r\n a later \nWARCWriterProcessor from writing that fetch:\n\n(1) Forcing a negat=\r\nive status-code (other than the few that are \nauto-retried), instead of wha=\r\ntever the real network response code was. \nThis should cause HTTP-related-W=\r\nARC-record-writing to be skipped. (See \nWriterPoolProcessor.shouldWrite()&#39;s=\r\n HTTP case.)\n\n(2) Add your own marker of some sort to the CrawlURI (for exa=\r\nmple in its \ngetData() map). Then, add your own set of processor-local Deci=\r\ndeRules to \nWARCWriterProcessor that check for that marker and return the R=\r\nEJECT \ndecision if that processor should be skipped.\n\nThe second option inv=\r\nolves a bit more code and configuration but avoids \nclobbering the original=\r\n network-response code for reference in the \ncrawl.log.\n\nNote that the cust=\r\nom Processor that scans for the META tag and marks-up \nthe CrawlURI, and th=\r\ne custom DecideRule, could both potentially be \nimplemented via the Scripte=\r\ndProcessor/ScriptedDecideRule, and thus be a \nmatter of a script in your cr=\r\nawl configuration rather than adding Java \nclasses to your installation.\n\nS=\r\nimilarly, a custom Processor could strip out any outlinks discovered by \nan=\r\n preceding ExtractorHTML (after extraction but before the \nCandidatesProces=\r\nsor checks scope and submits to the frontier). Such a \nProcessor could thus=\r\n change whether those URIs are ever \nenqueued/fetched, based on the presenc=\r\ne/absence of a META tag value \nwhere they were discovered.\n\nHope this helps=\r\n,\n\n- Gordon\n\n\n \r\n--100102327-1603425394-1317738588=:82522\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html&gt;&lt;body&gt;&lt;div style=3D&quot;color:#000; background-color:#fff; font-family:ti=\r\nmes new roman, new york, times, serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;br&gt;&lt;/span=\r\n&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Thanks for the insights, Gordon=\r\n.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;We are evaluating the options, if feasibl=\r\ne, I will take a shot at implementing it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;thanks!&lt;=\r\n/div&gt;&lt;div&gt;Pranay&lt;br&gt;&lt;/div&gt;&lt;div style=3D&quot;font-family: times new roman, new y=\r\nork, times, serif; font-size: 12pt;&quot;&gt;&lt;div style=3D&quot;font-family: times new r=\r\noman, new york, times, serif; font-size: 12pt;&quot;&gt;&lt;font face=3D&quot;Arial&quot; size=\r\n=3D&quot;2&quot;&gt;&lt;hr size=3D&quot;1&quot;&gt;&lt;b&gt;&lt;span style=3D&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;=\r\n Gordon Mohr &lt;gojomo@...&gt;&lt;br&gt;&lt;b&gt;&lt;span style=3D&quot;font-weight: b=\r\nold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt; archive-crawler@yahoogroups.com&lt;br&gt;&lt;b&gt;&lt;span style=3D&quot;f=\r\nont-weight: bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt; Wednesday, September 28, 2011 1:58 AM&lt;b=\r\nr&gt;&lt;b&gt;&lt;span style=3D&quot;font-weight: bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt; Re: [archive-cr=\r\nawler] HTML\n meta tags based filter&lt;br&gt;&lt;/font&gt;&lt;br&gt;\n&lt;div id=3D&quot;yiv1052887325=\r\n&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span style=3D&quot;display:none;&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;d=\r\niv id=3D&quot;yiv1052887325ygrp-text&quot;&gt;\n      \n      \n      &lt;div&gt;On 9/26/11 1:41 =\r\nPM, Pranay Pandey wrote:&lt;br&gt;\n&gt; I need to exclude a URL from crawling if =\r\nit has a specific value for a&lt;br&gt;\n&gt; specific meta tag.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;=\r\n I was hoping that ExtractorHTML bean might have a property that could&lt;br&gt;\n=\r\n&gt; let me do a regex match for the meta tags and accept/reject the url&lt;br=\r\n&gt;\n&gt; accordingly.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Is there an off the shelf solution th=\r\nat could serve my purpose or&lt;br&gt;\n&gt; patching extractorHTML with a custom =\r\nmeta-handling property, the only way?&lt;br&gt;\n&lt;br&gt;\nSince you need the URI conte=\r\nnts to check the META tag, in one important &lt;br&gt;\nsense it&#39;s already been &#39;c=\r\nrawled&#39; (or at least &#39;fetched&#39;). So, you can&#39;t &lt;br&gt;\nreally reject it in the=\r\n scoping sense... but you could cancel its &lt;br&gt;\npermanent storage and/or di=\r\nscard its outlinks.&lt;br&gt;\n&lt;br&gt;\nFor that purpose, I&#39;d recommend creating your =\r\nown special-purpose &lt;br&gt;\nProcessor that scans for the relevant META tag val=\r\nues. (Combining your &lt;br&gt;\nscan for the META tag with ExtractorHTML might be=\r\n a little more &lt;br&gt;\nefficient but mixing that functionality into the genera=\r\nl extractor would &lt;br&gt;\nbe more complicated and error-prone.)&lt;br&gt;\n&lt;br&gt;\nIn th=\r\nat special-purpose Processor, when appropriate, you could mark-up &lt;br&gt;\nthe =\r\nCrawlURI instance to change its subsequent handling.&lt;br&gt;\n&lt;br&gt;\nFor example, =\r\nthere are at least two ways you could suppress a later &lt;br&gt;\nWARCWriterProce=\r\nssor from writing that fetch:&lt;br&gt;\n&lt;br&gt;\n(1) Forcing a negative status-code (=\r\nother than the few that are &lt;br&gt;\nauto-retried), instead of whatever the rea=\r\nl network response code was. &lt;br&gt;\nThis should cause HTTP-related-WARC-recor=\r\nd-writing to be skipped. (See &lt;br&gt;\nWriterPoolProcessor.shouldWrite()&#39;s HTTP=\r\n case.)&lt;br&gt;\n&lt;br&gt;\n(2) Add your own marker of some sort to the CrawlURI (for =\r\nexample in its &lt;br&gt;\ngetData() map). Then, add your own set of processor-loc=\r\nal DecideRules to &lt;br&gt;\nWARCWriterProcessor that check for that marker and r=\r\neturn the REJECT &lt;br&gt;\ndecision if that processor should be skipped.&lt;br&gt;\n&lt;br=\r\n&gt;\nThe second option involves a bit more code and configuration but avoids &lt;=\r\nbr&gt;\nclobbering the original network-response code for reference in the &lt;br&gt;=\r\n\ncrawl.log.&lt;br&gt;\n&lt;br&gt;\nNote that the custom Processor that scans for the META=\r\n tag and marks-up &lt;br&gt;\nthe CrawlURI, and the custom DecideRule, could both =\r\npotentially be &lt;br&gt;\nimplemented via the ScriptedProcessor/ScriptedDecideRul=\r\ne, and thus be a &lt;br&gt;\nmatter of a script in your crawl configuration rather=\r\n than adding Java &lt;br&gt;\nclasses to your installation.&lt;br&gt;\n&lt;br&gt;\nSimilarly, a =\r\ncustom Processor could strip out any outlinks discovered by &lt;br&gt;\nan precedi=\r\nng ExtractorHTML (after extraction but before the &lt;br&gt;\nCandidatesProcessor =\r\nchecks scope and submits to the frontier). Such a &lt;br&gt;\nProcessor could thus=\r\n change whether those URIs are ever &lt;br&gt;\nenqueued/fetched, based on the pre=\r\nsence/absence of a META tag value &lt;br&gt;\nwhere they were discovered.&lt;br&gt;\n&lt;br&gt;=\r\n\nHope this helps,&lt;br&gt;\n&lt;br&gt;\n- Gordon&lt;br&gt;\n&lt;br&gt;\n&lt;/div&gt;\n\n    &lt;/div&gt;\n     \n\n\n\n&lt;/=\r\ndiv&gt;\n\n\n\n\n\n&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--100102327-1603425394-1317738588=:82522--\r\n\n"}}