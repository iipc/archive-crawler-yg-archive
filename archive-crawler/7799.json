{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"zU5TBVvFooWKpsE9_CU9u5oulWREe7qLWuMnbcSyYXSilk25wkzio7Iel0ryg3i3js9r9rvw5tIeu1uoenTOnuSHo-kFNs0","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Recovering a crawler","postDate":"1348677061","msgId":7799,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUwNjMyREM1LjcwNTA3MDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MEZDMUQ3NDhAdzJrMy1ic3BleDE+","referencesHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MEZDMUQ3NDhAdzJrMy1ic3BleDE+"},"prevInTopic":7795,"nextInTopic":7800,"prevInTime":7798,"nextInTime":7800,"topicId":7795,"numMessagesInTopic":5,"msgSnippet":"A recovery using the H3 checkpointing mechanism, if such a checkpoint is available, should be very quick (almost instant). Using the recovery log approach will","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 36001 invoked from network); 26 Sep 2012 16:31:03 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m10.grp.sp2.yahoo.com with QMQP; 26 Sep 2012 16:31:03 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta4.grp.sp2.yahoo.com with SMTP; 26 Sep 2012 16:31:03 -0000\r\nX-Received: (qmail 61883 invoked by uid 0); 26 Sep 2012 16:31:02 -0000\r\nX-Received: from 70.36.143.78 (HELO silverbook.local) (70.36.143.78)\n  by relay01.pair.com with SMTP; 26 Sep 2012 16:31:02 -0000\r\nX-pair-Authenticated: 70.36.143.78\r\nMessage-ID: &lt;50632DC5.7050700@...&gt;\r\nDate: Wed, 26 Sep 2012 09:31:01 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:15.0) Gecko/20120907 Thunderbird/15.0.1\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: &quot;Coram, Roger&quot; &lt;Roger.Coram@...&gt;\r\nReferences: &lt;74C97E7DF5A7784D997217FF75D121660FC1D748@w2k3-bspex1&gt;\r\nIn-Reply-To: &lt;74C97E7DF5A7784D997217FF75D121660FC1D748@w2k3-bspex1&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Recovering a crawler\r\nX-Yahoo-Group-Post: member; u=137285340; y=_I9zUN7cuTNsPDOgsyP7n-nie3XU93FxUpGlIhveMg-J\r\nX-Yahoo-Profile: gojomo\r\n\r\nA recovery using the H3 checkpointing mechanism, if such a checkpoint is \navailable, should be very quick (almost instant).\n\nUsing the recovery log approach will take much longer -- on the order of \ndays to replay weeks&#39; worth of prior crawling is not surprising.\n\nNote that in H3, to use the recovery-log approach, you&#39;d normally drop \nthe &quot;.recover.gz&quot; log into the &#39;action&#39; directory and do a &#39;paused&#39; \nlaunch of the crawl, only unpausing the crawl once there&#39;s evidence of \nsome number of URIs appearing in the frontier queues. (That can take a \nwhile, because first there&#39;s one pass of the entire .recover log to \ndiscover already-visited URIs, then a 2nd pass to add URis.)\n\nI don&#39;t think that any part of this should block the UI, so there may be \nsomething else wrong. One way to confirm progress would be to check that \nthe machine is CPU/IO busy and that repeated Java thread dumps (via the \n&#39;jstack&#39; utility or sending a SIGQUIT and viewing the heritrix_out log) \nshow stacks suggesting intended activity. (This might also reveal if \nthere&#39;s a good reason for the unresponsive web UI.) I also believe the \nnew launch&#39;s &#39;.recovery.gz&#39; file would be growing during an in-progress \nrecovery.\n\nIf for some reason the recovery is hung, the heritrix_out.log or thread \ndumps might indicate why with an error or suspicious thread stack.\n\n- Gordon\n\nOn 9/26/12 2:19 AM, Coram, Roger wrote:\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; One of our crawlers had to be restarted several weeks into a crawl\n&gt; (H3.1.1). After a successful build and clicking �Launch� the crawler and\n&gt; its web-UI have been completely unresponsive (the last job.log entry was\n&gt; �INFO Job launched� nearly 48 hours ago). The �state� directory for this\n&gt; particular crawler (using the PersistStoreProcessor) is more than 3TB in\n&gt; size.\n&gt;\n&gt; My question: how long can a recovery typically take? We�ve had to\n&gt; recover crawlers before but it�s never taken quite this long before. Is\n&gt; there some way to figure out what it�s doing?\n&gt;\n&gt; Thanks.\n&gt;\n&gt; Roger G. Coram\n&gt;\n&gt; Web Archiving Engineer\n&gt;\n&gt; The British Library\n&gt;\n&gt; T: +44 (0)1937 546607\n&gt;\n&gt; F: +44 (0)1937 546872\n&gt;\n&gt; E: roger.coram@... &lt;mailto:roger.coram@...&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}