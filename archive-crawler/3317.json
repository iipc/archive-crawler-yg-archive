{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"Xq8pVte9Q8lliv5yaJjF2mHjDuYa2TQIu2xERHzPDBoJYj3Nn7sPgZuihqqRGKTJ4yK2ecKaeYKDbekkGdJgNXWWfTOKf6df","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: peekItem failure - urgent","postDate":"1158610046","msgId":3317,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1MEVGQzdFLjYwNTAxMDNAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVlamFvditwc2UzQGVHcm91cHMuY29tPg==","referencesHeader":"PGVlamFvditwc2UzQGVHcm91cHMuY29tPg=="},"prevInTopic":3316,"nextInTopic":0,"prevInTime":3316,"nextInTime":3318,"topicId":3309,"numMessagesInTopic":4,"msgSnippet":"If it OOME d, the crawler is in an unknown state and need to recover. Can you checkpoint the OOME d crawler and restart using the checkpoint? 42million","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 64675 invoked from network); 18 Sep 2006 20:06:48 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m29.grp.scd.yahoo.com with QMQP; 18 Sep 2006 20:06:48 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta4.grp.scd.yahoo.com with SMTP; 18 Sep 2006 20:06:48 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id F3D99141601A7;\n\tMon, 18 Sep 2006 13:06:37 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 23337-02-27; Mon, 18 Sep 2006 13:06:37 -0700 (PDT)\r\nReceived: from [192.168.1.204] (c-71-198-60-165.hsd1.ca.comcast.net [71.198.60.165])\n\tby mail.archive.org (Postfix) with ESMTP id CDD2D1416018A;\n\tMon, 18 Sep 2006 13:06:36 -0700 (PDT)\r\nMessage-ID: &lt;450EFC7E.6050103@...&gt;\r\nDate: Mon, 18 Sep 2006 13:07:26 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.0.2) Gecko/20060405 SeaMonkey/1.0.1\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;eejaov+pse3@...&gt;\r\nIn-Reply-To: &lt;eejaov+pse3@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: peekItem failure - urgent\r\nX-Yahoo-Group-Post: member; u=168599281; y=im9_x1HRNA9yxcLqdbeTRegfm9gpiIwa0w3jQ8_aft51eLCNLKjEBo_G\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nIf it OOME&#39;d, the crawler is in an unknown state and need to recover.  \nCan you checkpoint the OOME&#39;d crawler and restart using the checkpoint?\n\n42million downloaded with about 80million queued on one machine should \nbe OK (Looks like one queue alone has almost 800k items in it).  How \nmuch memory do you have allocated (I don&#39;t believe you&#39;ve said).  Are \nyou using bloom filter or bdb already-seen?\n\nChanging log paths mid-crawl probably has no effect -- we&#39;ll just keep \nlogging to the old location I&#39;d guess.  I&#39;m unsure if changing \ncheckpoint dir mid-crawl has an effect mid-crawl (it&#39;ll probably work).  \nProbably need to checkpoint and restart crawler with new log directory \nfor it to have an effect.\n\nOut of interest, do you not have any hops limits in place?  (There are \nalot of Ls in the below output).\n\nSt.Ack\n\n\ngoblin_cz wrote:\n&gt;\n&gt; I have tried my best. I found that the exception was invoked by this\n&gt; code:\n&gt; http://crawler.archive.org/xref/org/archive/crawler/frontier/BdbMultipleWorkQueues.html#290 \n&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/frontier/BdbMultipleWorkQueues.html#290&gt;\n&gt; But I can&#39;t understand what it exactly mean. And therefore how to\n&gt; repair that.\n&gt;\n&gt; When I tried unpause crawl, it throws about 1000 exceptions and paused\n&gt; again. Major part was exceptions with peekItem error, but the last\n&gt; exception was java heap error:\n&gt;\n&gt; Message:\n&gt;\n&gt; Serious error occured trying to process &#39;CrawlURI\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830&gt;\n&gt; LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2820&end=2825 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2820&end=2825&gt;\n&gt; in LinksScoper&#39;\n&gt; [ToeThread #97:\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830&gt;\n&gt; CrawlURI\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830&gt;\n&gt; LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2820&end=2825 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2820&end=2825&gt;\n&gt; 0 attempts\n&gt; in processor: LinksScoper\n&gt; ACTIVE for 2m6s541ms\n&gt; step: ABOUT_TO_BEGIN_PROCESSOR for 26s513ms\n&gt; java.lang.Thread.dumpThreads(Native Method)\n&gt; java.lang.Thread.getStackTrace(Thread.java:1383)\n&gt; org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:515)\n&gt; org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:593)\n&gt; org.archive.util.DevUtils.extraInfo(DevUtils.java:65)\n&gt;\n&gt; org.archive.crawler.framework.ToeThread.seriousError(ToeThread.java:232)\n&gt;\n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:327)\n&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt; ]\n&gt; timestamp discovered queued downloaded\n&gt; doc/s(avg) KB/s(avg) dl-failures busy-thread mem-use-KB\n&gt; heap-size-KB congestion max-depth avg-depth\n&gt; 2006-09-17T09:31:47Z 88576543 44719294 42593028\n&gt; 0.73(25.50) 61(1266) 11802 144 1260105\n&gt; 1304704 2517.33 709890 123\n&gt; (in thread &#39;ToeThread #97:\n&gt; http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830 \n&gt; &lt;http://www.kriz-elektronik.cz/index.php?page=./anketa/diskuze&start=2825&end=2830&gt;&#39;;\n&gt; in processor &#39;LinksScoper&#39;)\n&gt;\n&gt; Exception:\n&gt;\n&gt; java.lang.OutOfMemoryError: Java heap space\n&gt; Stacktrace: java.lang.OutOfMemoryError: Java heap space\n&gt;\n&gt; The summary of job is:\n&gt; downloaded 42593170\n&gt; queued 44719415\n&gt; 87312585 total downloaded and queued\n&gt; 2016 GB uncompressed data received\n&gt; 709890 deepest queue\n&gt;\n&gt; whole order file: http://harvester.webarchiv.cz/heritrix/order.xml \n&gt; &lt;http://harvester.webarchiv.cz/heritrix/order.xml&gt;\n&gt;\n&gt; Have heritrix or any third party utilites some system limit? Can I do\n&gt; so big crawl?\n&gt;\n&gt; Another question: Can I change paths of logs and checkpoints in\n&gt; running crawl?\n&gt;\n&gt; I hope, I haven&#39;t made anything wrong...\n&gt;\n&gt; Thank you for answers and have a nice day.\n&gt;\n&gt;  \n\n\n"}}