{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":202034705,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"A97O2UmAshnaVs5sx1P0fhmUnHdbZtB3Tw75bpa3BVKMBZB2yHltOC87r6ZneEJK3_akXlDDQbP7J97Ahltdi5VSx-ErMi8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Connecting to JMX eventually fails after many calls","postDate":"1194293391","msgId":4657,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3MkY3ODhGLjUwMTA5MDFAZHVib2NlLm5ldD4=","inReplyToHeader":"PGZnbnN2MStrbWQ1QGVHcm91cHMuY29tPg==","referencesHeader":"PGZnbnN2MStrbWQ1QGVHcm91cHMuY29tPg=="},"prevInTopic":4656,"nextInTopic":4658,"prevInTime":4656,"nextInTime":4658,"topicId":4652,"numMessagesInTopic":7,"msgSnippet":"... You are your own worst enemy.  Smile. ... Could be because the code that prints out that message ain t too smart. The UI is looking for an instance named","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 35461 invoked from network); 5 Nov 2007 20:11:19 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m48.grp.scd.yahoo.com with QMQP; 5 Nov 2007 20:11:19 -0000\r\nX-Received: from unknown (HELO dns.duboce.net) (63.203.238.117)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 Nov 2007 20:11:18 -0000\r\nX-Received: by dns.duboce.net (Postfix, from userid 1008)\n\tid 2F448C518; Mon,  5 Nov 2007 12:08:00 -0800 (PST)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on dns.duboce.net\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham \n\tversion=3.1.4\r\nX-Received: from durruti.desk.hq.powerset.com (durruti.desk.hq.powerset.com [208.76.47.63])\n\tby dns.duboce.net (Postfix) with ESMTP id 9B728C256\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  5 Nov 2007 12:07:55 -0800 (PST)\r\nMessage-ID: &lt;472F788F.5010901@...&gt;\r\nDate: Mon, 05 Nov 2007 12:09:51 -0800\r\nUser-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fgnsv1+kmd5@...&gt;\r\nIn-Reply-To: &lt;fgnsv1+kmd5@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Connecting to JMX eventually fails after\n many calls\r\nX-Yahoo-Group-Post: member; u=202034705; y=VJmnVdy6BnUZ2fxn9ugmAHzvPC7MxeBB0IeJRc4-_aMrkBDEwvlyL21c\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nacidbluebriggs wrote:\n&gt;\n&gt; ... it might be due to the fact that heritrix is using\n&gt; 100% of the processor and is just not able to respond to the\n&gt; connection request (my own DOS attack).\n&gt;\n\n\n\n\n\nYou are your own worst enemy.  Smile.\n\n&gt;\n&gt; As for the UI, I can&#39;t connect to it anyway when I have multiple\n&gt; crawlers. I get this error (if I start heritrix with 10 crawlers via a\n&gt; shell script and JMX)\n&gt;\n&gt; &quot;java.lang.RuntimeException: No heritrix instance (or multiple to\n&gt; choose from and we haven&#39;t implemented this yet)&quot;\n&gt;\n\n\n\n\n\n\n\n\n\nCould be because the code that prints out that message ain&#39;t too smart.  \nThe UI is looking for an instance named &quot;Heritrix&quot; IIRC and I&#39;m guessing \nthat when you make the ten instances, they&#39;re probably called 0, 1, 2, 3 \nor mary, bartholemew, and aloyisus... not Heritrix?  (Look for the \nmessage in Heritrix.java).\n\nSt.Ack\n\n\n\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, &quot;acidbluebriggs&quot;\n&gt; &lt;acidbriggs@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; I&#39;ll submit my jobs to reproduce it. It will take quite while but when\n&gt; &gt; it happens again I&#39;ll dump the threads.\n&gt; &gt;\n&gt; &gt; The UI is dead when this problem occurs so I can&#39;t check it for\n&gt; &gt; errors. But, the heritrix log file along with the job logs contain no\n&gt; &gt; errors.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Michael Stack &lt;stack@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Can you get thread dumps from the heritrix instance and try and\n&gt; figure\n&gt; &gt; &gt; why its stopped accepting connections and what its doing w/ that\n&gt; &gt; 100% of\n&gt; &gt; &gt; CPU (Would be particularly good if you could get dumps across the\n&gt; &gt; &gt; transistion going from accepting JMX connections to its going deaf to\n&gt; &gt; &gt; JMX connections)? If you browse to the UI, it all seems to be\n&gt; working\n&gt; &gt; &gt; fine? Anything in the UI Alerts list?\n&gt; &gt; &gt; St.Ack\n&gt; &gt; &gt;\n&gt; &gt; &gt; acidbluebriggs wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; So, I have a simple class to invoke crawl jobs on Heritrix via JMX.\n&gt; &gt; &gt; &gt; It seems to work fine for about 600 total jobs submitted, but\n&gt; &gt; &gt; &gt; eventually I cannot connect to the MBean server (or the WebUI); I&#39;ll\n&gt; &gt; &gt; &gt; just get socket timeout exceptions. I can&#39;t connect via either the\n&gt; &gt; &gt; &gt; JConsole application nor the command line also.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The process is that I have 10 heritrix instances up (within the one\n&gt; &gt; &gt; &gt; jvm) and I look for an available crawler mbean (via a jmx query)\n&gt; when\n&gt; &gt; &gt; &gt; a job needs to be submitted.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Does anyone know of any issues like this? I am using Heritrix 1.12.1\n&gt; &gt; &gt; &gt; and java build 1.5.0_11-b03.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I see no OOME or anything in the logs. But, if I run &#39;top&#39; I can see\n&gt; &gt; &gt; &gt; that the CPU usage has spiked to 100%. But, the current crawls I\n&gt; have\n&gt; &gt; &gt; &gt; seem to be stalled (no more output to the logs or the arc files have\n&gt; &gt; &gt; &gt; been appended for over a day).\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I hope this is enough info to jog some memories if the issue has\n&gt; been\n&gt; &gt; &gt; &gt; seen before.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --briggs\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  \n\n\n"}}