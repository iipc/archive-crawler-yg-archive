{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Z85lELMW6wiFnh5ll8oAhnNqxU85kTI6hNfCn5_ikigNTiZ2bJRNxypv-sLYXqVW_ejTyH8kvKM2d92U33Q7Xcq_jBrgKjo","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Intermittent issue running Heritrix with Java 7","postDate":"1373591300","msgId":8211,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUxREY1NzA0LjEwODAwMDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOUU2Q0Q2QGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOUU2NTdDQGJsaWtpLmJva2hsYWRhLmxvY2FsPiA8Nzc4NTc2RTgtQTAyNy00NDMwLUE3NTYtNjAwNEY3MDQ5QTkxQGFyY2hpdmUub3JnPiA8RTQ4NkQ5M0UzNzJEOEM0MjgyRThERjA3ODM5MkYxMkQ5RTZDRDZAYmxpa2kuYm9raGxhZGEubG9jYWw+"},"prevInTopic":8210,"nextInTopic":8507,"prevInTime":8210,"nextInTime":8212,"topicId":8206,"numMessagesInTopic":15,"msgSnippet":"Some thoughts... All the SocketExceptions/IOExceptions causing -2s should be appearing the nonfatal-errors log. (I don t think anything is caught and ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 79123 invoked by uid 102); 12 Jul 2013 01:08:22 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m10.grp.bf1.yahoo.com with SMTP; 12 Jul 2013 01:08:22 -0000\r\nX-Received: (qmail 19129 invoked from network); 12 Jul 2013 01:08:22 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 12 Jul 2013 01:08:22 -0000\r\nX-Received: (qmail 44855 invoked by uid 0); 12 Jul 2013 01:08:21 -0000\r\nX-Received: from 24.7.12.22 (HELO silverbook.local) (24.7.12.22)\n  by relay02.pair.com with SMTP; 12 Jul 2013 01:08:21 -0000\r\nX-pair-Authenticated: 24.7.12.22\r\nMessage-ID: &lt;51DF5704.1080008@...&gt;\r\nDate: Thu, 11 Jul 2013 18:08:20 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:17.0) Gecko/20130620 Thunderbird/17.0.7\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D9E657C@...&gt; &lt;778576E8-A027-4430-A756-6004F7049A91@...&gt; &lt;E486D93E372D8C4282E8DF078392F12D9E6CD6@...&gt;\r\nIn-Reply-To: &lt;E486D93E372D8C4282E8DF078392F12D9E6CD6@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Intermittent issue running Heritrix with Java\n 7\r\nX-Yahoo-Group-Post: member; u=137285340; y=hwatipO7l4SBZRWsA_yHIFJd-_PlvHmVjc3tQGz8G18U\r\nX-Yahoo-Profile: gojomo\r\n\r\nSome thoughts...\n\nAll the SocketExceptions/IOExceptions causing -2s should be appearing \nthe &#39;nonfatal-errors&#39; log. (I don&#39;t think anything is caught and \ncompletely ignored/forgotten... in particular that cleanup() routine \nadds the exception details to the CrawlURI for logging later.)\n\nSince it&#39;s not a &#39;final result for the URI&#39; until all the slow-retries \nare used up, it doesn&#39;t appear in the crawl.log until then -- but should \nbe seen elsewhere.\n\nThough normally I recommend against using OpenJDK builds, in this case \nan OpenJDK7 would be worth a try; perhaps it is something specific to \nthe exact [build 1.7.0_25-b15] Kris is using. (You might also try an \nearly-access JDK8 for comparison.)\n\nThough the JDK7 seems a *necessary* part of triggering the problem, it \nmight still also be related to the new hardware/network-card, or \nsomething else in the network vicinity... once in a blue-moon, some \nnetwork-hardware error is only triggered by certain uncommon \nbit-patterns, and changing software happens to make those patterns \nslightly more or less likely. Perhaps JDK7 has subtly changed some deep \nsocket options, or even just the flushing/packet-fragmentation choices, \nin a way to cause the failures elsewhere.\n\nSo even though adding/removing JDK7 on the single machine is enough to \ntrigger the observed failure, it would also be worth trying a few of the \nfollowing permutations, if/when convenient:\n  - different hardware same network location\n  - different network card (if possible) or even just different port (on \nmachine and/or into its uplink device)\n  - different hardware different network location\n  - same hardware, different network location\n\nRather than using full crawls as the trigger, if there is a particular \ntarget host and small set of example URIs that both often-fail and \noften-succeed, putting that mix of URIs into a minimal test crawl, that \njust constantly retries those same URIs (via the \n&#39;rescheduleDelaySeconds&#39; markup), and observes the failure-proportions, \nmight help narrow things down (and run in a small enough resource \ncarve-out that other crawls can continue in the meantime on the same \nmachine).\n\nIf there are any URI-pairs like...\n  &lt;http://example.is/one-path&gt; - always fails\n  &lt;http://example.is/another-path-same-host&gt; -always succeeds\n...that&#39;d strongly suggest something content- or packet-length \ntriggered, somewhere in the network path.\n\nIf a friendly/affiliated site with good logging is affected by such long \nruns of -2, you might want to check if their logs show the requests \n(even though on Heritrix/client-side they show as \ntimeouts/connection-refused - maybe they&#39;re seeing it like a client that \nconnects and never sends, or never reads the response).\n\nAlso worth checking the IPs, reverse DNS, and reported &#39;Server&#39; of \naffected sites - do they share hosting, software, proxying services, \ngeographical-location, etc?\n\n- Gordon\n\n\n\n"}}