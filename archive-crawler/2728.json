{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"WNZzX-kET-hd4MGHAkizg2OTgBggKK5YhBsbqeIHqR_SE9yg99E6aNecc-fW2JhuzC1CRFuOc1igoUt5QJX1ZQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] UURI.getReferencedHost() returns null","postDate":"1141235827","msgId":2728,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0MDVFMDczLjQwNDA5MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ0MDUyODFELjIwODAxMDVAYW9sLmNvbT4=","referencesHeader":"PDQ0MDUyODFELjIwODAxMDVAYW9sLmNvbT4="},"prevInTopic":2724,"nextInTopic":0,"prevInTime":2727,"nextInTime":2729,"topicId":2724,"numMessagesInTopic":2,"msgSnippet":"... Yes.  The parse is unable to pull a host from URIs the likes of http:/ or http:/~galvan/index.html . ... Agreed. I tried them in our test harness and","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 55218 invoked from network); 1 Mar 2006 17:57:30 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m25.grp.scd.yahoo.com with QMQP; 1 Mar 2006 17:57:30 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta1.grp.scd.yahoo.com with SMTP; 1 Mar 2006 17:57:30 -0000\r\nReceived: from [192.168.1.105] ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k21Glxj13680\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 1 Mar 2006 08:47:59 -0800\r\nMessage-ID: &lt;4405E073.4040904@...&gt;\r\nDate: Wed, 01 Mar 2006 09:57:07 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8) Gecko/20051218 SeaMonkey/1.0b\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;4405281D.2080105@...&gt;\r\nIn-Reply-To: &lt;4405281D.2080105@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] UURI.getReferencedHost() returns null\r\nX-Yahoo-Group-Post: member; u=168599281; y=uytSgvGFoLIq1SDMWO2uAzekYfMbWLcjys0WvadnnTUtJalxhbQh4NNG\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nPrasenjit Mukherjee wrote:\n&gt; I have a custom implementation of Scope which extends ClassicScope and\n&gt; overrides the method focusAccepts().  Below is the method implementation :\n&gt;\n&gt; protected boolean focusAccepts(Object o) {\n&gt;         UURI u = UURI.from(o);\n&gt;         if (u == null)  return false;\n&gt;         String host = u.getReferencedHost();       \n&gt;         if (host==null) {\n&gt;             System.out.println(&quot;HostScope.getHost(): null Host from URI:\n&gt; &quot;+u.getURI());\n&gt;             host = &quot;&quot;;\n&gt;         }      \n&gt;         return hostList.contains(host);\n&gt; }\n&gt;\n&gt;\n&gt; To my surprise I am observing that a lot of times the variable\n&gt; &quot;host&quot;(i.e. u.getReferencedHost()) is  null and here are some of the\n&gt; values for u.getURI() when  host is null :\n&gt; &quot;http://www.hatterchatter.com&quot;\n&gt; &quot;http://www.americangreetings.com&quot;\n&gt; &quot;http://www.americangreetings.com/fom.pd?junk=1&quot;\n&gt; &quot;http://www.bluemountain.com/mail/index.pd?x=1&quot;\n&gt;\n&gt; &quot;http:/&quot;\n&gt; &quot;http:/www.mapquest.com&quot;\n&gt; &quot;http:/...&lt;/td&quot;\n&gt; &quot;http:/~galvan/index.html&quot;\n&gt; &quot;http:/ www.homegrownpraise.com&quot;\n&gt; &quot;http:/?__&quot;\n&gt; &quot;http:/taweb-cgi/taweb&quot;\n&gt;\n&gt; Of the above &gt; 90% of the time is it : &quot;http:/&quot; whenever\n&gt; UURI.getReferencedHost() is null.  Is it occuring because of some\n&gt; parsing problem in some of the extractors ? \nYes.  The parse is unable to pull a &#39;host&#39; from URIs the likes of \n&quot;http:/&quot; or &quot;http:/~galvan/index.html&quot;.\n\n&gt; But the one in the first\n&gt; block looks like valid UURIs, and hence shouldn&#39;t had returned null for\n&gt; getReferencedHost().\n\nAgreed. I tried them in our test harness and it finds hosts fine if URI \nis &#39;http://www.hatterchatter.com&#39;.  Is there anything in uri-errors.log \npertaining to failed parse of the &#39;good-looking URIs?\n\n(FYI, the actual parse is done by the httpclient URI class -- our UURI \nsubclasses httpclient URI.  Before UURI gives URI String to the parent \nto parse, we do some fixup in UURIFactory.  See \nhttp://crawler.archive.org/xref/org/archive/net/UURIFactory.html#381).\n\nSt.Ack\n\n\n\n&gt; I also looked into the u.getReferencedHost()&#39;s\n&gt; implementation, and there seems to be some caching/coalescing of strings\n&gt; going on.\n&gt;\n&gt; Any clarification on this will be greatly appreciated.\n&gt;\n&gt; thanks,\n&gt; Prasen\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}