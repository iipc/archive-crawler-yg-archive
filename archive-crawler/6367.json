{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":366268246,"authorName":"Derek Pappas","from":"Derek Pappas &lt;derekepappas@...&gt;","profile":"depappas","replyTo":"LIST","senderId":"-5Vb-R-9rc5qqjSliWCxE0r3iye2jAfSGgRvhHyeZbxdqfweWPNutR333wyux5trOKO_34fOZJKkHOSkgy3nq-LlizNUC6pvelZnPg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Heritrix traffic pattern over time","postDate":"1265303938","msgId":6367,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyRDJGQ0NBLUJEMDktNEUzMC1BMEVDLUM4MjAzRjFGODM2MkBnbWFpbC5jb20+","inReplyToHeader":"PDRCNkExM0I1LjQwNTAyMDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PDRCNjkyNjRFLjYwODA5MDJAYXJjaGl2ZS5vcmc+IDxBQTg2QkVCNC0xMzNCLTQ1OTItQjc2Ri02QzQxQTVGNzNDODhAZ21haWwuY29tPiA8NEI2OUM2OTMuNDA4MDUwM0BhcmNoaXZlLm9yZz4gPEIyNTJEMUMyLUExQUItNEZENi04QjVBLTE0RDJGMEIzMjk2MkBnbWFpbC5jb20+IDw0QjZBMTNCNS40MDUwMjAyQGFyY2hpdmUub3JnPg=="},"prevInTopic":6362,"nextInTopic":6368,"prevInTime":6366,"nextInTime":6368,"topicId":6359,"numMessagesInTopic":10,"msgSnippet":"Here is another example on a quad core that started out at 16 URI s/ sec and is down to 8. heap used         : 1.4 GB heap max/allocated: 1.8 GB RAM","rawEmail":"Return-Path: &lt;derekepappas@...&gt;\r\nX-Sender: derekepappas@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 15976 invoked from network); 4 Feb 2010 18:59:46 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m11.grp.re1.yahoo.com with QMQP; 4 Feb 2010 18:59:46 -0000\r\nX-Received: from unknown (HELO mail-fx0-f228.google.com) (209.85.220.228)\n  by mta2.grp.sp2.yahoo.com with SMTP; 4 Feb 2010 18:59:45 -0000\r\nX-Received: by fxm28 with SMTP id 28so2895027fxm.0\n        for &lt;archive-crawler@yahoogroups.com&gt;; Thu, 04 Feb 2010 10:59:44 -0800 (PST)\r\nX-Received: by 10.223.6.89 with SMTP id 25mr1546561fay.89.1265309983942;\n        Thu, 04 Feb 2010 10:59:43 -0800 (PST)\r\nReturn-Path: &lt;derekepappas@...&gt;\r\nX-Received: from ?192.168.1.5? (c-24-6-97-60.hsd1.ca.comcast.net [24.6.97.60])\n        by mx.google.com with ESMTPS id 14sm225640fxm.3.2010.02.04.10.59.41\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Thu, 04 Feb 2010 10:59:42 -0800 (PST)\r\nMessage-Id: &lt;42D2FCCA-BD09-4E30-A0EC-C8203F1F8362@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;4B6A13B5.4050202@...&gt;\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-113--766069765\r\nMime-Version: 1.0 (Apple Message framework v936)\r\nDate: Thu, 4 Feb 2010 09:18:58 -0800\r\nReferences: &lt;4B69264E.6080902@...&gt; &lt;AA86BEB4-133B-4592-B76F-6C41A5F73C88@...&gt; &lt;4B69C693.4080503@...&gt; &lt;B252D1C2-A1AB-4FD6-8B5A-14D2F0B32962@...&gt; &lt;4B6A13B5.4050202@...&gt;\r\nX-Mailer: Apple Mail (2.936)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Derek Pappas &lt;derekepappas@...&gt;\r\nSubject: Re: [archive-crawler] Re: Heritrix traffic pattern over time\r\nX-Yahoo-Group-Post: member; u=366268246; y=kKF-CIKEai4ssOQrdV9F8BW9pI2_gKZBFR4cN_7v1cpuYWc\r\nX-Yahoo-Profile: depappas\r\n\r\n\r\n--Apple-Mail-113--766069765\r\nContent-Type: text/plain;\n\tcharset=WINDOWS-1252;\n\tformat=flowed;\n\tdelsp=yes\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHere is another example on a quad core that started out at 16 URI&#39;s/ \nsec a=\r\nnd is down to 8.\n\nheap used         : 1.4 GB\nheap max/allocated: 1.8 GB\nRAM=\r\n               : 8   GB\n\nSwapping should not be the cause of this problem.\n=\r\n\nSwapTotal:     2031608 kB\nSwapFree:      2031468 kB\n\nNothing else is runni=\r\nng on this box.\n\nThis is suspicious.\nMemTotal:      8177536 kB\nMemFree:    =\r\n     46192 kB\n\n0.\ntop - 09:16:40 up 35 days, 19:41,  1 user,  load average:=\r\n 3.25, 3.25,  \n3.25\nTasks: 163 total,   1 running, 162 sleeping,   0 stoppe=\r\nd,   0 zombie\nCpu(s):  7.2%us,  0.8%sy,  0.0%ni, 66.6%id, 25.1%wa,  0.1%hi,=\r\n   \n0.1%si,  0.0%st\nMem:   8177536k total,  8078252k used,    99284k free, =\r\n  165576k buffers\nSwap:  2031608k total,      140k used,  2031468k free,  4=\r\n977244k cached\n\n   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME=\r\n+  COMMAND\n  2520 root      17   0 2616m 2.1g 9044 S 31.6 27.2  13413:32 ja=\r\nva\n     1 root      15   0 10352  644  544 S  0.0  0.0   0:16.38 init\n     =\r\n2 root      RT  -5     0    0    0 S  0.0  0.0   0:00.92  \nmigration/0\n    =\r\n 3 root      34  19     0    0    0 S  0.0  0.0   0:00.13  \nksoftirqd/0\n   =\r\n  4 root      RT  -5     0    0    0 S  0.0  0.0   0:00.00 watchdog/0\n     =\r\n5 root      RT  -5     0    0    0 S  0.0  0.0   0:00.51  \nmigration/1\n\n1. =\r\nStarted with 2mb jvm\n\n# cat /etc/*/*heritrix*\n#!/bin/bash\nexport  JAVA_OPTS=\r\n=3D&quot; -Xmx2048m&quot;\n/opt/heritrix/bin/heritrix --bind=3Dyowb2 --admin=3Dadmin:a=\r\ndmin\n\n2. RAM is 8MB\n\n$ cat /proc/meminfo\nMemTotal:      8177536 kB\nMemFree:=\r\n         46192 kB\nBuffers:        167312 kB\nCached:        5023020 kB\nSwapC=\r\nached:          0 kB\nActive:        4424524 kB\nInactive:      3268204 kB\nHi=\r\nghTotal:           0 kB\nHighFree:            0 kB\nLowTotal:      8177536 kB=\r\n\nLowFree:         46192 kB\nSwapTotal:     2031608 kB\nSwapFree:      2031468=\r\n kB\nDirty:           16224 kB\nWriteback:           0 kB\nAnonPages:     2501=\r\n356 kB\nMapped:          46076 kB\nSlab:           396104 kB\nPageTables:     =\r\n 17200 kB\nNFS_Unstable:        0 kB\nBounce:              0 kB\nCommitLimit: =\r\n  6120376 kB\nCommitted_AS:  3323316 kB\nVmallocTotal: 34359738367 kB\nVmalloc=\r\nUsed:    264244 kB\nVmallocChunk: 34359473159 kB\nHugePages_Total:     0\nHuge=\r\nPages_Free:      0\nHugePages_Rsvd:      0\nHugepagesize:     2048 kB\n\n3. Fro=\r\nntier report\nFrontier report\n9931 queues: 176 active (50 in-process; 94 rea=\r\ndy; 32 snoozed); 870  \ninactive; 0 retired; 8885 exhausted\nrontier report -=\r\n 201002041711\n  Job being crawled: top_500_internet_retailers\n\n  -----=3D=\r\n=3D=3D=3D=3D STATS =3D=3D=3D=3D=3D-----\n  Discovered:    101473107\n  Queued=\r\n:        86097051\n  Finished:      15421818\n   Successfully: 13249266\n   Fa=\r\niled:       2861\n   Disregarded:  2169691\n\n  -----=3D=3D=3D=3D=3D QUEUES =\r\n=3D=3D=3D=3D=3D-----\n  Already included size:     101473107\n               =\r\n pending:     0\n\n  All class queues map size: 9931\n              Active que=\r\nues: 176\n                     In-process: 50\n                          Read=\r\ny: 108\n                        Snoozed: 18\n            Inactive queues: 870=\r\n\n             Retired queues: 0\n           Exhausted queues: 8885\n\n4. conso=\r\nle png&#39;s\n\n\n\n\n\nOn Feb 3, 2010, at 4:24 PM, Gordon Mohr wrote:\n\n&gt; Derek Pappa=\r\ns wrote:\n&gt;&gt;&gt; What&#39;s the hardware like?\n&gt;\n&gt;&gt; $ cat /proc/meminfo\n&gt;&gt; MemTotal=\r\n:      1026792 kB\n&gt;\n&gt; Your screenshot reported 1.3GB heap used; 1.8GB heap =\r\nmax/allocated.  \n&gt; With\n&gt; only 1GB RAM, that means lots of swapping, which =\r\nprobably explains the\n&gt; slowness. Java heap memory usage is very non-local =\r\n-- essentially by\n&gt; design of the garbage-collection system -- and so you a=\r\nlways want the\n&gt; heap size to be less than RAM. I would recommend a max-hea=\r\np setting of\n&gt; no more than 700MB-800MB on a 1GB machine.\n&gt;\n&gt;&gt; \t=95 Frontie=\r\nr report\n&gt;&gt; 15179 queues: 191 active (50 in-process; 31 ready; 110 snoozed)=\r\n; 78\n&gt;&gt; inactive; 0 retired; 14910 exhausted\n&gt;\n&gt; I believe the swapping is =\r\nenough to explain the slowdown, but this\n&gt; *might* be slightly suggestive t=\r\nhere are a disproportionate number of\n&gt; queues that are non-responsive. Wit=\r\nh typical politeness waits that are\n&gt; 10X or more of the fetch-times, if th=\r\ne queues are all  \n&gt; &#39;lively&#39; (fetching\n&gt; quickly) then the total number of=\r\n ready+snoozed queues would be larger\n&gt; than just 1.4 times the number of i=\r\nn-process queues, up to all the\n&gt; available inactive queues.\n&gt;\n&gt; Looking at=\r\n the full frontier report for queues that are in long\n&gt; (multi-minute) snoo=\r\nzes, or have odd domain names and have never made  \n&gt; any\n&gt; progress, will =\r\nbe one indication that this is happening. Connect  \n&gt; errors\n&gt; in the &#39;loca=\r\nl-errors.log&#39; are another indication.\n&gt;\n&gt; When the queues&#39; target hosts are=\r\nn&#39;t responsive and not expected to\n&gt; become responsive, it&#39;s just an operat=\r\nor judgment call as to when to\n&gt; terminate the crawl.\n&gt;\n&gt; I think you&#39;ll ge=\r\nt much better performance if you restart with a\n&gt; max-heap (JVM -Xmx) below=\r\n total RAM.\n&gt;\n&gt; - Gordon @ IA\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n=\r\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n\r\n--Apple-Mail-113--766069765\r\nContent-Type: multipart/related;\n\tboundary=Apple-Mail-114--766069765;\n\ttype=&quot;text/html&quot;\r\n\r\n\r\n--Apple-Mail-114--766069765\r\nContent-Type: text/html;\n\tcharset=WINDOWS-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-mode: space; -webk=\r\nit-line-break: after-white-space; &quot;&gt;&lt;div&gt;Here is another example&nbsp;on a =\r\nquad core&nbsp;that started out at 16 URI&#39;s/sec and is down to 8.&lt;/div&gt;&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Courier&quot; size=\r\n=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;heap use=\r\nd &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp;1.4 GB&nbsp;&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;=\r\n&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;Courier&quot; size=3D&quot;3&quot;&gt;&lt;span cla=\r\nss=3D&quot;Apple-style-span&quot; style=3D&quot;font-size: 12px;&quot;&gt;heap max/allocated:&nbsp=\r\n;1.8 GB&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=\r\n=3D&quot;Courier&quot; size=3D&quot;3&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-size=\r\n: 12px;&quot;&gt;RAM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp;8 &nbs=\r\np; GB&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Swapping should not be t=\r\nhe cause of this problem.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SwapTotal: &nbsp; &=\r\nnbsp; 2031608 kB&lt;/div&gt;&lt;div&gt;SwapFree: &nbsp; &nbsp; &nbsp;2031468 kB&lt;/div&gt;&lt;d=\r\niv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Nothing else is running on this box.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;=\r\n&lt;div&gt;This is suspicious.&lt;/div&gt;&lt;div&gt;MemTotal: &nbsp; &nbsp; &nbsp;8177536 kB=\r\n&lt;/div&gt;&lt;div&gt;MemFree: &nbsp; &nbsp; &nbsp; &nbsp; 46192 kB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;/div&gt;&lt;div&gt;0.&lt;/div&gt;&lt;div&gt;&lt;div&gt;top - 09:16:40 up 35 days, 19:41, &nbsp;1 us=\r\ner, &nbsp;load average: 3.25, 3.25, 3.25&lt;/div&gt;&lt;div&gt;Tasks: 163 total, &nbsp;=\r\n 1 running, 162 sleeping, &nbsp; 0 stopped, &nbsp; 0 zombie&lt;/div&gt;&lt;div&gt;Cpu(s=\r\n): &nbsp;7.2%us, &nbsp;0.8%sy, &nbsp;0.0%ni, 66.6%id, 25.1%wa, &nbsp;0.1%hi=\r\n, &nbsp;0.1%si, &nbsp;0.0%st&lt;/div&gt;&lt;div&gt;Mem: &nbsp; 8177536k total, &nbsp;80=\r\n78252k used, &nbsp; &nbsp;99284k free, &nbsp; 165576k buffers&lt;/div&gt;&lt;div&gt;Swa=\r\np: &nbsp;2031608k total, &nbsp; &nbsp; &nbsp;140k used, &nbsp;2031468k free=\r\n, &nbsp;4977244k cached&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;PID USER &nbsp=\r\n; &nbsp; &nbsp;PR &nbsp;NI &nbsp;VIRT &nbsp;RES &nbsp;SHR S %CPU %MEM &nbsp=\r\n; &nbsp;TIME+ &nbsp;COMMAND &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=\r\n; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=\r\nsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;2520 root &nbsp; &nbsp; &nb=\r\nsp;17 &nbsp; 0 2616m 2.1g 9044 S 31.6 27.2 &nbsp;13413:32 java &nbsp; &nbsp=\r\n; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=\r\nsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=\r\nnbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;1 root &nbsp; &nbsp; &nbsp;15 &nbsp; 0 1=\r\n0352 &nbsp;644 &nbsp;544 S &nbsp;0.0 &nbsp;0.0 &nbsp; 0:16.38 init &nbsp; &=\r\nnbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=\r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=\r\np; &nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;2 root &nbsp; &nbsp; &nbsp;RT &nbsp;=\r\n-5 &nbsp; &nbsp; 0 &nbsp; &nbsp;0 &nbsp; &nbsp;0 S &nbsp;0.0 &nbsp;0.0 &nbs=\r\np; 0:00.92 migration/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=\r\nsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=\r\nnbsp; &nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;3 root &nbsp; &nbsp; &nbsp;=\r\n34 &nbsp;19 &nbsp; &nbsp; 0 &nbsp; &nbsp;0 &nbsp; &nbsp;0 S &nbsp;0.0 &nbsp=\r\n;0.0 &nbsp; 0:00.13 ksoftirqd/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=\r\nnbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=\r\n &nbsp; &nbsp; &nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;4 root &nbsp; &nbs=\r\np; &nbsp;RT &nbsp;-5 &nbsp; &nbsp; 0 &nbsp; &nbsp;0 &nbsp; &nbsp;0 S &nbsp;=\r\n0.0 &nbsp;0.0 &nbsp; 0:00.00 watchdog/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=\r\n; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;5 root &n=\r\nbsp; &nbsp; &nbsp;RT &nbsp;-5 &nbsp; &nbsp; 0 &nbsp; &nbsp;0 &nbsp; &nbsp;0=\r\n S &nbsp;0.0 &nbsp;0.0 &nbsp; 0:00.51 migration/1&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div=\r\n&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;1. Started with 2mb jvm&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;# cat /et=\r\nc/*/*heritrix*&lt;/div&gt;&lt;div&gt;#!/bin/bash&lt;/div&gt;&lt;div&gt;export &nbsp;JAVA_OPTS=3D&quot; -=\r\nXmx2048m&quot;&lt;/div&gt;&lt;div&gt;/opt/heritrix/bin/heritrix --bind=3Dyowb2 --admin=3Dadm=\r\nin:admin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2. RAM is 8MB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;div&gt;$ cat /proc/meminfo&nbsp;&lt;/div&gt;&lt;div&gt;MemTotal: &nbsp; &nbsp; &nbsp;=\r\n8177536 kB&lt;/div&gt;&lt;div&gt;MemFree: &nbsp; &nbsp; &nbsp; &nbsp; 46192 kB&lt;/div&gt;&lt;di=\r\nv&gt;Buffers: &nbsp; &nbsp; &nbsp; &nbsp;167312 kB&lt;/div&gt;&lt;div&gt;Cached: &nbsp; &n=\r\nbsp; &nbsp; &nbsp;5023020 kB&lt;/div&gt;&lt;div&gt;SwapCached: &nbsp; &nbsp; &nbsp; &nb=\r\nsp; &nbsp;0 kB&lt;/div&gt;&lt;div&gt;Active: &nbsp; &nbsp; &nbsp; &nbsp;4424524 kB&lt;/div=\r\n&gt;&lt;div&gt;Inactive: &nbsp; &nbsp; &nbsp;3268204 kB&lt;/div&gt;&lt;div&gt;HighTotal: &nbsp; =\r\n&nbsp; &nbsp; &nbsp; &nbsp; 0 kB&lt;/div&gt;&lt;div&gt;HighFree: &nbsp; &nbsp; &nbsp; &=\r\nnbsp; &nbsp; &nbsp;0 kB&lt;/div&gt;&lt;div&gt;LowTotal: &nbsp; &nbsp; &nbsp;8177536 kB&lt;=\r\n/div&gt;&lt;div&gt;LowFree: &nbsp; &nbsp; &nbsp; &nbsp; 46192 kB&lt;/div&gt;&lt;div&gt;SwapTotal=\r\n: &nbsp; &nbsp; 2031608 kB&lt;/div&gt;&lt;div&gt;SwapFree: &nbsp; &nbsp; &nbsp;2031468 =\r\nkB&lt;/div&gt;&lt;div&gt;Dirty: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 16224 kB&lt;/div&gt;&lt;div&gt;W=\r\nriteback: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB&lt;/div&gt;&lt;div&gt;AnonPages: &nbs=\r\np; &nbsp; 2501356 kB&lt;/div&gt;&lt;div&gt;Mapped: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;46=\r\n076 kB&lt;/div&gt;&lt;div&gt;Slab: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 396104 kB&lt;/div&gt;&lt;d=\r\niv&gt;PageTables: &nbsp; &nbsp; &nbsp;17200 kB&lt;/div&gt;&lt;div&gt;NFS_Unstable: &nbsp; =\r\n&nbsp; &nbsp; &nbsp;0 kB&lt;/div&gt;&lt;div&gt;Bounce: &nbsp; &nbsp; &nbsp; &nbsp; &nbs=\r\np; &nbsp; &nbsp;0 kB&lt;/div&gt;&lt;div&gt;CommitLimit: &nbsp; 6120376 kB&lt;/div&gt;&lt;div&gt;Com=\r\nmitted_AS: &nbsp;3323316 kB&lt;/div&gt;&lt;div&gt;VmallocTotal: 34359738367 kB&lt;/div&gt;&lt;di=\r\nv&gt;VmallocUsed: &nbsp; &nbsp;264244 kB&lt;/div&gt;&lt;div&gt;VmallocChunk: 34359473159 k=\r\nB&lt;/div&gt;&lt;div&gt;HugePages_Total: &nbsp; &nbsp; 0&lt;/div&gt;&lt;div&gt;HugePages_Free: &nbs=\r\np; &nbsp; &nbsp;0&lt;/div&gt;&lt;div&gt;HugePages_Rsvd: &nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;div=\r\n&gt;Hugepagesize: &nbsp; &nbsp; 2048 kB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3. Frontier r=\r\neport&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: Aria=\r\nl; &quot;&gt;&lt;a href=3D&quot;http://yowb2:8070/reports/frontier.jsp&quot;&gt;Frontier report&lt;/a&gt;=\r\n&lt;br&gt;9931 queues: 176 active (50 in-process; 94 ready; 32 snoozed); 870 inac=\r\ntive; 0 retired; 8885 exhausted&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-style=\r\n-span&quot; style=3D&quot;font-family: Arial; &quot;&gt;&lt;pre&gt;rontier report - 201002041711\n J=\r\nob being crawled: top_500_internet_retailers\n\n -----=3D=3D=3D=3D=3D STATS =\r\n=3D=3D=3D=3D=3D-----\n Discovered:    101473107\n Queued:        86097051\n Fi=\r\nnished:      15421818\n  Successfully: 13249266\n  Failed:       2861\n  Disre=\r\ngarded:  2169691\n\n -----=3D=3D=3D=3D=3D QUEUES =3D=3D=3D=3D=3D-----\n Alread=\r\ny included size:     101473107\n               pending:     0\n\n All class qu=\r\neues map size: 9931\n             Active queues: 176\n                    In-=\r\nprocess: 50\n                         Ready: 108\n                       Snoo=\r\nzed: 18\n           Inactive queues: 870\n            Retired queues: 0\n     =\r\n     Exhausted queues: 8885\n&lt;/pre&gt;&lt;div&gt;&lt;font class=3D&quot;Apple-style-span&quot; fac=\r\ne=3D&quot;monospace&quot;&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;white-space: pre;=\r\n&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;4. console png&#39;s&lt;/div&gt;&lt;div&gt;&lt;br&gt;=\r\n&lt;/div&gt;&lt;div&gt;&lt;img height=3D&quot;216&quot; width=3D&quot;722&quot; apple-width=3D&quot;yes&quot; apple-heig=\r\nht=3D&quot;yes&quot; src=3D&quot;cid:EF4E3D4F-AB48-4711-90AB-6AB19B6A6BAE&quot;&gt;&lt;img height=3D&quot;=\r\n111&quot; width=3D&quot;287&quot; apple-width=3D&quot;yes&quot; apple-height=3D&quot;yes&quot; src=3D&quot;cid:02D0=\r\n6A42-5042-4CF1-85BB-A8ECABBFCF3D&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;On Feb 3, 2010, at 4:24 PM, Gordon Mohr wrote:&lt;/div&gt;&lt;br=\r\n class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div&gt;Derek P=\r\nappas wrote:&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;What&#39;s =\r\nthe hardware like?&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cit=\r\ne&quot;&gt;$ cat /proc/meminfo&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;MemTotal: =\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1026792 kB&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Your screensho=\r\nt reported 1.3GB heap used; 1.8GB heap max/allocated. With &lt;br&gt;only 1GB RAM=\r\n, that means lots of swapping, which probably explains the &lt;br&gt;slowness. Ja=\r\nva heap memory usage is very non-local -- essentially by &lt;br&gt;design of the =\r\ngarbage-collection system -- and so you always want the &lt;br&gt;heap size to be=\r\n less than RAM. I would recommend a max-heap setting of &lt;br&gt;no more than 70=\r\n0MB-800MB on a 1GB machine.&lt;br&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;span class=3D=\r\n&quot;Apple-tab-span&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;=95 Frontier report&lt;br&gt;&lt;=\r\n/blockquote&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;15179 queues: 191 active (50 in-proce=\r\nss; 31 ready; 110 snoozed); 78 &nbsp;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote type=3D&quot;c=\r\nite&quot;&gt;inactive; 0 retired; 14910 exhausted&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;I believe the=\r\n swapping is enough to explain the slowdown, but this &lt;br&gt;*might* be slight=\r\nly suggestive there are a disproportionate number of &lt;br&gt;queues that are no=\r\nn-responsive. With typical politeness waits that are &lt;br&gt;10X or more of the=\r\n fetch-times, if the queues are all &#39;lively&#39; (fetching &lt;br&gt;quickly) then th=\r\ne total number of ready+snoozed queues would be larger &lt;br&gt;than just 1.4 ti=\r\nmes the number of in-process queues, up to all the &lt;br&gt;available inactive q=\r\nueues.&lt;br&gt;&lt;br&gt;Looking at the full frontier report for queues that are in lo=\r\nng &lt;br&gt;(multi-minute) snoozes, or have odd domain names and have never made=\r\n any &lt;br&gt;progress, will be one indication that this is happening. Connect e=\r\nrrors &lt;br&gt;in the &#39;local-errors.log&#39; are another indication.&lt;br&gt;&lt;br&gt;When the=\r\n queues&#39; target hosts aren&#39;t responsive and not expected to &lt;br&gt;become resp=\r\nonsive, it&#39;s just an operator judgment call as to when to &lt;br&gt;terminate the=\r\n crawl.&lt;br&gt;&lt;br&gt;I think you&#39;ll get much better performance if you restart wi=\r\nth a &lt;br&gt;max-heap (JVM -Xmx) below total RAM.&lt;br&gt;&lt;br&gt;- Gordon @ IA&lt;br&gt;&lt;br&gt;&lt;=\r\nbr&gt;------------------------------------&lt;br&gt;&lt;br&gt;Yahoo! Groups Links&lt;br&gt;&lt;br&gt;&=\r\nlt;*&gt; To visit your group on the web, go to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a hr=\r\nef=3D&quot;http://groups.yahoo.com/group/archive-crawler/&quot;&gt;http://groups.yahoo.c=\r\nom/group/archive-crawler/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;*&gt; Your email settings:&lt;br&gt; &nb=\r\nsp;&nbsp;&nbsp;Individual Email | Traditional&lt;br&gt;&lt;br&gt;&lt;*&gt; To change se=\r\nttings online go to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;http://groups.yahoo.c=\r\nom/group/archive-crawler/join&quot;&gt;http://groups.yahoo.com/group/archive-crawle=\r\nr/join&lt;/a&gt;&lt;br&gt; &nbsp;&nbsp;&nbsp;(Yahoo! ID required)&lt;br&gt;&lt;br&gt;&lt;*&gt; To c=\r\nhange settings via email:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;mailto:archive-c=\r\nrawler-digest@yahoogroups.com&quot;&gt;archive-crawler-digest@yahoogroups.com&lt;/a&gt; &lt;=\r\nbr&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;mailto:archive-crawler-fullfeatured@yahoog=\r\nroups.com&quot;&gt;archive-crawler-fullfeatured@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;*&gt=\r\n; To unsubscribe from this group, send an email to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;=\r\na href=3D&quot;mailto:archive-crawler-unsubscribe@yahoogroups.com&quot;&gt;archive-crawl=\r\ner-unsubscribe@yahoogroups.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;*&gt; Your use of Yahoo! Grou=\r\nps is subject to:&lt;br&gt; &nbsp;&nbsp;&nbsp;&lt;a href=3D&quot;http://docs.yahoo.com/in=\r\nfo/terms/&quot;&gt;http://docs.yahoo.com/info/terms/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;=\r\n&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail-114--766069765\r\nContent-Disposition: inline;\n\tfilename=&quot;Picture 86.png&quot;\r\nContent-Type: image/png;\n\tx-mac-hide-extension=yes;\n\tx-unix-mode=0644;\n\tname=&quot;Picture 86.png&quot;\r\nContent-Id: &lt;EF4E3D4F-AB48-4711-90AB-6AB19B6A6BAE&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--Apple-Mail-114--766069765\r\nContent-Disposition: inline;\n\tfilename=&quot;Picture 85.png&quot;\r\nContent-Type: image/png;\n\tx-mac-hide-extension=yes;\n\tx-unix-mode=0644;\n\tname=&quot;Picture 85.png&quot;\r\nContent-Id: &lt;02D06A42-5042-4CF1-85BB-A8ECABBFCF3D&gt;\r\n\r\n[ Attachment content not displayed ]\r\n--Apple-Mail-114--766069765--\r\n\n\r\n--Apple-Mail-113--766069765--\r\n\n"}}