{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":225011788,"authorName":"Karl Wright","from":"Karl Wright &lt;kwright@...&gt;","profile":"daddywri","replyTo":"LIST","senderId":"jdf_TJJZ6QVCYsXc-vUMrR9wKVRomvnxpf4G41ZKNZPhemO9xrh6bA2YQDwdbLMeJgcBm9gOayf6um8Q3OYHelP-wPQlgUe1oS8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Replay input stream I/O errors - anybody ever seen these?","postDate":"1131642423","msgId":2355,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzNzM3RTM3LjUwNTAzMDlAbWV0YWNhcnRhLmNvbT4="},"prevInTopic":0,"nextInTopic":2362,"prevInTime":2354,"nextInTime":2356,"topicId":2355,"numMessagesInTopic":3,"msgSnippet":"On Heritrix 1.5, doing an extended crawl, we begin to see errors that look like the I/O system is getting confused.  These occur occasionally at first, then","rawEmail":"Return-Path: &lt;kwright@...&gt;\r\nX-Sender: kwright@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 80235 invoked from network); 10 Nov 2005 17:06:05 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m31.grp.scd.yahoo.com with QMQP; 10 Nov 2005 17:06:05 -0000\r\nReceived: from unknown (HELO metacarta.com) (65.77.47.18)\n  by mta3.grp.scd.yahoo.com with SMTP; 10 Nov 2005 17:06:05 -0000\r\nReceived: from localhost (jackson.metacarta.com [65.77.47.6])\n\tby metacarta.com (Postfix) with ESMTP id 8072F5180A7\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 10 Nov 2005 12:06:02 -0500 (EST)\r\nReceived: from metacarta.com ([65.77.47.18])\n\tby localhost (jackson.metacarta.com [65.77.47.6]) (amavisd-new, port 10024)\n\twith ESMTP id 13982-02 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tThu, 10 Nov 2005 12:05:58 -0500 (EST)\r\nReceived: from [65.77.47.197] (dhcp-65-77-47-197.metacarta.com [65.77.47.197])\n\tby metacarta.com (Postfix) with ESMTP id E1D3D518026\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 10 Nov 2005 12:05:58 -0500 (EST)\r\nMessage-ID: &lt;43737E37.5050309@...&gt;\r\nDate: Thu, 10 Nov 2005 12:07:03 -0500\r\nUser-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at metacarta.com\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Karl Wright &lt;kwright@...&gt;\r\nSubject: Replay input stream I/O errors - anybody ever seen these?\r\nX-Yahoo-Group-Post: member; u=225011788; y=sod3n9OnKTXD0ZmFejvmUykuiKwjs5CMhsqVDx-7LTBNt0w\r\nX-Yahoo-Profile: daddywri\r\n\r\nOn Heritrix 1.5, doing an extended crawl, we begin to see errors that \nlook like the I/O system is getting confused.  These occur occasionally \nat first, then with greater frequency.  Here&#39;s a few of them:\n\n\n11/09/2005 02:47:42 +0000 SEVERE org.archive.util.FileUtils copyFile \nFailed copy, trying workaround: Copying \n/usr/share/heritrix/src/jobs/NZ8-20051107193326172/order.xml to \n/usr/share/heritrix/src/jobs/NZ8-20051107193326172/order_20051108135026.xml \nwith extent 11012 got IOE: Invalid argument\n\n\n11/09/2005 20:02:19 +0000 SEVERE org.archive.crawler.fetcher.FetchHTTP \ninnerProcess \nhttp://www.stephensmithenergy.com/PXD_CompanyOutlookReport_7154_FINAL.pdf\nRIS still open. Should have been closed by method release: ToeThread \n#345: \nhttp://www.stephensmithenergy.com/PXD_CompanyOutlookReport_7154_FINAL.pdf\n11/09/2005 20:10:52 +0000 SEVERE org.archive.crawler.fetcher.FetchHTTP \ninnerProcess \nhttp://www.stephensmithenergy.com/MonthlyEnergyOutlook_6194_FINAL.pdf \nRIS still open. Should have been closed by method release: ToeThread \n#326: http://www.stephensmithenergy.com/MonthlyEnergyOutlook_6194_FINAL.pdf\n\nI looked at the code where the latter error is generated, and can only \nconclude that a file close operation is throwing an IOException, which \nis interfering with the file being actually marked closed.  I&#39;ve further \nconfirmed that there is no chance we are out of disk space, or anything \nmundane like that.\n\nIs it possible that we have a race condition here?  What is the Heritrix \nthread model where ReplayInputStream&#39;s are concerned?  If you have a \nwriter that gets a ReplayInputStream from the curi and uses it (which we \ndo), is there a chance of interaction with the FetchHTTP stuff?\n\n\nThanks,\nKarl\n\n"}}