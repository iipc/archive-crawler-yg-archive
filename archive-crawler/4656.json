{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":319937233,"authorName":"acidbluebriggs","from":"&quot;acidbluebriggs&quot; &lt;acidbriggs@...&gt;","profile":"acidbluebriggs","replyTo":"LIST","senderId":"btn_77VgAU4BGZHzo4RHT97-fyGG7T9sYYZ3aNr-CyVhnZb8pqtBe0KbzdEHqztG4brkiwNtqAqAkhZ-tTf67ML6eEIYpyWV2BzucC0k","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Connecting to JMX eventually fails after many calls","postDate":"1194293025","msgId":4656,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZnbnN2MStrbWQ1QGVHcm91cHMuY29tPg==","inReplyToHeader":"PGZnbnE2MSsyOHE4QGVHcm91cHMuY29tPg=="},"prevInTopic":4655,"nextInTopic":4657,"prevInTime":4655,"nextInTime":4657,"topicId":4652,"numMessagesInTopic":7,"msgSnippet":"Well, I may have jumped the gun again.  I was thinking that this symptom might be due to another post wrote.  The issue might be that my single domain crawl","rawEmail":"Return-Path: &lt;acidbriggs@...&gt;\r\nX-Sender: acidbriggs@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 24163 invoked from network); 5 Nov 2007 20:03:52 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m50.grp.scd.yahoo.com with QMQP; 5 Nov 2007 20:03:52 -0000\r\nX-Received: from unknown (HELO n20.bullet.sp1.yahoo.com) (69.147.64.217)\n  by mta18.grp.scd.yahoo.com with SMTP; 5 Nov 2007 20:03:52 -0000\r\nX-Received: from [216.252.122.219] by n20.bullet.sp1.yahoo.com with NNFMP; 05 Nov 2007 20:03:46 -0000\r\nX-Received: from [209.73.164.83] by t4.bullet.sp1.yahoo.com with NNFMP; 05 Nov 2007 20:03:46 -0000\r\nX-Received: from [66.218.66.87] by t7.bullet.scd.yahoo.com with NNFMP; 05 Nov 2007 20:03:46 -0000\r\nDate: Mon, 05 Nov 2007 20:03:45 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;fgnsv1+kmd5@...&gt;\r\nIn-Reply-To: &lt;fgnq61+28q8@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;acidbluebriggs&quot; &lt;acidbriggs@...&gt;\r\nSubject: Re: Connecting to JMX eventually fails after many calls\r\nX-Yahoo-Group-Post: member; u=319937233; y=bifu9BD_MlhEDIWmRQuSf3TN_9jKVUXe1mUHC42l_7aYtX1QHomd8wM\r\nX-Yahoo-Profile: acidbluebriggs\r\n\r\nWell, I may have jumped the gun again.  I was thinking that this\nsymptom mi=\r\nght be due to another post wrote.  The issue might be that\nmy single domain=\r\n crawl jobs might be causing a problem with\nunresolvable hosts.  So, it mig=\r\nht be sitting there retrying for 19\nhours (I hadn&#39;t updated it since I foun=\r\nd out about that property). \nSo, my 10 crawlers might just be &#39;congested&#39; a=\r\nnd unavailable until\nthey fail.  So, I changed the retry, and am waiting to=\r\n see if the\nproblem comes up again.\n\nI am still concerned about the CPU usa=\r\nge though.  It might be due to a\nloop in heritrix that keeps checking the u=\r\nrls for their retries rather\nthan waiting for a short time before recheckin=\r\ng. But, that is just\nspeculation.  Will let you know either way though.  Bu=\r\nt, as for not\nconnecting via JMX, it might be due to the fact that heritrix=\r\n is using\n100% of the processor and is just not able to respond to the\nconn=\r\nection request (my own DOS attack).\n\nAs for the UI, I can&#39;t connect to it a=\r\nnyway when I have multiple\ncrawlers. I get this error (if I start heritrix =\r\nwith 10 crawlers via a\nshell script and JMX)\n\n&quot;java.lang.RuntimeException: =\r\nNo heritrix instance (or multiple to\nchoose from and we haven&#39;t implemented=\r\n this yet)&quot;\n\n\n\n\n--- In archive-crawler@yahoogroups.com, &quot;acidbluebriggs&quot;\n&lt;a=\r\ncidbriggs@...&gt; wrote:\n&gt;\n&gt; I&#39;ll submit my jobs to reproduce it. It will take=\r\n quite while but when\n&gt; it happens again I&#39;ll dump the threads. \n&gt; \n&gt; The U=\r\nI is dead when this problem occurs so I can&#39;t check it for\n&gt; errors. But, t=\r\nhe heritrix log file along with the job logs contain no\n&gt; errors.\n&gt; \n&gt; \n&gt; -=\r\n-- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@&gt; wrote:\n&gt; &gt;\n&gt; =\r\n&gt; Can you get thread dumps from the heritrix instance and try and\nfigure \n&gt;=\r\n &gt; why its stopped accepting connections and what its doing w/ that\n&gt; 100% =\r\nof \n&gt; &gt; CPU (Would be particularly good if you could get dumps across the \n=\r\n&gt; &gt; transistion going from accepting JMX connections to its going deaf to \n=\r\n&gt; &gt; JMX connections)?  If you browse to the UI, it all seems to be\nworking =\r\n\n&gt; &gt; fine?  Anything in the UI Alerts list?\n&gt; &gt; St.Ack\n&gt; &gt; \n&gt; &gt; acidbluebri=\r\nggs wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; So, I have a simple class to invoke crawl jobs on He=\r\nritrix via JMX.\n&gt; &gt; &gt; It seems to work fine for about 600 total jobs submit=\r\nted, but\n&gt; &gt; &gt; eventually I cannot connect to the MBean server (or the WebU=\r\nI); I&#39;ll\n&gt; &gt; &gt; just get socket timeout exceptions. I can&#39;t connect via eith=\r\ner the\n&gt; &gt; &gt; JConsole application nor the command line also.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Th=\r\ne process is that I have 10 heritrix instances up (within the one\n&gt; &gt; &gt; jvm=\r\n) and I look for an available crawler mbean (via a jmx query)\nwhen\n&gt; &gt; &gt; a =\r\njob needs to be submitted.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Does anyone know of any issues like =\r\nthis? I am using Heritrix 1.12.1\n&gt; &gt; &gt; and java build 1.5.0_11-b03.\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; I see no OOME or anything in the logs. But, if I run &#39;top&#39; I can see\n&gt;=\r\n &gt; &gt; that the CPU usage has spiked to 100%. But, the current crawls I\nhave\n=\r\n&gt; &gt; &gt; seem to be stalled (no more output to the logs or the arc files have\n=\r\n&gt; &gt; &gt; been appended for over a day).\n&gt; &gt; &gt;\n&gt; &gt; &gt; I hope this is enough info=\r\n to jog some memories if the issue has\nbeen\n&gt; &gt; &gt; seen before.\n&gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n--briggs\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}