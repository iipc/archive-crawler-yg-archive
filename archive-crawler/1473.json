{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"FbT-atWIqc82RJotPHJlcw-tBHZT2woNj-angqL2ChHqyprxGLVzxdvzwB_St8Kda6IJzlmtWtRWTWEi3YUQ1oDfQ2OU9vBs","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] continuous crawling proposal","postDate":"1107345018","msgId":1473,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyMDBCRTdBLjkwMzA1MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PFBpbmUuTE5YLjQuNTYuMDUwMjAxMDA1ODUxMC4xMzQ0OEBwaWtlc3BlYWsubWV0YWNhcnRhLmNvbT4=","referencesHeader":"PFBpbmUuTE5YLjQuNTYuMDUwMjAxMDA1ODUxMC4xMzQ0OEBwaWtlc3BlYWsubWV0YWNhcnRhLmNvbT4="},"prevInTopic":1467,"nextInTopic":1479,"prevInTime":1472,"nextInTime":1474,"topicId":1452,"numMessagesInTopic":24,"msgSnippet":"... You might consider broadening the key to accomodate timestamp or you might put your timestamp in place of the key tail ordinal of 64 bits (You may want to","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 17328 invoked from network); 2 Feb 2005 05:50:14 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m17.grp.scd.yahoo.com with QMQP; 2 Feb 2005 05:50:14 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta1.grp.scd.yahoo.com with SMTP; 2 Feb 2005 05:50:13 -0000\r\nReceived: from [192.168.1.125] ([192.168.1.125])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id j1251OE24294\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 1 Feb 2005 21:01:24 -0800\r\nMessage-ID: &lt;4200BE7A.9030505@...&gt;\r\nDate: Wed, 02 Feb 2005 12:50:18 +0100\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.5) Gecko/20050105 Debian/1.7.5-1\r\nX-Accept-Language: us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;Pine.LNX.4.56.0502010058510.13448@...&gt;\r\nIn-Reply-To: &lt;Pine.LNX.4.56.0502010058510.13448@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 63.203.238.114\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] continuous crawling proposal\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nJohn R. Frank wrote:\n\n&gt; 1) To do this, we need a queueing mechanism that blocks the dequeuing of a\n&gt; CrawlURI until we are past its assigned next &quot;okay to crawl&quot; moment.\n&gt; Where should we store this timestamp?  As you said, the BDB keys are\n&gt; overloaded with too much meaning already, so putting a seconds since the\n&gt; epoch in there is not so good:\n&gt; http://crawler.archive.org/xref/org/archive/crawler/frontier/BdbMultipleWorkQueues.html#246\n\nYou might consider broadening the key to accomodate timestamp or you \nmight put your timestamp in place of the key tail ordinal of 64 bits \n(You may want to keep some ordinal aspect in the key for when the \nnumbers of URIs gets large).\n\n&gt; ...\n&gt; 2) To compute the time at which to refetch, we can predict the likelihood\n&gt; that the page has been modified as a function of time since last modified.\n&gt; ...\n\nThanks for taking the time to explain the math.\n\nThe above combined with your item 3. on last-modified information looks \nlike a nice revisiting algorithm with at least one knob to twiddle -- \nprobability threshold -- for influencing general revisit rate.\n\n&gt; Thoughts?  Reactions?\n\nYour revisiting proposal sounds great. How can we help facilitate an \nimplementation?\n\nUp to this, implementing a new queueing policy has meant writing a new \nFrontier that implements that policy.\n\nImplementing your suggestion above would require at least a subclass of \nBdbFrontier, if not a new Frontier, to deal with the differing key \ncharacters etc., and then some, adding cooperating extractors that knew \nhow to calculate rate of change, etc.  Study of Kris&#39;s ARFrontier \nimplementation would be informative here.  Integrating Kris&#39;s \nARFrontier, which we hope to do before the 1.4 release, should also make \nit easier implementing new Frontiers as functionality the ARFrontier \nneeds to run becomes part of the core.\n\nWould be sweet if you could set up a harness into which you plugged your \nrevisiting Frontier  implementation so you could study how the \nalgorithms effect queueing/dequeueing behaviors in isolation away from \nthe vagaries of actual crawling.\n\n(FYI, Gordon has done the bulk of the Frontier work in Heritrix up to \nthis.  He&#39;ll probably have some comments on the above but is away for \nthis week at a conference).\n\nSt.Ack\n\n&gt;\n&gt; John\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}