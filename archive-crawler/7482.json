{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":72558313,"authorName":"mastaskillz33","from":"&quot;mastaskillz33&quot; &lt;pblead82@...&gt;","profile":"mastaskillz33","replyTo":"LIST","senderId":"mouEaG6aI-b70hYfHWC2k4zgaVA-TNLwj7gnx4o78oS3fQSODTeUlgg65jL0d8z4Fj3if33PfATf5H7w5ayvKRM3MEP_tXHwIFjRS3A","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Bug in shouldProcessRule in WriterPoolProcessor. It doesn&#39;t work","postDate":"1324655675","msgId":7482,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGpkMjg3cis1bTYyQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":0,"prevInTime":7481,"nextInTime":7483,"topicId":7482,"numMessagesInTopic":1,"msgSnippet":"public ProcessResult process(CrawlURI uri) throws InterruptedException { if (!getEnabled()) { return ProcessResult.PROCEED; } if","rawEmail":"Return-Path: &lt;pblead82@...&gt;\r\nReceived: (qmail 61282 invoked from network); 23 Dec 2011 17:51:12 -0000\r\nReceived: from unknown (98.137.34.46)\n  by m2.grp.sp2.yahoo.com with QMQP; 23 Dec 2011 17:51:12 -0000\r\nReceived: from unknown (HELO ng8-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.58)\n  by mta3.grp.sp2.yahoo.com with SMTP; 23 Dec 2011 17:51:12 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1324662672; bh=z54saeYp09h24MYCcSttt1kKNDRhl5XXUHULlibiVAQ=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=uRfWAXj43NRDgm/o2+9tvP5a/thOCWW0lG6xAxoC91CWGII8N/jYwwKJlCkoFVyd0xO6AsR9s71gpO4rSEUEeFFmg2Mrf2mq1iXUN4ybeyYQK41EAcRxMaW0nyNNK8bp\r\nReceived: from [98.139.164.123] by ng8.bullet.mail.bf1.yahoo.com with NNFMP; 23 Dec 2011 17:51:12 -0000\r\nReceived: from [69.147.65.151] by tg4.bullet.mail.bf1.yahoo.com with NNFMP; 23 Dec 2011 17:51:12 -0000\r\nReceived: from [98.137.35.12] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 23 Dec 2011 17:51:12 -0000\r\nX-Sender: pblead82@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 40369 invoked from network); 23 Dec 2011 15:54:36 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m3.grp.sp2.yahoo.com with QMQP; 23 Dec 2011 15:54:36 -0000\r\nX-Received: from unknown (HELO n46b.bullet.mail.sp1.yahoo.com) (66.163.168.160)\n  by mta2.grp.sp2.yahoo.com with SMTP; 23 Dec 2011 15:54:36 -0000\r\nX-Received: from [69.147.65.151] by n46.bullet.mail.sp1.yahoo.com with NNFMP; 23 Dec 2011 15:54:36 -0000\r\nX-Received: from [98.137.34.36] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 23 Dec 2011 15:54:36 -0000\r\nDate: Fri, 23 Dec 2011 15:54:35 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;jd287r+5m62@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;mastaskillz33&quot; &lt;pblead82@...&gt;\r\nSubject: Bug in shouldProcessRule in WriterPoolProcessor. It doesn&#39;t work\r\nX-Yahoo-Group-Post: member; u=72558313; y=zR2sDhM6g0e44_gowpUzxh5aVBr-bInK8GaHd6ilvQmm1yKh4Pa64A\r\nX-Yahoo-Profile: mastaskillz33\r\nX-eGroups-Approved-By: nlevitt &lt;nlevitt@...&gt; via web; 23 Dec 2011 17:51:10 -0000\r\n\r\npublic ProcessResult process(CrawlURI uri) \n    throws InterruptedException=\r\n {\n        if (!getEnabled()) {\n            return ProcessResult.PROCEED;\n =\r\n       }\n        \n        if (getShouldProcessRule().decisionFor(uri) =3D=\r\n=3D DecideResult.REJECT) {\n            innerRejectProcess(uri);\n           =\r\n return ProcessResult.PROCEED;\n        }\n\nThe innerReject of the WARC and A=\r\nRC writers don&#39;t actually stop the document from being saved. I believe thi=\r\ns is a bug.\n\n\n/**\n     * If this fetch is identical to the last written (ar=\r\nchived) fetch, then\n     * copy forward the writeTag. This method should ge=\r\nnerally be called when\n     * writeTag is present from a previous identical=\r\n fetch, even though this\n     * particular fetch is not being written anywh=\r\nere (not even a revisit\n     * record).\n     */\n    protected void copyForw=\r\nardWriteTagIfDupe(CrawlURI curi) {\n        if (IdenticalDigestDecideRule.ha=\r\nsIdenticalDigest(curi)) {\n            @SuppressWarnings(&quot;unchecked&quot;)\n      =\r\n      Map&lt;String,Object&gt;[] history =3D (Map&lt;String,Object&gt;[])curi.getData()=\r\n.get(A_FETCH_HISTORY);\n            if (history[1].containsKey(A_WRITE_TAG))=\r\n {\n                history[0].put(A_WRITE_TAG, history[1].get(A_WRITE_TAG))=\r\n;\n            }\n        }\n    }\n    \n    @Override\n    protected void inner=\r\nRejectProcess(CrawlURI curi) throws InterruptedException {\n        copyForw=\r\nardWriteTagIfDupe(curi);\n    }\n\n\nThis code doesn&#39;t do anything when called =\r\nafter the rule returns REJECT\n\n\n"}}