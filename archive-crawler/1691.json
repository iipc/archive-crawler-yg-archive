{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"S7tU_7X-0rUgn3sFYCwr812MHwGv6ZTwfEZxvWX89obRiLa_kH7epY1QDaGgKmMcUCkEtWaRPi1KEGJSyuzn1A","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] PostSelector regex","postDate":"1111630141","msgId":1691,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyNDIyMTNELjgwNzA3MDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGN2Mmp1aCs1dnBrQGVHcm91cHMuY29tPg==","referencesHeader":"PGN2Mmp1aCs1dnBrQGVHcm91cHMuY29tPg=="},"prevInTopic":1655,"nextInTopic":1692,"prevInTime":1690,"nextInTime":1692,"topicId":1576,"numMessagesInTopic":4,"msgSnippet":"gsellek wrote: ... A filter on postselector is not going to do what you want.  The filter is run after the thing you are trying to exclude has already been ","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 98642 invoked from network); 24 Mar 2005 02:18:13 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m24.grp.scd.yahoo.com with QMQP; 24 Mar 2005 02:18:13 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta3.grp.scd.yahoo.com with SMTP; 24 Mar 2005 02:18:13 -0000\r\nReceived: (qmail 28093 invoked by uid 100); 24 Mar 2005 02:00:20 -0000\r\nReceived: from debord.archive.org (HELO ?207.241.238.140?) (stack@...@207.241.238.140)\n  by mail-dev.archive.org with SMTP; 24 Mar 2005 02:00:19 -0000\r\nMessage-ID: &lt;4242213D.8070707@...&gt;\r\nDate: Wed, 23 Mar 2005 18:09:01 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20041007 Debian/1.7.3-5\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;cv2juh+5vpk@...&gt;\r\nIn-Reply-To: &lt;cv2juh+5vpk@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.6 required=6.0 tests=AWL autolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] PostSelector regex\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\ngsellek wrote:\n...\n\n&gt; I&#39;ve added the content type regex filters to my midfetch and ARC\n&gt; writers, which seems to be working.  But, non text is still getting\n&gt; added to my frontier, which means I crawl (and then abort) a lot of\n&gt; things I don&#39;t need.\n\n&gt;\n&gt; So, I was going to add a postselector regex filter to only add text\n&gt; back into the frontier to crawl.  But, the filters have me confused,\n&gt; and it does not seem to be behaving as I would expect.\n&gt;\n&gt; I have the following settings:\n&gt;\n&gt; filters ? Filters applied to this processor\n&gt;         URI ? URI regexp filter.\n&gt;           enabled:  ?    True \n&gt;           if-match-return:  ?  True \n&gt;           regexp:  ? .*\n&gt; (&#92;.gif|&#92;.jpeg|&#92;.jpg|&#92;.mov|&#92;.bmp|&#92;.pic|&#92;.png|&#92;.tiff|&#92;.tif|&#92;.css|&#92;.js|&#92;\n&gt; .swf|&#92;.qt|&#92;.mpeg|&#92;.mpg|&#92;.mp3|&#92;.avi|&#92;.wav|&#92;.wmv|&#92;.pdf|&#92;.doc|&#92;.xls|&#92;.cs\n&gt; v|&#92;.ppt)$  \n&gt;       seed-redirects-new-seed:  ?  True \n&gt;       override-logger:  ?    True\n&gt;\n&gt; The thought being if it matches the regex then don&#39;t add it into the\n&gt; frontier.  If I set the if-match-return to True, nothing seems to\n&gt; get added to it.  But, if I set it to false, a lot of .gif\n&gt; and .jpegs are getting in.  I guess I just don&#39;t understand this\n&gt; whole filter thing.\n\nA filter on postselector is not going to do what you want.  The filter \nis run after the thing you are trying to exclude has already been \nfetched: i.e. the URL has gone down through the processor chain and its \ncoming into postselector so postselector can mark the URI finished and \nso that any links found by extractors get unloaded and scheduled with \nthe Frontier.\n\nYou&#39;re trying to put a filter on scheduling.  The way to do this is by \nadding your filter to the scope.   The scheduler checks every found link \nagainst scope before scheduling.\n\nTry the FilterScope.  It allows you to add things like a regex that will \ninclude or exclude URIs before they&#39;re scheduled.\n\nSt.Ack\n\n&gt;\n&gt; Any ideas?  (In general, I&#39;d rather use a regex to filter out things\n&gt; as above rather than in, but that could be done if necessary)\n&gt;\n&gt; Thanks,\n&gt; Greg\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; *Yahoo! Groups Sponsor*\n&gt; ADVERTISEMENT\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}