{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":176845436,"authorName":"anitabidari","from":"&quot;anitabidari&quot; &lt;abidari@...&gt;","profile":"anitabidari","replyTo":"LIST","senderId":"mBVfDRMV9aS49TWwURPpWNsciUtagdtdC5KkVaU5SVJ1j8OaxZyac7TT9gm347FUUr6m9SuDQuaYKvp3vzhi91Uhka7Lsg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Out of Memory Error","postDate":"1177297657","msgId":4165,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwaDd0cStlbGl2QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MkJCQ0IwLjYwODAwMDNAYXJjaGl2ZS5vcmc+"},"prevInTopic":4164,"nextInTopic":4174,"prevInTime":4164,"nextInTime":4166,"topicId":4013,"numMessagesInTopic":16,"msgSnippet":"Gordon The heretrix process actually died in this case. So unfortunately I can t run the jmap -histo. You are right this time it was not an issue with the heap","rawEmail":"Return-Path: &lt;abidari@...&gt;\r\nX-Sender: abidari@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 23274 invoked from network); 23 Apr 2007 03:09:59 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m39.grp.scd.yahoo.com with QMQP; 23 Apr 2007 03:09:59 -0000\r\nReceived: from unknown (HELO n26.bullet.scd.yahoo.com) (66.94.237.55)\n  by mta6.grp.scd.yahoo.com with SMTP; 23 Apr 2007 03:09:57 -0000\r\nReceived: from [66.218.69.2] by n26.bullet.scd.yahoo.com with NNFMP; 23 Apr 2007 03:07:38 -0000\r\nReceived: from [66.218.66.74] by t2.bullet.scd.yahoo.com with NNFMP; 23 Apr 2007 03:07:38 -0000\r\nDate: Mon, 23 Apr 2007 03:07:37 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f0h7tq+eliv@...&gt;\r\nIn-Reply-To: &lt;462BBCB0.6080003@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;anitabidari&quot; &lt;abidari@...&gt;\r\nSubject: Re: Out of Memory Error\r\nX-Yahoo-Group-Post: member; u=176845436; y=hAEQnuAeQ1Tq3DJpu1x6j_5PudKm-PWhzfRkr-I0MQ3b8Y0m_b4\r\nX-Yahoo-Profile: anitabidari\r\n\r\nGordon\nThe heretrix process actually died in this case. So unfortunately I\n=\r\ncan&#39;t run the jmap -histo. You are right this time it was not an issue\nwith=\r\n the heap space, but it was out of swap space.\n\nHere are the last few lines=\r\n from the progress stats log\n\n         timestamp  discovered      queued   =\r\ndownloaded      \ndoc/s(avg)  KB/s(avg)   dl-failures   busy-thread   mem-us=\r\ne-KB \nheap-size-KB   congestion   max-depth   avg-depth\n2007-04-22T03:43:58=\r\nZ     2289074     1051233      1237673      \n48.7(4.04)    289(62)         =\r\n  249             5      1623524      \n1642048          1.0      611344    =\r\n  131404\n\n\n\n\n\n--- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@.=\r\n..&gt; wrote:\n&gt;\n&gt; Can you get a &#39;jmap -histo&#39; just after this OOME?\n&gt; \n&gt; Also,=\r\n what do the last few lines of the progress-statistics.log before \n&gt; the OO=\r\nME show?\n&gt; \n&gt; Note that this stack doesn&#39;t show &quot;Java heap space&quot; after the=\r\n error \n&gt; name. And it happened in a native method. So it may be non-heap \n=\r\n&gt; resources that have been depleted -- and in such a case a larger heap \n&gt; =\r\ncan hurt.\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; anitabidari wrote:\n&gt; &gt; Hi Gordan\n&gt; &gt; I up=\r\ngraded to 1.12.0, and still get the OOME error. I am using Java\n&gt; &gt; Version=\r\n 1.6 and 3G Heap Size. \n&gt; &gt; \n&gt; &gt; java.lang.OutOfMemoryError\n&gt; &gt;         at =\r\njava.util.zip.Deflater.init(Native Method)\n&gt; &gt;         at java.util.zip.Def=\r\nlater.&lt;init&gt;(Deflater.java:123)\n&gt; &gt;         at\njava.util.zip.GZIPOutputStre=\r\nam.&lt;init&gt;(GZIPOutputStream.java:46)\n&gt; &gt;         at\njava.util.zip.GZIPOutput=\r\nStream.&lt;init&gt;(GZIPOutputStream.java:58)\n&gt; &gt;         at\n&gt; &gt;\norg.archive.io.W=\r\nriterPoolMember$CompressedStream.&lt;init&gt;(WriterPoolMember.java:492)\n&gt; &gt;     =\r\n    at\n&gt; &gt;\norg.archive.io.WriterPoolMember.preWriteRecordTasks(WriterPoolMe=\r\nmber.java:360)\n&gt; &gt;         at org.archive.io.arc.ARCWriter.write(ARCWriter.=\r\njava:412)\n&gt; &gt;         at\n&gt; &gt;\norg.archive.crawler.writer.ARCWriterProcessor.=\r\nwrite(ARCWriterProcessor.java:163)\n&gt; &gt;         at\n&gt; &gt;\norg.archive.crawler.w=\r\nriter.ARCWriterProcessor.innerProcess(ARCWriterProcessor.java:130)\n&gt; &gt;     =\r\n    at\n&gt; &gt; org.archive.crawler.framework.Processor.process(Processor.java:1=\r\n09)\n&gt; &gt;         at\n&gt; &gt;\norg.archive.crawler.framework.ToeThread.processCrawl=\r\nUri(ToeThread.java:302)\n&gt; &gt;         at\norg.archive.crawler.framework.ToeThr=\r\nead.run(ToeThread.java:151)\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; --- In archive-crawler@yahoogroup=\r\ns.com, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt; &gt;&gt; The counts of ReentrantReadWriteLo=\r\nck-related instances are fishy --\n&gt; &gt; and, \n&gt; &gt;&gt; by extension, the counts o=\r\nf other instances where there are about \n&gt; &gt;&gt; 127,700 of them, such as com.=\r\nsleepycat.je.latch.Java5SharedLatchImpl.\n&gt; &gt;&gt;\n&gt; &gt;&gt; I think you may be runni=\r\nng into a bug in the BDB-JE library that&#39;s \n&gt; &gt;&gt; bundled with Heritrix-1.10=\r\n.2 (je-3.0.12). See the note for\n&quot;#15214&quot; in \n&gt; &gt;&gt; the BDB-JE change log:\n&gt;=\r\n &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\nhttp://www.oracle.com/technology/software/products/berkeley-db=\r\n/je/files/je3213_changelog.html\n&gt; &gt;&gt; (From the description there, it also l=\r\nooks like you are more\nlikely to \n&gt; &gt;&gt; trigger this bug on long-running sma=\r\nller crawls that *don&#39;t*\nexceed the \n&gt; &gt;&gt; BDB-JE in-memory cache size.)\n&gt; &gt;=\r\n&gt;\n&gt; &gt;&gt; If you can&#39;t move to heritrix-1.12.0 (which uses BDB-JE 3.2.13), you=\r\n\n&gt; &gt; can \n&gt; &gt;&gt; *probably* just replace the &#39;je-3.0.12.jar&#39; file in your \n&gt; =\r\n&gt;&gt; HERITRIX_HOME/lib/ directory with the latest BDB-JE release, 3.2.23,\n&gt; &gt;=\r\n from:\n&gt; &gt;&gt;\n&gt; &gt;\nhttp://www.oracle.com/technology/software/products/berkeley=\r\n-db/je/index.html\n&gt; &gt;&gt; We haven&#39;t tested that exact combination -- Heritrix=\r\n 1.10.2 on\nBDB-JE \n&gt; &gt;&gt; 3.2.23 -- but BDB-JE updates are generally drop-in =\r\ncompatible and we \n&gt; &gt;&gt; expect to bundle BDB-JE 3.2.23 with Heritrix 1.12.1=\r\n.\n&gt; &gt;&gt;\n&gt; &gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;\n&gt; &gt;&gt; anitabidari wrote:\n&gt; &gt;&gt;&gt; Hi Olaf\n&gt; &gt;&gt;&gt; =\r\n  Here is the top 100 or so lines from jmap -histo output. If\nyou want\n&gt; &gt;&gt;=\r\n&gt; to see the whole output which is 1500 lines, let me know. I will be\n&gt; &gt;&gt;&gt;=\r\n happy to post it.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; num   #instances    #bytes  class name\n&gt; &gt;&gt;&gt;=\r\n --------------------------------------\n&gt; &gt;&gt;&gt;   1:  16047112   547575856  [=\r\nB\n&gt; &gt;&gt;&gt;   2:    172536   179339016  [J\n&gt; &gt;&gt;&gt;   3:    172718    91191232  [[=\r\nB\n&gt; &gt;&gt;&gt;   4:    172710    91190880  [Lcom.sleepycat.je.tree.Node;\n&gt; &gt;&gt;&gt;   5=\r\n:    169162    21652736  com.sleepycat.je.tree.BIN\n&gt; &gt;&gt;&gt;   6:    822988    =\r\n19751712  com.sleepycat.je.tree.LN\n&gt; &gt;&gt;&gt;   7:    198911     9338280  [C\n&gt; &gt;=\r\n&gt;&gt;   8:    176585     5650720  java.util.TreeMap$Entry\n&gt; &gt;&gt;&gt;   9:    172726=\r\n     5527232 \n&gt; &gt; com.sleepycat.je.latch.Java5SharedLatchImpl\n&gt; &gt;&gt;&gt;  10:   =\r\n 172726     5527232 \n&gt; &gt;&gt;&gt; java.util.concurrent.locks.ReentrantReadWriteLoc=\r\nk$NonfairSync\n&gt; &gt;&gt;&gt;  11:     38695     4958680  &lt;constMethodKlass&gt;\n&gt; &gt;&gt;&gt;  1=\r\n2:    197287     4734888  java.lang.String\n&gt; &gt;&gt;&gt;  13:     35553     3415760=\r\n  [I\n&gt; &gt;&gt;&gt;  14:     67101     3301736  &lt;symbolKlass&gt;\n&gt; &gt;&gt;&gt;  15:     38695  =\r\n   3099976  &lt;methodKlass&gt;\n&gt; &gt;&gt;&gt;  16:    172726     2763616 \n&gt; &gt;&gt;&gt;\n&gt; &gt;\njava.=\r\nutil.concurrent.locks.ReentrantReadWriteLock$Sync$ThreadLocalHoldCounter\n&gt; =\r\n&gt;&gt;&gt;  17:    172726     2763616 \n&gt; &gt;&gt;&gt; java.util.concurrent.locks.ReentrantR=\r\neadWriteLock$ReadLock\n&gt; &gt;&gt;&gt;  18:    172726     2763616 \n&gt; &gt;&gt;&gt; java.util.con=\r\ncurrent.locks.ReentrantReadWriteLock$WriteLock\n&gt; &gt;&gt;&gt;  19:    169174     270=\r\n6784  com.sleepycat.je.utilint.TinyHashSet\n&gt; &gt;&gt;&gt;  20:     23967     2577656=\r\n  [S\n&gt; &gt;&gt;&gt;  21:      3544     2181864  &lt;constantPoolKlass&gt;\n&gt; &gt;&gt;&gt;  22:      =\r\n3544     1471096  &lt;instanceKlassKlass&gt;\n&gt; &gt;&gt;&gt;  23:      3206     1337328  &lt;c=\r\nonstantPoolCacheKlass&gt;\n&gt; &gt;&gt;&gt;  24:     21012      840480  com.sleepycat.je.c=\r\nleaner.FileSummary\n&gt; &gt;&gt;&gt;  25:      3437      833080  &lt;methodDataKlass&gt;\n&gt; &gt;&gt;=\r\n&gt;  26:     18214      728560  com.sleepycat.je.tree.FileSummaryLN\n&gt; &gt;&gt;&gt;  27=\r\n:     21936      701952 \n&gt; &gt;&gt;&gt; java.util.concurrent.locks.AbstractQueuedSyn=\r\nchronizer$Node\n&gt; &gt;&gt;&gt;  28:      5957      630024  [Ljava.util.HashMap$Entry;=\r\n\n&gt; &gt;&gt;&gt;  29:      3548      368992  com.sleepycat.je.tree.IN\n&gt; &gt;&gt;&gt;  30:     =\r\n 3843      368928  java.lang.Class\n&gt; &gt;&gt;&gt;  31:     23005      368080  java.u=\r\ntil.regex.Pattern$SliceA\n&gt; &gt;&gt;&gt;  32:      1351      350192  [Z\n&gt; &gt;&gt;&gt;  33:   =\r\n  18214      291424  com.sleepycat.je.cleaner.PackedOffsets\n&gt; &gt;&gt;&gt;  34:     =\r\n 5357      250592  [[I\n&gt; &gt;&gt;&gt;  35:      5735      229400  java.util.HashMap\n=\r\n&gt; &gt;&gt;&gt;  36:      8199      196776  java.util.HashMap$Entry\n&gt; &gt;&gt;&gt;  37:      8=\r\n018      192432  java.util.regex.Pattern$GroupTail\n&gt; &gt;&gt;&gt;  38:      2348    =\r\n  187904  [Ljava.util.regex.Pattern$Node;\n&gt; &gt;&gt;&gt;  39:      3377      165048 =\r\n [Ljava.lang.Object;\n&gt; &gt;&gt;&gt;  40:         6      164128 \n&gt; &gt;&gt;&gt; [Lorg.archive.=\r\ncrawler.settings.SoftSettingsHash$SettingsEntry;\n&gt; &gt;&gt;&gt;  41:      4317      =\r\n138144  java.util.regex.Pattern$Curly\n&gt; &gt;&gt;&gt;  42:      2144      137216  jav=\r\na.util.regex.Pattern\n&gt; &gt;&gt;&gt;  43:      2123      135872  java.util.regex.Matc=\r\nher\n&gt; &gt;&gt;&gt;  44:      7919      126704  java.util.regex.Pattern$GroupHead\n&gt; &gt;=\r\n&gt;&gt;  45:      3194      102208  java.util.HashMap$ValueIterator\n&gt; &gt;&gt;&gt;  46:  =\r\n     270       86400  &lt;objArrayKlassKlass&gt;\n&gt; &gt;&gt;&gt;  47:      4609       73744=\r\n  java.util.HashSet\n&gt; &gt;&gt;&gt;  48:      2246       71872 \njava.lang.ThreadLocal=\r\n$ThreadLocalMap$Entry\n&gt; &gt;&gt;&gt;  49:      1386       70688  [Ljava.lang.String;=\r\n\n&gt; &gt;&gt;&gt;  50:      2874       68976  java.util.LinkedList$Entry\n&gt; &gt;&gt;&gt;  51:   =\r\n   2730       65520  java.util.regex.Pattern$3\n&gt; &gt;&gt;&gt;  52:      3865       6=\r\n1840  java.lang.Long\n&gt; &gt;&gt;&gt;  53:      2348       56352  java.util.regex.Patt=\r\nern$Branch\n&gt; &gt;&gt;&gt;  54:      2140       51360  java.util.regex.Pattern$9\n&gt; &gt;&gt;=\r\n&gt;  55:      1503       48096  java.lang.ref.SoftReference\n&gt; &gt;&gt;&gt;  56:      1=\r\n921       46104  java.util.Hashtable$Entry\n&gt; &gt;&gt;&gt;  57:      1315       42080=\r\n  java.util.LinkedHashMap$Entry\n&gt; &gt;&gt;&gt;  58:      2603       41648  java.util=\r\n.regex.Pattern$Slice\n&gt; &gt;&gt;&gt;  59:      1690       40560  java.util.ArrayList\n=\r\n&gt; &gt;&gt;&gt;  60:      2348       37568  java.util.regex.Pattern$BranchConn\n&gt; &gt;&gt;&gt; =\r\n 61:       207       34544 \n&gt; &gt; [Ljava.lang.ThreadLocal$ThreadLocalMap$Entr=\r\ny;\n&gt; &gt;&gt;&gt;  62:      2119       33904  java.util.HashMap$KeySet\n&gt; &gt;&gt;&gt;  63:   =\r\n    416       33280  java.lang.reflect.Method\n&gt; &gt;&gt;&gt;  64:      1377       33=\r\n048  java.util.regex.Pattern$5\n&gt; &gt;&gt;&gt;  65:      1956       31296  java.util.=\r\nregex.Pattern$Dot\n&gt; &gt;&gt;&gt;  66:      1842       29472  java.util.regex.Pattern=\r\n$Ctype\n&gt; &gt;&gt;&gt;  67:       603       28944 \n&gt; &gt;&gt;&gt; org.archive.crawler.settings=\r\n.ModuleAttributeInfo\n&gt; &gt;&gt;&gt;  68:       423       27072  java.lang.reflect.Co=\r\nnstructor\n&gt; &gt;&gt;&gt;  69:      1086       26064 \n&gt; &gt;&gt;&gt; java.util.concurrent.lock=\r\ns.ReentrantReadWriteLock$Sync$HoldCounter\n&gt; &gt;&gt;&gt;  70:       233       25560 =\r\n [Ljava.util.Hashtable$Entry;\n&gt; &gt;&gt;&gt;  71:      1453       23248  java.util.r=\r\negex.Pattern$Start\n&gt; &gt;&gt;&gt;  72:       544       21760  org.archive.crawler.se=\r\nttings.SimpleType\n&gt; &gt;&gt;&gt;  73:      1277       20432  java.util.regex.Pattern=\r\n$BitClass\n&gt; &gt;&gt;&gt;  74:      1099       17584  java.lang.Integer\n&gt; &gt;&gt;&gt;  75:   =\r\n    258       16512 \n&gt; &gt; com.sleepycat.je.cleaner.TrackedFileSummary\n&gt; &gt;&gt;&gt; =\r\n 76:        97       16296  org.archive.crawler.framework.ToeThread\n&gt; &gt;&gt;&gt;  =\r\n77:       677       16248 \n&gt; &gt;&gt;&gt; java.util.concurrent.locks.ReentrantLock$N=\r\nonfairSync\n&gt; &gt;&gt;&gt;  78:       883       14128  java.util.regex.Pattern$Dollar=\r\n\n&gt; &gt;&gt;&gt;  79:       588       14112  java.util.regex.Pattern$6\n&gt; &gt;&gt;&gt;  80:    =\r\n   188       13536  java.lang.reflect.Field\n&gt; &gt;&gt;&gt;  81:       793       1268=\r\n8  java.util.regex.Pattern$CharProperty$1\n&gt; &gt;&gt;&gt;  82:       194       12416 =\r\n org.archive.io.RecordingOutputStream\n&gt; &gt;&gt;&gt;  83:       765       12240 \n&gt; &gt;=\r\n&gt;&gt; org.archive.crawler.settings.LegalValueTypeConstraint\n&gt; &gt;&gt;&gt;  84:       4=\r\n93       11832  java.util.regex.Pattern$Ques\n&gt; &gt;&gt;&gt;  85:       352       112=\r\n64 \n&gt; &gt; java.util.concurrent.ConcurrentHashMap$Segment\n&gt; &gt;&gt;&gt;  86:       463=\r\n       11112  sun.misc.CacheEntry\n&gt; &gt;&gt;&gt;  87:         8       10672  [Lsun.m=\r\nisc.CacheEntry;\n&gt; &gt;&gt;&gt;  88:       187       10472 \n&gt; &gt;&gt;&gt; javax.management.op=\r\nenmbean.OpenMBeanAttributeInfoSupport\n&gt; &gt;&gt;&gt;  89:       430       10320  jav=\r\na.lang.ref.WeakReference\n&gt; &gt;&gt;&gt;  90:       180       10080 \norg.archive.craw=\r\nler.settings.DataContainer\n&gt; &gt;&gt;&gt;  91:       550        9808  [Ljava.lang.Cl=\r\nass;\n&gt; &gt;&gt;&gt;  92:       400        9600 \n&gt; &gt; com.sleepycat.je.cleaner.OffsetL=\r\nist$Segment\n&gt; &gt;&gt;&gt;  93:       594        9504  java.util.regex.Pattern$Begin=\r\n\n&gt; &gt;&gt;&gt;  94:       216        8640  java.math.BigInteger\n&gt; &gt;&gt;&gt;  95:       15=\r\n4        8624  java.security.Provider$Service\n&gt; &gt;&gt;&gt;  96:       356        8=\r\n544  org.apache.commons.lang.IntHashMap$Entry\n&gt; &gt;&gt;&gt;  97:       253        8=\r\n096  java.lang.ref.Finalizer\n&gt; &gt;&gt;&gt;  98:       200        8000  java.util.Ha=\r\nshtable\n&gt; &gt;&gt;&gt;  99:       124        7936  java.util.logging.Logger\n&gt; &gt;&gt;&gt; 10=\r\n0:       118        7208  [[C\n&gt; &gt;&gt;&gt; 101:       221        7072  java.io.Obj=\r\nectStreamField\n&gt; &gt;&gt;&gt; 102:       285        6840  java.security.Provider$Ser=\r\nviceKey\n&gt; &gt;&gt;&gt; 103:       282        6768  sun.security.util.DerInputBuffer\n=\r\n&gt; &gt;&gt;&gt; 104:       282        6768  sun.security.util.DerValue\n&gt; &gt;&gt;&gt; 105:    =\r\n   210        6720  org.mortbay.util.StringMap$Node\n&gt; &gt;&gt;&gt; 106:       280   =\r\n     6720  sun.security.x509.RDN\n&gt; &gt;&gt;&gt; 107:       352        6648  \n&gt; &gt;&gt;&gt; T=\r\notal 19627050   1024430952\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; --- In archive-crawler@yahoogr=\r\noups.com, &quot;pandae667&quot; &lt;aaron667@&gt;\nwrote:\n&gt; &gt;&gt;&gt;&gt; Hi,\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; if you st=\r\nill have access to the machine and the process is still\n&gt; &gt;&gt;&gt;&gt; hanging arro=\r\nund in OOM condition you might try a &quot;jmap -histo\n&lt;pid&gt;&quot;\n&gt; &gt;&gt;&gt;&gt; to get an o=\r\nverview of all the objects arround - this might help to\n&gt; &gt;&gt;&gt;&gt; track down t=\r\nhe real cause of the OOME.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Regards\n&gt; &gt;&gt;&gt;&gt;   Olaf Freyer\n&gt; &gt;&gt;&gt;=\r\n&gt;\n&gt; &gt;&gt;&gt;&gt; --- In archive-crawler@yahoogroups.com, &quot;anitabidari&quot; &lt;abidari@&gt;\n&gt;=\r\n &gt; wrote:\n&gt; &gt;&gt;&gt;&gt;&gt; Hi Gordan\n&gt; &gt;&gt;&gt;&gt;&gt; I have run into the OOME again. This ti=\r\nme I had the heap size\nset to\n&gt; &gt;&gt;&gt;&gt;&gt; 1G. I downloaded Java 1.6 per your su=\r\nggestion, and below is the\n&gt; &gt; Stack\n&gt; &gt;&gt;&gt;&gt;&gt; Trace that you requested.\n&gt; &gt;&gt;=\r\n&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; The crawl ran for 11 days and progress stats are\n&gt; &gt;&gt;&gt;&gt;&gt; Discov=\r\nered      Queued       Downloaded  mem-use-KB \nHeap-use-KB   \n&gt; &gt;&gt;&gt;&gt;&gt; Conge=\r\nstion\n&gt; &gt;&gt;&gt;&gt;&gt; 23181561        11745868     11024191    979905     987584  1=\r\n.0\n&gt; &gt;&gt;&gt;&gt;&gt; Do you need any other information such as my order.xml etc?\n&gt; &gt;&gt;=\r\n&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; 04/16/2007 17:24:20 +0000 SEVERE\n&gt; &gt;&gt;&gt;&gt;&gt; org.archive.crawler.fr=\r\namework.ToeThread seriousError Serious error\n&gt; &gt;&gt;&gt;&gt;&gt; occured trying to proc=\r\nes\n&gt; &gt;&gt;&gt;&gt;&gt; s &#39;unknown&#39;\n&gt; &gt;&gt;&gt;&gt;&gt; [ToeThread #79:\n&gt; &gt;&gt;&gt;&gt;&gt;  -no CrawlURI-\n&gt; &gt;&gt;&gt;=\r\n&gt;&gt;     WAITING for 11m21s125ms\n&gt; &gt;&gt;&gt;&gt;&gt;     step: ABOUT_TO_GET_URI for 11m21=\r\ns125ms\n&gt; &gt;&gt;&gt;&gt;&gt;     java.lang.Thread.getStackTrace(Thread.java:1426)\n&gt; &gt;&gt;&gt;&gt;&gt;=\r\n    \n&gt; &gt;&gt;&gt; org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:=\r\n513)\n&gt; &gt;&gt;&gt;&gt;&gt;    \n&gt; &gt;&gt;&gt; org.archive.crawler.framework.ToeThread.reportTo(Toe=\r\nThread.java:591)\n&gt; &gt;&gt;&gt;&gt;&gt;     org.archive.util.DevUtils.extraInfo(DevUtils.j=\r\nava:65)\n&gt; &gt;&gt;&gt;&gt;&gt;    \n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;\norg.archive.crawler.framework.ToeThread.ser=\r\niousError(ToeThread.java:230)\n&gt; &gt;&gt;&gt;&gt;&gt;    \norg.archive.crawler.framework.Toe=\r\nThread.run(ToeThread.java:174)\n&gt; &gt;&gt;&gt;&gt;&gt; ]\n&gt; &gt;&gt;&gt;&gt;&gt;            timestamp  disc=\r\novered      queued   downloaded      \n&gt; &gt;&gt;&gt;&gt;&gt; doc/s(avg)  KB/s(avg)   dl-fa=\r\nilures   busy-thread   mem-use-\n&gt; &gt;&gt;&gt;&gt;&gt; KB  heap-size-KB   congestion   max=\r\n-depth   avg-depth\n&gt; &gt;&gt;&gt;&gt;&gt; 2007-04-16T17:24:20Z    23181561    11745868    =\r\n 11024191      \n&gt; &gt;&gt;&gt;&gt;&gt; 0.0(12.68)     0(182)        450518             8  =\r\n     9769\n&gt; &gt;&gt;&gt;&gt;&gt; 99        987584          1.0     3681209     1468233\n&gt; &gt;=\r\n&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; java.lang.OutOfMemoryError: Java heap space\n&gt; &gt;&gt;&gt;&gt;&gt; &lt;Cleaner n=\r\name=3D&quot;Cleaner-1&quot;/&gt; caught exception:\n&gt; &gt;&gt;&gt;&gt;&gt; java.lang.NullPointerExceptio=\r\nn\n&gt; &gt;&gt;&gt;&gt;&gt; java.lang.NullPointerException\n&gt; &gt;&gt;&gt;&gt;&gt;         at java.util.TreeM=\r\nap.getEntry(TreeMap.java:324)\n&gt; &gt;&gt;&gt;&gt;&gt;         at java.util.TreeMap.remove(T=\r\nreeMap.java:580)\n&gt; &gt;&gt;&gt;&gt;&gt;         at java.util.TreeSet.remove(TreeSet.java:2=\r\n59)\n&gt; &gt;&gt;&gt;&gt;&gt;         at\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;\ncom.sleepycat.je.cleaner.FileSelector.se=\r\nlectFileForCleaning(FileSelector.java:236)\n&gt; &gt;&gt;&gt;&gt;&gt;         at\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt; c=\r\nom.sleepycat.je.cleaner.FileProcessor.doClean(FileProcessor.java:201)\n&gt; &gt;&gt;&gt;=\r\n&gt;&gt;         at\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;\ncom.sleepycat.je.cleaner.FileProcessor.onWakeup(F=\r\nileProcessor.java:143)\n&gt; &gt;&gt;&gt;&gt;&gt;         at\n&gt; &gt;&gt;&gt;&gt;&gt; com.sleepycat.je.utilint.=\r\nDaemonThread.run(DaemonThread.java:189)\n&gt; &gt;&gt;&gt;&gt;&gt;         at java.lang.Thread=\r\n.run(Thread.java:619)\n&gt; &gt;&gt;&gt;&gt;&gt; Continuing\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; --- In arc=\r\nhive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@&gt;\nwrote:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; anitabi=\r\ndari wrote:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;=\r\ngojomo@&gt;\n&gt; &gt;&gt;&gt; wrote:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; anitabidari wrote:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have here=\r\ntrix-1.10.2 running on a dual core Linux box with\n&gt; &gt;&gt;&gt;&gt; 2.8Ghz\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;=\r\n cpu&#39;s and 8G memory. Heretrix is often running into an Out of\n&gt; &gt;&gt;&gt;&gt; Memor=\r\ny\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; error. I dont recall seeing this error with an older\nversion =\r\nof\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; heretrix v1.8 that I had running for quite sometime.\n&gt; &gt;&gt;&gt;&gt;&gt;=\r\n&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I am running it on a 64 bit machine. And the version of ja=\r\nva\n&gt; &gt;&gt;&gt; I am\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; using is j2se_jdk_sun-1.5.0.07. I have the heap s=\r\nize set to\n&gt; &gt;&gt;&gt; 3Gigs\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (-Xmx option.). Does anyone have any ide=\r\nas on how to resolve\n&gt; &gt;&gt;&gt; this?\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Should I try running it with a=\r\n 64 bit JVM, so I can specify a\n&gt; &gt;&gt;&gt;&gt; larger\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; heap? \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;=\r\n Were you using the exact same JVM (esp. heap) and Heritrix\n(esp. \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;=\r\n&gt;&gt; Processors and UriUniqFilter) options in 1.8? How long does it\n&gt; &gt;&gt;&gt;&gt;&gt; t=\r\nake to \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; OOME?\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; A problematic issue with our=\r\n DNS library using an ever-growing\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; amount of \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; cache me=\r\nmory was resolved between 1.8 and 1.10.2, so I would\n&gt; &gt;&gt;&gt; have \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;=\r\n expected fewer OOMEs in long-running crawls, rather than more.\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n=\r\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Some thoughts:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (1) Since you have 8GB, a 6=\r\n4bit JVM and larger heap could\nhelp --\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; but it \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; tends n=\r\not help as much as you think, because 64bit object\n&gt; &gt;&gt;&gt;&gt;&gt; pointers mean \n&gt;=\r\n &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; it takes a large heap to hold the same number of objects. (One\n&gt; =\r\n&gt;&gt;&gt;&gt;&gt; estimate \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I&#39;ve seen not specific to Heritrix&#39;s heap: 40% l=\r\narger heap\nneeded\n&gt; &gt;&gt;&gt;&gt;&gt; for \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; same number of 64bit JVM objects.=\r\n)\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (2) Not all OOMEs are really caused by main heap de=\r\npletion --\n&gt; &gt;&gt;&gt; some\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; other \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; resource/memory-space dep=\r\nletions also cause OOMEs. Some of\nthese\n&gt; &gt;&gt;&gt;&gt;&gt; other \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; depletion=\r\ns can be *worsened* by growing a heap closer to an\n&gt; &gt;&gt;&gt;&gt;&gt; addressing \n&gt; &gt;&gt;=\r\n&gt;&gt;&gt;&gt;&gt;&gt; ceiling. If you have a OOME that&#39;s easy to reproduce\nquickly, you\n&gt; =\r\n&gt;&gt;&gt;&gt;&gt; may \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; want to try running under a 1.6 JVM -- its OOME error=\r\ns are\nmore \n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; descriptive, and there are other options for examini=\r\nng the heap\n&gt; &gt;&gt;&gt;&gt; (see \n&gt; &gt;\nhttp://java.sun.com/javase/6/webnotes/trouble/=\r\nTSG-VM/html/memleaks.html#gbywi)\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; after the OOME.\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt;&gt;&gt;&gt;&gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;=\r\n\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Hi Gordon\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; Per your recommendat=\r\nion I have downloaded 1.6 JVM and am\n&gt; &gt;&gt;&gt; running the\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; crawl. 3G =\r\nis a lot of memory. What could be causing Heretrix\n&gt; &gt;&gt;&gt; to take\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt; =\r\nup more than 3G?\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; I don&#39;t know; the last OOME problem we had was re=\r\nlated to the DNS\n&gt; &gt;&gt;&gt;&gt; issue \n&gt; &gt;&gt;&gt;&gt;&gt;&gt; fixed before 1.10.2.\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;=\r\n&gt;&gt;&gt; What is your crawl like -- number of seeds, breadth/scoping,\n&gt; &gt; etc. -=\r\n-\n&gt; &gt;&gt;&gt;&gt;&gt; and \n&gt; &gt;&gt;&gt;&gt;&gt;&gt; how soon does it OOME (in time and number of URIs v=\r\nisited and\n&gt; &gt;&gt;&gt;&gt;&gt; scheduled)?\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n=\r\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;  \n&gt; &gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; =\r\n&gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n"}}