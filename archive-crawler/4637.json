{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":202034705,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"eTbyiQl8TP1YKic2RWod2uwYh-9nYhNlyUaMT7Nri2C69r2B1QY0SA2okYc2asnWMTo5PTOkn3QAta6r3elCY4k-bk1i5ns","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] How to determine when a crawl is complete?","postDate":"1193690484","msgId":4637,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3MjY0NTc0LjQwNTA3QGR1Ym9jZS5uZXQ+","inReplyToHeader":"PGZnNHAyZytrbmttQGVHcm91cHMuY29tPg==","referencesHeader":"PGZnNHAyZytrbmttQGVHcm91cHMuY29tPg=="},"prevInTopic":4631,"nextInTopic":0,"prevInTime":4636,"nextInTime":4638,"topicId":4631,"numMessagesInTopic":2,"msgSnippet":"Here s some suggestions: Processors can register a CrawlStatusListener that will be sent notice of crawlEnding and crawlEnded. Heritrix 1.x doesn t do a crawl","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 92293 invoked from network); 29 Oct 2007 20:42:46 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m49.grp.scd.yahoo.com with QMQP; 29 Oct 2007 20:42:46 -0000\r\nX-Received: from unknown (HELO dns.duboce.net) (63.203.238.117)\n  by mta17.grp.scd.yahoo.com with SMTP; 29 Oct 2007 20:42:46 -0000\r\nX-Received: by dns.duboce.net (Postfix, from userid 1008)\n\tid 3DB8FC563; Mon, 29 Oct 2007 13:39:50 -0700 (PDT)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on dns.duboce.net\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham \n\tversion=3.1.4\r\nX-Received: from durruti.desk.hq.powerset.com (durruti.desk.hq.powerset.com [208.76.47.63])\n\tby dns.duboce.net (Postfix) with ESMTP id 328ACC1CE\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 29 Oct 2007 13:39:46 -0700 (PDT)\r\nMessage-ID: &lt;47264574.40507@...&gt;\r\nDate: Mon, 29 Oct 2007 13:41:24 -0700\r\nUser-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fg4p2g+knkm@...&gt;\r\nIn-Reply-To: &lt;fg4p2g+knkm@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] How to determine when a crawl is complete?\r\nX-Yahoo-Group-Post: member; u=202034705; y=tRROLEJzhYT6qeOJL9vGglXRo0NODMo6A0INbph8_cn8gCdZWJHYK8RX\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nHere&#39;s some suggestions:\n\nProcessors can register a CrawlStatusListener that will be sent notice \nof crawlEnding and crawlEnded.\n\nHeritrix 1.x doesn&#39;t do a crawl job end JMX notification.  You could \nwork around this limitation by registering a listener with the mbean \nserver itself to get notification of when the crawl job bean is \nregistered and then deregistered on crawl end (IIRC, this is how the \narchiveit service notices crawl-job-end).\n\nOtherwise, if you do not need immediate notification of crawl job end, \npoll the running instance either via requests against the UI or over JMX.\n\nSt.Ack\n\n\nacidbluebriggs wrote:\n&gt;\n&gt; Using version 1.12.1\n&gt;\n&gt; I need to know when a crawl job has completed. Where would be the best\n&gt; place to either extend a current processor/writer or whatever to be\n&gt; able to inject my code? Basically, I am going to be sending a message\n&gt; to another part of my system that will collect the data that was\n&gt; crawled and add it to an index. This process will move the collected\n&gt; output to somewhere else for the indexing. So, I have to know that\n&gt; the job is no longer being run so I won&#39;t leave heritrix in an\n&gt; inconsistent state by removing it&#39;s output while it might want to keep\n&gt; a handle on it.\n&gt;\n&gt; So, again, I need to know when the job is complete. Any ideas? I\n&gt; noticed that the crawler has a callback interface but it&#39;s not that\n&gt; convenient since it just passed strings around. I suppose I could\n&gt; parse these output, but just want to know if there is a better way.\n&gt;\n&gt; I haven&#39;t looked at the &#39;event model&#39; in 2.0 yet. So, I am hoping\n&gt; there is a new CrawlEvent type, or something of the sort, that would\n&gt; be passed to any listeners of the crawler. This type could then be\n&gt; more easily inspected by either it&#39;s subclasses or perhaps an\n&gt; enumeration of event descriptions to find the specific event that\n&gt; occurred along with the job it pertained to.\n&gt;\n&gt; But, I digresss...\n&gt;\n&gt; Thanks!\n&gt;\n&gt; Briggs.\n&gt;\n&gt;  \n\n\n"}}