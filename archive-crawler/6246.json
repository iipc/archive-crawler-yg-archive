{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":127529970,"authorName":"Steven A Rowe","from":"Steven A Rowe &lt;sarowe@...&gt;","replyTo":"LIST","senderId":"5Jg74I4CthVInrFl5nNBIxOAxHt4nLLn3ytA0ZGAnwfG2Qi2Xwe05dA46VjD4OCsxuiMyNwIY-Is-vvolF6DqqohMdL9","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Decide rules","postDate":"1261857935","msgId":6246,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIzMDNAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1Pg==","inReplyToHeader":"PDZhMDI5ZTJkMDkxMjI2MTAyOG03MGJkNTE5YW0zNGNhMzRmNDEwNmZkMjFAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIyRkJAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1PiA8NmEwMjllMmQwOTEyMjYxMDI4bTcwYmQ1MTlhbTM0Y2EzNGY0MTA2ZmQyMUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":6245,"nextInTopic":6248,"prevInTime":6245,"nextInTime":6247,"topicId":6240,"numMessagesInTopic":14,"msgSnippet":"Hi Anas, I was hoping that you (or someone else on this list) would say that I was missing something that would allow me to only write rules, and not have to","rawEmail":"Return-Path: &lt;sarowe@...&gt;\r\nReceived: (qmail 63074 invoked from network); 26 Dec 2009 22:49:33 -0000\r\nReceived: from unknown (66.196.94.105)\n  by m14.grp.re1.yahoo.com with QMQP; 26 Dec 2009 22:49:33 -0000\r\nReceived: from unknown (HELO n37b.bullet.mail.sp1.yahoo.com) (66.163.168.151)\n  by mta1.grp.re1.yahoo.com with SMTP; 26 Dec 2009 22:49:32 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1261867772; bh=WrhG37KBNt0ZVp/oqBLjBBEj2eB+V+UAzPAeW232wPo=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:To:Date:Thread-Topic:Thread-Index:Message-ID:References:In-Reply-To:Accept-Language:Content-Language:X-MS-Has-Attach:X-MS-TNEF-Correlator:acceptlanguage:Content-Type:Content-Transfer-Encoding:MIME-Version:X-Proofpoint-Virus-Version:X-Proofpoint-Spam-Reason:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=NtlCyVDXYf+v0EGVvVFC2gPjX2BH0NbXKhH5bkNs6a8zCE3b0hiy+YYKQG6ieHt7rCkNKq7IdFNwfTfMyaS37elMdZOyYab18rWcp3NbwvKqZMbFXJnRBch0jPF8bWey\r\nReceived: from [69.147.65.148] by n37.bullet.mail.sp1.yahoo.com with NNFMP; 26 Dec 2009 22:49:32 -0000\r\nReceived: from [98.137.34.36] by t11.bullet.mail.sp1.yahoo.com with NNFMP; 26 Dec 2009 22:49:32 -0000\r\nX-Sender: sarowe@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 53364 invoked from network); 26 Dec 2009 20:05:41 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 26 Dec 2009 20:05:41 -0000\r\nX-Received: from unknown (HELO smtp2.syr.edu) (128.230.18.92)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Dec 2009 20:05:41 -0000\r\nX-Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])\n\tby smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id nBQK5eso003214\n\t(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Sat, 26 Dec 2009 15:05:40 -0500\r\nX-Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by\n suex07-hub-02.ad.syr.edu ([fe80::813b:49a2:a4d5:6367%10]) with mapi; Sat, 26\n Dec 2009 15:05:40 -0500\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nDate: Sat, 26 Dec 2009 15:05:35 -0500\r\nThread-Topic: [archive-crawler] Decide rules\r\nThread-Index: AcqGWUJwjJaFQNO4ScaT6vu5DnH7lwACOVmQ\r\nMessage-ID: &lt;2D127F11DC79714E9B6A43AC9458147F3276B303@...&gt;\r\nReferences: &lt;2D127F11DC79714E9B6A43AC9458147F3276B2FB@...&gt;\n &lt;6a029e2d0912261028m70bd519am34ca34f4106fd21@...&gt;\r\nIn-Reply-To: &lt;6a029e2d0912261028m70bd519am34ca34f4106fd21@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nacceptlanguage: en-US\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166 definitions=2009-12-26_03:2009-12-12,2009-12-26,2009-12-26 signatures=0\r\nX-Proofpoint-Spam-Reason: safe\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Steven A Rowe &lt;sarowe@...&gt;\r\nSubject: RE: [archive-crawler] Decide rules\r\nX-Yahoo-Group-Post: member; u=127529970; y=aq7z06EW20c4ch4d2z8NPCF9Y_Xv_Hn74Q7RvZW_WjYCDKEOsXn9Nw\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: gojomo &lt;gojomo@...&gt; via web; 26 Dec 2009 22:49:30 -0000\r\n\r\nHi Anas,\n\nI was hoping that you (or someone else on this list) would say th=\r\nat I was missing something that would allow me to only write rules, and not=\r\n have to write code.\n\nCombining multiple conditions together seems like suc=\r\nh a basic requirement I&#39;m surprised it doesn&#39;t already exist - something li=\r\nke the ability to override the logical operator on DecideRuleSequence (curr=\r\nently hardwired to OR) to other possibilities like AND.  Then I could write=\r\n something like (pardon the pseudocode):\n\nOrDecideRuleSequence : decision=\r\n=3DLASTMATCH\n   RejectDecideRule\n   SurtPrefixedDecideRule : seedsAsSurtPre=\r\nfixes=3Dtrue ; decision=3DACCEPT\n   AndDecideRuleSequence : decision=3DREJE=\r\nCT\n      ContentTypeMatchesRegexDecideRule : regex=3Dtext/html\n      Exceed=\r\nsDocumentLengthThresholdDecideRule \n         : contentLengthThreshold=3D100=\r\n00000\n   AndDecideRuleSequence : decision=3DREJECT\n      ContentTypeMatches=\r\nRegexDecideRule : regex=3Dtext/plain\n      ExceedsDocumentLengthThresholdDe=\r\ncideRule\n         : contentLengthThreshold=3D100000\n\nIs this a bad idea?\n\nS=\r\nteve\n\nOn 12/26/2009 at 1:28 PM, anas elghafari wrote:\n&gt; \n&gt; \n&gt; You can write=\r\n your own decideRules that subclass the DecideRule, and you\n&gt; overwrite the=\r\n decisionFor(Object o) method. In the decisionFor(Object o)\n&gt; you check if =\r\nthe Object is a CrawlURI, if so you typecast into CrawlURI\n&gt; and then you w=\r\nill be able to check the contenttype and content size\n&gt; (look at CrawlURI A=\r\nPI). And you can issue decesion REJECT for the uris\n&gt; that don&#39;t fulfill yo=\r\nu criteria.\n&gt; \n&gt; You can also do this by adding a processor, where -in your=\r\n overwriting\n&gt; of innerProcess(CrawlURI curi)- you check the type and size =\r\nand then you\n&gt; reject those URIs you don&#39;t want to process by calling\n&gt; cur=\r\ni.skipToProcessorChain(getCrawlController().getPostProcessorChain())\n&gt; \n&gt; b=\r\neware that DecideRules/Filter inserted before the extraction will\n&gt; prevent=\r\n the CrawlJob from ever getting to Uris that are acceptable,\n&gt; because the =\r\npath to them goes through URIs that are not.\n&gt; \n&gt; Anas\n&gt; \n&gt; On Wed, Dec 23,=\r\n 2009 at 1:48 AM, Steven A Rowe &lt;sarowe@...&gt; wrote:\n&gt; \n&gt; \tHi,\n&gt; \n&gt; \tI w=\r\nant to write decide-rules that reject resources based on two\n&gt; conditions: =\r\ncontent-length and content-type (e.g., text/html resources\n&gt; larger than 10=\r\nMB, and text/plain resources larger than 100KB), but I\n&gt; can&#39;t find any way=\r\n to logically AND rule subsets together.\n&gt; \n&gt; \tIs there a way to write deci=\r\nde-rules that would achieve what I\n&gt; want? Should I be using ScriptedDecide=\r\nRules?\n&gt; \n&gt; \tThanks (for your patience with a newbie),\n&gt; \tSteve\n\n"}}