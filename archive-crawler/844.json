{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":183106698,"authorName":"zhousp","from":"&quot;zhousp&quot; &lt;zhousp@...&gt;","replyTo":"LIST","senderId":"nQxjPJB0l3TofGwIKUOt5pF1Wf5fRLpDotdBIP3sT-hQNZrgQGmEtYVjwoVyRkmRTy26nVlTXIJxZrvmNCRr2Ak","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Re: [archive-crawler] Error about write Heritrix&#39;s wraper","postDate":"1092960532","msgId":844,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{},"prevInTopic":833,"nextInTopic":0,"prevInTime":843,"nextInTime":845,"topicId":831,"numMessagesInTopic":3,"msgSnippet":"stack, I have resolve the problem,maybe because the order.xml I pass to Heritrix is a successfull completed jobs. I set up a new job and pass it to Heritrix, ","rawEmail":"Return-Path: &lt;zhousp@...&gt;\r\nX-Sender: zhousp@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 70710 invoked from network); 20 Aug 2004 00:09:18 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m11.grp.scd.yahoo.com with QMQP; 20 Aug 2004 00:09:18 -0000\r\nReceived: from unknown (HELO 6636.net) (218.28.21.21)\n  by mta1.grp.scd.yahoo.com with SMTP; 20 Aug 2004 00:09:18 -0000\r\nReceived: from ansi2003 by 6636.net\n\t(MDaemon.PRO.v7.1.0.R)\n\twith ESMTP id md50000034694.msg\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 20 Aug 2004 08:04:00 +0800\r\nDate: Fri, 20 Aug 2004 08:08:52 +0800\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nOrganization: nxt\r\nX-mailer: Foxmail 5.0 [cn]\r\nMime-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;gb2312&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Authenticated-Sender: ansi@...\r\nX-Spam-Processed: 6636.net, Fri, 20 Aug 2004 08:04:00 +0800\n\t(not processed: spam filter disabled)\r\nX-MDRemoteIP: 221.218.64.19\r\nX-Return-Path: zhousp@...\r\nX-MDaemon-Deliver-To: archive-crawler@yahoogroups.com\r\nX-MDAV-Processed: 6636.net, Fri, 20 Aug 2004 08:04:03 +0800\r\nX-eGroups-Remote-IP: 218.28.21.21\r\nFrom: &quot;zhousp&quot; &lt;zhousp@...&gt;\r\nReply-To: zhousp@...\r\nSubject: Re: Re: [archive-crawler] Error about write Heritrix&#39;s wraper\r\nX-Yahoo-Group-Post: member; u=183106698\r\n\r\nstack,\n\nI have resolve the problem,maybe because the order.xml I pass to Heritrix\t\nis a successfull completed jobs. I set up a new job and pass it to Heritrix,\nand it works fine this time.\nthanks:)\n\nansi\n\n\n\n&gt;Hey Ansi:\n&gt;\n&gt;Your code looks fine.\n&gt;\n&gt;Does the complaint from CrawlController.close happen after a successful\n&gt;crawl or is it something that happens immediately? Are there other\n&gt;complaints in the logs -- including heritrix_out.log -- that precede the\n&gt;exception pasted below?\n&gt;\n&gt;The exception itself looks harmless though should probably be guards\n&gt;against RecoveryJournal being called multiple times.\n&gt;\n&gt;St.Ack\n&gt;\n&gt;\n&gt;zhousp wrote:\n&gt;\n&gt;&gt;hi,all\n&gt;&gt;\n&gt;&gt;I want to write a class to run Heritrix from my application,this is the code:\n&gt;&gt;\n&gt;&gt;---------------------------------------\n&gt;&gt;package org.archive.crawler;\n&gt;&gt;\n&gt;&gt;import java.io.File;\n&gt;&gt;\n&gt;&gt;public class Run {\n&gt;&gt;    public static void main(String[] args) throws Exception {\n&gt;&gt;        if(args.length&lt;1){\n&gt;&gt;            System.out.println(&quot;Usage:java org.archive.crawler.run orderfile&quot;);\n&gt;&gt;            System.exit(-1);\n&gt;&gt;        }\n&gt;&gt;        File orderfile = new File(args[0]);\n&gt;&gt;        if (!orderfile.exists()){\n&gt;&gt;            System.out.println(&quot;File:&quot; + orderfile + &quot; not exit!&quot;);\n&gt;&gt;            System.exit(-1);\n&gt;&gt;        }\n&gt;&gt;        org.archive.crawler.Heritrix.main(new String[]{&quot;--nowui&quot;,args[0]});\n&gt;&gt;    }\n&gt;&gt;}\n&gt;&gt;-----------------------------------\n&gt;&gt;\n&gt;&gt;Then use this script to run it;\n&gt;&gt;-------------------------\n&gt;&gt;java -Xmx256m -Dheritrix.home=J:&#92;heritrix  org.archive.crawler.Run J:&#92;heritrix&#92;jobs&#92;Simple&#92;order.xml\n&gt;&gt;-------------------------\n&gt;&gt;\n&gt;&gt;But I get some Error msg:\n&gt;&gt;\n&gt;&gt;----------------------------\n&gt;&gt;java.io.IOException: Stream closed\n&gt;&gt;\tat sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:38)\n&gt;&gt;\tat sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:151)\n&gt;&gt;\tat java.io.OutputStreamWriter.flush(OutputStreamWriter.java:213)\n&gt;&gt;\tat org.archive.crawler.frontier.RecoveryJournal.close(RecoveryJournal.java:215)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.closeLogFiles(CrawlController.java:670)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.completeStop(CrawlController.java:749)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.toeChanged(CrawlController.java:1175)\n&gt;&gt;\tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:173)\n&gt;&gt;java.io.IOException: Stream closed\n&gt;&gt;\tat sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:38)\n&gt;&gt;\tat sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:151)\n&gt;&gt;\tat java.io.OutputStreamWriter.flush(OutputStreamWriter.java:213)\n&gt;&gt;\tat org.archive.crawler.frontier.RecoveryJournal.close(RecoveryJournal.java:215)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.closeLogFiles(CrawlController.java:670)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.completeStop(CrawlController.java:749)\n&gt;&gt;\tat org.archive.crawler.framework.CrawlController.toeChanged(CrawlController.java:1175)\n&gt;&gt;\tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:173)\n&gt;&gt;-----and more\n&gt;&gt;-----------------------------\n&gt;&gt;\n&gt;&gt;can anyone give some suggestions?\n&gt;&gt;\n&gt;&gt;many thanks.\n&gt;&gt;\n&gt;&gt;ansi\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;\n&gt;.\n\n\n\n\n\n\n"}}