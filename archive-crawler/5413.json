{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Z2yq_z62aZDVZAKsr3Pbofge47DskEL5dK6OQFXNLkh4pBZxa536fPo1cZ3p6xA9weZG-fPheOhOpz78QEM_MMMM1daclxc","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Does Heritrix considers the hash (#) in a URL?","postDate":"1218493717","msgId":5413,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4QTBCRDE1LjMwNzA0MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGQ2MWM1NzMwMDgwODExMTQwNXk2NzNkZWFkOW03ODYwZGE3NjEwNTJjYjJkQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDQ4OUM4RjI0LjUwMTA3MDNAZ21haWwuY29tPgkgPFAtSVJDLUVYQkUwMTZLWm1jSzgwMDAwNDgxOUBFWC5VQ09QLkVEVT4JIDw0OEEwOUQzNi43MDgwMTA0QGFyY2hpdmUub3JnPiA8ZDYxYzU3MzAwODA4MTExNDA1eTY3M2RlYWQ5bTc4NjBkYTc2MTA1MmNiMmRAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":5412,"nextInTopic":0,"prevInTime":5412,"nextInTime":5414,"topicId":5399,"numMessagesInTopic":10,"msgSnippet":"... The main URI listed in an individual (W)ARC record has generally indicated the URI exactly as it was fetched, moreso than what was discovered. In the","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 66378 invoked from network); 11 Aug 2008 22:28:39 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m46.grp.scd.yahoo.com with QMQP; 11 Aug 2008 22:28:39 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta17.grp.scd.yahoo.com with SMTP; 11 Aug 2008 22:28:39 -0000\r\nX-Received: (qmail 11117 invoked from network); 11 Aug 2008 22:28:37 -0000\r\nX-Received: from unknown (HELO ?192.168.1.88?) (unknown)\n  by unknown with SMTP; 11 Aug 2008 22:28:37 -0000\r\nX-pair-Authenticated: 67.180.197.118\r\nMessage-ID: &lt;48A0BD15.3070405@...&gt;\r\nDate: Mon, 11 Aug 2008 15:28:37 -0700\r\nUser-Agent: Thunderbird 2.0.0.16 (Windows/20080708)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;489C8F24.5010703@...&gt;\t &lt;P-IRC-EXBE016KZmcK800004819@...&gt;\t &lt;48A09D36.7080104@...&gt; &lt;d61c57300808111405y673dead9m7860da761052cb2d@...&gt;\r\nIn-Reply-To: &lt;d61c57300808111405y673dead9m7860da761052cb2d@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Does Heritrix considers the hash (#) in a URL?\r\nX-Yahoo-Group-Post: member; u=137285340; y=xcFkMqnMWFFDabjdLtF_W_lT9G1EbFHK1s-gAVrFj-IE\r\nX-Yahoo-Profile: gojomo\r\n\r\nJean-NoÃ«l Rivasseau wrote:\n&gt;&gt; The situation I&#39;ve seen is where a JS/AJAXy application uses the\n&gt;&gt; &#39;#fragment&#39; to affect the rendering or behavior of the page. For\n&gt;&gt; example, I&#39;ve seen it used analogously to a client-side query-string:\n&gt;&gt;\n&gt;&gt; http://example.com/app#redirectTo=/help\n&gt;&gt;\n&gt;&gt; Javascript in such a page might load different URIs, construct different\n&gt;&gt; outlinks, or do an immediate redirect to a different URI depending on\n&gt;&gt; the &#39;#fragment&#39;. Theoretically (but not yet), Heritrix could find those\n&gt;&gt; links if it preserved the &#39;#fragment&#39;. (It also might need to\n&gt;&gt; re-extract, though not necessarily re-fetch, that same URI when it is\n&gt;&gt; encountered with a different &#39;#fragment&#39; later.)\n&gt;&gt;\n&gt; \n&gt; Exactly. That&#39;s what I was talking about. Actually, I am even building\n&gt; a 100% Ajax site myself right now that heavily relies on the hash to\n&gt; store data. Without it, navigation is impossible :) (of course, you\n&gt; need JS to use the site).\n&gt; \n&gt; If you don&#39;t want to store the #fragment in the URI part in the WARC,\n&gt; where would/could that go?\n\nThe main URI listed in an individual (W)ARC record has generally \nindicated the URI exactly as it was fetched, moreso than what was \ndiscovered.\n\nIn the context of path normalization, this means that even if the URI \n&lt;http://example.com/foo/../bar&gt; is discovered, the fixed-up URI \n&lt;http://example.com/bar&gt; is what is actually fetched, and recorded in \nthe (W)ARC.\n\nIn the context of a URI &#39;#fragment&#39;, regardless of whether \n&lt;http://example.com/test#a&gt; or &lt;http://example.com/test#b&gt; is found \nfirst, what the (W)ARC records is the URI that is actually fetched, \n&lt;http://example.com/test&gt;.\n\nThis has been the practice for a while, so even though it might be \npossible to leave a &#39;#fragment&#39; at the end of the URI, and count on \ndownstream tools that don&#39;t care about it to ignore it, that might risk \nincompatibilities with other legacy tools. (I would recommend (W)ARC \ntools tolerate a &#39;#fragment&#39;, but I haven&#39;t checked if they do.)\n\nThe &#39;#fragment&#39; is an artifact of the particular way/place the URI was \ndiscovered during one crawl. So, it is similar in my mind to the \n&#39;hops-path&#39; symbolic string, or the &#39;via&#39; immediate-referring URI.\n\nThus it might make sense to include it in the crawl.log rather than the \n(W)ARC, or in some supplemental crawl-time metadata. In WARC, this could \ngo as an extra record header on the &#39;response&#39; record, or as a field in \nan associated &#39;metadata&#39; record.\n\nI don&#39;t have a strong opinion either way, as there has not previously \nbeen a compelling need to preserve the &#39;#fragment&#39; separately from its \nappearance in the original content where the URI was discovered. (That&#39;s \nsufficient for Wayback playback browsing, for example.)\n\n- Gordon @ IA\n\n\n"}}