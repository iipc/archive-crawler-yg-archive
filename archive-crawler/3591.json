{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"48ikwH3dFkSr3zsyLw2zuwcH8U6iTRhlA4h0q3so2tcmezX67-4zSZplogJ_aigoUEmMx2A568Cly0F8vzFq6qo-HwtqARs","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] URL Canonicalization Question","postDate":"1165873944","msgId":3591,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1N0REMzE4LjgwNjA2MDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGI3NmUxZGYwNjEyMDgxODQ0eDYxNWI0ZTc0czdlYjQzNzNjZjA3NWM0YThAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PGI3NmUxZGYwNjEyMDgxNTMxZzU5N2FjYzc1amZjMDg4NGJkMzQ2MDllYWJAbWFpbC5nbWFpbC5jb20+CSA8NDU3QTA3RDQuMjAzMDBAYXJjaGl2ZS5vcmc+IDxiNzZlMWRmMDYxMjA4MTg0NHg2MTViNGU3NHM3ZWI0MzczY2YwNzVjNGE4QG1haWwuZ21haWwuY29tPg=="},"prevInTopic":3586,"nextInTopic":0,"prevInTime":3590,"nextInTime":3592,"topicId":3583,"numMessagesInTopic":5,"msgSnippet":"... That is an interesting paper, thanks for the pointer. However, after skimming it over, I don t think it offers much guidance for typical Heritrix uses, for","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 30389 invoked from network); 11 Dec 2006 21:47:49 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m37.grp.scd.yahoo.com with QMQP; 11 Dec 2006 21:47:49 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta4.grp.scd.yahoo.com with SMTP; 11 Dec 2006 21:47:49 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 4EE90141762A9\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 11 Dec 2006 13:45:46 -0800 (PST)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 21017-02-29 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 11 Dec 2006 13:45:42 -0800 (PST)\r\nReceived: from [192.168.1.203] (c-71-198-60-165.hsd1.ca.comcast.net [71.198.60.165])\n\tby mail.archive.org (Postfix) with ESMTP id 2E7421417622C\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 11 Dec 2006 13:45:42 -0800 (PST)\r\nMessage-ID: &lt;457DD318.8060607@...&gt;\r\nDate: Mon, 11 Dec 2006 13:52:24 -0800\r\nUser-Agent: Thunderbird 1.5.0.5 (X11/20060728)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;b76e1df0612081531g597acc75jfc0884bd34609eab@...&gt;\t &lt;457A07D4.20300@...&gt; &lt;b76e1df0612081844x615b4e74s7eb4373cf075c4a8@...&gt;\r\nIn-Reply-To: &lt;b76e1df0612081844x615b4e74s7eb4373cf075c4a8@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] URL Canonicalization Question\r\nX-Yahoo-Group-Post: member; u=137285340; y=ahz-kUKDpDQOfTvZFRQ6avKt-MzMHzreim66MWyPLwKS\r\nX-Yahoo-Profile: gojomo\r\n\r\nAnmol Bhasin wrote:\n&gt; Thanks Igor, but have a look at this document.\n&gt; \n&gt; http://dblab.ssu.ac.kr/publication/LeKi05a.pdf\n&gt; \n&gt; They seem to have done fair bit of experiments with this issue. Do you \n&gt; think\n&gt; its a good idea to add a Canonicalization Rule for the same.\n&gt; \n&gt; Anmol\n\nThat is an interesting paper, thanks for the pointer.\n\nHowever, after skimming it over, I don&#39;t think it offers much guidance \nfor typical Heritrix uses, for a number of reasons:\n\n(1) Usually, we at IA prefer to err on the side of overcollecting rather \nthan undercollecting, since when our archives are consulted -- possibly \nyears or decades from now -- there will be no chance to fill in any gaps.\n\n(2) Under either of their canonicalizations, a loss rate of 1-3% was \nobserved. HOWEVER, that is only among the test set of URLs -- where they \nhad discovered pairs of URLs both with and without the trailing slash.\n\nIn fact, when one of those paired URLs is missed, it might a page with \ndozens of other URLs that may only or mainly be discoverable through \nthat page -- and so on, for URLs discoverable from those URLs. So the \nactual &#39;loss&#39; due to a canonicalization strategy could be much larger \nthan 1-3%.\n\n(3) The selection of their &#39;experimental set&#39; may not be representative \nand is not analogous to the in-crawler discovery process. Specifically, \nAFTER doing a large crawl, they found 76,462 pairs of crawled URLs \nidentical except for the trailing slash, and then analyzed those pairs.\n\nIn a real crawl, the way Heritrix canonicalization works, you don&#39;t yet \nknow if you&#39;ll ever discover a slash-different variant of an URL when \nyou first encounter it and have to decide how it will be canonicalized \nto prevent redundant revisits.\n\nSo the real test of a proposed rule would have to be: what if you \napplied it upon discovering every URL, which might or might not ever \nhave a slash-different variant?\n\nPractically, I think their rules would thus become one rule: once either \ntrailing-slash variant has been collected, don&#39;t collect the other.\n\nThis could result in a loss rate worse than either of their idealized \nrules, and it would be dependent on the order in which the two variants \nare encountered. (Collection would then even be vulnerable to a form of \nthird-party sabotage: someone who directs the crawler to the less-useful \nURL forms first could prevent collection of the more-useful URL forms \nlater.)\n\nSo the bottom line is:\n\nYou could create such a trailing-slash-removing canonicalization rule, \nbut the risks of missing content look large compared to the savings, \nunless further study is done (and/or the rule made more sophisticated).\n\n- Gordon @ IA\n\n&gt; On 12/8/06, Igor Ranitovic &lt;igor@...&gt; wrote:\n&gt;&gt;\n&gt;&gt;   Hi Anmol,\n&gt;&gt;\n&gt;&gt; In my experience, these two URLs are usually distinct documents where\n&gt;&gt; the first one is redirect to the second one. So, in most cases you want\n&gt;&gt; to get them both. However, if you are not interested in replaying\n&gt;&gt; harvested documents you can choose not save redirects by using filters\n&gt;&gt; on ARCWriter (or some other writer). Or you can easily add a new regular\n&gt;&gt; expression cannon rule to avoid getting both. In this case be sure that\n&gt;&gt; URLs that you shown below are really duplicates.\n&gt;&gt;\n&gt;&gt; I hope this helps.\n&gt;&gt; i.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; &gt; I am pretty certain there is something I am not doing right, just \n&gt;&gt; that I\n&gt;&gt;\n&gt;&gt; &gt; am trying to pin point the issue.\n&gt;&gt; &gt;\n&gt;&gt; &gt; I am seeing pages\n&gt;&gt; &gt; http://xyz.com/target\n&gt;&gt; &gt; and\n&gt;&gt; &gt; http://xyz.com/target/\n&gt;&gt; &gt;\n&gt;&gt; &gt; both fetched separately. Any Pointers are greatly appreciated.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Anmol\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt; \n&gt; \n&gt; \n\n\n"}}