{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":420592671,"authorName":"Daniel Truemper","from":"Daniel Truemper &lt;truemped@...&gt;","replyTo":"LIST","senderId":"4Q6Y_ER_jvblRFHjXQH-GAGtR49J25q2U4b-mF1ZDT2g-kV-LfdilnuQKwLM9NQyIGn7TT65EwHCcNll7dJ-GGdXWuYdZIMJUkLNwD2JYLE","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Updating crawler-beans.cxml via REST API","postDate":"1264435467","msgId":6325,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNURDMTBCLjYwODA3QGdvb2dsZW1haWwuY29tPg=="},"prevInTopic":0,"nextInTopic":6326,"prevInTime":6324,"nextInTime":6326,"topicId":6325,"numMessagesInTopic":12,"msgSnippet":"... Hash: SHA1 Hi, I am trying to update the crawler-beans.cxml via the REST API. Using the web based interface this is working nicely. But I am trying to do","rawEmail":"Return-Path: &lt;truemped@...&gt;\r\nX-Sender: truemped@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 90469 invoked from network); 25 Jan 2010 16:04:30 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m4.grp.sp2.yahoo.com with QMQP; 25 Jan 2010 16:04:30 -0000\r\nX-Received: from unknown (HELO mail-bw0-f226.google.com) (209.85.218.226)\n  by mta3.grp.sp2.yahoo.com with SMTP; 25 Jan 2010 16:04:30 -0000\r\nX-Received: by bwz26 with SMTP id 26so2837466bwz.27\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 25 Jan 2010 08:04:29 -0800 (PST)\r\nX-Received: by 10.204.144.86 with SMTP id y22mr3948379bku.43.1264435469414;\n        Mon, 25 Jan 2010 08:04:29 -0800 (PST)\r\nReturn-Path: &lt;truemped@...&gt;\r\nX-Received: from vandusen.neofonie.priv (crt-01-tr.neofonie.de [91.213.91.28])\n        by mx.google.com with ESMTPS id 14sm2227343bwz.1.2010.01.25.08.04.28\n        (version=SSLv3 cipher=RC4-MD5);\n        Mon, 25 Jan 2010 08:04:28 -0800 (PST)\r\nMessage-ID: &lt;4B5DC10B.60807@...&gt;\r\nDate: Mon, 25 Jan 2010 17:04:27 +0100\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; de; rv:1.9.1.7) Gecko/20100111 Thunderbird/3.0.1\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nX-Enigmail-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-15\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Daniel Truemper &lt;truemped@...&gt;\r\nSubject: Updating crawler-beans.cxml via REST API\r\nX-Yahoo-Group-Post: member; u=420592671\r\n\r\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nHi,\n\nI am trying to update the crawler-beans.cxml via the REST API. Using the\nweb based interface this is working nicely. But I am trying to do this\nwith Apache&#39;s HTTPComponents (version 4). My code basically looks like\nthe following (without all the SSL and authentication overhead):\n\n- ---snip---\nString url =\n&quot;https://localhost:8443/engine/job/myjob/jobdir/crawler-beans.cxml&quot;;\n\nNameValuePair format = new BasicNameValuePair(&quot;format&quot;, &quot;textedit&quot;);\nNameValuePair xml = new BasicNameValuePair(&quot;contents&quot;, newXmlConfig);\n\nHttpPost method = new HttpPost(url);\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\nparams.add(format);\nparams.add(xml);\nmethod.setEntity(new UrlEncodedFormEntity(params, HTTP.UTF_8);\nclient.execute(method);\n- ---snap---\n\nThis will result in the ClassCastException thrown here:\n\n- ---snip---\norg.restlet.resource.FileRepresentation cannot be cast to\norg.archive.crawler.restlet.EditRepresentation\norg.archive.crawler.restlet.EnhDirectoryResource.acceptRepresentation(:129)\n- ---snap---\n\nWhen I am using the curl command as written in the wiki, there is only a\nshort message:\n\n- ---snip---\n[Fatal Error] crawler-beans.cxml:1:1: Premature end of file.\n- ---snap---\n\nThe line in the EnhDirectoryResource is:\nEditRepresentation er = (EditRepresentation) getVariants().get(0);\n\nand in getVariants the FileRepresentations _should_ get wrapped with an\nEnhDirectory which it is not. I think there is some kind of issue with\nthe editFilter in the EnhDirectory since this is the only point that\nwould prevent a FileRepresentation not to be wrapped.\n\nIs this a bug? Jira? I will try to debug into this later except there is\nsomeone knowing I am doing something wrong!?\n\nBest\nDaniel\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2.0.13 (Darwin)\nComment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/\n\niQIcBAEBAgAGBQJLXcELAAoJEJ+hAsmem1JpACkP/RfHLVvRzp5u48yZKGK2TnR4\nUJvAYjlvYyzORt26RQb5u0ZXWlwflLQJhtdDqd6ikRXKwXC0621Nto3urwsR+lnD\nGaybUuOfMXlScntRMwag+RTq0eLiKfzyqiesli/bTVIisOHBG6fgPduLWfFCIdDm\nFo0hWyx4U/qkgGBDGG149/I4KemknS4d1N0HqYzhgSudDIq7Ix+n5R3fqyRVJ05q\n+/7t+LnB6pcaW8UNRzUrSItwrSdnRBgXUEIZ6fOvTeFlLUagdqaCF6Z5G7MI0N1l\nUVqz2PDLyA1LmCmtxhVs1doT78A1UVTHmjzNDuc7US9fxnVny7P0mXCiWvp9ISbR\no2lG5kucVo5GzMnrtIRQyEwKHo+1/yXnYVx2SmriGGqFwUEN5qggFh8U6EUC0kk1\nl4cclOjzmuVHNTRRZuC0vb1PzenOMUrPW+/ThKBD27j5HyjphHFcgNh3T2jnDjW2\nojsks5AFZh4+9kTGWqDRklQi98wyxyaBSzmYjpL9El+FBMjVrniHyFFhhd9yNOAz\nLO9uaOdBYrWpjfOCC6DDj0rAlS+7uCKi1zbGOJLugcliZO+Dol0Jb+rxztMYoaTf\nq2NXmURTFRAQT12vm7hK5OD2IdJ5asas2EpIPYm0KvNUN1LJDsrJgdf8cvXM7xbl\nWRziBYRbTXTTPJUbnIGH\n=1m+Q\n-----END PGP SIGNATURE-----\n\n"}}