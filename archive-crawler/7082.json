{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":53865624,"authorName":"virginie","from":"&quot;virginie&quot; &lt;mbakom@...&gt;","profile":"mbakom","replyTo":"LIST","senderId":"0Tt6PbrfFP-utgJ47_3-ohn18UzgT9Nz2gL53e94nLeju1qJFgpovd18yfitgXs7YJN1h-hygFw2b-eEL3RSLwZ_6Q","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: Write a WARC-File with many mets.xml (metadata).","postDate":"1301897877","msgId":7082,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGluYm5xbCt0Nmw2QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDREOTYyNEZBLjcwMzA2MDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":7080,"nextInTopic":7084,"prevInTime":7081,"nextInTime":7083,"topicId":7077,"numMessagesInTopic":5,"msgSnippet":"Hi Gordon, Thanks for your reply. yes I am using the same code from Heritrix. Notably I Create a WARC Writer like that : WARCWriter writer = new WARCWriter","rawEmail":"Return-Path: &lt;mbakom@...&gt;\r\nX-Sender: mbakom@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 40450 invoked from network); 4 Apr 2011 06:17:59 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m13.grp.re1.yahoo.com with QMQP; 4 Apr 2011 06:17:59 -0000\r\nX-Received: from unknown (HELO n4-vm6.bullet.mail.sp2.yahoo.com) (67.195.135.100)\n  by mta1.grp.re1.yahoo.com with SMTP; 4 Apr 2011 06:17:59 -0000\r\nX-Received: from [67.195.134.48] by n4.bullet.mail.sp2.yahoo.com with NNFMP; 04 Apr 2011 06:17:59 -0000\r\nX-Received: from [69.147.65.174] by t1.bullet.mail.sp2.yahoo.com with NNFMP; 04 Apr 2011 06:17:58 -0000\r\nX-Received: from [98.137.34.35] by t12.bullet.mail.sp1.yahoo.com with NNFMP; 04 Apr 2011 06:17:58 -0000\r\nDate: Mon, 04 Apr 2011 06:17:57 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;inbnql+t6l6@...&gt;\r\nIn-Reply-To: &lt;4D9624FA.7030602@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nFrom: &quot;virginie&quot; &lt;mbakom@...&gt;\r\nSubject: Re: Write a WARC-File with many mets.xml (metadata).\r\nX-Yahoo-Group-Post: member; u=53865624; y=-NKnwtaC2eIwXrL9Mr9trydc3txp5zrkR7rah1oINIRF\r\nX-Yahoo-Profile: mbakom\r\n\r\nHi Gordon,\n\nThanks for your reply.\nyes I am using the same code from Heritr=\r\nix. Notably I Create a WARC Writer like that : WARCWriter writer =3D new WA=\r\nRCWriter (aint,dirs,prefix,suffix,compressed,WARCReader.DEFAULT_MAX_WARC_FI=\r\nLE_SIZE,metadata); and so I call the method writer.writeMetadataRecord(java=\r\n.lang.String url,\n                                java.lang.String create14=\r\nDigitDate,\n                                java.lang.String mimetype,\n     =\r\n                           java.net.URI recordId,\n                         =\r\n       ANVLRecord namedFields,\n                                java.io.Inpu=\r\ntStream metadata,\n                                long metadataLength);\nonc=\r\ne only and by the java.io.InputStream metadata,I put a \nnew FileInputStream=\r\n(mets[j]), so all mets files are store into (mets[j].\nso I would like to bu=\r\nild a WARC-file with all this(mets[j])file.\n\nCheers!\nVirginie\n  \n--- In arc=\r\nhive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Is this i=\r\nn the context of an extension to Heritrix or using the same \n&gt; code elsewhe=\r\nre?\n&gt; \n&gt; It might be tricky to reuse the WARCWriter code elsewhere, given i=\r\nts \n&gt; assumptions that it will be handed CrawlURI instances as prefilled by=\r\n \n&gt; Heritrix, but should still be possible. Notably, the \n&gt; WARCWriter.writ=\r\neMetadataRecord() method assumes it will write a set of \n&gt; &#39;ANVLRecord&#39; fie=\r\nlds (an internal class representing a simple fielded set \n&gt; of metadata) ra=\r\nther than any of the other arbitrary kinds of metadata \n&gt; that would also b=\r\ne legal by the WARC spec.\n&gt; \n&gt; Are you calling the &quot;new WARCWriter()&quot; code =\r\neach time, or reusing one \n&gt; &#39;writer&#39; instance for each call to writeMetada=\r\ntaRecord()? (The \n&gt; instantiation of a new WARCWriter always starts a new f=\r\nile, never \n&gt; appending to an existing file.)\n&gt; \n&gt; If you are already reusi=\r\nng a single &#39;writer&#39; properly, perhaps something \n&gt; else about your use pat=\r\ntern is triggering the automatic rollover to a \n&gt; new file that usually hap=\r\npens only when the max-size is exceeded. I \n&gt; would set a breakpoint or oth=\r\ner debugging output at WARCWriter&#39;s \n&gt; createFile method(s), and see what i=\r\ns triggering a new file rather than \n&gt; the reuse of the first file.\n&gt; \n&gt; Ho=\r\npe this helps,\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; On 4/1/11 5:31 AM, virginie wrote:\n&gt;=\r\n &gt; Hi All,\n&gt; &gt;\n&gt; &gt; I would like to write many mets.xml file in one WARC Fil=\r\ne, but without success.\n&gt; &gt; At the moment when I write with\n&gt; &gt; WARCWriter =\r\nwriter =3D new WARCWriter (aint,dirs,prefix, suffix,compressed,WARCReader.D=\r\nEFAULT_MAX_WARC_FILE_SIZE,metadata);\n&gt; &gt; And later\n&gt; &gt; writer.writeMetadata=\r\nRecord(.-------)\n&gt; &gt; I receive per mets.xml file one WARC file but I would =\r\nlike to store all the mets.xml in the one whole WARC-File.\n&gt; &gt; Any idea why=\r\n?\n&gt; &gt; How can I do it?\n&gt; &gt; Cheers\n&gt; &gt; Virginie\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --------=\r\n----------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}