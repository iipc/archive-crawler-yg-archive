{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"rDbSr3UUMtqtet1y5FDcr339ol19J47Sq2e4ZF3uH_IUn1G8Bnrs5MWg5BjQq-qe9IJOrTQWeD9n2xwxnCAy3PpVQljELjs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] InstancePerThread interface","postDate":"1124144546","msgId":2109,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzMDExNUEyLjcwMDAzMDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDAwMjIwMWM1YTFlMyRmMjAyNDNkMCQ3OTAxMTkwYUB4c2JpbnRlcm5hbC5jb20+","referencesHeader":"PDAwMjIwMWM1YTFlMyRmMjAyNDNkMCQ3OTAxMTkwYUB4c2JpbnRlcm5hbC5jb20+"},"prevInTopic":2108,"nextInTopic":0,"prevInTime":2108,"nextInTime":2110,"topicId":2105,"numMessagesInTopic":4,"msgSnippet":"Yes, it s clear in this case that the politeness is the reason you re only seeing a single active thread. In the job configuration Settings, under the","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 56108 invoked from network); 15 Aug 2005 22:22:31 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m23.grp.scd.yahoo.com with QMQP; 15 Aug 2005 22:22:31 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta4.grp.scd.yahoo.com with SMTP; 15 Aug 2005 22:22:31 -0000\r\nReceived: (qmail 6782 invoked by uid 100); 15 Aug 2005 22:22:27 -0000\r\nReceived: from adsl-71-130-102-78.dsl.pltn13.pacbell.net (HELO ?192.168.1.10?) (gojomo@...@71.130.102.78)\n  by mail-dev.archive.org with SMTP; 15 Aug 2005 22:22:27 -0000\r\nMessage-ID: &lt;430115A2.7000307@...&gt;\r\nDate: Mon, 15 Aug 2005 15:22:26 -0700\r\nUser-Agent: Mozilla Thunderbird 1.0.6-1.1.fc3 (X11/20050720)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;002201c5a1e3$f20243d0$7901190a@...&gt;\r\nIn-Reply-To: &lt;002201c5a1e3$f20243d0$7901190a@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-66.0 required=7.0 tests=AWL,HTML_MESSAGE,\n\tUSER_IN_WHITELIST autolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] InstancePerThread interface\r\nX-Yahoo-Group-Post: member; u=137285340; y=FNe74cZqr6YdyN8bPnBcRQx_dcb7yEs-uQLo5orG0VHm\r\nX-Yahoo-Profile: gojomo\r\n\r\nYes, it&#39;s clear in this case that the politeness is the reason\nyou&#39;re only seeing a single active thread.\n\nIn the job configuration Settings, under the &#39;frontier&#39; section\n(about halfway down), you could change both the &#39;delay-factor&#39;\nand &#39;min-delay-ms&#39; values to 0. Then, each request will follow\nthe previous request immediately, with no politeness delay.\n\nStill, only a single request against the hostname will be active\nat once -- that&#39;s deeply ingrained in the Heritrix design.\n\nA previous Frontier implementation, HostQueuesFrontier, offered\na &#39;host-valence&#39; setting which can enalbe more than 1 connection\nagainst a host at a time. However, that feature was always flaky,\nand the HostQueuesFrontier is not going to be maintained going\nforward.\n\nTo add a similar feature to the current general-purpose\nfrontier (BdbFrontier) would require a new approach. If you&#39;re\ncrawling a single local host, I also don&#39;t know how much of\na gain you&#39;d get from multiple connections; at some point the\nconnections would just be completing with each other for\nserver/link resources.\n\nSo try the zero-delays approach, and then if you think multiple\nsimiltaneous connections are truly necessary, we could kick around\nsome ideas for bringing that feature forward into the current\nrecommended frontier implementation.\n\n- Gordon @ IA\n\nAlex wrote:\n&gt; Hi Gordon,\n&gt; \n&gt; Thanks for responding so quickly.\n&gt; \n&gt; \n&gt;&gt;&#39;InstancePerThread&#39; is meant to signify that a Processor is \n&gt;&gt;not sufficiently thread-safe to let a single instance serve \n&gt;&gt;for all ToeThreads. It was previously needed for one of our \n&gt;&gt;default Processors (I think it was FetchHTTP), but is not \n&gt;&gt;currently used by any standard Processors, and thus may not \n&gt;&gt;have been recently tested/maintained to work properly.\n&gt; \n&gt; \n&gt; Ok I don&#39;t need this functionality, they are sufficiently thread-safe.\n&gt;  \n&gt; \n&gt;&gt;If you are configuring your crawl with many ToeThreads, but \n&gt;&gt;only seeing one active, it&#39;s most likely that&#39;s because the \n&gt;&gt;standard politeness behavior -- never opening more than one \n&gt;&gt;connection to a single hostname and never hitting a single \n&gt;&gt;hostname too rapidly -- make it so that with your crawl, no \n&gt;&gt;more than a single (or small\n&gt;&gt;number) of threads is ever needed.\n&gt; \n&gt; \n&gt; How do we override this politeness functionality and is that possible?  The\n&gt; only option I saw about politeness is IP-Politeness under the Frontier, and\n&gt; either setting of False/True provides the same results.\n&gt; \n&gt; \n&gt;&gt;How many hosts are you trying to crawl? What does a &#39;threads \n&gt;&gt;report&#39; and &#39;frontier report&#39; show during the crawl -- are \n&gt;&gt;there an excess of &#39;READY&#39; queues in the frontier while \n&gt;&gt;threads sit idle?\n&gt; \n&gt; \n&gt; I am also only working on one hostname.  \n&gt; \n&gt; --------------------------\n&gt; Toe Threads Report\n&gt; --------------------------\n&gt; \n&gt; Toe threads report - 200508152149\n&gt;  Job being crawled: focusedcrawler\n&gt;  Number of toe threads in pool: 10 (1 active)\n&gt;    ToeThread #1\n&gt;      #1    [no CrawlURI]\n&gt;         WAITING for 36s657ms\n&gt;         Where: ABOUT_TO_GET_URI for 36657ms\n&gt;    ToeThread #2\n&gt;      #2    [no CrawlURI]\n&gt;         WAITING for 3s250ms\n&gt;         Where: ABOUT_TO_GET_URI for 3250ms\n&gt;    ToeThread #3\n&gt;      #3    [no CrawlURI]\n&gt;         WAITING for 17s172ms\n&gt;         Where: ABOUT_TO_GET_URI for 17172ms\n&gt;    ToeThread #4\n&gt;      #4    [no CrawlURI]\n&gt;         WAITING for 8s969ms\n&gt;         Where: ABOUT_TO_GET_URI for 8969ms\n&gt;    ToeThread #5\n&gt;      #5    [no CrawlURI]\n&gt;         WAITING for 51s891ms\n&gt;         Where: ABOUT_TO_GET_URI for 51860ms\n&gt;    ToeThread #6\n&gt;      #6    [no CrawlURI]\n&gt;         WAITING for 51s891ms\n&gt;         Where: ABOUT_TO_GET_URI for 51860ms\n&gt;    ToeThread #7\n&gt;      #7    [no CrawlURI]\n&gt;         WAITING for 51s891ms\n&gt;         Where: ABOUT_TO_GET_URI for 51860ms\n&gt;    ToeThread #8\n&gt;      #8    [no CrawlURI]\n&gt;         WAITING for 51s891ms\n&gt;         Where: ABOUT_TO_GET_URI for 51860ms\n&gt;    ToeThread #9\n&gt;      #9    [no CrawlURI]\n&gt;         WAITING for 33s235ms\n&gt;         Where: ABOUT_TO_GET_URI for 33235ms\n&gt;    ToeThread #10\n&gt;      #10\n&gt; http://www.xsb.com/SP_Weave.html%5B/HTML%5B1%5D/BODY%5B1%5D/DIV%5B1%5D/DIV%5\n&gt; B3%5D/DIV%5B3%5D/TABLE%5B1%5D/TBODY%5B1%5D/TR%5B1%5D/TD%5B1%5D/DIV%5B1%5D/A%\n&gt; 5B1%5D/text()%5B1%5D%5D (0 attempts)\n&gt;         L http://www.xsb.com/SP_Weave.html\n&gt;         Current processor: PartitionerExtractor\n&gt;         ACTIVE for 3s735ms\n&gt;         Where: ABOUT_TO_BEGIN_PROCESSOR for 672ms\n&gt; \n&gt; --------------------------\n&gt; Frontier Report\n&gt; --------------------------\n&gt; \n&gt; rontier report - 200508152153\n&gt;  Job being crawled: focusedcrawler\n&gt; \n&gt;  -----===== STATS =====-----\n&gt;  Discovered:    612\n&gt;  Queued:        555\n&gt;  Finished:      57\n&gt;   Successfully: 57\n&gt;   Failed:       0\n&gt;   Disregarded:  0\n&gt; \n&gt;  -----===== QUEUES =====-----\n&gt;  Already included size:     612\n&gt; \n&gt;  All class queues map size: 1\n&gt;              Active queues: 1\n&gt;                     In-process: 1\n&gt;                          Ready: 0\n&gt;                        Snoozed: 0\n&gt;            Inactive queues: 0\n&gt;             Retired queues: 0\n&gt; \n&gt;  -----===== IN-PROCESS QUEUES =====-----\n&gt; Queue www.xsb.com\n&gt;   555 items\n&gt;     last enqueued:\n&gt; http://www.xsb.com/techPlatforms.html%5B/HTML%5B1%5D/BODY%5B1%5D/DIV%5B1%5D/\n&gt; DIV%5B3%5D/DIV%5B4%5D/A%5B1%5D/text()%5B1%5D%5D\n&gt;       last peeked:\n&gt; http://www.xsb.com/technology.html%5B/HTML%5B1%5D/BODY%5B1%5D/DIV%5B1%5D/DIV\n&gt; %5B3%5D/DIV%5B3%5D/TABLE%5B1%5D/TBODY%5B1%5D/TR%5B1%5D/TD%5B2%5D/DIV%5B1%5D/\n&gt; P%5B1%5D/A%5B6%5D/text()%5B1%5D%5D\n&gt;    total expended: 0 (total budget: -1)\n&gt;    active balance: 3000\n&gt;    last(avg) cost: 0(0.0)\n&gt; \n&gt;  -----===== READY QUEUES =====-----\n&gt; \n&gt;  -----===== SNOOZED QUEUES =====-----\n&gt; \n&gt;  -----===== INACTIVE QUEUES =====-----\n&gt; \n&gt;  -----===== RETIRED QUEUES =====-----\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n\n"}}