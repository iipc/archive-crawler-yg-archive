{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":500983475,"authorName":"David Pane","from":"David Pane &lt;dpane@...&gt;","profile":"david_pane1","replyTo":"LIST","senderId":"Sq8o1I0lJXAMZlGjPmgVQZRTbO2yffFFegwV0od4bAlQJQ7PEug-h2l4lXfi13IFkdEN5cpB-zkx5VLwT3kZo-eakjg","spamInfo":{"isSpam":false,"reason":"5"},"subject":"Re: crawl instance stopped crawling","postDate":"1327084473","msgId":7547,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRGMTlCM0I5LjMwODA5MDhAY3MuY211LmVkdT4=","inReplyToHeader":"PDRGMTlCMzkxLjEwNzA0MDFAY3MuY211LmVkdT4=","referencesHeader":"PDRGMTU5NEQwLjIwOTA4MDhAY3MuY211LmVkdT4gPDRGMTVCQjNBLjUwMzA2QGFyY2hpdmUub3JnPiA8NEYxOUIzOTEuMTA3MDQwMUBjcy5jbXUuZWR1Pg=="},"prevInTopic":7546,"nextInTopic":7555,"prevInTime":7546,"nextInTime":7548,"topicId":7527,"numMessagesInTopic":27,"msgSnippet":"The jstack and log from the longer 2+ day segment.","rawEmail":"Return-Path: &lt;dpane@...&gt;\r\nX-Sender: dpane@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 25987 invoked from network); 20 Jan 2012 18:34:50 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m3.grp.sp2.yahoo.com with QMQP; 20 Jan 2012 18:34:50 -0000\r\nX-Received: from unknown (HELO smtp.andrew.cmu.edu) (128.2.11.61)\n  by mta5.grp.sp2.yahoo.com with SMTP; 20 Jan 2012 18:34:43 -0000\r\nX-Received: from [128.2.209.200] (SAVOY.LTI.CS.CMU.EDU [128.2.209.200])\n\t(user=dpane mech=PLAIN (0 bits))\n\tby smtp.andrew.cmu.edu (8.14.4/8.14.4) with ESMTP id q0KIYXu6026315\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);\n\tFri, 20 Jan 2012 13:34:34 -0500\r\nMessage-ID: &lt;4F19B3B9.3080908@...&gt;\r\nDate: Fri, 20 Jan 2012 13:34:33 -0500\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20111222 Thunderbird/9.0.1\r\nMIME-Version: 1.0\r\nTo: Gordon Mohr &lt;gojomo@...&gt;\r\nCc: archive-crawler@yahoogroups.com, Noah Levitt &lt;nlevitt@...&gt;\r\nReferences: &lt;4F1594D0.2090808@...&gt; &lt;4F15BB3A.50306@...&gt; &lt;4F19B391.1070401@...&gt;\r\nIn-Reply-To: &lt;4F19B391.1070401@...&gt;\r\nContent-Type: multipart/mixed;\n boundary=&quot;------------050700000404030500040005&quot;\r\nX-PMX-Version: 5.5.9.388399, Antispam-Engine: 2.7.2.376379, Antispam-Data: 2011.3.18.170322\r\nX-SMTP-Spam-Clean: 8% (\n MIME_TEXT_ONLY_MP_MIXED 0.05, BODY_SIZE_10000_PLUS 0, LINK_TO_IMAGE 0, TXT_ATTACHED 0, __BAT_BOUNDARY 0, __BOUNCE_CHALLENGE_SUBJ 0, __BOUNCE_NDR_SUBJ_EXEMPT 0, __C230066_P5 0, __CP_MEDIA_BODY 0, __CP_URI_IN_BODY 0, __CT 0, __CTYPE_HAS_BOUNDARY 0, __CTYPE_MULTIPART 0, __CTYPE_MULTIPART_MIXED 0, __HAS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __MOZILLA_MSGID 0, __SANE_MSGID 0, __STOCK_PHRASE_7 0, __TO_MALFORMED_2 0, __URI_NO_MAILTO 0, __USER_AGENT 0)\r\nX-SMTP-Spam-Score: 8%\r\nX-Scanned-By: MIMEDefang 2.60 on 128.2.11.61\r\nX-eGroups-Msg-Info: 1:5:0:0:0\r\nFrom: David Pane &lt;dpane@...&gt;\r\nSubject: Re: crawl instance stopped crawling\r\nX-Yahoo-Group-Post: member; u=500983475; y=QlFV5evAegVIJyLrhShcxfjn4q6fwmYxQOddZlmx32WSpReyqfSbvw\r\nX-Yahoo-Profile: david_pane1\r\n\r\n\r\n--------------050700000404030500040005\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\n\r\nThe jstack and log from the longer 2+ day segment.\n\nOn 1/20/2012 1:33 PM, David Pane wrote:\n&gt; This morning, I noticed that instance #0 stopped crawling - it stopped\n&gt; in the middle of the night. I captured the jstack and then restarted the\n&gt; crawl. The first attempt of recovering from the last checkpoint failed\n&gt; (well actually it took way over 1 hr to recover so I restarted Heritrix.\n&gt; I used the next to the last checkpoint this time (1 hr back).\n&gt;\n&gt; The crawl restarted and began to crawl. I did start to pause the\n&gt; instance and decided to un-pause before it was in the paused state.\n&gt; Right after un-pausing, the crawl stopped completely. This happened to\n&gt; be about 1 hr after the restart) and about the same place in the crawl\n&gt; that it stopped the last time.\n&gt;\n&gt; I have attached the jstack and log file from this last 1hr crawl segment\n&gt; and will follow up with the jstack and log from the longer 2+ day segment.\n&gt;\n&gt; --David\n&gt;\n&gt; On 1/17/2012 1:17 PM, Gordon Mohr wrote:\n&gt;&gt; What does the stack for ToeThread #527 show (either via the web UI or\n&gt;&gt; the &#39;jstack&#39; tool)?\n&gt;&gt;\n&gt;&gt; Were there any other errors noted in the logs, especially around the\n&gt;&gt; time progress stopped?\n&gt;&gt;\n&gt;&gt; Some unrecoverable errors kill a thread without releasing any locks the\n&gt;&gt; thread holds; that could explain this state. Finding the triggering\n&gt;&gt; error could help determine how best to resume and if there are any other\n&gt;&gt; continuing risks on that node.\n&gt;&gt;\n&gt;&gt; - Gordon\n&gt;&gt;\n&gt;&gt; On 1/17/12 7:33 AM, David Pane wrote:\n&gt;&gt;&gt; Can someone explain what is happening here and how I can get out of this\n&gt;&gt;&gt; state. It turns out that the last URI that this instance crawled was\n&gt;&gt;&gt; yesterday year morning.\n&gt;&gt;&gt;\n&gt;&gt;&gt; It appears that every thread has this same Blocked/Waiting On:\n&gt;&gt;&gt; org.archive.bdb.BdbModule$1@106ac860 which is owned by ToeThread #527:\n&gt;&gt;&gt; (550) message\n&gt;&gt;&gt;\n&gt;&gt;&gt; --David\n&gt;&gt;&gt;\n&gt;&gt;&gt; Toe threads report - 201201171526\n&gt;&gt;&gt; Job being crawled: The Lemur Web Crawler\n&gt;&gt;&gt; Number of toe threads in pool: 1200 (1179 active)\n&gt;&gt;&gt;\n&gt;&gt;&gt; [ToeThread #1: http://jj8wzhg.artlog.com/artworks/13881\n&gt;&gt;&gt; CrawlURI http://jj8wzhg.artlog.com/artworks/13881 LLLL\n&gt;&gt;&gt; http://jj8wzhg.artlog.com/people/15676-allen-vandever 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d10h49m16s518ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m12s753ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;&gt; [ToeThread #2:\n&gt;&gt;&gt; http://www.kurjeoko.com/sdlink/foto.php?PHPSESSID=3437b30f8d8c441f52b17f30d1bdc327\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; CrawlURI\n&gt;&gt;&gt; http://www.kurjeoko.com/sdlink/foto.php?PHPSESSID=3437b30f8d8c441f52b17f30d1bdc327\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; LL http://www.kurjeoko.com/sdlink/oko.php 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d10h49m21s628ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m10s512ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;&gt; [ToeThread #3: http://www.climbing.nl/images/nieuws/pie-klein.jpg\n&gt;&gt;&gt; CrawlURI http://www.climbing.nl/images/nieuws/pie-klein.jpg LLLLLE\n&gt;&gt;&gt; http://www.climbing.nl/nieuws/2007-2.html 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d10h49m16s322ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m14s119ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; .\n&gt;&gt;&gt; .\n&gt;&gt;&gt; .\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; [ToeThread #1198: http://www.glassgaragegallery.com/artwork/MS1004B.jpg\n&gt;&gt;&gt; CrawlURI http://www.glassgaragegallery.com/artwork/MS1004B.jpg LLLELE\n&gt;&gt;&gt; http://www.glassgaragegallery.com/lib/display.php?a=MS1004B&t=Ladies&#39;%20Underwater%20Gardening%20Society%20--%20Shark%20Mngmnt.%20Class,%20Society%20Lesson%20No.%203%20(Detail%201)&h=40&w=60&d=0&m=\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d11h6m27s632ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h46m17s242ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;&gt; [ToeThread #1199:\n&gt;&gt;&gt; http://technicalservices.nsula.edu/assets/Tutorial-Files/iChat/3.-iChat-verify.png\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; CrawlURI\n&gt;&gt;&gt; http://technicalservices.nsula.edu/assets/Tutorial-Files/iChat/3.-iChat-verify.png\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; LLLLLLLLLLLLLL\n&gt;&gt;&gt; http://technicalservices.nsula.edu/home/SearchForm?start=100 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d10h49m40s135ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m17s438ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;&gt; [ToeThread #1200:\n&gt;&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?t=1198&view=next\n&gt;&gt;&gt; CrawlURI\n&gt;&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?t=1198&view=next LLLE\n&gt;&gt;&gt; http://www.sudoku.frihost.net/forum/viewtopic.php?p=7047&sid=6928b406d15a95929cf756f0e2d29073\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; 1 attempts\n&gt;&gt;&gt; in processor:\n&gt;&gt;&gt; ACTIVE for 1d10h49m39s675ms\n&gt;&gt;&gt; step: ABOUT_TO_RETURN_URI for 1d10h49m19s23ms\n&gt;&gt;&gt; Java Thread State: BLOCKED\n&gt;&gt;&gt; Blocked/Waiting On: org.archive.bdb.BdbModule$1@106ac860 which is owned\n&gt;&gt;&gt; by ToeThread #527: (550)\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.snoozeQueue(WorkQueueFrontier.java:1034)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.handleQueue(WorkQueueFrontier.java:1013)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.WorkQueueFrontier.processFinish(WorkQueueFrontier.java:984)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.frontier.AbstractFrontier.finished(AbstractFrontier.java:571)\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; org.archive.crawler.framework.ToeThread.run(ToeThread.java:186)\n&gt;&gt;&gt; ]\n&gt;&gt;\n\r\n--------------050700000404030500040005\r\nContent-Type: text/plain;\n name=&quot;i0.2day.20120120.jstack.txt&quot;\r\nContent-Disposition: attachment;\n filename=&quot;i0.2day.20120120.jstack.txt&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------050700000404030500040005\r\nContent-Type: text/plain;\n name=&quot;i0.2day.heritrix_out.log.txt&quot;\r\nContent-Disposition: attachment;\n filename=&quot;i0.2day.heritrix_out.log.txt&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--------------050700000404030500040005--\r\n\n"}}