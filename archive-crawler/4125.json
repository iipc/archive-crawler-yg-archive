{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"kAlMO9YwIU5ExDnko-L8nVtTu6xBOSre36jYolXbYjExd9cqC8MVBto_DykflQQnBVFhCQszQY_FbUKlABVJGa395CxQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Out of Memory Error","postDate":"1176825511","msgId":4125,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwMnFyNytrZmdtQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGYwMnE1ays1cnRyQGVHcm91cHMuY29tPg=="},"prevInTopic":4124,"nextInTopic":4126,"prevInTime":4124,"nextInTime":4126,"topicId":4013,"numMessagesInTopic":16,"msgSnippet":"Hi, if you still have access to the machine and the process is still hanging arround in OOM condition you might try a jmap -histo  to get an overview of","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 66295 invoked from network); 17 Apr 2007 16:01:33 -0000\r\nReceived: from unknown (66.218.66.70)\n  by m42.grp.scd.yahoo.com with QMQP; 17 Apr 2007 16:01:33 -0000\r\nReceived: from unknown (HELO n12a.bullet.sp1.yahoo.com) (69.147.64.109)\n  by mta12.grp.scd.yahoo.com with SMTP; 17 Apr 2007 16:01:33 -0000\r\nReceived: from [216.252.122.219] by n12.bullet.sp1.yahoo.com with NNFMP; 17 Apr 2007 15:58:33 -0000\r\nReceived: from [66.218.69.6] by t4.bullet.sp1.yahoo.com with NNFMP; 17 Apr 2007 15:58:33 -0000\r\nReceived: from [66.218.66.84] by t6.bullet.scd.yahoo.com with NNFMP; 17 Apr 2007 15:58:33 -0000\r\nDate: Tue, 17 Apr 2007 15:58:31 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f02qr7+kfgm@...&gt;\r\nIn-Reply-To: &lt;f02q5k+5rtr@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: Out of Memory Error\r\nX-Yahoo-Group-Post: member; u=191387937; y=0EOTtgsXsv7VPqKzzxLjSU4s99-Gnkvy3g_1x2AfOVEiK1iy\r\nX-Yahoo-Profile: pandae667\r\n\r\nHi,\n\nif you still have access to the machine and the process is still\nhangi=\r\nng arround in OOM condition you might try a &quot;jmap -histo &lt;pid&gt;&quot;\nto get an o=\r\nverview of all the objects arround - this might help to\ntrack down the real=\r\n cause of the OOME.\n\nRegards\n  Olaf Freyer\n\n--- In archive-crawler@yahoogro=\r\nups.com, &quot;anitabidari&quot; &lt;abidari@...&gt; wrote:\n&gt;\n&gt; Hi Gordan\n&gt; I have run into=\r\n the OOME again. This time I had the heap size set to\n&gt; 1G. I downloaded Ja=\r\nva 1.6 per your suggestion, and below is the Stack\n&gt; Trace that you request=\r\ned.\n&gt; \n&gt; The crawl ran for 11 days and progress stats are\n&gt; Discovered     =\r\n Queued       Downloaded  mem-use-KB  Heap-use-KB   \n&gt; Congestion\n&gt; 2318156=\r\n1        11745868     11024191    979905     987584  1.0\n&gt; Do you need any =\r\nother information such as my order.xml etc?\n&gt; \n&gt; 04/16/2007 17:24:20 +0000 =\r\nSEVERE\n&gt; org.archive.crawler.framework.ToeThread seriousError Serious error=\r\n\n&gt; occured trying to proces\n&gt; s &#39;unknown&#39;\n&gt; [ToeThread #79:\n&gt;  -no CrawlURI=\r\n-\n&gt;     WAITING for 11m21s125ms\n&gt;     step: ABOUT_TO_GET_URI for 11m21s125m=\r\ns\n&gt;     java.lang.Thread.getStackTrace(Thread.java:1426)\n&gt;     org.archive.=\r\ncrawler.framework.ToeThread.reportTo(ToeThread.java:513)\n&gt;     org.archive.=\r\ncrawler.framework.ToeThread.reportTo(ToeThread.java:591)\n&gt;     org.archive.=\r\nutil.DevUtils.extraInfo(DevUtils.java:65)\n&gt;    \n&gt; org.archive.crawler.frame=\r\nwork.ToeThread.seriousError(ToeThread.java:230)\n&gt;     org.archive.crawler.f=\r\nramework.ToeThread.run(ToeThread.java:174)\n&gt; ]\n&gt;            timestamp  disc=\r\novered      queued   downloaded      \n&gt; doc/s(avg)  KB/s(avg)   dl-failures=\r\n   busy-thread   mem-use-\n&gt; KB  heap-size-KB   congestion   max-depth   avg=\r\n-depth\n&gt; 2007-04-16T17:24:20Z    23181561    11745868     11024191      \n&gt; =\r\n0.0(12.68)     0(182)        450518             8       9769\n&gt; 99        98=\r\n7584          1.0     3681209     1468233\n&gt; \n&gt; java.lang.OutOfMemoryError: =\r\nJava heap space\n&gt; &lt;Cleaner name=3D&quot;Cleaner-1&quot;/&gt; caught exception:\n&gt; java.la=\r\nng.NullPointerException\n&gt; java.lang.NullPointerException\n&gt;         at java.=\r\nutil.TreeMap.getEntry(TreeMap.java:324)\n&gt;         at java.util.TreeMap.remo=\r\nve(TreeMap.java:580)\n&gt;         at java.util.TreeSet.remove(TreeSet.java:259=\r\n)\n&gt;         at\n&gt;\ncom.sleepycat.je.cleaner.FileSelector.selectFileForCleanin=\r\ng(FileSelector.java:236)\n&gt;         at\n&gt; com.sleepycat.je.cleaner.FileProces=\r\nsor.doClean(FileProcessor.java:201)\n&gt;         at\n&gt; com.sleepycat.je.cleaner=\r\n.FileProcessor.onWakeup(FileProcessor.java:143)\n&gt;         at\n&gt; com.sleepyca=\r\nt.je.utilint.DaemonThread.run(DaemonThread.java:189)\n&gt;         at java.lang=\r\n.Thread.run(Thread.java:619)\n&gt; Continuing\n&gt; \n&gt; \n&gt; --- In archive-crawler@ya=\r\nhoogroups.com, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt; &gt;\n&gt; &gt; anitabidari wrote:\n&gt; &gt; =\r\n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt; &gt; =\r\n&gt;&gt; anitabidari wrote:\n&gt; &gt; &gt;&gt;&gt; I have heretrix-1.10.2 running on a dual core=\r\n Linux box with\n2.8Ghz\n&gt; &gt; &gt;&gt;&gt; cpu&#39;s and 8G memory. Heretrix is often runni=\r\nng into an Out of\nMemory\n&gt; &gt; &gt;&gt;&gt; error. I dont recall seeing this error wit=\r\nh an older version of\n&gt; &gt; &gt;&gt;&gt; heretrix v1.8 that I had running for quite so=\r\nmetime.\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt; I am running it on a 64 bit machine. And the versio=\r\nn of java I am\n&gt; &gt; &gt;&gt;&gt; using is j2se_jdk_sun-1.5.0.07. I have the heap size=\r\n set to 3Gigs\n&gt; &gt; &gt;&gt;&gt; (-Xmx option.). Does anyone have any ideas on how to =\r\nresolve this?\n&gt; &gt; &gt;&gt;&gt; Should I try running it with a 64 bit JVM, so I can s=\r\npecify a\nlarger\n&gt; &gt; &gt;&gt;&gt; heap? \n&gt; &gt; &gt;&gt; Were you using the exact same JVM (es=\r\np. heap) and Heritrix (esp. \n&gt; &gt; &gt;&gt; Processors and UriUniqFilter) options i=\r\nn 1.8? How long does it\n&gt; take to \n&gt; &gt; &gt;&gt; OOME?\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; A problematic=\r\n issue with our DNS library using an ever-growing\n&gt; &gt; &gt; amount of \n&gt; &gt; &gt;&gt; c=\r\nache memory was resolved between 1.8 and 1.10.2, so I would have \n&gt; &gt; &gt;&gt; ex=\r\npected fewer OOMEs in long-running crawls, rather than more.\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; =\r\nSome thoughts:\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; (1) Since you have 8GB, a 64bit JVM and larger=\r\n heap could help --\n&gt; &gt; &gt; but it \n&gt; &gt; &gt;&gt; tends not help as much as you thin=\r\nk, because 64bit object\n&gt; pointers mean \n&gt; &gt; &gt;&gt; it takes a large heap to ho=\r\nld the same number of objects. (One\n&gt; estimate \n&gt; &gt; &gt;&gt; I&#39;ve seen not specif=\r\nic to Heritrix&#39;s heap: 40% larger heap needed\n&gt; for \n&gt; &gt; &gt;&gt; same number of =\r\n64bit JVM objects.)\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; (2) Not all OOMEs are really caused by ma=\r\nin heap depletion -- some\n&gt; &gt; &gt; other \n&gt; &gt; &gt;&gt; resource/memory-space depleti=\r\nons also cause OOMEs. Some of these\n&gt; other \n&gt; &gt; &gt;&gt; depletions can be *wors=\r\nened* by growing a heap closer to an\n&gt; addressing \n&gt; &gt; &gt;&gt; ceiling. If you h=\r\nave a OOME that&#39;s easy to reproduce quickly, you\n&gt; may \n&gt; &gt; &gt;&gt; want to try =\r\nrunning under a 1.6 JVM -- its OOME errors are more \n&gt; &gt; &gt;&gt; descriptive, an=\r\nd there are other options for examining the heap\n(see \n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;\n&gt;\nhttp:=\r\n//java.sun.com/javase/6/webnotes/trouble/TSG-VM/html/memleaks.html#gbywi)\n&gt;=\r\n &gt; &gt; \n&gt; &gt; &gt;&gt; after the OOME.\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; - Gordon @ IA\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt;&gt; Yah=\r\noo! Groups Links\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; \n&gt; &gt; &gt; Hi Gordon\n&gt; &gt; &gt; Per y=\r\nour recommendation I have downloaded 1.6 JVM and am running the\n&gt; &gt; &gt; crawl=\r\n. 3G is a lot of memory. What could be causing Heretrix to take\n&gt; &gt; &gt; up mo=\r\nre than 3G?\n&gt; &gt; \n&gt; &gt; I don&#39;t know; the last OOME problem we had was related=\r\n to the DNS\nissue \n&gt; &gt; fixed before 1.10.2.\n&gt; &gt; \n&gt; &gt; What is your crawl lik=\r\ne -- number of seeds, breadth/scoping, etc. --\n&gt; and \n&gt; &gt; how soon does it =\r\nOOME (in time and number of URIs visited and\n&gt; scheduled)?\n&gt; &gt; \n&gt; &gt; - Gordo=\r\nn @ IA\n&gt; &gt;\n&gt;\n\n\n\n"}}