{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":163406187,"authorName":"kristsi25","from":"&quot;kristsi25&quot; &lt;kris@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"OCTDxWJ8yvuRVoL2fo3wJeANw3MhSweXDOpEfgItwsCTybs7L6-0KSu_u1QlwbG2m-SCuDwUeXovmMT_McUBQJ0kX7qN","spamInfo":{"isSpam":false,"reason":"6"},"subject":"H3: Crawl progress halted, ConcurrantModificationException","postDate":"1281652425","msgId":6676,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGk0MXNzOSs1b2MwQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":6678,"prevInTime":6675,"nextInTime":6677,"topicId":6676,"numMessagesInTopic":5,"msgSnippet":"... 2010-08-12T10:05:44.300Z SEVERE Problem java.util.ConcurrentModificationException occured when trying to process","rawEmail":"Return-Path: &lt;kris@...&gt;\r\nX-Sender: kris@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 31199 invoked from network); 12 Aug 2010 22:34:05 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m11.grp.re1.yahoo.com with QMQP; 12 Aug 2010 22:34:05 -0000\r\nX-Received: from unknown (HELO n5-vm6.bullet.mail.sp2.yahoo.com) (67.195.135.101)\n  by mta3.grp.re1.yahoo.com with SMTP; 12 Aug 2010 22:34:05 -0000\r\nX-Received: from [67.195.134.238] by n5.bullet.mail.sp2.yahoo.com with NNFMP; 12 Aug 2010 22:33:45 -0000\r\nX-Received: from [69.147.65.172] by t3.bullet.mail.sp2.yahoo.com with NNFMP; 12 Aug 2010 22:33:45 -0000\r\nX-Received: from [98.137.34.36] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 12 Aug 2010 22:33:45 -0000\r\nDate: Thu, 12 Aug 2010 22:33:45 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;i41ss9+5oc0@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;kristsi25&quot; &lt;kris@...&gt;\r\nSubject: H3: Crawl progress halted, ConcurrantModificationException\r\nX-Yahoo-Group-Post: member; u=163406187; y=WnLxODqJDjGH14Bh8AeqPQZAzCAXdaWalKr0kJkggaSkzGoG\r\nX-Yahoo-Profile: kristsi25\r\n\r\nI observed the following exception in the job log about an hour into a larg=\r\ne crawl using Heritrix 3.0.0:\n\n---\n\n2010-08-12T10:05:44.300Z SEVERE Problem=\r\n java.util.ConcurrentModificationException occured when trying to process &#39;=\r\nhttp://www.kerhraun.is/index.php?option=3Dcom_content&view=3Darticle&id=3D2=\r\n3:varnir-vie-innkeyrsluhlie&#39; at step ABOUT_TO_BEGIN_PROCESSOR in \n (in thre=\r\nad &#39;ToeThread #68: http://www.kerhraun.is/index.php?option=3Dcom_content&vi=\r\new=3Darticle&id=3D23:varnir-vie-innkeyrsluhlie&#39;)\n2010-08-12T10:05:44.301Z S=\r\nEVERE Problem java.util.ConcurrentModificationException occured when trying=\r\n to process &#39;http://www.heklaislandi.is/index.php?option=3Dcom_ahsshop&vara=\r\n=3D594&Itemid=3D34&#39; at step ABOUT_TO_BEGIN_PROCESSOR in \n (in thread &#39;ToeTh=\r\nread #18: http://www.heklaislandi.is/index.php?option=3Dcom_ahsshop&vara=3D=\r\n594&Itemid=3D34&#39;)\n2010-08-12T10:15:18.160Z SEVERE Problem java.util.Concurr=\r\nentModificationException occured when trying to process &#39;http://www.handtak=\r\n.is/index.php?a=3Duview&user=3D106&brand=3D&&#39; at step ABOUT_TO_BEGIN_PROCES=\r\nSOR in \n (in thread &#39;ToeThread #46: http://www.handtak.is/index.php?a=3Duvi=\r\new&user=3D106&brand=3D&&#39;)\n\n---\n\nThis didn&#39;t seem to affect the crawl and I =\r\nrecalled seeing similar errors in another crawl that still runs well. I the=\r\nrefor allowed the crawl to continue normally.\n\nAbout 10 hours later however=\r\n this crawl more or less ground to a halt. Of the 75 threads, only 2 were m=\r\naking progress with most of the others waiting to begin the extractorSwf an=\r\nd 10 waiting to begin a custom processor. Those threads appear deadlocked. =\r\nToeThread report snippet follows:\n\n---\n\n[ToeThread #1: http://hvuttaklubbur=\r\ninn.hugi.is/spjall/viewtopic.php?p=3D13934\n CrawlURI http://hvuttaklubburin=\r\nn.hugi.is/spjall/viewtopic.php?p=3D13934 LLELLXL http://hvuttaklubburinn.hu=\r\ngi.is/spjall/viewtopic.php?t=3D1617    0 attempts\n    in processor: extract=\r\norSwf\n    ACTIVE for 1h27m29s413ms\n    step: ABOUT_TO_BEGIN_PROCESSOR for 1=\r\nh27m29s296ms\nJava Thread State: WAITING\nBlocked/Waiting On: NONE\n    sun.mi=\r\nsc.Unsafe.park(Native Method)\n    java.util.concurrent.locks.LockSupport.pa=\r\nrk(LockSupport.java:158)\n    java.util.concurrent.locks.AbstractQueuedSynch=\r\nronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)\n    java=\r\n.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQ=\r\nueuedSynchronizer.java:941)\n    java.util.concurrent.locks.AbstractQueuedSy=\r\nnchronizer.acquireShared(AbstractQueuedSynchronizer.java:1261)\n    java.uti=\r\nl.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWriteL=\r\nock.java:594)\n    org.archive.modules.DispositionChain.process(DispositionC=\r\nhain.java:54)\n    org.archive.crawler.framework.ToeThread.run(ToeThread.jav=\r\na:150)\n]\n[ToeThread #2: http://www.byhistorie.dk/images/364_LU_header_lille=\r\n.jpg\n CrawlURI http://www.byhistorie.dk/images/364_LU_header_lille.jpg LLRE=\r\n http://www.byhistorie.dk/    0 attempts\n    in processor: deduplicator\n   =\r\n ACTIVE for 1h27m29s546ms\n    step: ABOUT_TO_BEGIN_PROCESSOR for 1h27m29s20=\r\n4ms\nJava Thread State: WAITING\nBlocked/Waiting On: NONE\n    sun.misc.Unsafe=\r\n.park(Native Method)\n    java.util.concurrent.locks.LockSupport.park(LockSu=\r\npport.java:158)\n    java.util.concurrent.locks.AbstractQueuedSynchronizer.p=\r\narkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)\n    java.util.con=\r\ncurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQueuedSync=\r\nhronizer.java:941)\n    java.util.concurrent.locks.AbstractQueuedSynchronize=\r\nr.acquireShared(AbstractQueuedSynchronizer.java:1261)\n    java.util.concurr=\r\nent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWriteLock.java:=\r\n594)\n    org.archive.modules.DispositionChain.process(DispositionChain.java=\r\n:54)\n    org.archive.crawler.framework.ToeThread.run(ToeThread.java:150)\n\n-=\r\n--\n\nThese threads are representative of all the halted threads.\n\nAdding add=\r\nitional threads caused most of them to enter the same state, even after I d=\r\nisabled the SWF extractor.\n\nOther logs do not appear to contain any pertine=\r\nnt information.\n\nI doubt the crawl is recoverable but hints as to how this =\r\ncould be avoided in future crawls would be most welcome.\n\n- Kris\n\n\n"}}