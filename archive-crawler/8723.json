{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":496150545,"authorName":"Markus.Mirsberger","from":"&quot;Markus.Mirsberger&quot; &lt;markus.mirsberger@...&gt;","profile":"mirschi74","replyTo":"LIST","senderId":"Q2vXYU5wbjPgets33yj7yHHqwb0ep6dG7QiBfzmA9Mu7Gd5HeVHfoS8xwTLf3P17tqpyA09WWDWFYZCfwPi1RF8s5D1HyMg08om6XoqEuQApiFgl1w","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Umbra/RabbitMQ Problem","postDate":"1436926752","msgId":8723,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU1QTVDMzIwLjIwMDA2MDBAZ214LmRlPg==","inReplyToHeader":"PENBQS16NzBLK2diMGtydkI1X29UcXFrZEJQR1Y1VG8tQz1pUGQtZmNOc0Q3WVExWlc0d0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PDU1OUE1ODJFLjMwMDAwMDlAZ214LmRlPgk8Q0FBLXo3MCtuTndDRnZBX3pfcV8zZ01vcHJSazNNTmR0M3dlU3FQS1BjZGtQUWpOODJBQG1haWwuZ21haWwuY29tPgk8NTU5QjRBM0EuNjAzMDYwOEBnbXguZGU+CTxDQUEtejcwSkxER3hvamNaNFF3S3NaRUpjY2Y5Z1d5c1RrUWpkcFZfaWdfZ21Cc01jNkFAbWFpbC5nbWFpbC5jb20+CTw1NTlDOUZCOC44MDkwMjA4QGdteC5kZT4gPENBQS16NzBLK2diMGtydkI1X29UcXFrZEJQR1Y1VG8tQz1pUGQtZmNOc0Q3WVExWlc0d0BtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":8722,"nextInTopic":8724,"prevInTime":8722,"nextInTime":8724,"topicId":8714,"numMessagesInTopic":11,"msgSnippet":"Hi Noah, I noticed that the used amqp library is for the rabbitmq version 3.2.1. I changed my rabbitmq to that version and now I dont get these errors anymore.","rawEmail":"Return-Path: &lt;markus.mirsberger@...&gt;\r\nX-Sender: markus.mirsberger@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 40925 invoked by uid 102); 15 Jul 2015 02:19:21 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m17.grp.bf1.yahoo.com with SMTP; 15 Jul 2015 02:19:21 -0000\r\nX-Received: (qmail 12617 invoked from network); 15 Jul 2015 02:19:20 -0000\r\nX-Received: from unknown (HELO mta1005.groups.mail.bf1.yahoo.com) (98.139.245.164)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 15 Jul 2015 02:19:20 -0000\r\nX-Original-Return-Path: &lt;markus.mirsberger@...&gt;\r\nX-Received-SPF: pass (domain of gmx.de designates 212.227.17.21 as permitted sender)\r\nX-YMailISG: 0N5l1VcWLDtjbp_YXoXYKg1NNyAb3XUaguM.Fo42I2VhZglE\n leeGOCWZJynYD5Bnxud5TdzXhNmIQhcS80r0lNaqUnbqy0CUqBb1l4wY8RoC\n 1cHkx.8LXw01spNTObNNT4PJMRwLASYpixXSzWsgrX5jTaY7WWTsoEkYFWSr\n BwUnZSc2OYu2B7fp_Tjc0kgfnP8BgW7hbQfmJ9gYiTKC1tHBJBzAE82k0oVP\n N3hn8klZQApqze6CADOfg7ctO5v9TLdyBEnDwEQbwqlV4Tq5B.UJj0QTWYU5\n keCmZFTSJt8HWqVTG441h7KCx0cbTMu3Ftr3hb_DBAVlvlvb5Li0rIvB8E3s\n 2CmWtdGYJ1g3f9041_GIWtna_cJtu48wTFU5sDcfUKy0Lle7NgvDTigcD5sc\n UZCmSb4Fgz59m0fnLE_dCv2rirO2Cg9KJACATeOQLIYNElV6eW3mzc9Bor6r\n 5c_vZtIwOv5757D_2GLrNqE1vgSaURRCfvPjoquLZhna3Y_lEXiiGMLhndNO\n B2ADOi.4qDXG81EA6c342rygUziR9zlWdoyDIz8.OeLD7NPB0zChNbP5VEr2\n iZUHgq5XvJHROzRyfARs5kKVJyJFnA8YLecJE19I4k_ZeDmXWeDmw0P6dPVg\n 8zljJzp_OwIFkjw_1EJp7p3_IEL4QSi4ceyUVQ29Hhl9dl6il0K9FsBFXriv\n yez3tHNT2BnVxEx1UDNybMU75lZNo6SRUhNSzfSYg0CTUFdtkNHfLl0Tuv7D\n RjFmkfxVwyOEG6s_TYVLDziCBYaIekrrL9SLQDj_RirUsShRdAYuhYebBBrV\n 1DJpeuI6LUIBvSDq8wpog5Rutwp5zQFBzCsLFrzOzm2.h.hTI2mK1JxRJ5yZ\n cbp22nbOTGrTndQlFNSB_Vzv1lzVbIdvGFKoitCquLuBPvJn5EvOP5hTYGwK\n cc7qlA3dEofGNimOlXTiZEYvV_UZ2D6imY2GoryKpBcYVIQ0WDmLgkdwNq0i\n UTa1oWnc060qxV_MPnEziCdP7cBCa5J0zD1ETL4ZSOYSwdWR1lvUx4hOwAA0\n zmUE1030B5TQqdZXWCgXPfjv5MTJele3yH1IWBMjtD1krYKSQBAV7Xj5EDTH\n bKauFXQMoPKHFCjxFOwZT5Pj9JPByUOMI0psndhhbqDKmnef1QzLPzufS59f\n b41HODcutkSI_iaxof9A737AE37ZjvSud0zbkyAVwSzVkXL0iQsyIpAUTgPs\n FIMgYv2baErGmIVn6gfTO_uHVymHKGA6A8VRoL9X21rGaezTeAQE4uQn3vxE\n 2om64iEVArOPjAedNshTs4N2Tdd7YbmGmLiBZtsoGiIB9EByw3M8kxinosrG\n ccH1.RaQOfqv4jZkd_ohc5S4QSt295UQu1UW5WP3JdSKkcvqu6gWsje8IJE4\n T8xk09XMdzbqulGjyxtHw9DR2lan2xC7Eq1T4xs1A8S6SyL_HHejps4LAP11\n NE4KhnQN7XAYdw0FG3aq8i61mjs9jFPSZ_vQFtIortiFWlbvcOu4tWomb0tE\n JwfbpFY-\r\nAuthentication-Results: mta1005.groups.mail.bf1.yahoo.com  from=gmx.de; domainkeys=neutral (no sig);  from=gmx.de; dkim=neutral (no sig)\r\nX-Received: from 127.0.0.1  (EHLO mout.gmx.net) (212.227.17.21)\n  by mta1005.groups.mail.bf1.yahoo.com with SMTPS; Wed, 15 Jul 2015 02:19:20 +0000\r\nX-Received: from [192.168.1.6] ([171.6.244.241]) by mail.gmx.com (mrgmx102) with\n ESMTPSA (Nemesis) id 0LqW8j-1Yk0H63QTx-00e3uj for\n &lt;archive-crawler@yahoogroups.com&gt;; Wed, 15 Jul 2015 04:19:19 +0200\r\nMessage-ID: &lt;55A5C320.2000600@...&gt;\r\nDate: Wed, 15 Jul 2015 09:19:12 +0700\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;559A582E.3000009@...&gt;\t&lt;CAA-z70+nNwCFvA_z_q_3gMoprRk3MNdt3weSqPKPcdkPQjN82A@...&gt;\t&lt;559B4A3A.6030608@...&gt;\t&lt;CAA-z70JLDGxojcZ4QwKsZEJccf9gWysTkQjdpV_ig_gmBsMc6A@...&gt;\t&lt;559C9FB8.8090208@...&gt; &lt;CAA-z70K+gb0krvB5_oTqqkdBPGV5To-C=iPd-fcNsD7YQ1ZW4w@...&gt;\r\nIn-Reply-To: &lt;CAA-z70K+gb0krvB5_oTqqkdBPGV5To-C=iPd-fcNsD7YQ1ZW4w@...&gt;\r\nContent-Type: multipart/alternative;\n boundary=&quot;------------000405040800080707040903&quot;\r\nX-Provags-ID:  V03:K0:7sjKgtKn5esl/hMvriP11ewcGhZpnRu6ycYp/Umg926X0LVWLuS\n oDSFBmMkxnnrMNUxAREPwjMUXAOXNaeCp6vatsDP/Zt127TnSStQngKkHwTLG+2iZVrvL1W\n viGVaxoOjaMFy73egJemJKP7pC5WmwMkwBlunvkQVdFdog57wAEH/pSjmvHVIRKIYXZZc06\n LZclKq1FLe+q3BOWSmw7A==\r\nX-UI-Out-Filterresults: notjunk:1;V01:K0:9sGtp9BO2Jw=:dpOpRjaZ81wgpc0VYbfcGi\n H8mJ8ObEBXw09NO5oxewlLOr8qLjT/4n58/1Z1f6LunB8lBwnEgoEDsBGgJvtBHaC5TM0lKfP\n YgVUInHM7x/9WKqHQ1GmJlBRkCfpFOY7CAb25UUJlAjRBCeZe05Tkq9JgmTR9sj0yqdFZ0ODo\n IOfmJd3rhzhRr5tLarOUTjj9VHbPcSg4/vNFXDbWxVdB9luIPBL6NxOguT7R3v/DeOfhC7cGV\n lsxMc7uKhRakVlXpG1GLaecjV84t5JoEEIvLf7kojj2SKygkY/94hZuoQiwoGdUuS3C2/jmBz\n HSK3jLV/iTaASI/I29k+ZpWrGG7Fc6E2fIStEOlgaJnn1rXMXZwfHcinT5YksjNaO64R4vRQn\n sNor2rYytbZsY21cnEd2lACNhAAm4P3St7sKhNwzcaRndgaeBf7al4cPq1fLAv5mWYR16HMkD\n 07LQHJ0cLW5cPP5RqI3LMo1+cuwTYtkJBLZGS4EEXyi9bj0udVJxnvl6c1D3hN5eP3QYesZdx\n wdxfFrHAj5FtqWKpz557j8RTZjgGJji6b5wjX+cNv006chCZyu3kpjLlNrR4Z/rBEfHprxqLf\n egqSeTrK6VlWIR+gC2mIppTxU0tLjjXQDB5URnODUALan0owO+qnAePLCNYwLMuT9gAipfelI\n D/DI3qSyqnyJpMluIQAOcAK1xn9CFDWHY6T2jCJFF2yrvnl1PQORZ3yntFqiSXTOBOTyReb01\n GnP8N95aQ/QubEfq\r\nSubject: Re: [archive-crawler] Umbra/RabbitMQ Problem\r\nX-Yahoo-Group-Post: member; u=496150545; y=boOUdfbZyQZjEzScuNrcrqIW06hGlI5CWXVZdMcPKI-iVZvDsEwUCUxLPVRmceE-TffjajVoqgqqA54\r\nX-Yahoo-Profile: mirschi74\r\nFrom: &quot;Markus.Mirsberger&quot; &lt;markus.mirsberger@...&gt;\r\n\r\n\r\n--------------000405040800080707040903\r\nContent-Type: text/plain; charset=utf-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\n\r\nHi Noah,\n\nI noticed that the used amqp library is for the rabbitmq version 3.2.1.\nI changed my rabbitmq to that version and now I dont get these errors \nanymore.\n\nI see in my heritrix logs that the AmqpReceiver was started, is running \nand listening but I still get no answers from RabbitMQ.\nStrange ... but now I think too that the problem might be anything with \nrabbitmq. I didnt configure anything different to the default except \nthat I enabled the rabbitmq_management plugin\n\n\nCheers,\nMarkus\n\n\nAm 15.07.2015 um 03:04 schrieb Noah Levitt nlevitt@... \n[archive-crawler]:\n&gt;\n&gt; Hello Markus,\n&gt;\n&gt; Sorry this slipped my mind until now. I don&#39;t see anything wrong with\n&gt; your configuration. Is it possible your rabbitmq is overloaded? I&#39;m\n&gt; not sure what else to look at.\n&gt;\n&gt; Noah\n&gt;\n&gt; On Tue, Jul 7, 2015 at 8:57 PM, &#39;Markus.Mirsberger&#39;\n&gt; markus.mirsberger@... [archive-crawler]\n&gt; &lt;archive-crawler@yahoogroups.com&gt; wrote:\n&gt; &gt; [Attachment(s) from Markus.Mirsberger included below]\n&gt; &gt;\n&gt; &gt; Hi Noah,\n&gt; &gt;\n&gt; &gt; I don&#39;t even have an own rabbitmq config as it seemed to work out of \n&gt; the box\n&gt; &gt; with the default settings.\n&gt; &gt; I only activated the rabbitmq management plugin.\n&gt; &gt;\n&gt; &gt; I attached the crawler-beans.cxml for the specific crawl.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Thanks,\n&gt; &gt; Markus\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Am 08.07.2015 um 03:40 schrieb Noah Levitt nlevitt@...\n&gt; &gt; [archive-crawler]:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hello Markus,\n&gt; &gt;\n&gt; &gt; Not sure what&#39;s going on. I looked at the code where your exception is\n&gt; &gt; coming from, and googled your stack trace, but didn&#39;t find anything\n&gt; &gt; particularly helpful. If you want to send your full \n&gt; crawler-beans.cxml I can\n&gt; &gt; take a look. There&#39;s nothing unusual in your rabbitmq configuration is\n&gt; &gt; there?\n&gt; &gt;\n&gt; &gt; Noah\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Mon, Jul 6, 2015 at 8:40 PM, &#39;Markus.Mirsberger&#39; \n&gt; markus.mirsberger@...\n&gt; &gt; [archive-crawler] &lt;archive-crawler@yahoogroups.com&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Hi Noah,\n&gt; &gt;&gt;\n&gt; &gt;&gt; thanks for the help. I configured my two beans similar to yours but the\n&gt; &gt;&gt; problem persists.\n&gt; &gt;&gt; It looks like there is a connection timeout but the publisher can \n&gt; connect\n&gt; &gt;&gt; to the same Uri and send URLs to the queue.\n&gt; &gt;&gt;\n&gt; &gt;&gt; thats my configuration:\n&gt; &gt;&gt;\n&gt; &gt;&gt; &lt;bean id=&quot;amqpPublishProcessor&quot;\n&gt; &gt;&gt; class=&quot;org.archive.modules.AMQPPublishProcessor&quot;&gt;\n&gt; &gt;&gt; &lt;property name=&quot;amqpUri&quot;\n&gt; &gt;&gt; value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;clientId&quot; value=&quot;myqueue&quot;/&gt;\n&gt; &gt;&gt; &lt;/bean&gt;\n&gt; &gt;&gt; &lt;bean id=&quot;amqpUrlReceiver&quot;\n&gt; &gt;&gt; class=&quot;org.archive.crawler.frontier.AMQPUrlReceiver&quot;&gt;\n&gt; &gt;&gt; &lt;property name=&quot;queueName&quot; value=&quot;myqueue&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;amqpUri&quot;\n&gt; &gt;&gt; value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;\n&gt; &gt;&gt; &lt;/bean&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; and here is the stack trace of the exception:\n&gt; &gt;&gt;\n&gt; &gt;&gt; 2015-07-07 03:19:14.660 SEVERE thread-248399\n&gt; &gt;&gt; org.archive.crawler.frontier.AMQPUrlReceiver$StarterRestarter.run() \n&gt; problem\n&gt; &gt;&gt; starting AMQP consumer (will try again after 30 seconds)\n&gt; &gt;&gt; java.io.IOException\n&gt; &gt;&gt; at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)\n&gt; &gt;&gt; at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:378)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:516)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:533)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; org.archive.crawler.frontier.AMQPUrlReceiver.connection(AMQPUrlReceiver.java:190)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; org.archive.crawler.frontier.AMQPUrlReceiver.channel(AMQPUrlReceiver.java:203)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; org.archive.crawler.frontier.AMQPUrlReceiver$StarterRestarter.run(AMQPUrlReceiver.java:119)\n&gt; &gt;&gt; Caused by: com.rabbitmq.client.ShutdownSignalException: connection \n&gt; error;\n&gt; &gt;&gt; reason: java.net.SocketTimeoutException: Timeout during Connection\n&gt; &gt;&gt; negotiation\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:343)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:321)\n&gt; &gt;&gt; ... 5 more\n&gt; &gt;&gt; Caused by: java.net.SocketTimeoutException: Timeout during Connection\n&gt; &gt;&gt; negotiation\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.impl.AMQConnection.handleSocketTimeout(AMQConnection.java:584)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.impl.AMQConnection.access$500(AMQConnection.java:63)\n&gt; &gt;&gt; at\n&gt; &gt;&gt; \n&gt; com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:559)\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Thanks,\n&gt; &gt;&gt; Markus\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Am 07.07.2015 um 07:24 schrieb Noah Levitt nlevitt@...\n&gt; &gt;&gt; [archive-crawler]:\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Hello Markus,\n&gt; &gt;&gt;\n&gt; &gt;&gt; There is something that\n&gt; &gt;&gt; https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3 \n&gt; neglects to\n&gt; &gt;&gt; mention that might explain the problem you&#39;re seeing. \n&gt; AMPQUrlReceiver needs\n&gt; &gt;&gt; to be configured with a &quot;queueName&quot; that matches the clientId set on\n&gt; &gt;&gt; AMQPPublishProcessor.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Here is an example of the relevant configuration from an archive-it \n&gt; crawl\n&gt; &gt;&gt; job. Our shouldProcessRule sends only seeds to umbra. There are \n&gt; reasons for\n&gt; &gt;&gt; the particular way it works which I can explain if anyone is \n&gt; wondering. :)\n&gt; &gt;&gt; But the important thing to be aware of is that the \n&gt; shouldProcessRule can be\n&gt; &gt;&gt; used to limit the umbra treatment to the urls of your choice.\n&gt; &gt;&gt;\n&gt; &gt;&gt; &lt;bean id=&quot;amqpUrlReceiver&quot;\n&gt; &gt;&gt; class=&quot;org.archive.crawler.frontier.AMQPUrlReceiver&quot;&gt;\n&gt; &gt;&gt; &lt;property name=&quot;queueName&quot;\n&gt; &gt;&gt; value=&quot;archiveit.prod.9876-20150704232858960&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;amqpUri&quot;\n&gt; &gt;&gt; value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;\n&gt; &gt;&gt; &lt;/bean&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; &lt;bean id=&quot;amqpPublishProcessor&quot;\n&gt; &gt;&gt; class=&quot;org.archive.modules.AMQPPublishProcessor&quot;&gt;\n&gt; &gt;&gt; &lt;property name=&quot;amqpUri&quot;\n&gt; &gt;&gt; value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;clientId&quot;\n&gt; &gt;&gt; value=&quot;archiveit.prod.9876-20150704232858960&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;shouldProcessRule&quot;&gt;\n&gt; &gt;&gt; &lt;bean\n&gt; &gt;&gt; class=&quot;org.archive.modules.deciderules.ExpressionDecideRule&quot;&gt;\n&gt; &gt;&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &gt;&gt; &lt;property name=&quot;groovyExpression&quot;\n&gt; &gt;&gt; value=&quot;!(curi.via == null && (curi.hasBeenLinkExtracted() ||\n&gt; &gt;&gt; (curi.getFetchStatus() &gt;= 300 && curi.getFetchStatus() &lt;\n&gt; &gt;&gt; 400)))&quot;/&gt;\n&gt; &gt;&gt; &lt;/bean&gt;\n&gt; &gt;&gt; &lt;/property&gt;\n&gt; &gt;&gt; &lt;/bean&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; If the problem persists, please send the full stack trace.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Noah\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Mon, Jul 6, 2015 at 3:27 AM, &#39;Markus.Mirsberger&#39;\n&gt; &gt;&gt; markus.mirsberger@... [archive-crawler] \n&gt; &lt;archive-crawler@yahoogroups.com&gt;\n&gt; &gt;&gt; wrote:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Hi,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I am trying to crawl websites through Umbra / RabbitMQ to get more \n&gt; URLs\n&gt; &gt;&gt;&gt; generated by JS.\n&gt; &gt;&gt;&gt; I set up everything as it is described here:\n&gt; &gt;&gt;&gt; https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I can see in my crawl logs that the URLs are beeing sent to\n&gt; &gt;&gt;&gt; Umbra/RabbitMQ because of the Status sentToAMQP\n&gt; &gt;&gt;&gt; I think this means that so far my Requests are successfully sent \n&gt; .....I\n&gt; &gt;&gt;&gt; can see the requests in the RabbitMQ Webadmin as well.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; The problem is that I can not see anything comming back from\n&gt; &gt;&gt;&gt; Umbra/RabbitMQ ..... the documentation says that I should see URLs \n&gt; with the\n&gt; &gt;&gt;&gt; status received FromAMQP. This doesnt happen but instead I get \n&gt; this in my\n&gt; &gt;&gt;&gt; job logs:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; SEVERE problem starting AMQP consumer (will try again after 30 \n&gt; seconds)\n&gt; &gt;&gt;&gt; (in thread &#39;AMQPUrlReceiver-starter-restarter&#39;)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; My logfile from rabbitmq says this:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:24:41 ===\n&gt; &gt;&gt;&gt; accepting AMQP connection &lt;0.15717.1733&gt; (127.0.0.1:45721 -&gt;\n&gt; &gt;&gt;&gt; 127.0.0.1:5672)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:24:45 ===\n&gt; &gt;&gt;&gt; accepting AMQP connection &lt;0.15762.1733&gt; (127.0.0.1:45724 -&gt;\n&gt; &gt;&gt;&gt; 127.0.0.1:5672)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:25:21 ===\n&gt; &gt;&gt;&gt; closing AMQP connection &lt;0.15762.1733&gt; (127.0.0.1:45724 -&gt;\n&gt; &gt;&gt;&gt; 127.0.0.1:5672)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:25:21 ===\n&gt; &gt;&gt;&gt; closing AMQP connection &lt;0.15717.1733&gt; (127.0.0.1:45721 -&gt;\n&gt; &gt;&gt;&gt; 127.0.0.1:5672)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; As you can see rabbitmq is acception 2 connections from heritrix \n&gt; and when\n&gt; &gt;&gt;&gt; I finish the crawl both are closed.\n&gt; &gt;&gt;&gt; I think they are used to send the URLs. After acception the \n&gt; connections\n&gt; &gt;&gt;&gt; and some seconds the &quot;AMQP consumer&quot; problem occours and keeps \n&gt; comming every\n&gt; &gt;&gt;&gt; 30 seconds as the AMQPUrlReceiver tries to start a consumer.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Does anyone have an idea what might be the problem? Did I miss \n&gt; anything\n&gt; &gt;&gt;&gt; which wasn&#39;t described in the howto above?\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Thanks,\n&gt; &gt;&gt;&gt; Markus\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; \n\n\r\n--------------000405040800080707040903\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta content=&quot;text/html; charset=utf-8&quot; http-equiv=&quot;Content-Type&quot;&gt;\n  &lt;/head&gt;\n  &lt;body bgcolor=&quot;#FFFFFF&quot; text=&quot;#000000&quot;&gt;\n    Hi Noah,&lt;br&gt;\n    &lt;br&gt;\n    I noticed that the used amqp library is for the rabbitmq version\n    3.2.1.&lt;br&gt;\n    I changed my rabbitmq to that version and now I dont get these\n    errors anymore.&lt;br&gt;\n    &lt;br&gt;\n    I see in my heritrix logs that the AmqpReceiver was started, is\n    running and listening but I still get no answers from RabbitMQ.&lt;br&gt;\n    Strange ... but now I think too that the problem might be anything\n    with rabbitmq. I didnt configure anything different to the default\n    except that I enabled the rabbitmq_management plugin&lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    Cheers,&lt;br&gt;\n    Markus&lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;div class=&quot;moz-cite-prefix&quot;&gt;Am 15.07.2015 um 03:04 schrieb Noah\n      Levitt &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:nlevitt@...&quot;&gt;nlevitt@...&lt;/a&gt; [archive-crawler]:&lt;br&gt;\n    &lt;/div&gt;\n    &lt;blockquote\ncite=&quot;mid:CAA-z70K+gb0krvB5_oTqqkdBPGV5To-C=iPd-fcNsD7YQ1ZW4w@...&quot;\n      type=&quot;cite&quot;&gt; &lt;span style=&quot;display:none&quot;&gt;Â &lt;/span&gt;\n      \n          &lt;div id=&quot;ygrp-text&quot;&gt;\n            &lt;p&gt;Hello Markus,&lt;br&gt;\n              &lt;br&gt;\n              Sorry this slipped my mind until now. I don&#39;t see anything\n              wrong with&lt;br&gt;\n              your configuration. Is it possible your rabbitmq is\n              overloaded? I&#39;m&lt;br&gt;\n              not sure what else to look at.&lt;br&gt;\n              &lt;br&gt;\n              Noah&lt;br&gt;\n              &lt;br&gt;\n              On Tue, Jul 7, 2015 at 8:57 PM, &#39;Markus.Mirsberger&#39;&lt;br&gt;\n              &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:markus.mirsberger@...&quot;&gt;markus.mirsberger@...&lt;/a&gt; [archive-crawler]&lt;br&gt;\n              &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;&lt;archive-crawler@yahoogroups.com&gt;&lt;/a&gt; wrote:&lt;br&gt;\n              &gt; [Attachment(s) from Markus.Mirsberger included below]&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Hi Noah,&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; I don&#39;t even have an own rabbitmq config as it seemed\n              to work out of the box&lt;br&gt;\n              &gt; with the default settings.&lt;br&gt;\n              &gt; I only activated the rabbitmq management plugin.&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; I attached the crawler-beans.cxml for the specific\n              crawl.&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Thanks,&lt;br&gt;\n              &gt; Markus&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Am 08.07.2015 um 03:40 schrieb Noah Levitt\n              &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:nlevitt@...&quot;&gt;nlevitt@...&lt;/a&gt;&lt;br&gt;\n              &gt; [archive-crawler]:&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Hello Markus,&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Not sure what&#39;s going on. I looked at the code where\n              your exception is&lt;br&gt;\n              &gt; coming from, and googled your stack trace, but didn&#39;t\n              find anything&lt;br&gt;\n              &gt; particularly helpful. If you want to send your full\n              crawler-beans.cxml I can&lt;br&gt;\n              &gt; take a look. There&#39;s nothing unusual in your rabbitmq\n              configuration is&lt;br&gt;\n              &gt; there?&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; Noah&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; On Mon, Jul 6, 2015 at 8:40 PM, &#39;Markus.Mirsberger&#39;\n              &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:markus.mirsberger@...&quot;&gt;markus.mirsberger@...&lt;/a&gt;&lt;br&gt;\n              &gt; [archive-crawler]\n              &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;&lt;archive-crawler@yahoogroups.com&gt;&lt;/a&gt; wrote:&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Hi Noah,&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; thanks for the help. I configured my two beans\n              similar to yours but the&lt;br&gt;\n              &gt;&gt; problem persists.&lt;br&gt;\n              &gt;&gt; It looks like there is a connection timeout but\n              the publisher can connect&lt;br&gt;\n              &gt;&gt; to the same Uri and send URLs to the queue.&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; thats my configuration:&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; &lt;bean id=&quot;amqpPublishProcessor&quot;&lt;br&gt;\n              &gt;&gt;\n              class=&quot;org.archive.modules.AMQPPublishProcessor&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;amqpUri&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;clientId&quot; value=&quot;myqueue&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;/bean&gt;&lt;br&gt;\n              &gt;&gt; &lt;bean id=&quot;amqpUrlReceiver&quot;&lt;br&gt;\n              &gt;&gt;\n              class=&quot;org.archive.crawler.frontier.AMQPUrlReceiver&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;queueName&quot;\n              value=&quot;myqueue&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;amqpUri&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;/bean&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; and here is the stack trace of the exception:&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; 2015-07-07 03:19:14.660 SEVERE thread-248399&lt;br&gt;\n              &gt;&gt;\n              org.archive.crawler.frontier.AMQPUrlReceiver$StarterRestarter.run()\n              problem&lt;br&gt;\n              &gt;&gt; starting AMQP consumer (will try again after 30\n              seconds)&lt;br&gt;\n              &gt;&gt; java.io.IOException&lt;br&gt;\n              &gt;&gt; at\n              com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)&lt;br&gt;\n              &gt;&gt; at\n              com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\n              com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:378)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:516)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:533)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\norg.archive.crawler.frontier.AMQPUrlReceiver.connection(AMQPUrlReceiver.java:190)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\norg.archive.crawler.frontier.AMQPUrlReceiver.channel(AMQPUrlReceiver.java:203)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\norg.archive.crawler.frontier.AMQPUrlReceiver$StarterRestarter.run(AMQPUrlReceiver.java:119)&lt;br&gt;\n              &gt;&gt; Caused by:\n              com.rabbitmq.client.ShutdownSignalException: connection\n              error;&lt;br&gt;\n              &gt;&gt; reason: java.net.SocketTimeoutException: Timeout\n              during Connection&lt;br&gt;\n              &gt;&gt; negotiation&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\n              com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:343)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\n              com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:321)&lt;br&gt;\n              &gt;&gt; ... 5 more&lt;br&gt;\n              &gt;&gt; Caused by: java.net.SocketTimeoutException:\n              Timeout during Connection&lt;br&gt;\n              &gt;&gt; negotiation&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.client.impl.AMQConnection.handleSocketTimeout(AMQConnection.java:584)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\n              com.rabbitmq.client.impl.AMQConnection.access$500(AMQConnection.java:63)&lt;br&gt;\n              &gt;&gt; at&lt;br&gt;\n              &gt;&gt;\ncom.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:559)&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Thanks,&lt;br&gt;\n              &gt;&gt; Markus&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Am 07.07.2015 um 07:24 schrieb Noah Levitt\n              &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:nlevitt@...&quot;&gt;nlevitt@...&lt;/a&gt;&lt;br&gt;\n              &gt;&gt; [archive-crawler]:&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Hello Markus,&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; There is something that&lt;br&gt;\n              &gt;&gt;\n              &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3&quot;&gt;https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3&lt;/a&gt;\n              neglects to&lt;br&gt;\n              &gt;&gt; mention that might explain the problem you&#39;re\n              seeing. AMPQUrlReceiver needs&lt;br&gt;\n              &gt;&gt; to be configured with a &quot;queueName&quot; that matches\n              the clientId set on&lt;br&gt;\n              &gt;&gt; AMQPPublishProcessor.&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Here is an example of the relevant configuration\n              from an archive-it crawl&lt;br&gt;\n              &gt;&gt; job. Our shouldProcessRule sends only seeds to\n              umbra. There are reasons for&lt;br&gt;\n              &gt;&gt; the particular way it works which I can explain\n              if anyone is wondering. :)&lt;br&gt;\n              &gt;&gt; But the important thing to be aware of is that\n              the shouldProcessRule can be&lt;br&gt;\n              &gt;&gt; used to limit the umbra treatment to the urls of\n              your choice.&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; &lt;bean id=&quot;amqpUrlReceiver&quot;&lt;br&gt;\n              &gt;&gt;\n              class=&quot;org.archive.crawler.frontier.AMQPUrlReceiver&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;queueName&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;archiveit.prod.9876-20150704232858960&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;amqpUri&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;/bean&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; &lt;bean id=&quot;amqpPublishProcessor&quot;&lt;br&gt;\n              &gt;&gt;\n              class=&quot;org.archive.modules.AMQPPublishProcessor&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;amqpUri&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;amqp://guest:guest@localhost:5672/%2f&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;clientId&quot;&lt;br&gt;\n              &gt;&gt;\n              value=&quot;archiveit.prod.9876-20150704232858960&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;shouldProcessRule&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;bean&lt;br&gt;\n              &gt;&gt;\n              class=&quot;org.archive.modules.deciderules.ExpressionDecideRule&quot;&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;property name=&quot;groovyExpression&quot;&lt;br&gt;\n              &gt;&gt; value=&quot;!(curi.via == null &amp;&amp;\n              (curi.hasBeenLinkExtracted() ||&lt;br&gt;\n              &gt;&gt; (curi.getFetchStatus() &gt;= 300 &amp;&amp;\n              curi.getFetchStatus() &lt;&lt;br&gt;\n              &gt;&gt; 400)))&quot;/&gt;&lt;br&gt;\n              &gt;&gt; &lt;/bean&gt;&lt;br&gt;\n              &gt;&gt; &lt;/property&gt;&lt;br&gt;\n              &gt;&gt; &lt;/bean&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; If the problem persists, please send the full\n              stack trace.&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; Noah&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt; On Mon, Jul 6, 2015 at 3:27 AM,\n              &#39;Markus.Mirsberger&#39;&lt;br&gt;\n              &gt;&gt; &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:markus.mirsberger@...&quot;&gt;markus.mirsberger@...&lt;/a&gt; [archive-crawler]\n              &lt;a class=&quot;moz-txt-link-rfc2396E&quot; href=&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;&lt;archive-crawler@yahoogroups.com&gt;&lt;/a&gt;&lt;br&gt;\n              &gt;&gt; wrote:&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; Hi,&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; I am trying to crawl websites through Umbra /\n              RabbitMQ to get more URLs&lt;br&gt;\n              &gt;&gt;&gt; generated by JS.&lt;br&gt;\n              &gt;&gt;&gt; I set up everything as it is described here:&lt;br&gt;\n              &gt;&gt;&gt;\n              &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3&quot;&gt;https://sbforge.org/display/NAS/Integrating+Umbra+And+Heritrix+3&lt;/a&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; I can see in my crawl logs that the URLs are\n              beeing sent to&lt;br&gt;\n              &gt;&gt;&gt; Umbra/RabbitMQ because of the Status\n              sentToAMQP&lt;br&gt;\n              &gt;&gt;&gt; I think this means that so far my Requests\n              are successfully sent .....I&lt;br&gt;\n              &gt;&gt;&gt; can see the requests in the RabbitMQ Webadmin\n              as well.&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; The problem is that I can not see anything\n              comming back from&lt;br&gt;\n              &gt;&gt;&gt; Umbra/RabbitMQ ..... the documentation says\n              that I should see URLs with the&lt;br&gt;\n              &gt;&gt;&gt; status received FromAMQP. This doesnt happen\n              but instead I get this in my&lt;br&gt;\n              &gt;&gt;&gt; job logs:&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; SEVERE problem starting AMQP consumer (will\n              try again after 30 seconds)&lt;br&gt;\n              &gt;&gt;&gt; (in thread\n              &#39;AMQPUrlReceiver-starter-restarter&#39;)&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; My logfile from rabbitmq says this:&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:24:41 ===&lt;br&gt;\n              &gt;&gt;&gt; accepting AMQP connection\n              &lt;0.15717.1733&gt; (127.0.0.1:45721 -&gt;&lt;br&gt;\n              &gt;&gt;&gt; 127.0.0.1:5672)&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:24:45 ===&lt;br&gt;\n              &gt;&gt;&gt; accepting AMQP connection\n              &lt;0.15762.1733&gt; (127.0.0.1:45724 -&gt;&lt;br&gt;\n              &gt;&gt;&gt; 127.0.0.1:5672)&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:25:21 ===&lt;br&gt;\n              &gt;&gt;&gt; closing AMQP connection &lt;0.15762.1733&gt;\n              (127.0.0.1:45724 -&gt;&lt;br&gt;\n              &gt;&gt;&gt; 127.0.0.1:5672)&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; =INFO REPORT==== 6-Jul-2015::12:25:21 ===&lt;br&gt;\n              &gt;&gt;&gt; closing AMQP connection &lt;0.15717.1733&gt;\n              (127.0.0.1:45721 -&gt;&lt;br&gt;\n              &gt;&gt;&gt; 127.0.0.1:5672)&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; As you can see rabbitmq is acception 2\n              connections from heritrix and when&lt;br&gt;\n              &gt;&gt;&gt; I finish the crawl both are closed.&lt;br&gt;\n              &gt;&gt;&gt; I think they are used to send the URLs. After\n              acception the connections&lt;br&gt;\n              &gt;&gt;&gt; and some seconds the &quot;AMQP consumer&quot; problem\n              occours and keeps comming every&lt;br&gt;\n              &gt;&gt;&gt; 30 seconds as the AMQPUrlReceiver tries to\n              start a consumer.&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; Does anyone have an idea what might be the\n              problem? Did I miss anything&lt;br&gt;\n              &gt;&gt;&gt; which wasn&#39;t described in the howto above?&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt; Thanks,&lt;br&gt;\n              &gt;&gt;&gt; Markus&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt;&lt;br&gt;\n              &gt; &lt;br&gt;\n            &lt;/p&gt;\n          &lt;/div&gt;\n          \n      \n      &lt;!-- end group email --&gt;\n    &lt;/blockquote&gt;\n    &lt;br&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------000405040800080707040903--\r\n\n"}}