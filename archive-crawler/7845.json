{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":544837819,"authorName":"rjoberon80","from":"&quot;rjoberon80&quot; &lt;rjoberon@...&gt;","profile":"rjoberon80","replyTo":"LIST","senderId":"VQezyHbJzROrL4UyHplMuEjP8f6GKYSWgT8I1b9ACE0USezqSk-mD4IYs9vlLT-ZOKlUyr6gjkx4CVEtXIchgO-LIsWBYktXP07tDP0","spamInfo":{"isSpam":false,"reason":"3"},"subject":"strange cycles with crawling speed","postDate":"1351608909","msgId":7845,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGs2b3BvZCtvb2hiQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":7846,"prevInTime":7844,"nextInTime":7846,"topicId":7845,"numMessagesInTopic":6,"msgSnippet":"Hello, While I was writing this post the crawler seems to stabilize and possibly the problem is solved. Still, I post it to find an explanation for the","rawEmail":"Return-Path: &lt;rjoberon@...&gt;\r\nReceived: (qmail 18645 invoked from network); 30 Oct 2012 17:22:25 -0000\r\nReceived: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 30 Oct 2012 17:22:25 -0000\r\nReceived: from unknown (HELO ng5-vm5.bullet.mail.gq1.yahoo.com) (98.136.219.57)\n  by mta1.grp.sp2.yahoo.com with SMTP; 30 Oct 2012 17:22:25 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echo; t=1351617745; bh=myqxj4XYmU+L5dlLCTB66LuM9Pv5C8a6VnojyYPFos0=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=I778CIDDnI8tyau+VZvN1USvNuJ4W+/CKkjnez1kr0KCN7M1zA+Dj/vJi3NLrE8+m1UB1b4OmyDVRTY7zLmOOBIlcftioP3jN06l09q93Ft/UkOQ0JeDGHVvVPU8fJ3FSEykDf093Quo0oKoYhHL3ScJSQsJq4EEtxt1fEEglW4=\r\nReceived: from [98.137.0.82] by ng5.bullet.mail.gq1.yahoo.com with NNFMP; 30 Oct 2012 17:22:25 -0000\r\nReceived: from [98.137.34.73] by tg2.bullet.mail.gq1.yahoo.com with NNFMP; 30 Oct 2012 17:22:25 -0000\r\nX-Sender: rjoberon@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 91331 invoked from network); 30 Oct 2012 14:55:13 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m2.grp.sp2.yahoo.com with QMQP; 30 Oct 2012 14:55:13 -0000\r\nX-Received: from unknown (HELO ng13-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.108)\n  by mta3.grp.sp2.yahoo.com with SMTP; 30 Oct 2012 14:55:12 -0000\r\nX-Received: from [98.139.164.124] by ng13.bullet.mail.bf1.yahoo.com with NNFMP; 30 Oct 2012 14:55:12 -0000\r\nX-Received: from [98.137.34.36] by tg5.bullet.mail.bf1.yahoo.com with NNFMP; 30 Oct 2012 14:55:12 -0000\r\nDate: Tue, 30 Oct 2012 14:55:09 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;k6opod+oohb@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: &quot;rjoberon80&quot; &lt;rjoberon@...&gt;\r\nSubject: strange cycles with crawling speed\r\nX-Yahoo-Group-Post: member; u=544837819; y=dh9Vc6A1nYxbqwyzXCYskKkvI0TrOT2e3m27fsehEpNTkXVx1uW3AzTy8I5nSKbVfpsvCcavt6N3-sE\r\nX-Yahoo-Profile: rjoberon80\r\nX-eGroups-Approved-By: nlevitt &lt;nlevitt@...&gt; via web; 30 Oct 2012 17:22:25 -0000\r\n\r\nHello,\n\nWhile I was writing this post the crawler seems to stabilize and po=\r\nssibly the problem is solved. Still, I post it to find an explanation for t=\r\nhe behavior and maybe for people which observe a similar behavior.\n\nMy craw=\r\nler is now running for 20 days and has crawled some 3.4TB. We had to buy ne=\r\nw disk space and restart it from a checkpoint and since then it does not ru=\r\nn smooth any longer. The only change I made (besides adding the hard disk) =\r\nwas to double the heap from 1GB to 2GB.\n\nThe problem can best be described =\r\nby having a look at this graph:\nhttp://www.flickr.com/photos/89400617@N02/8=\r\n138463405/\n\nThere is a cyclic change between high throughput and no through=\r\nput, e.g., between\n\n76.45 URIs/sec (23.28 avg); 8794 KB/sec (2158 avg)\n95 t=\r\nhreads: 95 ABOUT_TO_BEGIN_PROCESSOR; 75 fetchHttp, 14 extractorHtml, 6 warc=\r\nWriter \n\nand \n\n0 URIs/sec (23.28 avg); 0 KB/sec (2159 avg)\n95 threads: 95 A=\r\nBOUT_TO_BEGIN_PROCESSOR; 94 warcWriter, 1 fetchHttp \n\n(the averages in brac=\r\nkets are over the last 20 days)\n\nIn the high times I reach values I never h=\r\nad before, e.g., 128.24 URIs/sec (23.28 avg); 15162 KB/sec (2161 avg) and m=\r\nore. In the last 20 days the crawling was much more constant with a slow de=\r\ncrease (as can be seen here http://www.flickr.com/photos/89400617@N02/81384=\r\n81733/).\n\nDoes anybody have any idea what is happening and how I can fix it=\r\n?\n\nI first thought about too many file descriptors but on average 360 are o=\r\npen (max observed is 575) and the limit is 1024 (I increased it to 2048, th=\r\nough). The performance of the new hard disks should also not be the problem=\r\n, I checked this with hdparm.\n\nNow the crawl seems to stabilize, see http:/=\r\n/www.flickr.com/photos/89400617@N02/8138552692/ with 42.38 URIs/sec (23.31 =\r\navg); 6627 KB/sec (2165 avg). An explanation of this behaviour would be use=\r\nful. Could it be that after the restart all 100 threads were fetching and w=\r\nriting together (strictly synchronized) and that the hard disk could not ma=\r\nster the IO? And after some time they got off-sync and there is now a more =\r\ndistributed fetching and writing?\n\nI would appreciate any input! \n\nBest reg=\r\nards,\nRobert\n\n\n\n"}}