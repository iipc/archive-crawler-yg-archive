{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","replyTo":"LIST","senderId":"eRle88F02sM6mEk1i5h-jGv7Z_isq-QBvzPXv2qIkUvfUEDzfnGwVLtWJJsJz7rQAse5yoFwFGq2WM5N2cJgBKQMq5uJDa7n","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Does Heritrix support Unicode?","postDate":"1085765238","msgId":474,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwQjc3Njc2LjgwMDAwMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDE2NTY0LjU2NzUyLjcxMDc0MC42NDQ4MzNAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4=","referencesHeader":"PDQwQjRDRTdBLjEwODA1MDNAYXJjaGl2ZS5vcmc+IDwxNjU2NC41Njc1Mi43MTA3NDAuNjQ0ODMzQHRpcGhhcmVzLmJhc2lzdGVjaC5uZXQ+"},"prevInTopic":454,"nextInTopic":0,"prevInTime":473,"nextInTime":475,"topicId":431,"numMessagesInTopic":6,"msgSnippet":"... Your comment above made me look closer at what was going on. As your comment suggested, while reading with the right encoding would fix the problem, it","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 44086 invoked from network); 28 May 2004 17:33:46 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m21.grp.scd.yahoo.com with QMQP; 28 May 2004 17:33:46 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (209.237.232.202)\n  by mta1.grp.scd.yahoo.com with SMTP; 28 May 2004 17:33:46 -0000\r\nReceived: (qmail 16263 invoked by uid 100); 28 May 2004 17:26:40 -0000\r\nReceived: from b116-dyn-36.archive.org (HELO archive.org) (stack@...@209.237.240.36)\n  by mail-dev.archive.org with SMTP; 28 May 2004 17:26:40 -0000\r\nMessage-ID: &lt;40B77676.8000009@...&gt;\r\nDate: Fri, 28 May 2004 10:27:18 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040526 Debian/1.6-6\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;40B4CE7A.1080503@...&gt; &lt;16564.56752.710740.644833@...&gt;\r\nIn-Reply-To: &lt;16564.56752.710740.644833@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.4 required=6.0 tests=AWL autolearn=ham version=2.63\r\nX-eGroups-Remote-IP: 209.237.232.202\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Does Heritrix support Unicode?\r\nX-Yahoo-Group-Post: member; u=168599281\r\n\r\nTom Emerson wrote:\n\n&gt;My question here is why does it matter what the character encoding of\n&gt;the site is? If the URL is URL encoded then there isn&#39;t an issue: the\n&gt;URL will be encoded at the byte level, and all is fine.\n&gt;\n&gt;  \n&gt;\nYour comment above made me look closer at what was going on.\n\nAs your comment suggested, while reading with the right encoding would \n&#39;fix&#39; the problem, it should just work even for the case where we were \ntreating the underlying stream as single-byte.\n\nIt turns out, our reading of the stream as single-byte was trashing all \ncharacters in positions 128-255. We were relying on the jvm default \nencoding interpreting bytes.  The default in &#39;english&#39; locales is often \nascii.\n\nI&#39;ve just committed a fix.\n\nThe site that prompted this examination, the one reported by Zhou, \nanfeed.com, now has its links uncovered and crawled. Here&#39;s a sample \n(The characters above 127 are URL-encoded):\n\n20040528172351417   200      12069 #10 \nhttp://www.anfeed.com/PHOTO/search.asp?text=%C2%B7%C3%BB%C2%BF%C2%AA%C3%90%C3%87%C3%8B%C3%B9%C2%B3%C2%A4 \n3603 text/html\n  LRXLRL http://www.anfeed.com/PHOTO/\n\nThanks lads for reporting the issue.\nSt.Ack\n\n&gt;We faced a similar problem to this when we worked with Lycos to move\n&gt;their systems to Asia: it was common for Japanese documents to include\n&gt;URLs that contains Japanese text in them in multiple encodings:\n&gt;someone authoring a page on Windows (which uses CP932, a Shift JIS\n&gt;variant) might paste a URL or pathname from a Unix system (which is\n&gt;using EUC-JP). If you weren&#39;t careful when extracting the URL then the\n&gt;characters would get munged and a subsequent crawl would fail.\n&gt;\n&gt;The cure here was, in part, to URL encode every URL before doing any\n&gt;other character conversions on the original documents. Heritrix is not\n&gt;doing this (character conversion), but it should be URL encoding the\n&gt;URLs if it isn&#39;t, IMHO.\n&gt;\n&gt;    -tree\n&gt;\n&gt;  \n&gt;\n\n20040528170757688   200      24735 #23 \nhttp://www.anfeed.com/class.asp?typeid=%C3%86%C3%B3%C3%92%C2%B5%C3%8E%C3%84%C2%BB%C2%AF \n3714 text/html\n\n\n"}}