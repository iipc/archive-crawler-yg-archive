{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"JrXjpV-_PeKadOYJv2idxRl7j6XV5izis3Uw9K_H90ydcT1HO_RSAXdAOdkqryAl2VVqG9M_VAwZB35rRbwNjYVnAN8poU0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: Heritrix pauses at seemingly random intervals","postDate":"1376006911","msgId":8295,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUyMDQzMkZGLjMwNjAzMDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PENBQS16NzBMc2NGLUFSdEdKT0ErNVBIYi1TRjVoaEUwRmp2cGIxM05UMHYyWGtnSD0rZ0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PENBQS16NzArTU5UczVXNGZSREt2ZXdpM2YyeCtQMXN2cDNjczZmMTlqMDlfOVVOZm83UUBtYWlsLmdtYWlsLmNvbT4gPGt1MGl0ditxcjQ0QGVHcm91cHMuY29tPiA8Q0FBLXo3MExzY0YtQVJ0R0pPQSs1UEhiLVNGNWhoRTBGanZwYjEzTlQwdjJYa2dIPStnQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":8294,"nextInTopic":8297,"prevInTime":8294,"nextInTime":8296,"topicId":8268,"numMessagesInTopic":11,"msgSnippet":"Everything Noah said, and also note: Any SERIOUS level logging, at least by convention within the Heritrix code base, means a problem that needs","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 86305 invoked by uid 102); 9 Aug 2013 00:08:34 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m8.grp.bf1.yahoo.com with SMTP; 9 Aug 2013 00:08:34 -0000\r\nX-Received: (qmail 1503 invoked from network); 9 Aug 2013 00:08:34 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 9 Aug 2013 00:08:34 -0000\r\nX-Received: (qmail 6597 invoked by uid 0); 9 Aug 2013 00:08:32 -0000\r\nX-Received: from 50.0.89.173 (HELO silverbook.local) (50.0.89.173)\n  by relay03.pair.com with SMTP; 9 Aug 2013 00:08:32 -0000\r\nX-pair-Authenticated: 50.0.89.173\r\nMessage-ID: &lt;520432FF.3060307@...&gt;\r\nDate: Thu, 08 Aug 2013 17:08:31 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/20130620 Thunderbird/17.0.7\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;CAA-z70+MNTs5W4fRDKvewi3f2x+P1svp3cs6f19j09_9UNfo7Q@...&gt; &lt;ku0itv+qr44@...&gt; &lt;CAA-z70LscF-ARtGJOA+5PHb-SF5hhE0Fjvpb13NT0v2XkgH=+g@...&gt;\r\nIn-Reply-To: &lt;CAA-z70LscF-ARtGJOA+5PHb-SF5hhE0Fjvpb13NT0v2XkgH=+g@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: Heritrix pauses at seemingly random intervals\r\nX-Yahoo-Group-Post: member; u=137285340; y=1BhTDETAPmHMOTGe6NnpPnq7GylVCjgWrA3rAOGUsoLt\r\nX-Yahoo-Profile: gojomo\r\n\r\nEverything Noah said, and also note:\n\nAny &#39;SERIOUS&#39; level logging, at least by convention within the Heritrix \ncode base, means a problem that needs investigation/resolution. It has \nlikely led to a serious deviation from desired behavior: \nmissed/lost/corrupted data, or inconsistent crawl/heap/VM state putting \nall subsequent readouts/operation in doubt (even if progress seems to \ncontinue).\n\nNot every SERIOUS logging results in a pause; the pause is due to a \nspecific Error catch that is usually only triggered by OOMEs. (But as \nNoah notes, appears here to be due to unwise raising of a Error inside \nthe parsing library.)\n\nAlso after either of these happen once (or more than once), any \nfollow-on problems (like say OOMEs) might be because it was impossible \nto clean-up from prior failures. So you ideally want to go to the \nearliest one, understand what happened and remedy it, and start fresh.\n\n- Gordon\n\nOn 8/8/13 2:09 PM, Noah Levitt wrote:\n&gt;\n&gt;\n&gt; Ah, well, the fact that your try/catch(Exception) doesn&#39;t catch it, that\n&gt; ToeThread.seriousError() ends up being called, and also the name of the\n&gt; class, all suggest that com.phloc.css.parser.TokenMgrError is a\n&gt; java.lang.Error.\n&gt;\n&gt; &quot;An Error is a subclass of Throwable that indicates serious problems\n&gt; that a reasonable application should not try to catch.&quot;\n&gt; http://docs.oracle.com/javase/6/docs/api/java/lang/Error.html\n&gt;\n&gt; That library really should not be throwing Error in this case. I don&#39;t\n&gt; see the class here, so maybe they realized that and changed it, and\n&gt; maybe a newer version of the library wouldn&#39;t have the problem.\n&gt; https://code.google.com/p/phloc-css/source/browse/#svn%2Ftrunk%2Fphloc-css%2Fsrc%2Fmain%2Fjava%2Fcom%2Fphloc%2Fcss%2Fparser\n&gt;\n&gt; In the mean time you could add a catch(TokenMgrError) clause to your try\n&gt; block. (You could also catch(Throwable) but that could cause problems\n&gt; because you want to let real errors like OutOfMemoryError through).\n&gt;\n&gt; Noah\n&gt;\n&gt;\n&gt; On Thu, Aug 8, 2013 at 10:01 AM, Niels &lt;niels.van.hecke@...\n&gt; &lt;mailto:niels.van.hecke@...&gt;&gt; wrote:\n&gt;\n&gt;     &lt;&lt;&lt;\n&gt;     2013-08-02T20:17:47.128Z\n&gt;     com.phloc.css.parser.TokenMgrError: Lexical error at line 169,\n&gt;     column 0.  Encountered: &lt;EOF&gt; after : &quot;&quot;\n&gt;     [ToeThread #363:\n&gt;     http://alpinecutter.com/templates/yoo_balance/css/modules.css\n&gt;       CrawlURI\n&gt;     http://alpinecutter.com/templates/yoo_balance/css/modules.css E\n&gt;     http://alpinecutter.com/    0 attempts\n&gt;          in processor: toConvertMirrorWriter\n&gt;          ACTIVE for 58s282ms\n&gt;          step: ABOUT_TO_BEGIN_PROCESSOR for 1s29ms\n&gt;     Java Thread State: RUNNABLE\n&gt;     Blocked/Waiting On: NONE\n&gt;          java.lang.Thread.getStackTrace(Unknown Source)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportThread(ToeThread.java:483)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:455)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:581)\n&gt;          org.archive.util.DevUtils.extraInfo(DevUtils.java:61)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.seriousError(ToeThread.java:266)\n&gt;          org.archive.crawler.framework.ToeThread.run(ToeThread.java:176)\n&gt;     ]\n&gt;                 timestamp  discovered      queued   downloaded\n&gt;     doc/s(avg)  KB/s(avg)   dl-failures   busy-thread   mem-use-KB\n&gt;       heap-size-KB   congestion   max-depth   avg-depth\n&gt;     2013-08-02T20:17:47Z       95396       78234        17541\n&gt;     25.42(18.82)   278(297)             0           575       969362\n&gt;        9648000            1        2258          59\n&gt;\n&gt;     com.phloc.css.parser.TokenMgrError: Lexical error at line 169,\n&gt;     column 0.  Encountered: &lt;EOF&gt; after : &quot;&quot;\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30TokenManager.getNextToken(ParserCSS30TokenManager.java:5702)\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30.jj_ntk(ParserCSS30.java:4956)\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30.styleSheet(ParserCSS30.java:261)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader._readStyleSheet(CSSReader.java:107)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromStream(CSSReader.java:826)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromFile(CSSReader.java:513)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromFile(CSSReader.java:450)\n&gt;              at\n&gt;     org.archive.modules.writer.LocalMirrorWriterProcessor.rewriteCssLinks(LocalMirrorWriterProcessor.java:373)\n&gt;              at\n&gt;     org.archive.modules.writer.LocalMirrorWriterProcessor.innerProcess(LocalMirrorWriterProcessor.java:236)\n&gt;              at\n&gt;     org.archive.modules.Processor.innerProcessResult(Processor.java:175)\n&gt;              at org.archive.modules.Processor.process(Processor.java:142)\n&gt;              at\n&gt;     org.archive.modules.ProcessorChain.process(ProcessorChain.java:131)\n&gt;              at\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt;     750 threads (575 active)\n&gt;     #serialNumber processorName currentUri (fetchAttempts) threadState\n&gt;     threadStep\n&gt;     #1 toConvertMirrorWriter\n&gt;     https://www.qinetiq-na.com/wp-content/themes/QNA/js/jquery_003.js\n&gt;     (0) ACTIVE for 24s851ms at ABOUT_TO_BEGIN_PROCESSOR for 515ms\n&gt;     #2 toConvertMirrorWriter\n&gt;     http://www.controlchief.com/Templates/Images/T-Icon.png (0) ACTIVE\n&gt;     for 26s505ms at ABOUT_TO_BEGIN_PROCESSOR for 734ms\n&gt;     #3 toConvertMirrorWriter\n&gt;     http://utcaerospacesystems.com/Pages/Default.aspx (2) ACTIVE for\n&gt;     3m23s207ms at ABOUT_TO_BEGIN_PROCESSOR for 3m13s36ms\n&gt;     ...\n&gt;     #749 toConvertMirrorWriter http://www.magnetic-shield.com/index.html\n&gt;     (0) ACTIVE for 5m15s637ms at ABOUT_TO_BEGIN_PROCESSOR for 5m14s248ms\n&gt;     #750 [no CrawlURI] WAITING for 1s591ms at ABOUT_TO_GET_URI for 1s591ms\n&gt;      &gt;&gt;&gt;\n&gt;     Aug 02, 2013 8:17:48 PM org.archive.crawler.framework.ToeThread\n&gt;     seriousError\n&gt;     SEVERE: Serious error occured trying to process &#39;CrawlURI\n&gt;     http://alpinecutter.com/templates/yoo_balance/css/modules.css E\n&gt;     http://alpinecutter.com/ in toConvertMirrorWriter&#39;\n&gt;     [ToeThread #363:\n&gt;     http://alpinecutter.com/templates/yoo_balance/css/modules.css\n&gt;       CrawlURI\n&gt;     http://alpinecutter.com/templates/yoo_balance/css/modules.css E\n&gt;     http://alpinecutter.com/    0 attempts\n&gt;          in processor: toConvertMirrorWriter\n&gt;          ACTIVE for 58s282ms\n&gt;          step: ABOUT_TO_BEGIN_PROCESSOR for 1s29ms\n&gt;     Java Thread State: RUNNABLE\n&gt;     Blocked/Waiting On: NONE\n&gt;          java.lang.Thread.getStackTrace(Unknown Source)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportThread(ToeThread.java:483)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:455)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:581)\n&gt;          org.archive.util.DevUtils.extraInfo(DevUtils.java:61)\n&gt;\n&gt;     org.archive.crawler.framework.ToeThread.seriousError(ToeThread.java:266)\n&gt;          org.archive.crawler.framework.ToeThread.run(ToeThread.java:176)\n&gt;     ]\n&gt;                 timestamp  discovered      queued   downloaded\n&gt;     doc/s(avg)  KB/s(avg)   dl-failures   busy-thread   mem-use-KB\n&gt;       heap-size-KB   congestion   max-depth   avg-depth\n&gt;     2013-08-02T20:17:47Z       95396       78234        17541\n&gt;     25.42(18.82)   278(297)             0           575       969362\n&gt;        9648000            1        2258          59\n&gt;\n&gt;     com.phloc.css.parser.TokenMgrError: Lexical error at line 169,\n&gt;     column 0.  Encountered: &lt;EOF&gt; after : &quot;&quot;\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30TokenManager.getNextToken(ParserCSS30TokenManager.java:5702)\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30.jj_ntk(ParserCSS30.java:4956)\n&gt;              at\n&gt;     com.phloc.css.parser.ParserCSS30.styleSheet(ParserCSS30.java:261)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader._readStyleSheet(CSSReader.java:107)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromStream(CSSReader.java:826)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromFile(CSSReader.java:513)\n&gt;              at\n&gt;     com.phloc.css.reader.CSSReader.readFromFile(CSSReader.java:450)\n&gt;              at\n&gt;     org.archive.modules.writer.LocalMirrorWriterProcessor.rewriteCssLinks(LocalMirrorWriterProcessor.java:373)\n&gt;              at\n&gt;     org.archive.modules.writer.LocalMirrorWriterProcessor.innerProcess(LocalMirrorWriterProcessor.java:236)\n&gt;              at\n&gt;     org.archive.modules.Processor.innerProcessResult(Processor.java:175)\n&gt;              at org.archive.modules.Processor.process(Processor.java:142)\n&gt;              at\n&gt;     org.archive.modules.ProcessorChain.process(ProcessorChain.java:131)\n&gt;              at\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt;\n&gt;     All the css errors are like this one. I have a try/catch(Exception)\n&gt;     around the part that uses phloc, so any and all errors should be\n&gt;     caught, but Heritrix seems to be pausing because of some reason\n&gt;     somehow unrelated to exception handling.\n&gt;     Niels\n&gt;\n&gt;\n&gt;     --- In archive-crawler@yahoogroups.com\n&gt;     &lt;mailto:archive-crawler@yahoogroups.com&gt;, Noah Levitt &lt;nlevitt@...&gt;\n&gt;     wrote:\n&gt;      &gt;\n&gt;      &gt; It doesn&#39;t pause automatically pauses on any &quot;severe error&quot;, only\n&gt;     on a\n&gt;      &gt; &quot;serious error&quot; (like OOME). What exactly are these css errors?\n&gt;      &gt;\n&gt;      &gt; What is in the heritrix_out right around the moment when the\n&gt;     crawl pauses?\n&gt;      &gt;\n&gt;      &gt; Please paste some excerpts.\n&gt;      &gt;\n&gt;      &gt; Noah\n&gt;      &gt;\n&gt;      &gt;\n&gt;      &gt; On Thu, Aug 1, 2013 at 3:55 PM, Niels &lt;niels.van.hecke@...&gt; wrote:\n&gt;      &gt;\n&gt;      &gt; &gt; There seems to be &#39;severe&#39; errors popping up. The confusing\n&gt;     part is that\n&gt;      &gt; &gt; they originate from a css parsing library is completely wrapped\n&gt;     in a\n&gt;      &gt; &gt; try/catch(Exception) block. Does anything that has a logger\n&gt;     automatically\n&gt;      &gt; &gt; pause heritrix on a severe error?\n&gt;      &gt; &gt;\n&gt;      &gt; &gt;\n&gt;      &gt; &gt;\n&gt;      &gt; &gt; ------------------------------------\n&gt;      &gt; &gt;\n&gt;      &gt; &gt; Yahoo! Groups Links\n&gt;      &gt; &gt;\n&gt;      &gt; &gt;\n&gt;      &gt; &gt;\n&gt;      &gt; &gt;\n&gt;      &gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;     ------------------------------------\n&gt;\n&gt;     Yahoo! Groups Links\n&gt;\n&gt;\n&gt;     archive-crawler-fullfeatured@yahoogroups.com\n&gt;     &lt;mailto:archive-crawler-fullfeatured@yahoogroups.com&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}