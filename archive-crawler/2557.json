{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"7s7nplgoAdP-0Dx8VbiG1iJ_V7Zr2tbUZ3nsZKMXMeGIc1gXfhieJ77bflz1wusj7ocjUzZ6z41EF5gkSjR7jA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Help rewriting a url in href -or- at what point does do hrefs become relative?","postDate":"1137474903","msgId":2557,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzQ0M3RDU3LjUwMTA3MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGRxNjlsNitobmNuQGVHcm91cHMuY29tPg==","referencesHeader":"PGRxNjlsNitobmNuQGVHcm91cHMuY29tPg=="},"prevInTopic":2547,"nextInTopic":0,"prevInTime":2556,"nextInTime":2558,"topicId":2547,"numMessagesInTopic":2,"msgSnippet":"... You should update to Heritrix 1.6.  There s been much improvement since 1.2. ... How are you extracting files from the ARC? Are you using ARCReader? ... ","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 8426 invoked from network); 17 Jan 2006 05:15:14 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m32.grp.scd.yahoo.com with QMQP; 17 Jan 2006 05:15:14 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta5.grp.scd.yahoo.com with SMTP; 17 Jan 2006 05:15:14 -0000\r\nReceived: from [192.168.1.105] ([192.168.1.105])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k0H488117085\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 16 Jan 2006 20:08:08 -0800\r\nMessage-ID: &lt;43CC7D57.5010705@...&gt;\r\nDate: Mon, 16 Jan 2006 21:15:03 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8) Gecko/20051218 SeaMonkey/1.0b\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;dq69l6+hncn@...&gt;\r\nIn-Reply-To: &lt;dq69l6+hncn@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Help rewriting a url in href -or- at what point\n does do hrefs become relative?\r\nX-Yahoo-Group-Post: member; u=168599281; y=swPtwQqk7InOLghSu3R272wgDsIz8gTYhLxoDtzA9huRbz8EB4VXhhke\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\ntodd wrote:\n&gt; Thank you all for the information provided on this board, it has been\n&gt; very usefull.  I am running Hertirix 1.2 on windows XP/2003\n\nYou should update to Heritrix 1.6.  There&#39;s been much improvement since 1.2.\n\n&gt; , and have\n&gt; come to a sticking point. \n&gt;\n&gt; When I extract the files from the arc the HTML contained within\n&gt; changes all references to be local/relative.  This is good. \n&gt; Unfortunately it references them via &lt;page-name&gt;?&lt;param1&gt;=&lt;param1-\n&gt; value&gt; and so on.\n&gt;\n&gt; So that the following are two distinct pages:\n&gt;\n&gt; dynamicPage.asp?get=someInfo\n&gt; dynamicPage.asp?get=otherInfo\n&gt;\n&gt; so as I extract the files from the ARC \nHow are you extracting files from the ARC? Are you using ARCReader?\n\n&gt; i need to save them using the\n&gt; page name and the URL parameters.  BUT WINDOWS (yes lovely windows)\n&gt; does not allow me to save a file witha  &quot;?&quot; in the name of the file.\n&gt;\n&gt; what I thought would be a lovely solution would be to add a custom\n&gt; module or extend an existing one, that would allow me to rewrite the\n&gt; url (in the hrefs) replacing the &quot;?&quot; with somthing more benign like\n&gt; a &quot;-&quot;. \n\nWould you like to do this as you&#39;re writing the files, or probably \nbetter, as a post-crawl processing of ARCs?\n&gt;\n&gt; Unforutnately I am confused as to where to start looking. can someone\n&gt; point me in the right direction? (obviously the less code the\n&gt; better)...\nThe ExtractorTool is suboptimal -- see the class comment here:  \nhttp://crawler.archive.org/xref/org/archive/crawler/extractor/ExtractorTool.html#61 \n-- but might be a place to start.  It demonstrates iterating over an ARC \nfiles&#39; contents and getting a stream on each.  Next, per record, you&#39;d \nneed to add a stream filter that noticed href&#39;s and rewrote them \naccording to a pattern replacing &#39;?&#39; with its encoding or a &#39;-&#39;.   \nYou&#39;ll likely never successfully rewrite 100% of all links but you \nshould be able to get most.   Let us know if we can help you out in any \nway.  I&#39;m sure there are others that would be interested in such a \nrewrite tool.\n\nYours,\nSt.Ack\n\n&gt; Thank you\n&gt;\n&gt; todd\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;archive-crawler\n&gt;       &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n"}}