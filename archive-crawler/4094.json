{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"VDDF0V0WV-UTViF482O232ydzfhvRVkWbaBjmFizcePlgL-zxiWEuZs-HzAaP7XsLCVwMkFur6G153E5jUWCtKT_UY4fG5Y","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] limiting queue size","postDate":"1176328457","msgId":4094,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MUQ1OTA5LjMwNDA4MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGV2aWtzMCtkdDdhQGVHcm91cHMuY29tPg==","referencesHeader":"PGV2aWtzMCtkdDdhQGVHcm91cHMuY29tPg=="},"prevInTopic":4088,"nextInTopic":4134,"prevInTime":4093,"nextInTime":4095,"topicId":4088,"numMessagesInTopic":3,"msgSnippet":"That s a reasonable idea, not strange at all. It might be appropriate to do as a post-extraction processor, working like QuotaEnforcer but on candidate","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 92083 invoked from network); 11 Apr 2007 21:52:08 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m49.grp.scd.yahoo.com with QMQP; 11 Apr 2007 21:52:08 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta14.grp.scd.yahoo.com with SMTP; 11 Apr 2007 21:52:08 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 9E0DC1415FFAC\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 11 Apr 2007 14:51:45 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 09156-06-19 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tWed, 11 Apr 2007 14:51:45 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id 4970F1415FFA8\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 11 Apr 2007 14:51:45 -0700 (PDT)\r\nMessage-ID: &lt;461D5909.3040808@...&gt;\r\nDate: Wed, 11 Apr 2007 14:54:17 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (X11/20070306)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;eviks0+dt7a@...&gt;\r\nIn-Reply-To: &lt;eviks0+dt7a@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] limiting queue size\r\nX-Yahoo-Group-Post: member; u=137285340; y=IhKAGaN2yqrF8ryo9wZgV_Bx9pI2bhFdZwMl-wdjwiTc\r\nX-Yahoo-Profile: gojomo\r\n\r\nThat&#39;s a reasonable idea, not strange at all.\n\nIt might be appropriate to do as a post-extraction processor, working \nlike QuotaEnforcer but on candidate discovered links instead of \nin-process URIs, and against counts of enqueued URIs rather than counts \nof finished URIs.\n\nSimilarly, it could take the form of a scope DecideRule that consults \nappropriate discovered/enqueued tallies.\n\nOr, since the current queue &#39;budget&#39; is assessed/spent as URIs are \ndequeued/finished, it could be another parallel &#39;budget&#39; assessed on \nqueue entry.\n\nI suppose I like the scope approach best at first glance -- that feels \nlike the right place to knock URIs out before scheduling. But I&#39;m not \nsure that opinion wouldn&#39;t change with more understanding of the \nunderlying need and some investigational implementation.\n\n- Gordon @ IA\n\npandae667 wrote:\n&gt; Dear IA-Team,\n&gt; \n&gt; this idea might seem rather strange, but still this is something I&#39;m\n&gt; considering usefull...\n&gt; \n&gt; So here is the basic idea:\n&gt;  - I have a QueueTotalBudget set to lets say 10000 entries\n&gt;  - whilest crawling stuff from this queue it grows to a size of\n&gt; something like 200000 entries (something I&#39;ve seen quite often)\n&gt;  - after the budget is exceeded the queue gets retired\n&gt; \n&gt; Result: 190000 entries in the queue that won&#39;t ever be used.\n&gt; \n&gt; Now there is one thing I know for sure (which might not be true in\n&gt; other peoples crawling scenarios): I will not change the queues total\n&gt; budget - so there is no need to recall any of those URLs. So one\n&gt; possible approach would be wiping the queue when the budget is exceeded.\n&gt; \n&gt; But I do see another option that might be better:\n&gt; Why enqueue this stuff when we allready do know things will never be\n&gt; processed?\n&gt; \n&gt; So my question(s) are: \n&gt;  - is this 2nd approach reasonable at all?\n&gt;  - does writing a postProcessor for such a task seem the right thing\n&gt; to do? (which can decided things are out-of-scope if their queues\n&gt; budget would be exceeded after their addition)\n&gt; \n&gt; Any thoughts/comments are welcome.\n&gt; \n&gt; Regards\n&gt;   Olaf Freyer\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}