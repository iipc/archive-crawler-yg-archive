{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":186390362,"authorName":"kristsi25","from":"&quot;kristsi25&quot; &lt;kristsi@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"9AKNlhjRnnXHpHDqhA7b-MeD9i8F45AXbmRRvN5L7Uy_610iuka3m3dje0LM6Npu9C9F6LfmJL8-zj3FpgW3kItlu-2QmQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: NotExceedsDocumentLengthTresholdDecideRule","postDate":"1291630449","msgId":6857,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGlkaWQxaStqMms3QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRDRkJBMzZBLjcwNjA3QGJpYmFsZXgub3JnPg=="},"prevInTopic":6855,"nextInTopic":6858,"prevInTime":6856,"nextInTime":6858,"topicId":6841,"numMessagesInTopic":9,"msgSnippet":"The shouldProcessDecideRule accepts a single decide rule, not a list. Your code should be:  ","rawEmail":"Return-Path: &lt;kristsi@...&gt;\r\nX-Sender: kristsi@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 86437 invoked from network); 6 Dec 2010 10:14:12 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m8.grp.sp2.yahoo.com with QMQP; 6 Dec 2010 10:14:12 -0000\r\nX-Received: from unknown (HELO n38b.bullet.mail.sp1.yahoo.com) (66.163.168.152)\n  by mta2.grp.sp2.yahoo.com with SMTP; 6 Dec 2010 10:14:12 -0000\r\nX-Received: from [69.147.65.149] by n38.bullet.mail.sp1.yahoo.com with NNFMP; 06 Dec 2010 10:14:12 -0000\r\nX-Received: from [98.137.34.36] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 06 Dec 2010 10:14:12 -0000\r\nDate: Mon, 06 Dec 2010 10:14:09 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;idid1i+j2k7@...&gt;\r\nIn-Reply-To: &lt;4CFBA36A.70607@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;kristsi25&quot; &lt;kristsi@...&gt;\r\nSubject: Re: NotExceedsDocumentLengthTresholdDecideRule\r\nX-Yahoo-Group-Post: member; u=186390362; y=Xuk5JDJSnC60pYhWiysVjkkkBVHDpHuxwFsCFsMeJxmSz1N8\r\nX-Yahoo-Profile: kristsi25\r\n\r\n\n\nThe &quot;shouldProcessDecideRule&quot; accepts a single decide rule, not a list.\n\n=\r\nYour code should be:\n\n  &lt;property name=3D&quot;shouldProcessDecideRule&quot;&gt;\n      &lt;=\r\nbean class=3D&quot;org.archive.modules.deciderules.NotExceedsDocumentLengthTresh=\r\noldDecideRule&quot;&gt;\n        &lt;property name=3D&quot;decision&quot; value=3D&quot;REJECT&quot;/&gt;\n    =\r\n    &lt;property name=3D&quot;contentLengthThreshold&quot; value=3D&quot;10&quot;/&gt;\n    &lt;/bean&gt;\n  =\r\n&lt;/property&gt;\n\nIf you need to apply multiple decide rules here, you need to u=\r\nse DecideRuleSequence.\n\n- Kris\n\n--- In archive-crawler@yahoogroups.com, Moh=\r\named Elsayed &lt;mohammed.elsayyed@...&gt; wrote:\n&gt;\n&gt; Thanks so much for your rep=\r\nly. I used the property &quot;maxLengthBytes&quot; \n&gt; before, as it downloaded the fi=\r\nle till reached to the specified limit. \n&gt; The file was actually downloaded=\r\n, but with a specific length. I don&#39;t \n&gt; like this solution, because I woul=\r\nd like to reject the large file, so \n&gt; your first solution is suitable to m=\r\ne. I applied \n&gt; &quot;setShouldFetchBodyRule&quot; to the FetchHTTP processor and app=\r\nlied \n&gt; &quot;shouldProcessDecideRule&quot; to ARCWriterProcessor. Heritrix-3.1.1-SNA=\r\nPSHOT \n&gt; displayed an error message &quot;/2010-12-05T11:56:26.756Z SEVERE Inval=\r\nid \n&gt; property &#39;shouldProcessDecideRule&#39; of bean class \n&gt; [org.archive.modu=\r\nles.writer.ARCWriterProcessor]: Bean property \n&gt; &#39;shouldProcessDecideRule&#39; =\r\nis not writable or has an invalid setter \n&gt; method. Does the parameter type=\r\n of the setter match the return type of \n&gt; the getter?; Can&#39;t create bean &#39;=\r\nwarcWriter&#39;; Can&#39;t create bean \n&gt; &#39;dispositionProcessors&#39;; ; Can&#39;t create b=\r\nean &#39;crawlController&#39;; Can&#39;t \n&gt; create bean &#39;statisticsTracker&#39;; ; Can&#39;t cr=\r\neate bean &#39;seeds&#39;; ; Can&#39;t \n&gt; create bean \n&gt; &#39;org.archive.modules.deciderul=\r\nes.surt.NotSurtPrefixedDecideRule#7a0136b0&#39;; \n&gt; Can&#39;t create bean &#39;scope&#39;; =\r\n; Can&#39;t create bean &#39;frontier/&#39;.&quot; The \n&gt; following is a code snippet of Fet=\r\nchHTTP processor and ARCWriterProcessor._*\n&gt; \n&gt; FetchHTTP processor*_\n&gt; \n&gt; =\r\n&lt;bean id=3D&quot;fetchHttp&quot; class=3D&quot;org.archive.modules.fetcher.FetchHTTP&quot;&gt;\n&gt; \n=\r\n&gt;     &lt;!--&lt;property name=3D&quot;maxLengthBytes&quot; value=3D&quot;500000&quot; /&gt;--&gt;\n&gt; \n&gt;    =\r\n&lt;!--&lt;property name=3D&quot;timeoutSeconds&quot; value=3D&quot;1200&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;p=\r\nroperty name=3D&quot;maxFetchKBSec&quot; value=3D&quot;0&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property na=\r\nme=3D&quot;defaultEncoding&quot; value=3D&quot;ISO-8859-1&quot; /&gt;  --&gt;\n&gt; \n&gt;    /  &lt;property na=\r\nme=3D&quot;shouldFetchBodyRule&quot;&gt;/\n&gt; \n&gt; /     &lt;bean class=3D&quot;org.archive.modules.=\r\ndeciderules.AcceptDecideRule&quot;/&gt;/\n&gt; \n&gt; /   &lt;/property&gt;/\n&gt; \n&gt;    &lt;!--&lt;propert=\r\ny name=3D&quot;soTimeoutMs&quot; value=3D&quot;20000&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=\r\n=3D&quot;sendIfModifiedSince&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=\r\n=3D&quot;sendIfNoneMatch&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;s=\r\nendConnectionClose&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;se=\r\nndReferer&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;sendRange&quot; =\r\nvalue=3D&quot;false&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;ignoreCookies&quot; value=\r\n=3D&quot;false&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;sslTrustLevel&quot; value=3D&quot;OP=\r\nEN&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;acceptHeaders&quot;&gt;  \n&gt; \n&gt;          &lt;=\r\nlist&gt;\n&gt; \n&gt;          &lt;/list&gt;\n&gt; \n&gt;         &lt;/property&gt;\n&gt; \n&gt;    --&gt;\n&gt; \n&gt;    &lt;!=\r\n--&lt;property name=3D&quot;httpBindAddress&quot; value=3D&quot;&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;proper=\r\nty name=3D&quot;httpProxyHost&quot; value=3D&quot;&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;=\r\nhttpProxyPort&quot; value=3D&quot;0&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;digestCont=\r\nent&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;digestAlgorithm&quot; =\r\nvalue=3D&quot;sha1&quot; /&gt;  --&gt;\n&gt; \n&gt;   &lt;/bean&gt;\n&gt; \n&gt; _*\n&gt; ARCWriterProcessor*_\n&gt; \n&gt;  =\r\n &lt;bean id=3D&quot;warcWriter&quot; class=3D&quot;org.archive.modules.writer.ARCWriterProce=\r\nssor&quot;&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;compress&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt; =\r\n    &lt;property name=3D&quot;prefix&quot; value=3D&quot;TEST&quot; /&gt;\n&gt; \n&gt;     &lt;!--&lt;property name=\r\n=3D&quot;suffix&quot; value=3D&quot;&quot; /&gt;  --&gt;\n&gt; \n&gt;     &lt;!--&lt;property name=3D&quot;maxFileSizeBy=\r\ntes&quot; value=3D&quot;100000000&quot; /&gt;--&gt;\n&gt; \n&gt;     &lt;property name=3D&quot;poolMaxActive&quot; va=\r\nlue=3D&quot;5&quot; /&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;poolMaxWaitMs&quot; value=3D&quot;300000&quot; =\r\n/&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;skipIdenticalDigests&quot; value=3D&quot;false&quot;=\r\n /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;maxTotalBytesToWrite&quot; value=3D&quot;0&quot; /&gt;=\r\n  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property name=3D&quot;directory&quot; value=3D&quot;.&quot; /&gt;  --&gt;\n&gt; \n&gt;    =\r\n &lt;property name=3D&quot;storePaths&quot;&gt;\n&gt; \n&gt;          &lt;list&gt;\n&gt; \n&gt;           &lt;value&gt;=\r\n/0/webcrawl&lt;/value&gt;\n&gt; \n&gt;          &lt;/list&gt;\n&gt; \n&gt;         &lt;/property&gt;\n&gt; \n&gt;    =\r\n&lt;!--&lt;property name=3D&quot;writeRequests&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;pr=\r\noperty name=3D&quot;writeMetadata&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!--&lt;property =\r\nname=3D&quot;writeRevisitForIdenticalDigests&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt;    &lt;!-=\r\n-&lt;property name=3D&quot;writeRevisitForNotModified&quot; value=3D&quot;true&quot; /&gt;  --&gt;\n&gt; \n&gt; =\r\n   /&lt;property name=3D&quot;shouldProcessDecideRule&quot;&gt;/\n&gt; \n&gt; /     &lt;list&gt;/\n&gt; \n&gt; / =\r\n      &lt;bean class=3D&quot;org.archive.modules.deciderules.NotExceedsDocumentLeng=\r\nthTresholdDecideRule&quot;&gt;/\n&gt; \n&gt; /         &lt;property name=3D&quot;decision&quot; value=3D=\r\n&quot;REJECT&quot;/&gt;/\n&gt; \n&gt; /         &lt;property name=3D&quot;contentLengthThreshold&quot; value=\r\n=3D&quot;10&quot;/&gt;/\n&gt; \n&gt; /     &lt;/bean&gt;/\n&gt; \n&gt; /     &lt;/list&gt;/\n&gt; \n&gt; /   &lt;/property&gt;/\n&gt; =\r\n\n&gt;   &lt;/bean&gt;\n&gt; \n&gt; Any suggestions will be much appreciated. Thanks a lot.\n&gt;=\r\n \n&gt; Mohamed Elsayed\n&gt; Bibliotheca Alexandrina\n&gt; \n&gt; On 12/02/2010 06:55 PM, =\r\nkristsi25 wrote:\n&gt; &gt;\n&gt; &gt; If the content-length is incorrect, the best you c=\r\nan do is set the \n&gt; &gt; &quot;maxLengthBytes&quot; setting on the FetchHTTP processor. =\r\nOnce this limit \n&gt; &gt; is hit, the processor will stop downloading a file and=\r\n a truncated \n&gt; &gt; file will be written to your archive (unless you have fil=\r\nters on the \n&gt; &gt; W(ARC)WriterProcessor to prevent this).\n&gt; &gt;\n&gt; &gt; - Kris\n&gt; &gt;=\r\n\n&gt; &gt; --- In archive-crawler@yahoogroups.com \n&gt; &gt; &lt;mailto:archive-crawler%40=\r\nyahoogroups.com&gt;, Mohamed Elsayed \n&gt; &gt; &lt;mohammed.elsayyed@&gt; wrote:\n&gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; Thanks very much for your care and for your useful reply. Enabling the\n=\r\n&gt; &gt; &gt; property &quot;setShouldFetchBodyRule&quot; which is under &quot;FetchHTTP&quot; processo=\r\nr\n&gt; &gt; &gt; will prevent downloading a large file in case of its size is writte=\r\nn in\n&gt; &gt; &gt; HTTP header. If the file size is not included in HTTP header, th=\r\nen what\n&gt; &gt; &gt; is the suitable solution to prevent downloading large files? =\r\nThanks \n&gt; &gt; again.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Mohamed Elsayed\n&gt; &gt; &gt; Bibliotheca Alexandrin=\r\na\n&gt; &gt; &gt;\n&gt; &gt; &gt; On 12/01/2010 03:03 PM, kristsi25 wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; &gt; The NotExceedsDocumentLengthTresholdDecideRule can not be used =\r\nin the\n&gt; &gt; &gt; &gt; scope rules as you have configured. Scope rules are applied =\r\nprior to\n&gt; &gt; &gt; &gt; any network activity and the size of the document is unkno=\r\nwn at that\n&gt; &gt; &gt; &gt; time. Only rules relating to the actual URL itself can b=\r\ne applied in\n&gt; &gt; &gt; &gt; scope rules.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The NotExceedsDocumentLen=\r\ngthTresholdDecideRule should be used to\n&gt; &gt; &gt; &gt; influence the behavior of p=\r\nrocessors. For each processor it is\n&gt; &gt; &gt; &gt; possible to set a shouldProcess=\r\nDecideRule attribute. If you merely\n&gt; &gt; &gt; &gt; wish to avoid storing such long=\r\n files, you could apply the filter to\n&gt; &gt; &gt; &gt; the (W)ARCWriterProcessor.\n&gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; If you wish to avoid downloading large files, you will need t=\r\no apply\n&gt; &gt; &gt; &gt; the setShouldFetchBodyRule to the FetchHTTP processor and m=\r\nake sure\n&gt; &gt; &gt; &gt; your NotExceedsDocumentLengthTresholdDecideRule is set to =\r\nuse header\n&gt; &gt; &gt; &gt; length. This will cause the FetchHTTP processor to run t=\r\nhe decide \n&gt; &gt; rule\n&gt; &gt; &gt; &gt; after fetching the HTTP header (which hopefully=\r\n contains an accurate\n&gt; &gt; &gt; &gt; content-length value) and will not download t=\r\nhe actual file if it is\n&gt; &gt; &gt; &gt; too large.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; - Kris\n&gt; &gt; &gt; &gt;\n&gt;=\r\n &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}