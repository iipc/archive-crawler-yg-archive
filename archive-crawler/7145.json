{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":361563137,"authorName":"goblin_cz","from":"&quot;goblin_cz&quot; &lt;adam.brokes@...&gt;","profile":"goblin_cz","replyTo":"LIST","senderId":"jpee0RRCVW8K2AR3dLMa192_qbwt1QDZ-wkktli1yj7n0CfWXrtNw1_wWSF-5xzuaakO0WDsu8TbR8Ouybq7lCt-HkKbwNqvi3A","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: about login","postDate":"1305733620","msgId":7145,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGlyMHBsaytrOXB0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDREQjkxOEI4LjIwNzAzMDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":7133,"nextInTopic":7147,"prevInTime":7144,"nextInTime":7146,"topicId":7132,"numMessagesInTopic":5,"msgSnippet":"Hi Gordon, I have problem with mentioned CookieStorage in heritrix 3.1.0. I have defined the file with cookies: ","rawEmail":"Return-Path: &lt;adam.brokes@...&gt;\r\nX-Sender: adam.brokes@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 18988 invoked from network); 18 May 2011 15:47:03 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m8.grp.sp2.yahoo.com with QMQP; 18 May 2011 15:47:03 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta2.grp.sp2.yahoo.com with SMTP; 18 May 2011 15:47:03 -0000\r\nX-Received: from [69.147.65.173] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 18 May 2011 15:47:03 -0000\r\nX-Received: from [98.137.34.34] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 18 May 2011 15:47:03 -0000\r\nDate: Wed, 18 May 2011 15:47:00 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;ir0plk+k9pt@...&gt;\r\nIn-Reply-To: &lt;4DB918B8.2070307@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;goblin_cz&quot; &lt;adam.brokes@...&gt;\r\nSubject: Re: about login\r\nX-Yahoo-Group-Post: member; u=361563137; y=JR0AAt_NBuI2Ac9g8FzOVK770pjAfLK1BiUemKNZabb_7TSE\r\nX-Yahoo-Profile: goblin_cz\r\n\r\n\n\nHi Gordon,\n\nI have problem with mentioned CookieStorage in heritrix 3.1.0=\r\n. I have defined the file with cookies:\n\n&lt;bean id=3D&quot;cookieStorage&quot; class=\r\n=3D&quot;org.archive.modules.fetcher.BdbCookieStorage&quot;&gt;\n&lt;property name=3D&quot;cookie=\r\nsLoadFile&quot; value=3D&quot;/opt/heritrix/cookies.txt&quot;/&gt;\n&lt;property name=3D&quot;cookiesS=\r\naveFile&quot; value=3D&quot;/opt/heritrix/cookies_dump_2.txt&quot;/&gt;\n&lt;property name=3D&quot;bdb=\r\nModule&quot;&gt;\n&lt;ref bean=3D&quot;bdb&quot;/&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\nAnd even though I can vie=\r\nw content of the cookie file from the web interface, the cookies are not lo=\r\naded and I crawl only login forms. In heritrix 1.15 I have crawled the page=\r\ns successfully. I have done some digging in the code and I am confused by A=\r\nbstractCookieStorage.loadCookies() method. There is only logging and no fun=\r\nctionality which will store cookie to some kind of collection. Where the st=\r\noring happens and how could I find source of this behaviour?\n\nThank you ver=\r\ny much.\n\nBest,\n\nAdam\n\n\n--- In archive-crawler@yahoogroups.com, Gordon Mohr =\r\n&lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Is the name of the login button on the login form r=\r\neally &#39;logonbuttom&#39; \n&gt; (with an &#39;m&#39;)? (For that matter, are the username an=\r\nd password fields \n&gt; really named &#39;username&#39; and &#39;password&#39;?)\n&gt; \n&gt; Log-ins =\r\nvary a lot between sites. Heritrix can only log-in if the login \n&gt; form has=\r\n predictable form-element-names, and setting this up requires \n&gt; careful in=\r\nspection of the target login form. Even so, some sites may use \n&gt; dynamic/h=\r\nidden form fields (especially nowadays as a protection against \n&gt; cross-sit=\r\ne request forgeries) that will foil the current Heritrix login \n&gt; code.\n&gt; \n=\r\n&gt; If trying to get this to work, the HtmlFormCredentialTest unit test \n&gt; cl=\r\nass is the best model, and you would want to debug what you&#39;re trying \n&gt; in=\r\n a tiny instant test crawl of just that login form and one \n&gt; login-protect=\r\ned page.\n&gt; \n&gt; If the site&#39;s design doesn&#39;t work with the very-limited Herit=\r\nrix login \n&gt; capability, another option may be to:\n&gt; \n&gt; (1) login with Fire=\r\nfox\n&gt; (2) export the relevant cookies proving you&#39;re logged in =96 I think =\r\n\n&gt; nowadays this requires a Firefox extension\n&gt; (3) supply that cookies.txt=\r\n file to the Heritrix CookieStorage bean via \n&gt; its &#39;cookiesLoadFile&#39; prope=\r\nrty, which tells it a place to preload \n&gt; cookies at crawl-start\n&gt; \n&gt; Hope =\r\nthis helps,\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; On 4/27/11 11:16 PM, mickey.guoyun wrot=\r\ne:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi,Gordon:\n&gt; &gt; I use Heritrix3.0 ,I need to login to crawl s=\r\nome urls;so i config the\n&gt; &gt; crawler-beans.cxml like this:\n&gt; &gt; &lt;bean id=3D&quot;=\r\ncredentialDearedu&quot;\n&gt; &gt; class=3D&quot;org.archive.modules.credential.HtmlFormCred=\r\nential&quot;&gt;\n&gt; &gt; &lt;property name=3D&quot;domain&quot;&gt;\n&gt; &gt; &lt;value&gt;www.xxx.com&lt;/value&gt;\n&gt; &gt; =\r\n&lt;/property&gt;\n&gt; &gt; &lt;property name=3D&quot;loginUri&quot;&gt;\n&gt; &gt; &lt;value&gt;http://www.xxx.com/=\r\nbbs/login.asp?action=3Dchk&amp;from=3Dlogin&lt;/value&gt;\n&gt; &gt; &lt;/property&gt;\n&gt; &gt; &lt;pr=\r\noperty name=3D&quot;formItems&quot;&gt;\n&gt; &gt; &lt;map&gt;\n&gt; &gt; &lt;entry key=3D&quot;username&quot; value=3D&quot;x=\r\nxx&quot;/&gt;\n&gt; &gt; &lt;entry key=3D&quot;password&quot; value=3D&quot;xxx&quot;/&gt;\n&gt; &gt; &lt;entry key=3D&quot;logonbu=\r\nttom&quot; value=3D&quot;submit&quot;/&gt;\n&gt; &gt; &lt;/map&gt;\n&gt; &gt; &lt;/property&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; &lt;bean i=\r\nd=3D&quot;credentialStore&quot;\n&gt; &gt; class=3D&quot;org.archive.modules.credential.Credentia=\r\nlStore&quot;&gt;\n&gt; &gt; &lt;property name=3D&quot;credentials&quot;&gt;\n&gt; &gt; &lt;map&gt;\n&gt; &gt; &lt;entry key=3D&quot;ww=\r\nw.dearedu.com&quot; value-ref=3D&quot;credentialDearedu&quot; /&gt;\n&gt; &gt; &lt;/map&gt;\n&gt; &gt; &lt;/property=\r\n&gt;\n&gt; &gt; &lt;/bean&gt;\n&gt; &gt; and the config is success.\n&gt; &gt; but after run about 12 hou=\r\nrs,the Hertirx only process the login\n&gt; &gt; url(http://www.xxx.com/bbs/login.=\r\nasp?action=3Dchk&amp;from=3Dlogin\n&gt; &gt; &lt;http://www.xxx.com/bbs/login.asp?act=\r\nion=3Dchk&amp;from=3Dlogin&gt; ). and i\n&gt; &gt; check useName and password can log=\r\nin.why?\n&gt; &gt; 2011-04-28\n&gt; &gt; ------------------------------------------------=\r\n------------------------\n&gt; &gt; mickey.guoyun\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}