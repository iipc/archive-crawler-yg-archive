{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191295851,"authorName":"Hei","from":"&quot;Hei&quot; &lt;structurechart@...&gt;","profile":"structurechart","replyTo":"LIST","senderId":"P2iwbgOGQtX08dKn_B7YKG6Ksi35yxLga6F7d4LdzpZzRLGHtTRVc5l0zNbD5sSRhGZ8RyKTUuxFklqQZxZQMmVDLBpp4SQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: How can I speed up Heretrix?","postDate":"1175665718","msgId":4024,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGV1dmU3bSt2Z29xQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MTJENkE2LjIwNTAzMDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":4019,"nextInTopic":0,"prevInTime":4023,"nextInTime":4025,"topicId":3839,"numMessagesInTopic":10,"msgSnippet":"Arrhh, no wonder most of the time, most of my toe threads are sitting there and doing nothing. I remember that I read a member s post here, and he was using","rawEmail":"Return-Path: &lt;structurechart@...&gt;\r\nX-Sender: structurechart@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 55292 invoked from network); 4 Apr 2007 05:48:40 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m48.grp.scd.yahoo.com with QMQP; 4 Apr 2007 05:48:40 -0000\r\nReceived: from unknown (HELO n24c.bullet.scd.yahoo.com) (66.218.67.214)\n  by mta8.grp.scd.yahoo.com with SMTP; 4 Apr 2007 05:48:40 -0000\r\nReceived: from [66.218.69.6] by n24.bullet.scd.yahoo.com with NNFMP; 04 Apr 2007 05:48:39 -0000\r\nReceived: from [66.218.66.80] by t6.bullet.scd.yahoo.com with NNFMP; 04 Apr 2007 05:48:39 -0000\r\nDate: Wed, 04 Apr 2007 05:48:38 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;euve7m+vgoq@...&gt;\r\nIn-Reply-To: &lt;4612D6A6.2050307@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;Hei&quot; &lt;structurechart@...&gt;\r\nSubject: Re: How can I speed up Heretrix?\r\nX-Yahoo-Group-Post: member; u=191295851; y=0YjIysnidpF4WhzF7MQGdi4zrqOfWwVfR4fMBzpMFEB6lPqK5erXIO0\r\nX-Yahoo-Profile: structurechart\r\n\r\nArrhh, no wonder most of the time, most of my toe threads are sitting\nthere=\r\n and doing nothing.\n\nI remember that I read a member&#39;s post here, and he wa=\r\ns using Heritrix\nto crawl his company&#39;s internal site.  I think for that ca=\r\nse, it&#39;s\nokay to establish multiple connections to the same host ;-)\n\nAnywa=\r\ny, Heritrix is a really lean crawler excepted that it restricts\nto 1 connec=\r\ntion per host =3D(\n\nThanks for your explanation =3D)\n\n\nCheers,\nHei\n\n--- In =\r\narchive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Hei wr=\r\note:\n&gt; &gt; Hi Gordon,\n&gt; &gt; \n&gt; &gt; Is there a reason why Heritrix only fetches 1 =\r\nURL at a time besides\n&gt; &gt; establishing multiple connections to the same hos=\r\nt might be considered\n&gt; &gt; as DoS attack?\n&gt; \n&gt; That&#39;s essentially the reason=\r\n -- the assumption that more than one \n&gt; connection at a time is impolite i=\r\ns deeply built into the Heritrix \n&gt; queueing architecture.\n&gt; \n&gt; (It also si=\r\nmplifies some of the prerequisite and retry handling to know \n&gt; that only 1=\r\n URI is outstanding from a queue at a time, but the \n&gt; politeness is main r=\r\neason.)\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; &gt; Thanks in advance.\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Cheers,\n=\r\n&gt; &gt; Hei\n&gt; &gt; \n&gt; &gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojom=\r\no@&gt; wrote:\n&gt; &gt;&gt; Two notes:\n&gt; &gt;&gt;\n&gt; &gt;&gt; (1) Unless you are crawling sites with=\r\n permission, those &#39;delay&#39; \n&gt; &gt;&gt; settings are fairly aggressive, and may tr=\r\nigger webmaster anger or \n&gt; &gt;&gt; blocking.\n&gt; &gt;&gt;\n&gt; &gt;&gt; (2) The usual reason for=\r\n the &quot;why isn&#39;t Heritrix crawling faster&quot; \n&gt; &gt;&gt; concern is that a crawl has=\r\n made enough progress to be narrowed \n&gt; &gt;&gt; down to just a handful of hosts =\r\nremaining: typically the largest, \n&gt; &gt;&gt; slowest, or completely unresponsive=\r\n hosts.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Even with no delay between fetches to a host, Heritrix wi=\r\nll only \n&gt; &gt;&gt; retrieve one URL at a time. If the content is large or the se=\r\nrver \n&gt; &gt;&gt; slow, it may take many seconds for a single request to finish. I=\r\nf \n&gt; &gt;&gt; the host does not respond at all, Heritrix goes into the longer \n&gt; =\r\n&gt;&gt; &#39;retry-delay-seconds&#39; wait (which is usually many minutes) before \n&gt; &gt;&gt; =\r\nreconnecting.\n&gt; &gt;&gt;\n&gt; &gt;&gt; In addition to the info Paul mentioned, the &#39;fronti=\r\ner report&#39; will \n&gt; &gt;&gt; help determine if this is the case -- showing how man=\r\ny queues are \n&gt; &gt;&gt; still active with URLs to crawl, and how many are in var=\r\nious \n&gt; &gt;&gt; stages of &#39;snooze&#39; (to delay the next fetch for politeness or \n&gt;=\r\n &gt;&gt; waiting-out-a-problem reasons).\n&gt; &gt;&gt;\n&gt; &gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;\n&gt; &gt;&gt; nt_bd=\r\nr wrote:\n&gt; &gt;&gt;&gt; I have already tried that, and does not seem to help speed u=\r\np the\n&gt; &gt;&gt;&gt; crawl. Below are some of frontier settings I have\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;  =\r\n\n&gt; &gt;&gt;&gt;     &lt;long name=3D&quot;max-bytes-download&quot;&gt;0&lt;/long&gt;\n&gt; &gt;&gt;&gt;     &lt;long name=\r\n=3D&quot;max-document-download&quot;&gt;0&lt;/long&gt;\n&gt; &gt;&gt;&gt;     &lt;long name=3D&quot;max-time-sec&quot;&gt;0=\r\n&lt;/long&gt;\n&gt; &gt;&gt;&gt;     &lt;integer name=3D&quot;max-toe-threads&quot;&gt;100&lt;/integer&gt;\n&gt; &gt;&gt;&gt;    =\r\n &lt;integer name=3D&quot;recorder-out-buffer-bytes&quot;&gt;4096&lt;/integer&gt;\n&gt; &gt;&gt;&gt;     &lt;inte=\r\nger name=3D&quot;recorder-in-buffer-bytes&quot;&gt;65536&lt;/integer&gt;\n&gt; &gt;&gt;&gt;     &lt;integer na=\r\nme=3D&quot;bdb-cache-percent&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;&gt;&gt;     &lt;newObject name=3D&quot;scope&quot;\n&gt; =\r\n&gt;&gt;&gt; class=3D&quot;org.archive.crawler.scope.SurtPrefixScope&quot;&gt;\n&gt; &gt;&gt;&gt;       &lt;boole=\r\nan name=3D&quot;enabled&quot;&gt;true&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean name=3D&quot;reread-seed=\r\ns-on-config&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;max-link-hops&quot;&gt;25=\r\n&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;max-trans-hops&quot;&gt;5&lt;/integer&gt;\n&gt; &gt;&gt;&gt;  =\r\n     &lt;newObject name=3D&quot;robots-honoring-policy&quot;\n&gt; &gt;&gt;&gt; class=3D&quot;org.archive.=\r\ncrawler.datamodel.RobotsHonoringPolicy&quot;&gt;\n&gt; &gt;&gt;&gt;       &lt;string name=3D&quot;type&quot;&gt;=\r\nclassic&lt;/string&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean name=3D&quot;masquerade&quot;&gt;false&lt;/boolean&gt;\n&gt;=\r\n &gt;&gt;&gt;       &lt;text name=3D&quot;custom-robots&quot;&gt;&lt;/text&gt;\n&gt; &gt;&gt;&gt;       &lt;stringList nam=\r\ne=3D&quot;user-agents&quot;&gt;\n&gt; &gt;&gt;&gt;         &lt;string&gt;test-bot&lt;/string&gt;\n&gt; &gt;&gt;&gt;       &lt;/st=\r\nringList&gt;\n&gt; &gt;&gt;&gt;     &lt;/newObject&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;     &lt;newObject name=3D&quot;frontie=\r\nr&quot;\n&gt; &gt;&gt;&gt; class=3D&quot;org.archive.crawler.frontier.BdbFrontier&quot;&gt;\n&gt; &gt;&gt;&gt;       &lt;f=\r\nloat name=3D&quot;delay-factor&quot;&gt;0.4&lt;/float&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;max-del=\r\nay-ms&quot;&gt;50&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;min-delay-ms&quot;&gt;10&lt;/integer&gt;=\r\n\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;max-retries&quot;&gt;5&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;long na=\r\nme=3D&quot;retry-delay-seconds&quot;&gt;15&lt;/long&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;preferenc=\r\ne-embed-hops&quot;&gt;1&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;total-bandwidth-usag=\r\ne-KB-sec&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;integer\nname=3D&quot;max-per-host-bandwidth-u=\r\nsage-KB-sec&quot;&gt;0&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;string\n&gt; &gt;&gt;&gt;\n&gt; &gt;\nname=3D&quot;queue-assign=\r\nment-policy&quot;&gt;org.archive.crawler.frontier.HostnameQueueAssignmentPolicy&lt;/st=\r\nring&gt;\n&gt; &gt;&gt;&gt;       &lt;string name=3D&quot;force-queue-assignment&quot;&gt;&lt;/string&gt;\n&gt; &gt;&gt;&gt;  =\r\n     &lt;boolean name=3D&quot;pause-at-start&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean =\r\nname=3D&quot;pause-at-finish&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean name=3D&quot;sourc=\r\ne-tag-seeds&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean name=3D&quot;recovery-log-enab=\r\nled&quot;&gt;true&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;       &lt;boolean name=3D&quot;hold-queues&quot;&gt;true&lt;/boolean=\r\n&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=3D&quot;balance-replenish-amount&quot;&gt;3000&lt;/integer&gt;\n&gt; &gt;=\r\n&gt;&gt;       &lt;integer name=3D&quot;error-penalty-amount&quot;&gt;100&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;=\r\nlong name=3D&quot;queue-total-budget&quot;&gt;-1&lt;/long&gt;\n&gt; &gt;&gt;&gt;       &lt;string\n&gt; &gt;&gt;&gt;\n&gt; &gt;\nna=\r\nme=3D&quot;cost-policy&quot;&gt;org.archive.crawler.frontier.UnitCostAssignmentPolicy&lt;/s=\r\ntring&gt;\n&gt; &gt;&gt;&gt;       &lt;long name=3D&quot;snooze-deactivate-ms&quot;&gt;1000&lt;/long&gt;\n&gt; &gt;&gt;&gt;   =\r\n    &lt;integer name=3D&quot;target-ready-backlog&quot;&gt;50&lt;/integer&gt;\n&gt; &gt;&gt;&gt;       &lt;string=\r\n\n&gt; &gt;&gt;&gt;\n&gt; &gt;\nname=3D&quot;uri-included-structure&quot;&gt;org.archive.crawler.util.BdbUriU=\r\nniqFilter&lt;/string&gt;\n&gt; &gt;&gt;&gt;     &lt;/newObject&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;       &lt;integer name=\r\n=3D&quot;timeout-seconds&quot;&gt;10&lt;/integer&gt;\n&gt; &gt;&gt;&gt;         &lt;integer name=3D&quot;sotimeout-=\r\nms&quot;&gt;5000&lt;/integer&gt;\n&gt; &gt;&gt;&gt;         &lt;integer name=3D&quot;fetch-bandwidth&quot;&gt;0&lt;/integ=\r\ner&gt;\n&gt; &gt;&gt;&gt;         &lt;long name=3D&quot;max-length-bytes&quot;&gt;0&lt;/long&gt;\n&gt; &gt;&gt;&gt;         &lt;b=\r\noolean name=3D&quot;ignore-cookies&quot;&gt;false&lt;/boolean&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; --- In archive-crawler@yahoogroups.com, &quot;Bart Kiers&quot; &lt;bkiers@=\r\n&gt;\nwrote:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Hi,\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Try changing some of your frontier-=\r\nsettings under the\n&quot;settings&quot;-tab\n&gt; &gt;&gt;&gt; from\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; the WUI.\n&gt; &gt;&gt;&gt;&gt; L=\r\nook at Heritrix&#39; manual paragraph 6.3.3: Frontier Settings:\n&gt; &gt;&gt;&gt;&gt; http://c=\r\nrawler.archive.org/articles/user_manual.html#settings\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Regards=\r\n,\n&gt; &gt;&gt;&gt;&gt; Bart.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; On 2/23/07, nt_bdr &lt;nt_bdr@&gt; wrote:\n&gt; &gt;=\r\n&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;  I have heretrix set up on a dual core Linux box with 2.8Ghz\n&gt; =\r\n&gt;&gt;&gt; cpu&#39;s and\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; 8G memory. And the box does not have anything e=\r\nlse running on\nit but\n&gt; &gt;&gt;&gt;&gt;&gt; heretrix. Heretrix is downloading pages at at=\r\n very slow rate.\nOn an\n&gt; &gt;&gt;&gt;&gt;&gt; avg 1.03 Urls/sec. I have max_toe_threads se=\r\nt to 100. And I\nnormally\n&gt; &gt;&gt;&gt;&gt;&gt; see 1 or 2 threads active at any given poi=\r\nnt. I would like to\n&gt; &gt; know why\n&gt; &gt;&gt;&gt;&gt;&gt; heretrix is running so slow, and w=\r\nhat can I do to speed it up.\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt;\n&gt; &gt;&gt;&gt;  \n&gt; &gt;&gt;&gt; Yahoo! Groups - Join or create groups, clubs, forums &amp;\n=\r\n&gt; &gt; communities. Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Gro=\r\nups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}