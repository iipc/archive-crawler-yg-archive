{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":165458231,"authorName":"Bjarne Andersen","from":"Bjarne Andersen &lt;bja@...&gt;","profile":"bjarne_dk2000","replyTo":"LIST","senderId":"nif7JZWni7ZI2VT7NaYtrRRTE8WNYhuyZFTrfX7WAXRJHPQOJQLxrV8l3G2lB3Y6u8fMNGxlKybNMPzt8IszDLu1tPcvHmqo-A6NJM8deYI","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Best approach question","postDate":"1200908619","msgId":4912,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3OTQ2OTRCLjIwNTAwQHN0YXRzYmlibGlvdGVrZXQuZGs+","inReplyToHeader":"PDQ3OTEzMDFELjEwNzAyMDRAYXJjaGl2ZS5vcmc+","referencesHeader":"PEEwNzdERjdDRjc3MzM1NERCMjg1Mjc5MDMwRjZBMUE1MzFCODE5QE9YWUdFTi5zaXJzaS5wdnQ+IDw0NzkxMzAxRC4xMDcwMjA0QGFyY2hpdmUub3JnPg=="},"prevInTopic":4910,"nextInTopic":4914,"prevInTime":4911,"nextInTime":4913,"topicId":4906,"numMessagesInTopic":6,"msgSnippet":"getPrefixes() in SurtPrefixedDecideRule has private access ;-( - Bjarne Andersen ... -- Bjarne Andersen Funktionsansvarlig - Digitale Ressourcer ","rawEmail":"Return-Path: &lt;bja@...&gt;\r\nX-Sender: bja@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 14290 invoked from network); 21 Jan 2008 09:44:02 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m57.grp.scd.yahoo.com with QMQP; 21 Jan 2008 09:44:02 -0000\r\nX-Received: from unknown (HELO luna.statsbiblioteket.dk) (130.225.24.87)\n  by mta16.grp.scd.yahoo.com with SMTP; 21 Jan 2008 09:44:02 -0000\r\nX-Received: from [130.225.24.216] (pc975.sb.statsbiblioteket.dk [130.225.24.216])\n by luna.statsbiblioteket.dk\n (iPlanet Messaging Server 5.2 HotFix 1.16 (built May 14 2003))\n with ESMTP id &lt;0JUZ0056RN1D3L@...&gt; for\n archive-crawler@yahoogroups.com; Mon, 21 Jan 2008 10:44:01 +0100 (MET)\r\nDate: Mon, 21 Jan 2008 10:43:39 +0100\r\nIn-reply-to: &lt;4791301D.1070204@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-id: &lt;4794694B.20500@...&gt;\r\nOrganization: Statsbiblioteket\r\nMIME-version: 1.0\r\nContent-type: multipart/mixed; boundary=&quot;Boundary_(ID_5WKSDXOF4/yGXQuFLvN9ng)&quot;\r\nX-Accept-Language: en-us, en\r\nUser-Agent: Mozilla Thunderbird 1.0 (X11/20041206)\r\nReferences: &lt;A077DF7CF773354DB285279030F6A1A531B819@...&gt;\n &lt;4791301D.1070204@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Bjarne Andersen &lt;bja@...&gt;\r\nSubject: Re: [archive-crawler] Best approach question\r\nX-Yahoo-Group-Post: member; u=165458231; y=IGYBa4AfEo1YZ9UoabEP4azYG93o9wyfVBf9mMFQbJNh-dfsa10W0Q\r\nX-Yahoo-Profile: bjarne_dk2000\r\n\r\n\r\n--Boundary_(ID_5WKSDXOF4/yGXQuFLvN9ng)\r\nContent-type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-transfer-encoding: 8BIT\r\n\r\ngetPrefixes() in SurtPrefixedDecideRule has private access ;-(\n\n-\nBjarne Andersen\n\nIgor Ranitovic wrote:\n&gt; \n&gt; \n&gt; I think that it will be OK, but I am not sure where the breaking point\n&gt; is :) Maybe running a test crawl is a good idea.\n&gt; \n&gt; If you want to write a new decide rule you can subclass the\n&gt; SurtPrefixedDecideRule and override the &#39;evaluate&#39; method.\n&gt; \n&gt; Maybe something like this (not tested):\n&gt; \n&gt; protected boolean evaluate(Object object) {\n&gt; if ( (object instanceof CandidateURI) &&\n&gt; ((Boolean) getUncheckedAttribute(null, ATTR_ALSO_CHECK_VIA))\n&gt; .booleanValue()) {\n&gt; if(evaluate(((CandidateURI)object).getVia())) {\n&gt; return true;\n&gt; }\n&gt; }\n&gt; String candidateSurt;\n&gt; candidateSurt = SurtPrefixSet.getCandidateSurt(object);\n&gt; \n&gt; // Drop everything after the last &#39;/&#39;\n&gt; candidateSurt = candidateSurt.replaceFirst(&quot;^(.*/)[^/]*$&quot;, &quot;$1&quot;);\n&gt; \n&gt; if (candidateSurt == null) {\n&gt; return false;\n&gt; }\n&gt; \n&gt; // Check if we have exact match\n&gt; return getPrefixes().contains(candidateSurt);\n&gt; }\n&gt; \n&gt; Take care,\n&gt; i.\n&gt; \n&gt; Travis Jensen wrote:\n&gt;  &gt;\n&gt;  &gt; Hi,\n&gt;  &gt;\n&gt;  &gt; Thanks for your reply, Igor.\n&gt;  &gt;\n&gt;  &gt; Would this still be a preferred way if I have 1500 of these URLs? I\n&gt;  &gt; would worry about the performance hit of every crawled URL needing to go\n&gt;  &gt; through an average of 750 regex matches to find the one that will match.\n&gt;  &gt;\n&gt;  &gt; tj\n&gt;  &gt;\n&gt;  &gt; -----Original Message-----\n&gt;  &gt; From: archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;\n&gt;  &gt; [mailto:archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;] On Behalf Of Igor Ranitovic\n&gt;  &gt; Sent: Friday, January 18, 2008 12:26 PM\n&gt;  &gt; To: archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;\n&gt;  &gt; Subject: Re: [archive-crawler] Best approach question\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; I don&#39;t think that you need to run separate jobs for each seed.\n&gt;  &gt;\n&gt;  &gt; For example, is you have two seeds as:\n&gt;  &gt;\n&gt;  &gt; http://www.foo.com/baz/bar2.html &lt;http://www.foo.com/baz/bar2.html&gt;\n&gt;  &gt; http://www.foo.com/zab/bar2.html &lt;http://www.foo.com/zab/bar2.html&gt;\n&gt;  &gt;\n&gt;  &gt; you can have scope as:\n&gt;  &gt;\n&gt;  &gt; +http://www.foo.com/baz/bar2.html &lt;http://www.foo.com/baz/bar2.html&gt;\n&gt;  &gt; +http://www.foo.com/zab/bar2.html &lt;http://www.foo.com/zab/bar2.html&gt;\n&gt;  &gt;\n&gt;  &gt; and this decide rule:\n&gt;  &gt;\n&gt;  &gt; &lt;newObject name=&quot;seedsCurrentFolderOnly&quot;\n&gt;  &gt; class=&quot;org.archive.crawler.deciderules.MatchesListRegExpDecideRule&quot;&gt;\n&gt;  &gt; &lt;string name=&quot;decision&quot;&gt;REJECT&lt;/string&gt;\n&gt;  &gt; &lt;string name=&quot;list-logic&quot;&gt;OR&lt;/string&gt;\n&gt;  &gt; &lt;stringList name=&quot;regexp-list&quot;&gt;\n&gt;  &gt; &lt;string&gt;(?i)http://www.foo.com/baz/.*/ \n&gt; &lt;http://www.foo.com/baz/.*/&gt;&lt;/string&gt;\n&gt;  &gt; &lt;string&gt;(?i)http://www.foo.com/zab/.*/ \n&gt; &lt;http://www.foo.com/zab/.*/&gt;&lt;/string&gt;\n&gt;  &gt; &lt;/stringList&gt;\n&gt;  &gt; &lt;/newObject&gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Creating the scope and MatchesListRegExpDecideRule can be done easily\n&gt;  &gt; with little scripting.\n&gt;  &gt;\n&gt;  &gt; I hope this helps.\n&gt;  &gt;\n&gt;  &gt; Take care,\n&gt;  &gt; i.\n&gt;  &gt;\n&gt;  &gt; Travis Jensen wrote:\n&gt;  &gt;&gt; Hi,\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; I&#39;m looking for some feedback as to a best approach to a crawling\n&gt;  &gt;&gt; problem I need solve. I have a list of URLs, some of which I only\n&gt;  &gt; want\n&gt;  &gt;&gt; to crawl that URL, some of which I want to crawl that whole domain\n&gt;  &gt;&gt; (&quot;foo.com&quot;), some I want to crawl only that server (&quot;www.foo.com&quot;),\n&gt;  &gt; some\n&gt;  &gt;&gt; I want to crawl anything below the given URL, and some I want to crawl\n&gt;  &gt;\n&gt;  &gt;&gt; everything in the URL&#39;s folder.\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; The first four are out-of-the-box from my understanding of Heritrix 2,\n&gt;  &gt;\n&gt;  &gt;&gt; which is great. The last one doesn&#39;t seem to be, so I&#39;ve been looking\n&gt;  &gt;\n&gt;  &gt;&gt; at options on how to implement it. Just to clearly define the\n&gt;  &gt; problem,\n&gt;  &gt;&gt; if I&#39;m given a seed URL of:\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; http://www.foo.com/baz/bar.html &lt;http://www.foo.com/baz/bar.html&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; then I want to match:\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; http://www.foo.com/baz/bar2.html, &lt;http://www.foo.com/baz/bar2.html,&gt;\n&gt;  &gt; http://www.foo.com/baz/somethingelse.html \n&gt; &lt;http://www.foo.com/baz/somethingelse.html&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; but I don&#39;t want to match:\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; http://www.foo.com/apage.html, &lt;http://www.foo.com/apage.html,&gt;\n&gt;  &gt; http://www.foo.com/baz/bang/anotherpage.html \n&gt; &lt;http://www.foo.com/baz/bang/anotherpage.html&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; The two methods I&#39;ve found to do this would be to define a regex of\n&gt;  &gt; the\n&gt;  &gt;&gt; matching URL and use a MatchesRegExpDecideRule or to create my own\n&gt;  &gt;&gt; DecideRule (call it FolderOnlyDecideRule).\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; If I use the MatchesRegExpDecideRule, will I have to create a\n&gt;  &gt; different\n&gt;  &gt;&gt; job for each seed URL (because the regex will be different)? Or is it\n&gt;  &gt;\n&gt;  &gt;&gt; possible to say &quot;this job uses this seed URL with this regex&quot;?\n&gt;  &gt; Dealing\n&gt;  &gt;&gt; with a different job for each URL seems painful.\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; If the FolderOnlyDecideRule is the way to go, can I get some pointers\n&gt;  &gt; on\n&gt;  &gt;&gt; how to go about implementing it. I&#39;ve been looking through the\n&gt;  &gt;&gt; DecideRules and it hasn&#39;t &quot;clicked&quot; yet. :)\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; Thanks.\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;&gt; tj\n&gt;  &gt;&gt;\n&gt;  &gt;&gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Yahoo! Groups Links\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Yahoo! Groups Links\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt; \n&gt; \n\n-- \nBjarne Andersen\nFunktionsansvarlig - Digitale Ressourcer\n\nSTATSBIBLIOTEKET\nUniversitetsparken\n8000 ï¿½rhus C\nTlf. 89462165 - Mobil 25662353\nCVR/SE 10100682 - EAN 5798000791084\nhttp://statsbiblioteket.dk\n\r\n--Boundary_(ID_5WKSDXOF4/yGXQuFLvN9ng)\r\nContent-type: text/x-vcard; charset=utf-8; name=bja.vcf\r\nContent-disposition: attachment; filename=bja.vcf\r\n\r\n[ Attachment content not displayed ]\r\n--Boundary_(ID_5WKSDXOF4/yGXQuFLvN9ng)--\r\n\n"}}