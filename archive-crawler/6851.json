{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"b4GK_ZXgJo2nHkFdOb53_nW6r-_i5QQpESA08MOtaVbRP9MDxRHkoJjQCdhDZJLuWVZyKKRWucwsMkjImM0EH65SHaHAm3E","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Custom SeedModule (database)","postDate":"1291332219","msgId":6851,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDRjgyQTdCLjkwNjA2MDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGlkODZ0cytwZzhmQGVHcm91cHMuY29tPg==","referencesHeader":"PGlkODZ0cytwZzhmQGVHcm91cHMuY29tPg=="},"prevInTopic":6846,"nextInTopic":6852,"prevInTime":6850,"nextInTime":6852,"topicId":6846,"numMessagesInTopic":3,"msgSnippet":"... We hadn t considered a SeedModule that adds seeds in a automatic continuing fashion, but it shouldn t be too hard to achieve that effect, either as part of","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 67891 invoked from network); 2 Dec 2010 23:23:40 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m11.grp.re1.yahoo.com with QMQP; 2 Dec 2010 23:23:40 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta2.grp.re1.yahoo.com with SMTP; 2 Dec 2010 23:23:40 -0000\r\nX-Received: (qmail 47904 invoked by uid 0); 2 Dec 2010 23:23:39 -0000\r\nX-Received: from 208.70.27.190 (HELO silverbook.local) (208.70.27.190)\n  by relay01.pair.com with SMTP; 2 Dec 2010 23:23:39 -0000\r\nX-pair-Authenticated: 208.70.27.190\r\nMessage-ID: &lt;4CF82A7B.9060609@...&gt;\r\nDate: Thu, 02 Dec 2010 15:23:39 -0800\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.12) Gecko/20101027 Thunderbird/3.1.6\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: progre55 &lt;ikromchik@...&gt;\r\nReferences: &lt;id86ts+pg8f@...&gt;\r\nIn-Reply-To: &lt;id86ts+pg8f@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Custom SeedModule (database)\r\nX-Yahoo-Group-Post: member; u=137285340; y=ea22grc38apzAS3RNeUSRKdpRevB6rRN_LKVHH3yRmoV\r\nX-Yahoo-Profile: gojomo\r\n\r\nOn 12/2/10 5:28 AM, progre55 wrote:\n&gt; Hi guys.\n&gt;\n&gt; Using heritrix 3.1.1. I want heritrix to fetch the seeds from a\n&gt; database table, and have implemented a custom SeedModule that does\n&gt; it, and replaced the TextSeedModule with the custom module. A couple\n&gt; of questions though. First off, I havent really scrutinized the\n&gt; heritrix source/documentation, but as I got it from the logs, the\n&gt; SeedModule has been addressed just once, in the beginning of a crawl,\n&gt; saying announceSeeds(). Is it possible to somehow manually call the\n&gt; announceSeeds() method? It would even be better if I could call it in\n&gt; a given interval, to see if there are new seeds in the database.\n&gt; Secondly, when a job is first run, if no seeds are available in the\n&gt; database, the job finishes (or pauses before finishing) right away.\n&gt; Any suggestions on how I could pause the job and from time to time\n&gt; poll the database to see if new seeds available? Thanks in advance\n&gt; and highly appreciate any suggestions.\n\nWe hadn&#39;t considered a SeedModule that adds seeds in a automatic \ncontinuing fashion, but it shouldn&#39;t be too hard to achieve that effect, \neither as part of a custom SeedModule or some other set of \nconfiguration/scripts/classes.\n\nTake a look first at the ActionDirectory mechanism:\n\nhttps://webarchive.jira.com/wiki/display/Heritrix/Action+Directory\n\nNote that you can drop a &quot;[name-of-your-choice].seeds&quot; file into the \n&#39;action&#39; directory of a crawl, and shortly thereafter the crawl will \nnotice that new file, scan it as if it were a seeds-source at the \ncrawl&#39;s start, enqueueing any new URIs as appropriate.\n\nSo you could certainly have a separate process, in a language of your \nchoosing, polling your database and occasionally dropping new seeds into \nthe crawl via that mechanism. (And, via the other options with \nproperly-formatted files -- &#39;.schedule&#39;, &#39;.include&#39;, &#39;.force&#39; etc. -- \nhave other effects on the internal lists of discovered/queued URIs.)\n\nIf you wanted or needed this process to be done inside the JVM, the \nActionDirectory class/bean would be a good model to study for how new \nfeatures can be loosely-coupled with the existing crawl components. \nSimply by being optionally declared inside the configuration, the \nActionDirectory bean can receive references to the other crawl \ncomponents of interest to it, and start its own polling cycle, and then \nmutate the crawl when circumstances warrant.\n\n(You could make a custom SeedModule that did this poll-and-enqueue \ncycle, in addition to its special role at startup, but it&#39;d be just as \neasy and perhaps cleaner to have it as a separate component not doing \ndouble-duty.)\n\n- Gordon @ IA\n\n"}}