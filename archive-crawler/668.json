{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"kVLY9Uj0_PKX-tv-n_NifkslRhrKgVGt2aejvYLdkb3pedL0dds4vlmq4OlrHOabxVSjkeTWt0jMBJtSZUTTVREZ8p8IlXOH","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Compression of ARC files","postDate":"1090003234","msgId":668,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQwRjgyMTIyLjEwODA3MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQwRjgxOURBLjIwMjA2QGFyY2hpdmUub3JnPg==","referencesHeader":"PDIwMDQwNzE0MDQwMi5pNkU0MmhaMjA3NjVAcG9sbHV4LnN0YXRzYmlibGlvdGVrZXQuZGs+CTwxMDg5NzkwODExLjE5MzMuMjEuY2FtZWxAcGM3NzAuc2Iuc3RhdHNiaWJsaW90ZWtldC5kaz4JPDQwRjU1RkFCLjUwNjA5MDZAYXJjaGl2ZS5vcmc+CTwxMDg5ODczOTUwLjE5MzMuNTQuY2FtZWxAcGM3NzAuc2Iuc3RhdHNiaWJsaW90ZWtldC5kaz4JPDQwRjZDMjA1LjkwNDAzMDJAYXJjaGl2ZS5vcmc+CTwxMDg5OTY3MDI3LjE5MzMuODYuY2FtZWxAcGM3NzAuc2Iuc3RhdHNiaWJsaW90ZWtldC5kaz4JPDE2NjMxLjQ5NjU5LjI1NDQzNy45NzM1NDNAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4JPDEwODk5ODIwMzMuMTkzMy4xMzguY2FtZWxAcGM3NzAuc2Iuc3RhdHNiaWJsaW90ZWtldC5kaz4JPDE2NjMxLjY0MzcwLjc4MzA5NC42MDAyNjZAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4JPDEwODk5OTUzMTguMTkzMy4xNzEuY2FtZWxAcGM3NzAuc2Iuc3RhdHNiaWJsaW90ZWtldC5kaz4gPDE2NjMyLjE1NzYuMTkxMDkuMzY4OTU4QHRpcGhhcmVzLmJhc2lzdGVjaC5uZXQ+IDw0MEY4MTlEQS4yMDIwNkBhcmNoaXZlLm9yZz4="},"prevInTopic":667,"nextInTopic":673,"prevInTime":667,"nextInTime":669,"topicId":629,"numMessagesInTopic":20,"msgSnippet":"... At Archive we process arc files only once in order to created meta data files called dat files. After that, all indexing is done by processing dat files","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 52761 invoked from network); 16 Jul 2004 18:41:51 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m10.grp.scd.yahoo.com with QMQP; 16 Jul 2004 18:41:51 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (209.237.232.202)\n  by mta5.grp.scd.yahoo.com with SMTP; 16 Jul 2004 18:41:51 -0000\r\nReceived: (qmail 8826 invoked by uid 100); 16 Jul 2004 18:32:49 -0000\r\nReceived: from b116-dyn-56.archive.org (HELO archive.org) (igor@...@209.237.240.56)\n  by mail-dev.archive.org with SMTP; 16 Jul 2004 18:32:49 -0000\r\nMessage-ID: &lt;40F82122.1080704@...&gt;\r\nDate: Fri, 16 Jul 2004 11:40:34 -0700\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6b) Gecko/20031205 Thunderbird/0.4\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;200407140402.i6E42hZ20765@...&gt;\t&lt;1089790811.1933.21.camel@...&gt;\t&lt;40F55FAB.5060906@...&gt;\t&lt;1089873950.1933.54.camel@...&gt;\t&lt;40F6C205.9040302@...&gt;\t&lt;1089967027.1933.86.camel@...&gt;\t&lt;16631.49659.254437.973543@...&gt;\t&lt;1089982033.1933.138.camel@...&gt;\t&lt;16631.64370.783094.600266@...&gt;\t&lt;1089995318.1933.171.camel@...&gt; &lt;16632.1576.19109.368958@...&gt; &lt;40F819DA.20206@...&gt;\r\nIn-Reply-To: &lt;40F819DA.20206@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.1 required=6.0 tests=AWL autolearn=ham version=2.63\r\nX-eGroups-Remote-IP: 209.237.232.202\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] Compression of ARC files\r\nX-Yahoo-Group-Post: member; u=137477665\r\nX-Yahoo-Profile: iranitovic\r\n\r\nstack wrote:\n&gt; Tom Emerson wrote:\n&gt; \n&gt; \n&gt;&gt;Lars Clausen writes:\n&gt;&gt; \n&gt;&gt;\n&gt;&gt;\n&gt;&gt;&gt;Now try doing that with tens or hundreds of terabytes.  10TB would take\n&gt;&gt;&gt;280000 seconds, or over three days.  Most of that will be spent reading\n&gt;&gt;&gt;data that is not used and should be skippable.\n&gt;&gt;&gt;   \n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;Yes. Once the index is built, however, you will not need to build it\n&gt;&gt;again, hopefully.\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;\n&gt; \n&gt; Yeah.  Its much more expensive than building indexes from uncompressed \n&gt; files (On the other hand, there&#39;s Moore&#39;s law, and failing that, its an \n&gt; easily parallelizable problem).  Heritrix should have an option to write \n&gt; an index it as it goes when writing gzipped ARCs.\n\nAt Archive we process arc files only once in order to created meta data files called dat files. \nAfter that, all indexing is done by processing dat files only. Processing compressed arc files has \nnever been a performance issue for us. BTW, ripping through an arc file, compressed or uncompressed \nis done in linear time anyway.\n\ni.\n\n\n&gt; \n&gt; \n&gt;&gt;&gt;Did you in your test make sure the file wasn&#39;t in memory?\n&gt;&gt;&gt;   \n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;[...]\n&gt;&gt;\n&gt;&gt;libarc memory maps the contents of the arc files: it relies on the OS\n&gt;&gt;to page the file as necessary. I did this intentionally to avoid\n&gt;&gt;having to read the entire file, and to avoid the added complexity of\n&gt;&gt;managing multiple buffer reads while running the inflation code.\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;\n&gt; \n&gt; ARCReader does the same using mmapping -- java.nio -- though its a \n&gt; little slower than straight java.io.\n&gt; \n&gt; St.Ack\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n\n\n"}}