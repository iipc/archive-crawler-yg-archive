{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":278782393,"authorName":"pjack@archive.org","from":"pjack@...","profile":"poetbeware","replyTo":"LIST","senderId":"X-s92HPPTV243AiMuQbDYi9nrNdoDkV3RspFIocCxWp-KjvjX8zPGHiNJ2FVseD4dYREZikGiFI","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: embedding 2.0 in another app","postDate":"1201897482","msgId":4962,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU4NjY0Ljc2LjEwMi4yMzAuMjA5LjEyMDE4OTc0ODIuc3F1aXJyZWxAbWFpbC5hcmNoaXZlLm9yZz4=","inReplyToHeader":"PDQ3QTMzNzhBLjYwMzAxMDhAZW1vcnkuZWR1Pg==","referencesHeader":"PGZudXFuYitoYjR0QGVHcm91cHMuY29tPiA8NDdBMzM3OEEuNjAzMDEwOEBlbW9yeS5lZHU+"},"prevInTopic":4955,"nextInTopic":4964,"prevInTime":4961,"nextInTime":4963,"topicId":4949,"numMessagesInTopic":6,"msgSnippet":"... Yes, an embedded Heritrix should be controllable via the objects APIs and not only via JMX.  I just committed some changes to enable that.  These changes","rawEmail":"Return-Path: &lt;pjack@...&gt;\r\nX-Sender: pjack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 89596 invoked from network); 1 Feb 2008 20:24:45 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m49.grp.scd.yahoo.com with QMQP; 1 Feb 2008 20:24:45 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta17.grp.scd.yahoo.com with SMTP; 1 Feb 2008 20:24:45 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 42F6F48206\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri,  1 Feb 2008 12:24:45 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id O7D1vQoruphY for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri,  1 Feb 2008 12:24:42 -0800 (PST)\r\nX-Received: from mail.archive.org (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 78BDF60\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri,  1 Feb 2008 12:24:42 -0800 (PST)\r\nX-Received: from 76.102.230.209\n        (SquirrelMail authenticated user pjack)\n        by mail.archive.org with HTTP;\n        Fri, 1 Feb 2008 12:24:42 -0800 (PST)\r\nMessage-ID: &lt;58664.76.102.230.209.1201897482.squirrel@...&gt;\r\nIn-Reply-To: &lt;47A3378A.6030108@...&gt;\r\nReferences: &lt;fnuqnb+hb4t@...&gt; &lt;47A3378A.6030108@...&gt;\r\nDate: Fri, 1 Feb 2008 12:24:42 -0800 (PST)\r\nTo: archive-crawler@yahoogroups.com\r\nUser-Agent: SquirrelMail/1.4.10a\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nX-Priority: 3 (Normal)\r\nImportance: Normal\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: pjack@...\r\nSubject: Re: [archive-crawler] Re: embedding 2.0 in another app\r\nX-Yahoo-Group-Post: member; u=278782393; y=g8iCUEcZB3CEoCLYrr6bTQKcPhF8375RqeuDRglehMLSh2sotA\r\nX-Yahoo-Profile: poetbeware\r\n\r\n&gt; This code looks like it will be a big help, though.  Man, it sure is\n&gt; complicated...\n\nYes, an embedded Heritrix should be controllable via the objects&#39; APIs and\nnot only via JMX.  I just committed some changes to enable that.  These\nchanges will be included in release 2.0.1, but if you&#39;d like to help us\ntest them earlier than that, they are in trunk/heritrix2.\n\nSee http://webteam.archive.org/jira/browse/HER-1451 for a description of\nthe changes.\n\nExample/tutorial code below.\n\n-Paul\n\n\n// Configure and launch an Engine.\nEngineConfig config = new EngineConfig();\nconfig.setJobsDirectory(&quot;/home/pjack/Installs/heritrix2&quot;);\nEngine engine = new EngineImpl(config);\n\n// Heritrix is now running, and can be controlled via web UI\n// (if you&#39;ve enabled remote JMX in the JVM) or jconsole.\n\n// You can use the Engine instance itself to launch jobs.\nengine.copy(&quot;profile-basic_seed_sites&quot;, &quot;ready-example&quot;);\nengine.launchJob(&quot;ready-example&quot;);\n\n// (Note above call will fail unless you&#39;ve set your operator-url\n// and seeds up in the profile already.)\n\n// You can now get the SheetManager for the job from the engine.\nSheetManager sheetManager = engine.getSheetManager(&quot;active-example&quot;);\n\n// An active job is composed of configurable modules.\n// You can find all such modules via the SheetManager.\n// There is a new convenience method for finding a unique module.\n// This is useful since many of the important Heritrix modules are\n// unique for a given job.\n// For instance:\nCrawlController cc = sheetManager.findUniqueGlobalModule(\n                CrawlController.class);\n\n// From here you can use the modules to control the job.  Eg:\ncc.requestCrawlPause();\n\n// Or, you can view/alter the configuration for things.  Eg:\nFetchHTTP http = sheetManager.findUniqueGlobalModule(FetchHTTP.class);\nSingleSheet global = (SingleSheet)sheetManager.checkout(\n            SheetManager.GLOBAL_SHEET_NAME);\nint timeoutSeconds = global.get(http, FetchHTTP.TIMEOUT_SECONDS);\nglobal.set(http, FetchHTTP.TIMEOUT_SECONDS, 90);\nsheetManager.commit(global);\n\n// If the module isn&#39;t unique, you have several other options.\n// If you know the module&#39;s settings path:\nglobal = sheetManager.getGlobalSheet();\nDecideRuleSequence scope = (DecideRuleSequence)PathValidator.validate(\n                global, &quot;root:scope&quot;);\n\n// Or if you know the module you want is a setting of another module:\nBdbFrontier frontier = sheetManager.findUniqueGlobalModule(\n                BdbFrontier.class);\nscope = (DecideRuleSequence)global.get(frontier, BdbFrontier.SCOPE);\n\n// Or you can manually walk the modules starting with the root map:\nMap&lt;String,Object&gt; map = sheetManager.getRoot();\n        DecideRuleSequence seq = (DecideRuleSequence)map.get(&quot;scope&quot;);\nList&lt;DecideRule&gt; rules = global.get(seq, seq.RULES);\nDecideRule first = rules.get(0);\n\n\n\n\n"}}