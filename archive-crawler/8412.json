{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"fQWVCpA6PeoXgfND6tik45qyfEMC66R-WViaRXJoOTE5qdSHaUWQV_YPVDN_WszUAvRePkmV9ouI825K0kDRKHCENnfjcJq0","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Dealing with CGI page generating random URIs","postDate":"1386635836","msgId":8412,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBMbkJyTFg2VVZCYz00dmN4aGp6Q3pRVlRDZHB4d2tWejBRN0o5ZHR6PXRSd0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGw4NTVvZitucHRwc2NAWWFob29Hcm91cHMuY29tPg==","referencesHeader":"PGw4NTVvZitucHRwc2NAWWFob29Hcm91cHMuY29tPg=="},"prevInTopic":8411,"nextInTopic":8413,"prevInTime":8411,"nextInTime":8413,"topicId":8411,"numMessagesInTopic":3,"msgSnippet":"Hello Niels, So all the parameters are significant except for rnd ? One thing you could try is writing a custom implementation of ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 16067 invoked by uid 102); 10 Dec 2013 00:37:18 -0000\r\nX-Received: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m6.grp.bf1.yahoo.com with SMTP; 10 Dec 2013 00:37:18 -0000\r\nX-Received: (qmail 13409 invoked from network); 10 Dec 2013 00:37:18 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 10 Dec 2013 00:37:18 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 4F854A629AB\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  9 Dec 2013 16:37:18 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id lDilZLhgb3kF for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon,  9 Dec 2013 16:37:17 -0800 (PST)\r\nX-Received: from mail-ob0-f182.google.com (mail-ob0-f182.google.com [209.85.214.182])\n\tby mail.archive.org (Postfix) with ESMTPSA id C18D7A629A8\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  9 Dec 2013 16:37:17 -0800 (PST)\r\nX-Received: by mail-ob0-f182.google.com with SMTP id wp4so4654918obc.27\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 09 Dec 2013 16:37:16 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20130820;\n        h=mime-version:in-reply-to:references:date:message-id:subject:from:to\n         :content-type;\n        bh=PEU7CmXq76xVQvD6Vzk51uSj6z/dHdUWqI2LN7eXhpE=;\n        b=hy5nW7UYThS3N9F5WtRkvkheA1BDqf0WIvaK0zIJC75Vad6kQGYWfd/0CPzARlzv5Z\n         MMEeZiTEDK0QnWFn1rO24LNF6yriC7gA/nn2GfE51zi5hzdnkQ8NQd72moAAWrzvH5lN\n         x1/nbOB5U7ov2c3B2x8C6BIkQ0rEfH7i5qxaRX+qpe5YHZdNitFF7+D0OKRUtDl2H8nE\n         9IyZ3h9qZ2eMnOlRTdLSF77fZRzyUGO4s6TrgF/q7Kf+bVKDRody0lXMvtk2XhVL+aQS\n         1zdUJVWhXMxdeK382YTcjl1smoQce1UneGr9WO3khDPw+SMcMc0108tLleQLRNS6Xojp\n         kqNw==\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.74.137 with SMTP id t9mr105631obv.79.1386635836887; Mon,\n 09 Dec 2013 16:37:16 -0800 (PST)\r\nX-Received: by 10.76.166.137 with HTTP; Mon, 9 Dec 2013 16:37:16 -0800 (PST)\r\nIn-Reply-To: &lt;l855of+nptpsc@...&gt;\r\nReferences: &lt;l855of+nptpsc@...&gt;\r\nDate: Mon, 9 Dec 2013 16:37:16 -0800\r\nMessage-ID: &lt;CAA-z70LnBrLX6UVBc=4vcxhjzCzQVTCdpxwkVz0Q7J9dtz=tRw@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=001a11c1fd627d9d3d04ed235026\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Dealing with CGI page generating random URIs\r\nX-Yahoo-Group-Post: member; u=325624130; y=zAMOekP6Ukn-ABTNzHHw2d_Lt-C4u4u13U8gMT0-FeNk9w\r\nX-Yahoo-Profile: nlevitt\r\n\r\n\r\n--001a11c1fd627d9d3d04ed235026\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nHello Niels,\n\nSo all the parameters are significant except for &quot;rnd&quot;? One thing you\ncould try is writing a custom implementation of\norg.archive.modules.canonicalize.CanonicalizationRule that strips out that\nparameter from relevant urls, and add it to your canonicalization policy.\n\nNoah\n\n\n\nOn Mon, Dec 9, 2013 at 11:30 AM, &lt;niels.van.hecke@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hello,\n&gt; I have an issue with a specific website that I don&#39;t think I can fix by\n&gt; being clever with regex (I don&#39;t think). I am crawling a site that has a\n&gt; script that generates URIs like this:\n&gt; cgi-bin/cp-app.cgi?usr=ABC123&rnd=8109645&rrc=N&affl=&cip=XXX.XXX.XXX.XXX&act=&aff=&pg=new.\n&gt; As you can see, the URIs have random numbers. All the links within the\n&gt; document also have random numbers. Because of these two traits, I cannot,\n&gt; by looking at any two URIs, tell if they are the same page and I cannot\n&gt; compare digests of their content because each page is unique. Has anyone\n&gt; dealt with this kind of problem before? Is there a canned script/setting to\n&gt; help fix this kind of situation?\n&gt; Niels\n&gt;\n&gt;\n&gt; \n&gt;\n\r\n--001a11c1fd627d9d3d04ed235026\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,he=\r\nlvetica,sans-serif&quot;&gt;Hello Niels,&lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D=\r\n&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_defa=\r\nult&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;\nSo all the parameter=\r\ns are significant except for &quot;rnd&quot;? One thing you could try is wr=\r\niting a custom implementation of org.archive.modules.canonicalize.Canonical=\r\nizationRule=A0that strips out that parameter from relevant urls, and add it=\r\n to your canonicalization policy.&lt;/div&gt;\n&lt;div class=3D&quot;gmail_default&quot; style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_d=\r\nefault&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Noah&lt;/div&gt;&lt;div cla=\r\nss=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;\n&lt;br&gt;=\r\n&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;O=\r\nn Mon, Dec 9, 2013 at 11:30 AM,  &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:ni=\r\nels.van.hecke@...&quot; target=3D&quot;_blank&quot;&gt;niels.van.hecke@...&lt;/a&gt;&gt=\r\n;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0=\r\n .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div=\r\n&gt;\n\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\nHello,&lt;div&gt;I have an issue with a specific website that=\r\n I don&#39;t think I can fix by being clever with regex (I don&#39;t think)=\r\n. I am crawling a site that has a script that generates URIs like this: cgi=\r\n-bin/cp-app.cgi?usr=3DABC123&amp;rnd=3D8109645&amp;rrc=3DN&amp;affl=3D&amp;=\r\ncip=3DXXX.XXX.XXX.XXX&amp;act=3D&amp;aff=3D&amp;pg=3Dnew. As you can see, t=\r\nhe URIs have random numbers. All the links within the document also have ra=\r\nndom numbers. Because of these two traits, I cannot, by looking at any two =\r\nURIs, tell if they are the same page and I cannot compare digests of their =\r\ncontent because each page is unique. Has anyone dealt with this kind of pro=\r\nblem before? Is there a canned script/setting to help fix this kind of situ=\r\nation?&lt;/div&gt;\n&lt;div&gt;Niels&lt;/div&gt;\n\n\n\n\n\n&lt;br&gt;\n\n\n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=\r\n=3D&quot;color:white;clear:both&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--001a11c1fd627d9d3d04ed235026--\r\n\n"}}