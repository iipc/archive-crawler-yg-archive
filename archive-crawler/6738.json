{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":349016897,"authorName":"Burak ISIKLI","from":"Burak ISIKLI &lt;burak.isikli@...&gt;","profile":"burak.isikli","replyTo":"LIST","senderId":"uQReWdaz2v6sOedc0AcI1j35Q7BRxfcHclFdl6hAQ7b0GsOyU3rvkTJbdBUUE4cbDFu8LQj7lUmofUCLSkjUtViv5ptk4N6wO-JkmA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Heritrix Launcher v3.0","postDate":"1285011590","msgId":6738,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUyNzAxNC4yMzAxMi5xbUB3ZWI2MzEwNS5tYWlsLnJlMS55YWhvby5jb20+"},"prevInTopic":0,"nextInTopic":6777,"prevInTime":6737,"nextInTime":6739,"topicId":6738,"numMessagesInTopic":5,"msgSnippet":"Hello, How can i start heritrix version 3.0 in java app without web gui? I meant how can i start the heritrix to coding? In heritrix 1.14.4 there is a file","rawEmail":"Return-Path: &lt;burak.isikli@...&gt;\r\nX-Sender: burak.isikli@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 15690 invoked from network); 20 Sep 2010 19:39:51 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m8.grp.sp2.yahoo.com with QMQP; 20 Sep 2010 19:39:51 -0000\r\nX-Received: from unknown (HELO web63105.mail.re1.yahoo.com) (69.147.96.247)\n  by mta1.grp.sp2.yahoo.com with SMTP; 20 Sep 2010 19:39:51 -0000\r\nX-Received: (qmail 23484 invoked by uid 60001); 20 Sep 2010 19:39:50 -0000\r\nMessage-ID: &lt;527014.23012.qm@...&gt;\r\nX-YMail-OSG: ogxr.xAVM1lJC0kiZrPRj8fGTEtGpXjGKkOD4N0Bbm3UPXQ\n X6JGeH29TvNPiJVhBXHOruLZEi55BeUFASRk6VhVpOY1jdXef5mmO48QL83Z\n ZkFQRMtqzZr5DrmyMXfJM.yqP1dVypG30EPgAXo82_8rGqFdaVUhRuicFGn7\n f74Ry1ArtKGERqNHe7RSqa4LzsdapIVfMVjrJieQjb429B3llOvOkMA2BlGl\n FIELCa88BP33CiwYBqTj_Vm.xaTkoVtzIAo4VA_BWgwezJu1gjXGu\r\nX-Received: from [212.252.168.236] by web63105.mail.re1.yahoo.com via HTTP; Mon, 20 Sep 2010 12:39:50 PDT\r\nX-Mailer: YahooMailRC/497 YahooMailWebService/0.8.105.279950\r\nDate: Mon, 20 Sep 2010 12:39:50 -0700 (PDT)\r\nTo: archive-crawler@yahoogroups.com\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-158421592-1285011590=:23012&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Burak ISIKLI &lt;burak.isikli@...&gt;\r\nSubject: Heritrix Launcher v3.0\r\nX-Yahoo-Group-Post: member; u=349016897; y=dHC0s5-SWeAzg8TTjPezBxuwRT1N8cW2j_tt8XNefX-WPVPOSS0T\r\nX-Yahoo-Profile: burak.isikli\r\n\r\n\r\n--0-158421592-1285011590=:23012\r\nContent-Type: text/plain; charset=us-ascii\r\n\r\nHello,\nHow can i start heritrix version 3.0 in java app without web gui?\nI meant how can i start the heritrix to coding? \nIn heritrix 1.14.4 there is a file name is called SimpleHeritrixLauncher. I want \nto write it similar.\nThanks\n\n\nSimpleHeritrixLauncher.java\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Date;\n\nimport org.archive.crawler.framework.CrawlController;\nimport org.archive.crawler.framework.exceptions.InitializationException;\nimport org.archive.crawler.settings.*;\nimport org.archive.crawler.event.CrawlStatusListener;\n\nimport javax.management.InvalidAttributeValueException;\n\n\n\n\npublic class SimpleHeritrixLauncher {\n\n    /**\n     * the orderfile to use\n     */\n    private File orderfile;\n\n    /**\n     * the original seedsfile to use\n     */\n\n    /** \n     * Set to true by doOneCrawl()\n     * Set to false on the event crawlEnded - fired by the crawler\n     */\n    private boolean crawlerRunning = false;\n\n    /**\n     * Set to true when requestCrawlPause() is called on the CrawlController\n     * Set to false when requestCrawlResume() is called on the CrawlController\n     */\n    private boolean crawlerPaused = false;\n\n    /**\n     *  The CrawlController used\n     */\n    private CrawlController controller;\n\n    /**\n     * Sets up the SimpleHeritrixLauncher from the given order file\n     *\n     * @param orderfile the orderfile to use\n     */\n    public SimpleHeritrixLauncher(File orderfile) throws FileNotFoundException {\n        if (orderfile == null || !orderfile.exists() || orderfile.isDirectory()) \n{\n            throw new FileNotFoundException(&quot;No legal order file found at &quot; + \norderfile);\n        }\n        this.orderfile = orderfile;\n    }\n\n   /**\n     * Method returns the CrawlController (Heritrix)\n     *\n     * @return the CrawlController used for launching Heritrix\n     */\n    public CrawlController getCrawlController() {\n        return this.controller;\n    }\n\n    /**\n     * Medhod takes at this point exactly 1 argument:\n     * 1. orderfile\n     * After launching - it waits in a very simple loop for the crawler to \nfinish\n     */\n    public static void main(String[] args) {\n       /* if (args.length != 1) {\n        //System.out.println(&quot;arguman sayisi :&quot;+args.length);\n            outputUsage();\n            return;\n        }*/\n        //File orderfile = new File(args[0]);\n    String fileName=&quot;D:/Workspace.hermod/Hermod/order.xml&quot;;\n    File orderfile = new File(fileName);\n        if (!orderfile.exists()) {\n            System.out.println(&quot;Orderfile &#39;&quot; + fileName + &quot;&#39; NOT found !&quot;);\n            return;\n        }\n\n        SimpleHeritrixLauncher hl;\n        try {\n        Date d1 = new Date();\n        d1.getTime();\n            hl = new SimpleHeritrixLauncher(orderfile);\n            System.out.println(&quot;Starting crawl with Heritrix....&quot;);\n            System.out.println(&quot;Using orderfile : &quot; + hl.orderfile);\n            hl.doOneCrawl();\n            while (hl.isCrawlerRunning()) {\n                // wait for the crawler to finish\n            }\n            System.out.println(&quot;&#92;nCrawl ended......&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception occurred: &quot; + e);\n        }\n    }\n\n    /**\n     * Method outputs usage-information to stdout\n     */\n    private static void outputUsage() {\n        System.out.println(&quot;Usage: java [-Xmx128m] \ndk.netarkivet.harvestcontroller.SimpleHeritrixLauncher &lt;orderfile&gt;&quot;);\n        System.out.println(&quot;&quot;);\n    }\n\n    /**\n     * This method launches the crawler !\n     *\n     * @throws org.archive.crawler.framework.exceptions.InitializationException\n     * @throws javax.management.InvalidAttributeValueException\n     */\n    public void doOneCrawl()\n            throws InitializationException, InvalidAttributeValueException {\n\n        XMLSettingsHandler handler =\n                new XMLSettingsHandler(this.orderfile);\n        handler.initialize();\n        controller = new CrawlController();\n        try {\n        \n            controller.initialize(handler);\n        } catch (InitializationException e) {\n            throw new InitializationException(e);\n        }\n        controller.addCrawlStatusListener(new myCrawlStatusListener(this));\n        controller.requestCrawlStart();\n        this.crawlerRunning = true;\n    }\n\n    /**\n     * Method returns running-status of the crawler\n     *\n     * @return running-status\n     */\n    public boolean isCrawlerRunning() {\n        return this.crawlerRunning;\n    }\n\n    /**\n     * Method returns pause-status of the crawler\n     *\n     * @return pause-status\n     */\n    public boolean isCrawlerPaused() {\n        return this.crawlerPaused;\n    }\n    \n    class myCrawlStatusListener implements CrawlStatusListener {\n        /**\n         * The Heritrix-launcher that uses this listener\n         */\n        private SimpleHeritrixLauncher hl;\n\n        /**\n         * Constructor\n         *\n         * @param hl a HeritrixLauncher\n         */\n        public myCrawlStatusListener(SimpleHeritrixLauncher hl) {\n            this.hl = hl;\n        }\n\n        /**\n         * Fired by the crawler when the crawl is about to end\n         * (no reports writen yet....toe threads might still be running....)\n         *\n         * @param s Message to attach\n         */\n        public void crawlEnding(String s) {\n        }\n\n        /**\n         * Fired by the crawler when the crawl is ended\n         *\n         * @param s Message to attach\n         */\n        public void crawlEnded(String s) {\n            this.hl.crawlerRunning = false;\n            this.hl.crawlerPaused = false;\n        }\n\n        /**\n         * Fired by the crawler when the crawl is about to pause\n         * (toe threads might still be running.....)\n         *\n         * @param s Message to attach\n         */\n        public void crawlPausing(String s) {\n        }\n\n        /**\n         * Fired by the crawler when the crawl is paused\n         *\n         * @param s Message to attach\n         */\n        public void crawlPaused(String s) {\n            this.hl.crawlerPaused = true;\n        }\n\n        /**\n         * Fired by the crawler when the crawl is resuming\n         *\n         * @param s Message to attach\n         */\n        public void crawlResuming(String s) {\n            this.hl.crawlerPaused = false;\n        }\n\n@Override\npublic void crawlCheckpoint(File arg0) throws Exception {\n// TODO Auto-generated method stub\n}\n\n@Override\npublic void crawlStarted(String arg0) {\n// TODO Auto-generated method stub\n}\n    }\n}\n\n\n      \r\n--0-158421592-1285011590=:23012\r\nContent-Type: text/html; charset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;&lt;!-- DIV {margin:0px;} --&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div style=&quot;font-family:&#39;bookman old style&#39;, &#39;new york&#39;, times, serif;font-size:10pt;color:#00007f;&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: times, serif; line-height: 16px; &quot;&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;Hello,&lt;/div&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;How can i start heritrix version 3.0 in java app without web gui?&lt;/div&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;I meant how can i start the heritrix to coding?&nbsp;&lt;/div&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;In heritrix 1.14.4 there is a file name is called SimpleHeritrixLauncher. I want to write it similar.&lt;/div&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;Thanks&lt;/div&gt;&lt;div style=&quot;line-height: 1.22em; &quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=&quot;Apple-style-span&quot; color=&quot;#00407F&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=&quot;Apple-style-span&quot;\n color=&quot;#00407F&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: rgb(0, 0, 127); font-size: 13px; &quot;&gt;&lt;b&gt;SimpleHeritrixLauncher.java&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font class=&quot;Apple-style-span&quot; color=&quot;#00407F&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: rgb(0, 0, 127); font-size: 13px; &quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;import java.io.File;&lt;/div&gt;&lt;div&gt;import java.io.FileNotFoundException;&lt;/div&gt;&lt;div&gt;import java.util.Date;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;import org.archive.crawler.framework.CrawlController;&lt;/div&gt;&lt;div&gt;import org.archive.crawler.framework.exceptions.InitializationException;&lt;/div&gt;&lt;div&gt;import org.archive.crawler.settings.*;&lt;/div&gt;&lt;div&gt;import org.archive.crawler.event.CrawlStatusListener;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;import\n javax.management.InvalidAttributeValueException;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public class SimpleHeritrixLauncher {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * the orderfile to use&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;private File orderfile;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * the original seedsfile to use&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Set to true by doOneCrawl()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Set to false on the event crawlEnded - fired by the crawler&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;private boolean crawlerRunning = false;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Set to true when requestCrawlPause() is called on the CrawlController&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;\n &nbsp; * Set to false when requestCrawlResume() is called on the CrawlController&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;private boolean crawlerPaused = false;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * &nbsp;The CrawlController used&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;private CrawlController controller;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Sets up the SimpleHeritrixLauncher from the given order file&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @param orderfile the orderfile to use&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public SimpleHeritrixLauncher(File orderfile) throws FileNotFoundException {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if (orderfile == null || !orderfile.exists() || orderfile.isDirectory()) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throw new\n FileNotFoundException(&quot;No legal order file found at &quot; + orderfile);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;this.orderfile = orderfile;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; /**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Method returns the CrawlController (Heritrix)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @return the CrawlController used for launching Heritrix&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public CrawlController getCrawlController() {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return this.controller;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Medhod takes at this point exactly 1 argument:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * 1. orderfile&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * After launching - it waits in a very simple loop for the crawler to finish&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;\n &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public static void main(String[] args) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; /* if (args.length != 1) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;//System.out.println(&quot;arguman sayisi :&quot;+args.length);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;outputUsage();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}*/&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;//File orderfile = new File(args[0]);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;String fileName=&quot;D:/Workspace.hermod/Hermod/order.xml&quot;;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;File orderfile = new File(fileName);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if (!orderfile.exists()) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n &nbsp;System.out.println(&quot;Orderfile &#39;&quot; + fileName + &quot;&#39; NOT found !&quot;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SimpleHeritrixLauncher hl;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;try {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;Date d1 = new Date();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;d1.getTime();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hl = new SimpleHeritrixLauncher(orderfile);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;Starting crawl with Heritrix....&quot;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;Using orderfile : &quot; + hl.orderfile);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n &nbsp;hl.doOneCrawl();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while (hl.isCrawlerRunning()) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// wait for the crawler to finish&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;&#92;nCrawl ended......&quot;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;} catch (Exception e) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;Exception occurred: &quot; + e);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Method outputs usage-information to stdout&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;private static void outputUsage() {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;Usage: java [-Xmx128m]\n dk.netarkivet.harvestcontroller.SimpleHeritrixLauncher &lt;orderfile&gt;&quot;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;&quot;);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * This method launches the crawler !&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @throws org.archive.crawler.framework.exceptions.InitializationException&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @throws javax.management.InvalidAttributeValueException&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public void doOneCrawl()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throws InitializationException, InvalidAttributeValueException {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;XMLSettingsHandler handler =&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new XMLSettingsHandler(this.orderfile);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp;\n &nbsp;handler.initialize();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;controller = new CrawlController();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;try {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;controller.initialize(handler);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;} catch (InitializationException e) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throw new InitializationException(e);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;controller.addCrawlStatusListener(new myCrawlStatusListener(this));&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;controller.requestCrawlStart();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;this.crawlerRunning = true;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Method returns\n running-status of the crawler&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @return running-status&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public boolean isCrawlerRunning() {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return this.crawlerRunning;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * Method returns pause-status of the crawler&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; * @return pause-status&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;public boolean isCrawlerPaused() {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return this.crawlerPaused;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;class myCrawlStatusListener implements CrawlStatusListener {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * The Heritrix-launcher that uses\n this listener&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;private SimpleHeritrixLauncher hl;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * Constructor&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param hl a HeritrixLauncher&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public myCrawlStatusListener(SimpleHeritrixLauncher hl) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.hl = hl;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * Fired by the crawler when the crawl is about to end&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * (no reports writen yet....toe threads might still be running....)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;\n *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param s Message to attach&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public void crawlEnding(String s) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * Fired by the crawler when the crawl is ended&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param s Message to attach&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public void crawlEnded(String s) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.hl.crawlerRunning = false;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.hl.crawlerPaused = false;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp;\n &nbsp; * Fired by the crawler when the crawl is about to pause&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * (toe threads might still be running.....)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param s Message to attach&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public void crawlPausing(String s) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * Fired by the crawler when the crawl is paused&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param s Message to attach&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public void crawlPaused(String s) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.hl.crawlerPaused = true;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp;\n &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;/**&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * Fired by the crawler when the crawl is resuming&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; *&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; * @param s Message to attach&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; */&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public void crawlResuming(String s) {&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.hl.crawlerPaused = false;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;public void crawlCheckpoint(File arg0) throws Exception {&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t\t&lt;/span&gt;// TODO Auto-generated method stub&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t\n\t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;public void crawlStarted(String arg0) {&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t\t&lt;/span&gt;// TODO Auto-generated method stub&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t\t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;position:fixed&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;&lt;br&gt;\n\n      &lt;/body&gt;&lt;/html&gt;\r\n--0-158421592-1285011590=:23012--\r\n\n"}}