{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":178215247,"authorName":"shifrasr","from":"&quot;shifrasr&quot; &lt;shifra.raffel@...&gt;","profile":"shifrasr","replyTo":"LIST","senderId":"K1EgM_AUz9H4bTui5WB_ohbzEu_8xS9oK6m-NxlPH2W69I1p2e1ENYptGbQQ_Z1dj6I9lrCqjjFIGmIN7kDPTIpXR95E-0gHDtk","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Site + 1 crawl","postDate":"1124486422","msgId":2132,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGRlNWllbStnN2N0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQyNDlEMDZELjgwNzAxMDJAYXJjaGl2ZS5vcmc+"},"prevInTopic":1709,"nextInTopic":2138,"prevInTime":2131,"nextInTime":2133,"topicId":1694,"numMessagesInTopic":10,"msgSnippet":"Hi all, We d also like to do site+1 crawls as described in the below email from 4/05, and I ve been experimenting with DecideRules without success. Jay, did","rawEmail":"Return-Path: &lt;shifra.raffel@...&gt;\r\nX-Sender: shifra.raffel@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 90389 invoked from network); 19 Aug 2005 21:20:22 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m27.grp.scd.yahoo.com with QMQP; 19 Aug 2005 21:20:22 -0000\r\nReceived: from unknown (HELO n24.bulk.scd.yahoo.com) (66.94.237.53)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Aug 2005 21:20:22 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.66.58] by n24.bulk.scd.yahoo.com with NNFMP; 19 Aug 2005 21:20:22 -0000\r\nReceived: from [66.218.66.89] by mailer7.bulk.scd.yahoo.com with NNFMP; 19 Aug 2005 21:20:22 -0000\r\nDate: Fri, 19 Aug 2005 21:20:22 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;de5iem+g7ct@...&gt;\r\nIn-Reply-To: &lt;4249D06D.8070102@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3308\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;shifrasr&quot; &lt;shifra.raffel@...&gt;\r\nSubject: Site + 1 crawl\r\nX-Yahoo-Group-Post: member; u=178215247; y=VysW8KCC2mlxv9jwG3evPWhUJlSVXiSJWEDpzipw6LHlSx0\r\nX-Yahoo-Profile: shifrasr\r\n\r\nHi all,\nWe&#39;d also like to do &quot;site+1&quot; crawls as described in the below email\nfrom 4/05, and I&#39;ve been experimenting with DecideRules without\nsuccess. Jay, did you ever finish the below scope, and if not would\nyou like to join forces? \n\nAlternatively, is there a way to set DecideRules that I have\noverlooked? We&#39;ve been using 1.4.0 but could also use 1.5.1 if it\nmatters. \n\nMany thanks,\nShifra Raffel\nWeb Archiving Programmer\nCalifornia Digital Library\n\n--- In archive-crawler@yahoogroups.com, Igor Ranitovic &lt;igor@a...&gt;\nwrote:\n&gt; Hi Jay,\n&gt; \n&gt; We could not figure out any combination of existing scopes and\nfilters that will accomplish this. \n&gt; Therefore, you will need to write a new scope for this purpose.\n&gt; The idea is to accept all URIs that fall into one of these two\ncategories:\n&gt; \t- URI in the scope (domain, host, and etc.)\n&gt;          - URI not in the scope but URI&#39;s via in the scope\n&gt; \n&gt; This should allow you +1 hop crawling and should not be hard to\nimplement.\n&gt; Maybe something like this (host scope +1 hop away):\n&gt; \n&gt; public class HostPlusOneScope extends HostScope {\n&gt;      public HostPlusOneScope(String name) {\n&gt;          super(name);\n&gt;          setDescription(&quot;HostPlusOne&quot;);\n&gt;      }\n&gt; \n&gt;      protected boolean focusAccepts(Object o) {\n&gt;          UURI u = getUURI(o);\n&gt;          if (u == null) {\n&gt;              return false;\n&gt;          }\n&gt; \n&gt;          Iterator iter = seedsIterator();\n&gt;          while(iter.hasNext()) {\n&gt;              // Check if in host scope\n&gt;              if (isSameHost((UURI)iter.next(), u)){\n&gt;                      return true;\n&gt;              }\n&gt;              // URI not in host scope, check via URI\n&gt;              UURI via = getVia(o);\n&gt;              if (via != null && isSameHost(((UURI)iter.next()),\nvia)){\n&gt;                  return true;\n&gt;              }\n&gt;          }\n&gt;          return false;\n&gt;      }\n&gt; \n&gt;      private UURI getVia(Object o){\n&gt;          if (o instanceof CandidateURI) {\n&gt;              return ((CandidateURI) o).getVia();\n&gt;          }\n&gt;          return null;\n&gt;      }\n&gt; }\n&gt; \n&gt; If you want to write a scope that will do +N hops away, then it will\nbe a bit more complicated since \n&gt; you will need extra tracking of not-in-scope URIs.\n&gt; \n&gt; Let us if we can help more.\n&gt; i.\n&gt; \n&gt; P.S.\n&gt; 1. LowercaseRule changes the entire URI string to lowercase.\n&gt; 2. max-refferal-hops limits crawling of redirects that are out of\nscope.\n&gt; \n&gt; \n&gt; &gt; Thanks for wonderful crawler.  I am trying to figure out the way\nto\n&gt; &gt; crawl the website (domain scope) + 1 external hop, not only the\n&gt; &gt; embedded image, also the html links.\n&gt; &gt; \n&gt; &gt; I have been messing with SurtScope, surtfilter + pathdepth filter\non\n&gt; &gt; prefetch processor with broad scope.  Not much luck, ends up\ncrawling\n&gt; &gt; everything until max-link-hop reach.\n&gt; &gt; \n&gt; &gt; I read through on the wiki about NewScopingModel and problems with\n&gt; &gt; current scope.\n&gt; &gt; \n&gt; &gt; Any pointer or direction would be really appreciated.  \n&gt; &gt; \n&gt; &gt; on the side note, here are some question I couldn&#39;t find the\nanswer for\n&gt; &gt; 1. Does the LowercaseRule change lower case only to the domain\nportion\n&gt; &gt; of the url or the whole string ??\n&gt; &gt; 2. What is the  max-referral-hops for under the transitiveFilter\n??\n&gt; &gt; \n&gt; &gt; Thanks again,\n&gt; &gt; Jay\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n\n\n\n"}}