{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":163406187,"authorName":"Kristinn Sigurdsson","from":"&quot;Kristinn Sigurdsson&quot; &lt;kris@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"zVQpzaMSxyNKpCK0w1H1S3AuMJCK_d-G-yCfnmH1QJcqV15_khzZCbFqooiOeC9zpzz0PddVMSKb3fHH_BxJKkqZ98_mDBjCIpRO_5MEuQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: java.lang.OutOfMemoryError: Java heap space With Heritrix 1.14.1 and","postDate":"1219856342","msgId":5428,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGc5NDE0bStnYWZlQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGc5Mzlkays2Nm9zQGVHcm91cHMuY29tPg=="},"prevInTopic":5427,"nextInTopic":5429,"prevInTime":5427,"nextInTime":5429,"topicId":5427,"numMessagesInTopic":8,"msgSnippet":"I ve seen this behavior in some of our larger production crawls. The error is mostly harmless unless (and until) the OOME occurs in the Berkley DB code, at","rawEmail":"Return-Path: &lt;kris@...&gt;\r\nX-Sender: kris@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 12259 invoked from network); 27 Aug 2008 16:59:02 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m45.grp.scd.yahoo.com with QMQP; 27 Aug 2008 16:59:02 -0000\r\nX-Received: from unknown (HELO n21a.bullet.scd.yahoo.com) (66.94.237.50)\n  by mta18.grp.scd.yahoo.com with SMTP; 27 Aug 2008 16:59:02 -0000\r\nX-Received: from [66.218.69.4] by n21.bullet.scd.yahoo.com with NNFMP; 27 Aug 2008 16:59:02 -0000\r\nX-Received: from [66.218.66.76] by t4.bullet.scd.yahoo.com with NNFMP; 27 Aug 2008 16:59:02 -0000\r\nDate: Wed, 27 Aug 2008 16:59:02 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;g9414m+gafe@...&gt;\r\nIn-Reply-To: &lt;g939dk+66os@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Kristinn Sigurdsson&quot; &lt;kris@...&gt;\r\nSubject: Re: java.lang.OutOfMemoryError: Java heap space With Heritrix 1.14.1 and\r\nX-Yahoo-Group-Post: member; u=163406187; y=hJVnUo6a-4fxr_E_ARXw45CaVUJNj7MMdvCD0yAgoq4-02AA\r\nX-Yahoo-Profile: kristsi25\r\n\r\nI&#39;ve seen this behavior in some of our larger production crawls. The\nerror =\r\nis mostly harmless unless (and until) the OOME occurs in the\nBerkley DB cod=\r\ne, at which point your crawl is toast.\n\nThe only solution I&#39;ve found is to =\r\nlower the number of toe threads.\nUsing 1.4 GB heap and 40-50 toe threads th=\r\nis error would usually occur\nwithin several hours (6 on the outside) in our=\r\n crawls. Dropping the\nnumber of toe threads to 20 seemed to avoid the issue=\r\n with only a\nmarginal (10-15%) loss of performance. YMMV.\n\n- Kris\n\n--- In a=\r\nrchive-crawler@yahoogroups.com, &quot;rhispm&quot; &lt;rhispm@...&gt; wrote:\n&gt;\n&gt; As request=\r\ned by Gordon Mohr I&#39;m posting this bug report here.\n&gt; I&#39;m getting the above=\r\n error message after crawling \n&gt; 79333 URIs (for ~50mins) with currently 40=\r\n1922 queued. Once this alert\n&gt; occures, the currnent job is paused, and I h=\r\nave to manually Resume the\n&gt; job from the web interface (upon which it runs=\r\n for another couple of\n&gt; minutes before encountering the same issue again).=\r\n \n&gt; Btw. Starting heritrix with 512MB or 1G Heap sizes only helps in a way\n=\r\n&gt; that it takes longer until the OOME occures, i.e. ~3hrs with 1G heap,\n&gt; b=\r\nut it still happens)\n&gt; \n&gt; The seed file I&#39;m using (random.urls) has 1842 se=\r\neds in it.\n&gt; \n&gt; Since Gordon said that crawls of this size should not be a =\r\nproblem at\n&gt; all I&#39;m wondering what I might be doing wrong.\n&gt; \n&gt; If you nee=\r\nd more information than what is below I&#39;m glad to provide it.\n&gt; \n&gt; cheers\n&gt;=\r\n --pm\n&gt; \n&gt; System information:\n&gt; \n&gt; Heritirx runs as:\n&gt; /usr/bin/../bin/jav=\r\na -Dje.disable.java.adler32=3Dtrue\n&gt; -Dheritrix.home=3D/opt/heritrix-1.14.1=\r\n\n&gt; -Djava.protocol.handler.pkgs=3Dorg.archive.net\n&gt; -Dheritrix.out=3D/opt/h=\r\neritrix-1.14.1/heritrix_out.log -Xmx256m\n&gt; -Dcom.sun.management.jmxremote.p=\r\nort=3D8849\n&gt; -Dcom.sun.management.jmxremote.ssl=3Dfalse\n&gt; -Dcom.sun.managem=\r\nent.jmxremote.authenticate=3Dfalse\n&gt; org.archive.crawler.Heritrix -a a:a\n&gt; =\r\n\n&gt; Java is:\n&gt; /usr/bin/../bin/java -version\n&gt; java version &quot;1.5.0_05&quot;\n&gt; Jav=\r\na(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_05-b05)\n&gt; Java H=\r\notSpot(TM) Client VM (build 1.5.0_05-b05, mixed mode)\n&gt; \n&gt; Stack Trace:\n&gt; T=\r\nime:   \t Aug. 27, 2008 09:40:34 GMT\n&gt; Level:  \tSEVERE\n&gt; Message:  \t\n&gt; \n&gt; Se=\r\nrious error occured trying to process &#39;CrawlURI\n&gt; http://www.thesun.co.uk/s=\r\nol/homepage/travel/article1090682.ece LLLL\n&gt; http://www.thesun.co.uk/sol/ho=\r\nmepage/travel/article1321172.ece in\n&gt; ExtractorHTML&#39;\n&gt; [ToeThread #16:\n&gt; ht=\r\ntp://www.thesun.co.uk/sol/homepage/travel/article1090682.ece\n&gt;  CrawlURI\n&gt; =\r\nhttp://www.thesun.co.uk/sol/homepage/travel/article1090682.ece LLLL\n&gt; http:=\r\n//www.thesun.co.uk/sol/homepage/travel/article1321172.ece    0\n&gt; attempts\n&gt;=\r\n     in processor: ExtractorHTML\n&gt;     ACTIVE for 683ms\n&gt;     step: ABOUT_T=\r\nO_BEGIN_PROCESSOR for 203ms\n&gt;     java.lang.Thread.dumpThreads(Native Metho=\r\nd)\n&gt;     java.lang.Thread.getStackTrace(Thread.java:1383)\n&gt;     org.archive=\r\n.crawler.framework.ToeThread.reportTo(ToeThread.java:514)\n&gt;     org.archive=\r\n.crawler.framework.ToeThread.reportTo(ToeThread.java:592)\n&gt;     org.archive=\r\n.util.DevUtils.extraInfo(DevUtils.java:65)\n&gt;    \n&gt; org.archive.crawler.fram=\r\nework.ToeThread.seriousError(ToeThread.java:230)\n&gt;    \n&gt;\norg.archive.crawle=\r\nr.framework.ToeThread.processCrawlUri(ToeThread.java:325)\n&gt;     org.archive=\r\n.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; ]\n&gt;            times=\r\ntamp  discovered      queued   downloaded      \n&gt; doc/s(avg)  KB/s(avg)   d=\r\nl-failures   busy-thread   mem-use-KB \n&gt; heap-size-KB   congestion   max-de=\r\npth   avg-depth\n&gt; 2008-08-27T09:40:34Z      483770      401760        79299=\r\n     \n&gt; 23.45(26.4)   692(662)             0            25       181503    =\r\n  \n&gt;  260160        44.48       64038          73\n&gt;  (in thread &#39;ToeThread =\r\n#16:\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1090682.ece&#39;; in\n=\r\n&gt; processor &#39;ExtractorHTML&#39;)\n&gt; \n&gt; Exception:  \t\n&gt; \n&gt; java.lang.OutOfMemoryE=\r\nrror: Java heap space\n&gt; Stacktrace: java.lang.OutOfMemoryError: Java heap s=\r\npace\n&gt; \n&gt; Changes in order.xml (options changed from default):\n&gt; &lt;name&gt;\n&gt; &lt;=\r\ndescription&gt;\n&gt; &lt;date&gt;\n&gt; &lt;integer name=3D&quot;max-toe-threads&quot;&gt;25&lt;/integer&gt;\n&gt; &lt;s=\r\ntring name=3D&quot;seedsfile&quot;&gt;random.urls&lt;/string&gt;\n&gt; &lt;integer name=3D&quot;max-hops&quot;&gt;=\r\n5&lt;/integer&gt;\n&gt; &lt;string name=3D&quot;user-agent&quot;&gt;\n&gt; &lt;string name=3D&quot;from&quot;&gt;\n&gt; &lt;newO=\r\nbject name=3D&quot;robots-honoring-policy&quot;\n&gt; class=3D&quot;org.archive.crawler.datamo=\r\ndel.RobotsHonoringPolicy&quot;&gt;\n&gt; &lt;string name=3D&quot;type&quot;&gt;most-favored&lt;/string&gt;\n&gt; =\r\n&lt;long name=3D&quot;max-length-bytes&quot;&gt;102400&lt;/long&gt;\n&gt; &lt;long name=3D&quot;max-size-byte=\r\ns&quot;&gt;1000000000&lt;/long&gt;\n&gt; &lt;stringList name=3D&quot;path&quot;&gt;\n&gt; &lt;string&gt;/var/crawl/rand=\r\nom&lt;/string&gt;\n&gt; &lt;/stringList&gt;\n&gt;\n\n\n\n"}}