{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":127529970,"authorName":"Steven A Rowe","from":"Steven A Rowe &lt;sarowe@...&gt;","replyTo":"LIST","senderId":"F5j7TjUc-NgB8dqjv5K59vpiNIojw_66x1AiYDrTJj4ZrPeEpQ96ydmjfiG4O2N6B53gvUH3h1a8ZYYc6p0vE4MIShql","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Decide rules","postDate":"1262025064","msgId":6249,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIzMDlAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1Pg==","inReplyToHeader":"PDZhMDI5ZTJkMDkxMjI4MDgzNXM1MDEzNmZmMHg3ODA2ZmVlMzIyZWNmNGU4QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIyRkJAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1PgkgPDZhMDI5ZTJkMDkxMjI2MTAyOG03MGJkNTE5YW0zNGNhMzRmNDEwNmZkMjFAbWFpbC5nbWFpbC5jb20+CSA8MkQxMjdGMTFEQzc5NzE0RTlCNkE0M0FDOTQ1ODE0N0YzMjc2QjMwM0BzdWV4MDctbWJ4LTAzLmFkLnN5ci5lZHU+IDw2YTAyOWUyZDA5MTIyODA4MzVzNTAxMzZmZjB4NzgwNmZlZTMyMmVjZjRlOEBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":6248,"nextInTopic":6250,"prevInTime":6248,"nextInTime":6250,"topicId":6240,"numMessagesInTopic":14,"msgSnippet":"Hi Anas, You re right, the sequence effect is not OR.  I don t know enough about the language of process flows to put the right label on what Heritrix is doing","rawEmail":"Return-Path: &lt;sarowe@...&gt;\r\nX-Sender: sarowe@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 25676 invoked from network); 28 Dec 2009 18:31:11 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m3.grp.sp2.yahoo.com with QMQP; 28 Dec 2009 18:31:11 -0000\r\nX-Received: from unknown (HELO smtp2.syr.edu) (128.230.18.92)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Dec 2009 18:31:11 -0000\r\nX-Received: from suex07-hub-01.ad.syr.edu (suex07-hub-01.ad.syr.edu [128.230.108.195])\n\tby smtp2.syr.edu (8.14.3/8.14.3) with ESMTP id nBSIVAvM031256\n\t(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 28 Dec 2009 13:31:10 -0500\r\nX-Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by\n suex07-hub-01.ad.syr.edu ([2002:80e6:6cc3::80e6:6cc3]) with mapi; Mon, 28 Dec\n 2009 13:31:10 -0500\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nDate: Mon, 28 Dec 2009 13:31:04 -0500\r\nThread-Topic: [archive-crawler] Decide rules\r\nThread-Index: AcqH28/CUyVzwuHzRCaCjWrRnDmw0AADyBow\r\nMessage-ID: &lt;2D127F11DC79714E9B6A43AC9458147F3276B309@...&gt;\r\nReferences: &lt;2D127F11DC79714E9B6A43AC9458147F3276B2FB@...&gt;\n\t &lt;6a029e2d0912261028m70bd519am34ca34f4106fd21@...&gt;\n\t &lt;2D127F11DC79714E9B6A43AC9458147F3276B303@...&gt;\n &lt;6a029e2d0912280835s50136ff0x7806fee322ecf4e8@...&gt;\r\nIn-Reply-To: &lt;6a029e2d0912280835s50136ff0x7806fee322ecf4e8@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nacceptlanguage: en-US\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166 definitions=2009-12-28_08:2009-12-12,2009-12-28,2009-12-28 signatures=0\r\nX-Proofpoint-Spam-Reason: safe\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Steven A Rowe &lt;sarowe@...&gt;\r\nSubject: RE: [archive-crawler] Decide rules\r\nX-Yahoo-Group-Post: member; u=127529970; y=wIMPb0RrEfuqGIaShSssvt1TU1sKSxskgC2Vq2oDa_KeC3ZtQazQGA\r\n\r\nHi Anas,\n\nYou&#39;re right, the sequence effect is not OR.  I don&#39;t know enough=\r\n about the language of process flows to put the right label on what Heritri=\r\nx is doing :).\n\nI would like to be able to write rules (not code) that allo=\r\nw me to stamp REJECT on URIs that have content type text/html AND are large=\r\nr than 10MB, and PASS for everything else.  How can I do that?\n\nSteve\n\nOn 1=\r\n2/28/2009 at 11:35 AM, anas elghafari wrote:\n&gt; \n&gt; \n&gt; I don&#39;t think the effe=\r\nct of the sequence is OR. Every rule stamps the\n&gt; URI with ACCEPT, REJECT o=\r\nr PASS. And the last non-pass is the operative\n&gt; judgment. So I don&#39;t quite=\r\n understand the problem. Just have your rules\n&gt; stamp REJECT on what you do=\r\nn&#39;t like, and PASS on everything else... and\n&gt; this gives the effect of com=\r\nbining the reject rules with &quot;AND&quot;\n&gt; \n&gt; \n&gt; On Sat, Dec 26, 2009 at 9:05 PM,=\r\n Steven A Rowe &lt;sarowe@...&gt; wrote:\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \tHi Anas,\n&gt; \n&gt; \tI was =\r\nhoping that you (or someone else on this list) would say\n&gt; that I was missi=\r\nng something that would allow me to only write rules,\n&gt; and not have to wri=\r\nte code.\n&gt; \n&gt; \tCombining multiple conditions together seems like such a bas=\r\nic\n&gt; requirement I&#39;m surprised it doesn&#39;t already exist - something like th=\r\ne\n&gt; ability to override the logical operator on DecideRuleSequence\n&gt; (curre=\r\nntly hardwired to OR) to other possibilities like AND. Then I\n&gt; could write=\r\n something like (pardon the pseudocode):\n&gt; \n&gt; \tOrDecideRuleSequence : decis=\r\nion=3DLASTMATCH \tRejectDecideRule\n&gt; \tSurtPrefixedDecideRule : seedsAsSurtPr=\r\nefixes=3Dtrue ; decision=3DACCEPT\n&gt; \tAndDecideRuleSequence : decision=3DREJ=\r\nECT\n&gt; \tContentTypeMatchesRegexDecideRule : regex=3Dtext/html\n&gt; \tExceedsDocu=\r\nmentLengthThresholdDecideRule \t:\n&gt; contentLengthThreshold=3D10000000 \tAndDe=\r\ncideRuleSequence : decision=3DREJECT\n&gt; \tContentTypeMatchesRegexDecideRule :=\r\n regex=3Dtext/plain\n&gt; \tExceedsDocumentLengthThresholdDecideRule \t:\n&gt; conten=\r\ntLengthThreshold=3D100000\n&gt; \n&gt; \tIs this a bad idea?\n&gt; \n&gt; \tSteve\n&gt; \n&gt; \n&gt; \n&gt; =\r\n\tOn 12/26/2009 at 1:28 PM, anas elghafari wrote: \t&gt; \t&gt; \t&gt; You can write\n&gt; y=\r\nour own decideRules that subclass the DecideRule, and you \t&gt; overwrite\n&gt; th=\r\ne decisionFor(Object o) method. In the decisionFor(Object o) \t&gt; you\n&gt; check=\r\n if the Object is a CrawlURI, if so you typecast into CrawlURI \t&gt;\n&gt; and the=\r\nn you will be able to check the contenttype and content size \t&gt;\n&gt; (look at =\r\nCrawlURI API). And you can issue decesion REJECT for the uris\n&gt; \t&gt; that don=\r\n&#39;t fulfill you criteria. \t&gt; \t&gt; You can also do this by adding\n&gt; a processor=\r\n, where -in your overwriting \t&gt; of innerProcess(CrawlURI\n&gt; curi)- you check=\r\n the type and size and then you \t&gt; reject those URIs you\n&gt; don&#39;t want to pr=\r\nocess by calling \t&gt;\n&gt; curi.skipToProcessorChain(getCrawlController().getPos=\r\ntProcessorChain())\n&gt; \t&gt; \t&gt; beware that DecideRules/Filter inserted before t=\r\nhe extraction will\n&gt; \t&gt; prevent the CrawlJob from ever getting to Uris that=\r\n are acceptable,\n&gt; \t&gt; because the path to them goes through URIs that are n=\r\not. \t&gt; \t&gt; Anas\n&gt; \t&gt; \t&gt; On Wed, Dec 23, 2009 at 1:48 AM, Steven A Rowe &lt;saro=\r\nwe@...\n&gt; &lt;mailto:sarowe%40syr.edu&gt; &gt; wrote: \t&gt; \t&gt; Hi, \t&gt; \t&gt; I want to w=\r\nrite\n&gt; decide-rules that reject resources based on two \t&gt; conditions:\n&gt; con=\r\ntent-length and content-type (e.g., text/html resources \t&gt; larger\n&gt; than 10=\r\nMB, and text/plain resources larger than 100KB), but I \t&gt; can&#39;t\n&gt; find any =\r\nway to logically AND rule subsets together. \t&gt; \t&gt; Is there a\n&gt; way to write=\r\n decide-rules that would achieve what I \t&gt; want? Should I be\n&gt; using Script=\r\nedDecideRules? \t&gt; \t&gt; Thanks (for your patience with a\n&gt; newbie), \t&gt; Steve\n&gt;=\r\n \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n\n\n"}}