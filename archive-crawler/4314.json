{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":241416423,"authorName":"Andrea Goethals","from":"&quot;Andrea Goethals&quot; &lt;andrea_goethals@...&gt;","replyTo":"LIST","senderId":"_KVOPsrBmySkZuDrL7DgaUnBPKbC4n48PBBCi4xWVpU6PgP4bjm7av7Pc7gSvR-p6OVZ7OSu98qYocCCpDC8rC3cy3ZFMuAzbFtDt8pbeeX9NlHv4_A","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] many questions about hcc","postDate":"1181933433","msgId":4314,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDVhMWMzNGFhMDcwNjE1MTE1MGcxZTAwYjc4MW82MTk0YzkwMDEyOTYyZDMxQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDQ2NzE5RDJDLjMwMEBkdWJvY2UubmV0Pg==","referencesHeader":"PDVhMWMzNGFhMDcwNTI1MTQxMXYxOTljZTVhZXI2NDU5YTY2Njc4ZGNlMzE3QG1haWwuZ21haWwuY29tPgkgPDQ2NTc3MTFGLjYwMjA4MDdAZHVib2NlLm5ldD4JIDw1YTFjMzRhYTA3MDYxMjEyMTR3NDFlYjQ5ODVxNjAyZDc1NmViOGY4NGQzNEBtYWlsLmdtYWlsLmNvbT4JIDw1YTFjMzRhYTA3MDYxMzA5NDBpMjk2ODJhMzl5ZWE4ODYyZDk2ZDc2NWExOEBtYWlsLmdtYWlsLmNvbT4JIDw0NjcxOUQyQy4zMDBAZHVib2NlLm5ldD4="},"prevInTopic":4309,"nextInTopic":4315,"prevInTime":4313,"nextInTime":4315,"topicId":4274,"numMessagesInTopic":7,"msgSnippet":"Hi, ... Yes it does show up in JConsole ... Yes, the string the HCC code is querying on should match the name that you see in the Info tab in JConsole. The","rawEmail":"Return-Path: &lt;diglibrary@...&gt;\r\nX-Sender: diglibrary@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 12347 invoked from network); 15 Jun 2007 18:50:34 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m47.grp.scd.yahoo.com with QMQP; 15 Jun 2007 18:50:34 -0000\r\nReceived: from unknown (HELO nz-out-0506.google.com) (64.233.162.226)\n  by mta8.grp.scd.yahoo.com with SMTP; 15 Jun 2007 18:50:34 -0000\r\nReceived: by nz-out-0506.google.com with SMTP id s1so872738nze\n        for &lt;archive-crawler@yahoogroups.com&gt;; Fri, 15 Jun 2007 11:50:34 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;\n        b=pSVBLvIgtHy/ghiQP7RNpANO3sMYNB8oAb8KBuvIuJS/QAOC9b5VTbaz6MIdZA94VEpdPyRCClmp2ZomCQ3+/xDlaIcWbsTm8qMqDp8GT7fonmYo6PiF1ZXQ0uVUcEkzjkoV8r839DBfYUabAqRnuWtrMGHNJcNgDcMGgGXOYuM=\r\nReceived: by 10.114.133.1 with SMTP id g1mr3311905wad.1181933433799;\n        Fri, 15 Jun 2007 11:50:33 -0700 (PDT)\r\nReceived: by 10.114.131.18 with HTTP; Fri, 15 Jun 2007 11:50:33 -0700 (PDT)\r\nMessage-ID: &lt;5a1c34aa0706151150g1e00b781o6194c90012962d31@...&gt;\r\nDate: Fri, 15 Jun 2007 14:50:33 -0400\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;46719D2C.300@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;5a1c34aa0705251411v199ce5aer6459a66678dce317@...&gt;\n\t &lt;4657711F.6020807@...&gt;\n\t &lt;5a1c34aa0706121214w41eb4985q602d756eb8f84d34@...&gt;\n\t &lt;5a1c34aa0706130940i29682a39yea8862d96d765a18@...&gt;\n\t &lt;46719D2C.300@...&gt;\r\nX-Google-Sender-Auth: 1c2a13652628078f\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Andrea Goethals&quot; &lt;andrea_goethals@...&gt;\r\nSubject: Re: [archive-crawler] many questions about hcc\r\nX-Yahoo-Group-Post: member; u=241416423\r\n\r\nHi,\n\nOn 6/14/07, Michael Stack &lt;stack@...&gt; wrote:\n&gt;\n&gt; Odd.\n&gt;\n&gt;  You say you&#39;ve done a programmatic listing but perhaps JConsole will\n&gt;  give you a clue as to whats up.  If you pause after the registration and\n&gt;  init of the ClusterControllerBean on port 8849, does it show in\n&gt;  JConsole?\n\nYes it does show up in JConsole\n\n&gt;   If so, is the string the client is using to query the mbean\n&gt;  appropriate.\n\nYes, the string the HCC code is querying on should match the name that\nyou see in the Info tab in JConsole. The reason it doesn&#39;t match\nanything is when I insert a listing of all the names (by doing a\nconnection.queryNames(null,null)) and printing the names out before\nthe query on the ClusterControllerBean name, the crawlers names all\nshow up but the ClusterControllerBean doesn&#39;t.\n\n&gt;\n&gt;  Anything other than Heritrix or hcc running in these JVMs?\n\nno. The heritrix instances are each started up by a slight variation\nof the heritrix command-line script. The hcc is started up via a bash\nscript that calls my Java class that creates the ClusterControllerBean\nand Client.\n\nSomething\n&gt;  that is putting up its own JMX Agent (A JBoss or a Tomcat, etc.): i.e.\n&gt;  if more than one JMX Agent running in JVM, one might catch the Heritrix\n&gt;  bean registrations, while other catches registration of hcc beans?\n\nI don&#39;t see how that could happen. They&#39;re just running as stand-alone\nprograms outside of anything like JBoss or Tomcat. The only thing I\nknow is that if I pick any port for the ClusterControllerBean & Client\nto share that is different from any used by the Crawlers it works.\n\nAndrea\n\n&gt;\n&gt;  Both of the above are stretches but, as with you, I am a little\n&gt;  stumped.  I see no reason why port should make a difference.\n&gt;  St.Ack\n&gt;\n&gt;  Andrea Goethals wrote:\n&gt;  &gt;\n&gt;\n&gt;  &gt; I think I solved the hcc problem I wrote about yesterday - here was\n&gt;  &gt; the problem & exception:\n&gt;  &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; The thing I haven&#39;t been able to get working is the hcc\n&gt;  &gt; &gt; ClusterControllerClient. If I do the same thing as in the jndi doc:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; public void main(String[] args){\n&gt;  &gt; &gt; //initialize the cluster controller bean\n&gt;  &gt; &gt; ClusterControllerBean ccbean = new ClusterControllerBean();\n&gt;  &gt; &gt; ccbean.init();\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; //obtain a handle to the cluster controller client.\n&gt;  &gt; &gt; ClusterControllerClient cc =\n&gt;  &gt; &gt; ClusterControllerClientManager.getDefaultClient();\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; ...\n&gt;  &gt; &gt; }\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; I get an exception on the getDefaultClient part:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Started ClusterControllerBean\n&gt;  &gt; &gt; Jun 12, 2007 2:29:11 PM\n&gt;  &gt; &gt; org.archive.hcc.util.jmx.MBeanServerConnectionFactory\n&gt;  &gt; &gt; createJMXServiceUrl\n&gt;  &gt; &gt; INFO: service url:\n&gt;  &gt; &gt;\n&gt;  &gt; service:jmx:rmi://chaz.hul.harvard.edu:8849/jndi/rmi://chaz.hul.harvard.edu:8849/jmxrmi\n&gt;  &gt; &lt;rmi://chaz.hul.harvard.edu:8849/jndi/rmi://chaz.hul.harvard.edu:8849/jmxrmi&gt;\n&gt;  &gt; &gt; Jun 12, 2007 2:29:11 PM\n&gt;  &gt; &gt; org.archive.hcc.util.jmx.MBeanServerConnectionFactory createConnection\n&gt;  &gt; &gt; INFO: successfully created mbeanServerConnection on\n&gt;  &gt; &gt; chaz.hul.harvard.edu/128.103.151.249:8849\n&gt;  &gt; &gt; javax.management.InstanceNotFoundException: no mbean found matching\n&gt;  &gt; &gt; query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n&gt;  &gt; &gt; at\n&gt;  &gt; edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\n&gt;  &gt; &gt; java.lang.RuntimeException:\n&gt;  &gt; &gt; javax.management.InstanceNotFoundException: no mbean found matching\n&gt;  &gt; &gt; query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:113)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n&gt;  &gt; &gt; at\n&gt;  &gt; edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\n&gt;  &gt; &gt; Caused by: javax.management.InstanceNotFoundException: no mbean found\n&gt;  &gt; &gt; matching query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n&gt;  &gt; &gt; ... 3 more\n&gt;  &gt; &gt; Jun 12, 2007 2:29:11 PM\n&gt;  &gt; &gt; org.archive.hcc.client.ClusterControllerClientManager getDefaultClient\n&gt;  &gt; &gt; SEVERE: : javax.management.InstanceNotFoundException: no mbean found\n&gt;  &gt; &gt; matching query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; Exception in thread &quot;main&quot; java.lang.RuntimeException:\n&gt;  &gt; &gt; java.lang.RuntimeException:\n&gt;  &gt; &gt; javax.management.InstanceNotFoundException: no mbean found matching\n&gt;  &gt; &gt; query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:80)\n&gt;  &gt; &gt; at\n&gt;  &gt; edu.harvard.hul.ois.wax.crawl.CrawlController.main(CrawlController.java:48)\n&gt;  &gt; &gt; Caused by: java.lang.RuntimeException:\n&gt;  &gt; &gt; javax.management.InstanceNotFoundException: no mbean found matching\n&gt;  &gt; &gt; query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:113)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.&lt;init&gt;(ClusterControllerClientImpl.java:89)\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientManager.getDefaultClient(ClusterControllerClientManager.java:70)\n&gt;  &gt; &gt; ... 1 more\n&gt;  &gt; &gt; Caused by: javax.management.InstanceNotFoundException: no mbean found\n&gt;  &gt; &gt; matching query:org.archive.hcc:type=ClusterControllerBean,*\n&gt;  &gt; &gt; at\n&gt;  &gt; org.archive.hcc.client.ClusterControllerClientImpl.init(ClusterControllerClientImpl.java:100)\n&gt;  &gt; &gt; ... 3 more\n&gt;  &gt; &gt; Jun 12, 2007 2:30:11 PM org.archive.hcc.ClusterControllerBean$3 run\n&gt;  &gt; &gt; INFO: running poll task...\n&gt;  &gt; &gt;\n&gt;  &gt;\n&gt;  &gt; I changed the JMX port for the hcc ClusterControllerBean &\n&gt;  &gt; ClusterControllerClient so that they are the same as each other but\n&gt;  &gt; different than the crawlers. I&#39;d just like to verify with someone that\n&gt;  &gt; that&#39;s how its supposed to work, so for example:\n&gt;  &gt; All heritrix instances use JMX port x (like 8849)\n&gt;  &gt; The hcc controller bean & client communincate on a different port\n&gt;  &gt; (like 8850)\n&gt;  &gt;\n&gt;  &gt; I thought different applications could use the same JMX port but if I\n&gt;  &gt; use 8849 for all of the above, when I programatically list all the\n&gt;  &gt; registered names at that host/JMX port only the crawlers show up.\n&gt;  &gt;\n&gt;  &gt; I think it works for me that all the heritrix crawlers use the same\n&gt;  &gt; JMX port because they are running on different machines. Following the\n&gt;  &gt; no app can use the same JMX port thing, if I have multiple heritrix\n&gt;  &gt; containers running on the same machine - they would have to use\n&gt;  &gt; different JMX ports, right?\n&gt;  &gt;\n&gt;  &gt; thanks,\n&gt;  &gt; Andrea\n&gt;  &gt;\n&gt;  &gt;\n&gt;\n&gt;\n&gt;\n&gt;                   \n\n"}}