{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"I686fz9h-NocHEheAAoG5qOdc_d_7LmGNRscsM4UJEdfdfmQATI1lCg5Mt4TYtn-JAXABPqjZ_Mz6nqjpCXe7TAjVUfB2O0","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: existance of something like DomainQueueAssignementPolicy","postDate":"1176881411","msgId":4132,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MjVDOTAzLjEwNzA4MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGYwNGdibitmdWZsQGVHcm91cHMuY29tPg==","referencesHeader":"PGYwNGdibitmdWZsQGVHcm91cHMuY29tPg=="},"prevInTopic":4131,"nextInTopic":4138,"prevInTime":4131,"nextInTime":4133,"topicId":3962,"numMessagesInTopic":8,"msgSnippet":"The 5-letter-rule sounds interesting, though I m sure there are exceptions. I recently learned of an effort at Mozilla to determine a set of rules for","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 81559 invoked from network); 18 Apr 2007 07:30:09 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m44.grp.scd.yahoo.com with QMQP; 18 Apr 2007 07:30:09 -0000\r\nReceived: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta10.grp.scd.yahoo.com with SMTP; 18 Apr 2007 07:30:09 -0000\r\nReceived: (qmail 56506 invoked from network); 18 Apr 2007 07:29:57 -0000\r\nReceived: from 193.252.168.107 (HELO ?192.168.1.108?) (193.252.168.107)\n  by relay03.pair.com with SMTP; 18 Apr 2007 07:29:57 -0000\r\nX-pair-Authenticated: 193.252.168.107\r\nMessage-ID: &lt;4625C903.1070808@...&gt;\r\nDate: Wed, 18 Apr 2007 00:30:11 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (Windows/20070221)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f04gbn+fufl@...&gt;\r\nIn-Reply-To: &lt;f04gbn+fufl@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: existance of something like DomainQueueAssignementPolicy\r\nX-Yahoo-Group-Post: member; u=137285340; y=0_Zjc_ZYCiVaNdyxXmqMglF6OmFADZO3rykxqWgFNqjQ\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe &#39;5-letter-rule&#39; sounds interesting, though I&#39;m sure there are \nexceptions.\n\nI recently learned of an effort at Mozilla to determine a set of rules \nfor finding the &quot;effective Top Level Domain&quot;, essentially what domain is \nthe fan-out point for delegation/registration by independent \nadministrators. See:\n\n   http://wiki.mozilla.org/Gecko:Effective_TLD_Service\n\nIf that effort bears fruit, it should provide rules that could be reused \nfor crawling.\n\n- Gordon @ IA\n\npandae667 wrote:\n&gt; Thanks alot Bjarne for sharing your implementation,\n&gt; \n&gt; but during further investigations towards #HER-1094 I came up with\n&gt; another idea that I think looks promising (but maybe I don&#39;t just see\n&gt; the caveats yet).\n&gt; \n&gt; The basic problem is &quot;what constitutes a reasonable domain partitioning&quot; ?\n&gt; Gordon brought up the example of &quot;foo.bar.baz.co.uk&quot; that for sure\n&gt; shouldn&#39;t be put in a &quot;co.uk&quot; queue but rather into a &quot;baz.co.uk&quot; queue.\n&gt; \n&gt; So my first naive approach would be:\n&gt; if the 2nd level domain consists of two or less letters also take the\n&gt; 3rd level domain into account.\n&gt; \n&gt; But this approach might introduce some unintended side effects -\n&gt; namely with two letter 2nd level domains under the hood of the general\n&gt; purpose top level domains like .com (for example aa.com).\n&gt; \n&gt; So the most convenient solution so far seems to me to be something\n&gt; like &quot;the resulting domain should be constructed  by as many domain\n&gt; levels as it takes so that the result contains at least consists of\n&gt; five letters&quot; (notwithstanding http://x.org that takes a special role...)\n&gt; \n&gt; examples:\n&gt; foo.bar.baz.example.com =&gt; example.com\n&gt; foo.bar.baz.example.co.uk =&gt; example.co.uk \n&gt; foo.bar.baz.aa.com &gt; aa.com\n&gt; x.org =&gt; x.org\n&gt; \n&gt; To make sure &quot;www.x.org&quot; and &quot;x.org&quot; both enter the same queue\n&gt; stripping any &quot;www[&#92;d]*&#92;.&quot; prefix afterwards might seem reasonable, too.\n&gt; \n&gt; I consider this idea as a &quot;request for discussion&quot; and hope to get\n&gt; some helpful comments.\n&gt; \n&gt; Regards\n&gt;   Olaf Freyer\n&gt; \n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, Bjarne Andersen &lt;bja@...&gt; wrote:\n&gt;&gt; We have implemented a simple version of this. It&#39;s attached to this\n&gt; mail (I&#39;m unsure if attachments get removed)\n&gt;&gt; We use that exactly to limit load on domain-level and to limit the\n&gt; overall number of fetches / bytes on domain-level (with the QuotaEnforcer \n&gt;&gt; module which has the notion of Groups following the\n&gt; QueueAssignmentPolicy)\n&gt;&gt; best\n&gt;&gt; -- \n&gt;&gt; Bjarne Andersen\n&gt;&gt; Daily Manager - netarchive.dk\n&gt;&gt;\n&gt;&gt; State & University Library\n&gt;&gt; Universitetsparken\n&gt;&gt; DK-8000 Aarhus C\n&gt;&gt; T: +45 89462165 - C: +45 25662353\n&gt;&gt; CVR/SE 10100682 - EAN 5798000791084\n&gt;&gt; http://netarchive.dk\n&gt;&gt;\n&gt;&gt; pandae667 wrote:\n&gt;&gt;&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; pandae667 wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Dear IA-Team,\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; I&#39;m wondering if there is something like a\n&gt;&gt;&gt;&gt;&gt; DomainQueueAssignementPolicy (I need this to make sure not to crawl\n&gt;&gt;&gt;&gt;&gt; more than one host located on the same domain at once - otherwise I\n&gt;&gt;&gt;&gt;&gt; might DoS customers that use loads of different sub-hostnames for\n&gt;&gt;&gt;&gt;&gt; different purposes.)\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; If nothing alike exists yet I&#39;d implement such a policy based upon\n&gt;&gt;&gt;&gt;&gt; SurtAuthorityQueueAssignmentPolicy.\n&gt;&gt;&gt;&gt; Nothing like that yet exists.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; If it is only an issue only for a certain known set of domains,\n&gt; you can \n&gt;&gt;&gt;&gt; use the &quot;force-queue-assignment&quot; frontier setting in a domain\n&gt; override \n&gt;&gt;&gt;&gt; to force all URIs in subdomains into the same queue.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; (Specifically: if this setting is non-empty, all URIs to which the \n&gt;&gt;&gt;&gt; setting applies will have this string, rather than the string\n&gt; given by \n&gt;&gt;&gt;&gt; the assignment-policy, as its queue name.)\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; A policy to do this would be a valuable contribution. Of course, for \n&gt;&gt;&gt;&gt; different top-level-domains the number of domain-segments that\n&gt; reflect \n&gt;&gt;&gt;&gt; &quot;same domain&quot; (in a meaningful shared-ownership sense) varies.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; - Gordon @ IA\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt; Hi Gordon,\n&gt;&gt;&gt;\n&gt;&gt;&gt; I do agree that it would be usefull to make such an AssignementPolicy\n&gt;&gt;&gt; configurable - but it seems to me like this isn&#39;t an available option.\n&gt;&gt;&gt; To offer something like addElementToDefinition the class would need to\n&gt;&gt;&gt; extend ComplexType - but currently those AssignementPolicies are based\n&gt;&gt;&gt; upon the abstract class QueueAssignementPolicy.\n&gt;&gt;&gt; Additionally to this shortcoming I don&#39;t know how the webUI\n&gt;&gt;&gt; would/should handle this case. The assignement policies are listed in\n&gt;&gt;&gt; a dropdown box on the settings page - thus propably offering no way to\n&gt;&gt;&gt; set additional options.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Regards\n&gt;&gt;&gt;   Olaf Freyer\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}