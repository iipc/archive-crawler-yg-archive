{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"RgUagfEwkrpUyGcJ943DYiWddIHViCCWgOBgb3u-y4bRpF-7fbihyuyvDsTklDaB08smQa7hn-jthIZFJ6N7xsyv8gHT","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: Heritrix &quot;hangs&quot; and doesn&#39;t finish its job","postDate":"1147767953","msgId":2865,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGU0YzJhaCt0bG1zQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGUzcG51OSsyaTUyQGVHcm91cHMuY29tPg=="},"prevInTopic":2845,"nextInTopic":2989,"prevInTime":2864,"nextInTime":2866,"topicId":2822,"numMessagesInTopic":9,"msgSnippet":"Hi everyone, its me again. I have managed to reproduce this problem with just one seed. The seed in question is:  http://www.chip.de/c1_navseite_12648189.html ","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 34596 invoked from network); 16 May 2006 08:28:17 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m26.grp.scd.yahoo.com with QMQP; 16 May 2006 08:28:17 -0000\r\nReceived: from unknown (HELO n29a.bullet.scd.yahoo.com) (209.73.160.86)\n  by mta10.grp.scd.yahoo.com with SMTP; 16 May 2006 08:28:17 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.4] by n29.bullet.scd.yahoo.com with NNFMP; 16 May 2006 08:25:54 -0000\r\nReceived: from [66.218.66.85] by t4.bullet.scd.yahoo.com with NNFMP; 16 May 2006 08:25:54 -0000\r\nDate: Tue, 16 May 2006 08:25:53 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;e4c2ah+tlms@...&gt;\r\nIn-Reply-To: &lt;e3pnu9+2i52@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;5-9509541833-2832987613=:3&quot;\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: Heritrix &quot;hangs&quot; and doesn&#39;t finish its job\r\nX-Yahoo-Group-Post: member; u=191387937; y=B1IGRx6unh4friV0BvMSVkLLKMARyB8E33wh9CeyBiCKIXjq\r\nX-Yahoo-Profile: pandae667\r\n\r\n\r\n--5-9509541833-2832987613=:3\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi everyone,\n\nits me again. I have managed to reproduce this problem with j=\r\nust one\nseed.\nThe seed in question is:  http://www.chip.de/c1_navseite_1264=\r\n8189.html\nThe order.xml to trigger the problem can be found at:\nhttp://user=\r\n.cs.tu-berlin.de/~aaron/order.xml\n\nWith this order.xml it takes about 5 sec=\r\nonds to trigger the problem for\nme (100% reproducable).\nI&#39;m using an out-of=\r\n-the-box heritrix-1.8.0 release without any special\ntweaks or changes.\n\nHer=\r\ne is the queue report I get:\n-----=3D=3D=3D=3D=3D STATS =3D=3D=3D=3D=3D----=\r\n-\nDiscovered:    492\nQueued:        134\nFinished:      30\nSuccessfully: 30\n=\r\nFailed:       0\nDisregarded:  0\n\n-----=3D=3D=3D=3D=3D QUEUES =3D=3D=3D=3D=\r\n=3D-----\nAlready included size:     492\npending:     0\n\nAll class queues ma=\r\np size: 5\nActive queues: 0\nIn-process: 0\nReady: 0\nSnoozed: 0\nInactive queue=\r\ns: 0\nRetired queues: 5\nExhausted queues: 0\n\n-----=3D=3D=3D=3D=3D IN-PROCESS=\r\n QUEUES =3D=3D=3D=3D=3D-----\nheritrix_out.log shows once again no sign of a=\r\nn exception.\n\nThx for any further help in resolving this problem\n   Olaf Fr=\r\neyer\n\n\n--- In archive-crawler@yahoogroups.com, &quot;pandae667&quot; &lt;aaron667@...&gt;\nw=\r\nrote:\n&gt;\n&gt; Hi everyone,\n&gt;\n&gt; I&#39;v dug some more through the Heritrix sources t=\r\no track down the\n&gt; problem but haven&#39;t found a solution yet. This problem s=\r\ntarts to get\n&gt; really annoying as it happens on almost every big crawl I&#39;m =\r\nrunning\n&gt; (500+ seeds) but rarly on small ones with less seeds.\n&gt;\n&gt; I haven=\r\n&#39;t found a cause yet but have some theories what might cause it\n&gt; (even tho=\r\nugh I might be totally wrong).\n&gt;\n&gt; The most propable theory so far is the f=\r\nollowing:\n&gt; Two ToeThreads working on different URIs from different queues =\r\ncome\n&gt; accross the same (so far unseen) URI at more or less &quot;the exact same=\r\n\n&gt; moment&quot;. Both threads come to the conclusion that their URI is new and\n&gt;=\r\n try to enqueue it in the currect queue. While doing this both of them\n&gt; in=\r\ncrement to queuedUriCount by 1 but the queue itself being smart\n&gt; enough on=\r\nly contains one of them.\n&gt;\n&gt; I&#39;ll increase logging to see if my theory migh=\r\nt be true and report\n&gt; back later.\n&gt;\n&gt;\n&gt; If anyone has any other idea in th=\r\ne meantime I&#39;ll be happy to hear\n&gt; about it.\n&gt;\n&gt; Thanks alot\n&gt;   Olaf Freye=\r\nr\n&gt;\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, &quot;pandae667&quot; aaron667@ wrote=\r\n:\n&gt; &gt;\n&gt; &gt; Hi everyone here at archive-crawler,\n&gt; &gt;\n&gt; &gt; I&#39;m experiencing a s=\r\ntrange problem with my crawler (heritrix cvs +\n&gt; &gt; AddRedirectFromRootServe=\r\nrToScope fix from Gordon). It happened to me\n&gt; &gt; twice so far.\n&gt; &gt;\n&gt; &gt; Afte=\r\nr about 1 hour it has fetched (allmost?) all the documents it is\n&gt; &gt; suppos=\r\ned to (about 9000 seeds and a limit of 100 documents per host)\n&gt; &gt; and then=\r\n just &quot;hangs&quot;.\n&gt; &gt;\n&gt; &gt; The Frontier Report tells me:\n&gt; &gt;\n&gt; &gt;  -----=3D=3D=\r\n=3D=3D=3D STATS =3D=3D=3D=3D=3D-----\n&gt; &gt;  Discovered:    1008968\n&gt; &gt;  Queue=\r\nd:        24\n&gt; &gt;  Finished:      432424\n&gt; &gt;   Successfully: 426289\n&gt; &gt;   Fa=\r\niled:       1565\n&gt; &gt;   Disregarded:  4570\n&gt; &gt;\n&gt; &gt;  -----=3D=3D=3D=3D=3D QUE=\r\nUES =3D=3D=3D=3D=3D-----\n&gt; &gt;  Already included size:     1008968\n&gt; &gt;       =\r\n         pending:     0\n&gt; &gt;\n&gt; &gt;  All class queues map size: 12872\n&gt; &gt;      =\r\n        Active queues: 0\n&gt; &gt;                     In-process: 0\n&gt; &gt;         =\r\n                 Ready: 0\n&gt; &gt;                        Snoozed: 0\n&gt; &gt;        =\r\n    Inactive queues: 0\n&gt; &gt;             Retired queues: 2226\n&gt; &gt;           E=\r\nxhausted queues: 10646\n&gt; &gt;\n&gt; &gt;  -----=3D=3D=3D=3D=3D IN-PROCESS QUEUES =3D=\r\n=3D=3D=3D=3D-----\n&gt; &gt;\n&gt; &gt; So there are still 24 queued URIs - but no active=\r\n queue left (last\n&gt; &gt; time a queue did anything was about 12 hours ago).\n&gt; =\r\n&gt;\n&gt; &gt; Thanks in advance for any ideas\n&gt; &gt;   Olaf Freyer\n&gt; &gt;\n&gt;\n\n\r\n--5-9509541833-2832987613=:3\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi everyone,&lt;br&gt;&lt;br&gt;its me again. I have managed to reproduce this problem =\r\nwith just one seed.&lt;br&gt;The seed in question is:&nbsp; http://www.chip.de/c1=\r\n_navseite_12648189.html&lt;br&gt;The order.xml to trigger the problem can be foun=\r\nd at: http://user.cs.tu-berlin.de/~aaron/order.xml&lt;br&gt;&lt;br&gt;With this order.x=\r\nml it takes about 5 seconds to trigger the problem for me (100% reproducabl=\r\ne).&lt;br&gt;I&#39;m using an out-of-the-box heritrix-1.8.0 release without any speci=\r\nal tweaks or changes.&lt;br&gt;&lt;br&gt;Here is the queue report I get:&lt;br&gt;&lt;pre&gt; -----=\r\n=3D=3D=3D=3D=3D STATS =3D=3D=3D=3D=3D-----&lt;br&gt; Discovered:    492&lt;br&gt; Queue=\r\nd:        134&lt;br&gt; Finished:      30&lt;br&gt;  Successfully: 30&lt;br&gt;  Failed:     =\r\n  0&lt;br&gt;  Disregarded:  0&lt;br&gt;&lt;br&gt; -----=3D=3D=3D=3D=3D QUEUES =3D=3D=3D=3D=\r\n=3D-----&lt;br&gt; Already included size:     492&lt;br&gt;               pending:     =\r\n0&lt;br&gt;&lt;br&gt; All class queues map size: 5&lt;br&gt;             Active queues: 0&lt;br&gt;=\r\n                    In-process: 0&lt;br&gt;                         Ready: 0&lt;br&gt; =\r\n                      Snoozed: 0&lt;br&gt;           Inactive queues: 0&lt;br&gt;      =\r\n      Retired queues: 5&lt;br&gt;          Exhausted queues: 0&lt;br&gt;&lt;br&gt; -----=3D=\r\n=3D=3D=3D=3D IN-PROCESS QUEUES =3D=3D=3D=3D=3D-----&lt;/pre&gt;&lt;br&gt;heritrix_out.l=\r\nog shows once again no sign of an exception.&lt;br&gt;&lt;br&gt;Thx for any further hel=\r\np in resolving this problem&lt;br&gt;&nbsp; Olaf Freyer&lt;br&gt;&lt;br&gt;&lt;br&gt;--- In archive=\r\n-crawler@yahoogroups.com, &quot;pandae667&quot; &lt;aaron667@...&gt; wrote:&lt;br&gt;&gt;&lt;b=\r\nr&gt;&gt; Hi everyone,&lt;br&gt;&gt; &lt;br&gt;&gt; I&#39;v dug some more through the Heritrix=\r\n sources to track down the&lt;br&gt;&gt; problem but haven&#39;t found a solution yet=\r\n. This problem starts to get&lt;br&gt;&gt; really annoying as it happens on almos=\r\nt every big crawl I&#39;m running&lt;br&gt;&gt; (500+ seeds) but rarly on small ones =\r\nwith less seeds.&lt;br&gt;&gt; &lt;br&gt;&gt; I haven&#39;t found a cause yet but have some=\r\n theories what might cause it&lt;br&gt;&gt; (even though I might be totally wrong=\r\n).&lt;br&gt;&gt; &lt;br&gt;&gt; The most propable theory so far is the following:&lt;br&gt;&g=\r\nt; Two ToeThreads working on different URIs from different queues come&lt;br&gt;&=\r\ngt; accross the same (so far unseen) URI at more or less &quot;the exact same&lt;br=\r\n&gt;&gt; moment&quot;. Both threads come to the conclusion that their URI is new an=\r\nd&lt;br&gt;&gt; try to enqueue it in the currect queue. While doing this both of =\r\nthem&lt;br&gt;&gt; increment to queuedUriCount by 1 but the queue itself being sm=\r\nart&lt;br&gt;&gt; enough only contains one of them.&lt;br&gt;&gt; &lt;br&gt;&gt; I&#39;ll increas=\r\ne logging to see if my theory might be true and report&lt;br&gt;&gt; back later.&lt;=\r\nbr&gt;&gt; &lt;br&gt;&gt; &lt;br&gt;&gt; If anyone has any other idea in the meantime I&#39;ll=\r\n be happy to hear&lt;br&gt;&gt; about it.&lt;br&gt;&gt; &lt;br&gt;&gt; Thanks alot&lt;br&gt;&gt;   =\r\nOlaf Freyer&lt;br&gt;&gt; &lt;br&gt;&gt; &lt;br&gt;&gt; --- In archive-crawler@...=\r\nm, &quot;pandae667&quot; aaron667@ wrote:&lt;br&gt;&gt; &gt;&lt;br&gt;&gt; &gt; Hi everyone here =\r\nat archive-crawler,&lt;br&gt;&gt; &gt; &lt;br&gt;&gt; &gt; I&#39;m experiencing a strange p=\r\nroblem with my crawler (heritrix cvs +&lt;br&gt;&gt; &gt; AddRedirectFromRootServ=\r\nerToScope fix from Gordon). It happened to me&lt;br&gt;&gt; &gt; twice so far.&lt;br=\r\n&gt;&gt; &gt; &lt;br&gt;&gt; &gt; After about 1 hour it has fetched (allmost?) all t=\r\nhe documents it is&lt;br&gt;&gt; &gt; supposed to (about 9000 seeds and a limit o=\r\nf 100 documents per host)&lt;br&gt;&gt; &gt; and then just &quot;hangs&quot;.&lt;br&gt;&gt; &gt; =\r\n&lt;br&gt;&gt; &gt; The Frontier Report tells me:&lt;br&gt;&gt; &gt; &lt;br&gt;&gt; &gt;  ---=\r\n--=3D=3D=3D=3D=3D STATS =3D=3D=3D=3D=3D-----&lt;br&gt;&gt; &gt;  Discovered:    1=\r\n008968&lt;br&gt;&gt; &gt;  Queued:        24&lt;br&gt;&gt; &gt;  Finished:      432424&lt;=\r\nbr&gt;&gt; &gt;   Successfully: 426289&lt;br&gt;&gt; &gt;   Failed:       1565&lt;br&gt;&g=\r\nt; &gt;   Disregarded:  4570&lt;br&gt;&gt; &gt; &lt;br&gt;&gt; &gt;  -----=3D=3D=3D=3D=\r\n=3D QUEUES =3D=3D=3D=3D=3D-----&lt;br&gt;&gt; &gt;  Already included size:     10=\r\n08968&lt;br&gt;&gt; &gt;                pending:     0&lt;br&gt;&gt; &gt; &lt;br&gt;&gt; &gt;=\r\n  All class queues map size: 12872&lt;br&gt;&gt; &gt;              Active queues:=\r\n 0&lt;br&gt;&gt; &gt;                     In-process: 0&lt;br&gt;&gt; &gt;             =\r\n             Ready: 0&lt;br&gt;&gt; &gt;                        Snoozed: 0&lt;br&gt;&gt=\r\n; &gt;            Inactive queues: 0&lt;br&gt;&gt; &gt;             Retired queue=\r\ns: 2226&lt;br&gt;&gt; &gt;           Exhausted queues: 10646&lt;br&gt;&gt; &gt; &lt;br&gt;&gt=\r\n; &gt;  -----=3D=3D=3D=3D=3D IN-PROCESS QUEUES =3D=3D=3D=3D=3D-----&lt;br&gt;&gt;=\r\n &gt; &lt;br&gt;&gt; &gt; So there are still 24 queued URIs - but no active queue=\r\n left (last&lt;br&gt;&gt; &gt; time a queue did anything was about 12 hours ago).=\r\n&lt;br&gt;&gt; &gt; &lt;br&gt;&gt; &gt; Thanks in advance for any ideas&lt;br&gt;&gt; &gt;   =\r\nOlaf Freyer&lt;br&gt;&gt; &gt;&lt;br&gt;&gt;&lt;br&gt;\n\n\r\n--5-9509541833-2832987613=:3--\r\n\n"}}