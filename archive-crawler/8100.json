{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"h_Cze0nKHoKnPhCRa4UDjJ1FagwXHblHGiROnLzWgtdC5Y7jWXPEfZZMJn2rFB6Qvrm9LMyDbNUlWR5aKBXP20C_Le3j0pdN","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] WarcWritter limited in time","postDate":"1368654183","msgId":8100,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzArMDU2Qk04RUtRY09tRGhSWlp4VmYrR1cwR3B1NWVMLUx0VHdrQXBkbk11UUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PDQ0MEU0OTQ4LTkyNTgtNDJDQi05QkZFLUI1RjVDOTMzRjE1NEBnbWFpbC5jb20+","referencesHeader":"PGttdGo3NSs4c2ZyQGVHcm91cHMuY29tPgk8NDQwRTQ5NDgtOTI1OC00MkNCLTlCRkUtQjVGNUM5MzNGMTU0QGdtYWlsLmNvbT4="},"prevInTopic":8092,"nextInTopic":0,"prevInTime":8099,"nextInTime":8101,"topicId":8088,"numMessagesInTopic":3,"msgSnippet":"Hello Romain, Yeah that would be the basic approach. To make it an an extension which can be added to the lib dir you can create a class ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 52792 invoked by uid 102); 15 May 2013 21:43:10 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m8.grp.bf1.yahoo.com with SMTP; 15 May 2013 21:43:10 -0000\r\nX-Received: (qmail 7676 invoked from network); 15 May 2013 21:43:09 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 15 May 2013 21:43:09 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 4974D684016F\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 15 May 2013 14:43:09 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id ddux+ftXRY5l for &lt;archive-crawler@yahoogroups.com&gt;;\n\tWed, 15 May 2013 14:43:05 -0700 (PDT)\r\nX-Received: from mail-ob0-f171.google.com (mail-ob0-f171.google.com [209.85.214.171])\n\tby mail.archive.org (Postfix) with ESMTPSA id D234F6840156\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 15 May 2013 14:43:04 -0700 (PDT)\r\nX-Received: by mail-ob0-f171.google.com with SMTP id ef5so2604675obb.2\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 15 May 2013 14:43:04 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:x-received:in-reply-to:references:date:message-id\n         :subject:from:to:content-type;\n        bh=foGSdiiPQpyqeYEX22CRO6FYm7D28ss4w/SFGswTG8Y=;\n        b=PZD77z9cef3PdhMo0TY7x8441hwuVhW5Kf2QMmwtNwXC8oZTLTHgUuPKGn8oj8SqwR\n         uV1L0GRt9TojIY9szEERv72oz07ZPsFukBg+ftFdAR5VbacsjVsTQiG40DXFwtgQ73lM\n         yyFC1SBINkfzw5meoOWtrlt/0JwiPqF+BXoHVDfJZS3MLACTFsRcEJ3KqENlN50iWOCk\n         JZVoPBiYY/jqKsNfrRNqpkpdtYMEMG2UgaYJDFrGyfrSu7blMZ24rB0mR5NDtKQaHF3T\n         XK+wbShxZ5d0v6xEIPfpeJ4G+Qb8IgTkRJMIS5Ee9KJcEPGhLUHuQM5gAn4d6ToBSTGo\n         8LrA==\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.141.2 with SMTP id rk2mr9707146oeb.69.1368654183961; Wed,\n 15 May 2013 14:43:03 -0700 (PDT)\r\nX-Received: by 10.76.143.231 with HTTP; Wed, 15 May 2013 14:43:03 -0700 (PDT)\r\nIn-Reply-To: &lt;440E4948-9258-42CB-9BFE-B5F5C933F154@...&gt;\r\nReferences: &lt;kmtj75+8sfr@...&gt;\n\t&lt;440E4948-9258-42CB-9BFE-B5F5C933F154@...&gt;\r\nDate: Wed, 15 May 2013 14:43:03 -0700\r\nMessage-ID: &lt;CAA-z70+056BM8EKQcOmDhRZZxVf+GW0Gpu5eL-LtTwkApdnMuQ@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=047d7b33c83a7535b504dcc8a292\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] WarcWritter limited in time\r\nX-Yahoo-Group-Post: member; u=325624130; y=0ASTA8WwkLGisJoeViaePasJ5s9QyPpdjE-mUJ_K2xr1cg\r\nX-Yahoo-Profile: nlevitt\r\n\r\n\r\n--047d7b33c83a7535b504dcc8a292\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHello Romain,\n\nYeah that would be the basic approach. To make it an an exte=\r\nnsion which can\nbe added to the lib dir you can\ncreate\n\na\n class\n (TimeLimi=\r\ntedWARCWriterProcessor?)\n that extends WARCWriterProcessor.\nThat class\n wou=\r\nld override setupPool(...) to return a \nTimeLimitedWARCWriter\nPool, which w=\r\nould override\nWARCWriterPool\n.\nmakeWriter() to return a TimeLimitedWARCWrit=\r\ner, which, finally, would\noverride checkSize(). Then of course you would us=\r\ne\nTimeLimitedWARCWriterProcessor\n in place of \nWARCWriterProcessor\n in your=\r\n crawler-beans.cxml.\n\nNoah\n\n\n\n\nOn Wed, May 15, 2013 at 6:40 AM, Romain Noel=\r\n &lt;tereo27@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; I find a solution. The right class to be=\r\n modified is the WritterPoolMember\n&gt; in which a checkSize() method closes c=\r\nurrent file and opens a new file if\n&gt; file size has passed out maxSize.\n&gt; H=\r\nowever, it needs to recompile Heritrix;  it&#39;s not an extension which can\n&gt; =\r\nbe added to the lib dir.\n&gt; Is there any other solution ?\n&gt;\n&gt; Thanks\n&gt;\n&gt; Rom=\r\nain\n&gt;\n&gt; Le 14 mai 2013 =E0 16:54, tereo27 a =E9crit :\n&gt;\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I&#39;m l=\r\nooking for a way to limit in time the WarcWriterProcessor : i want to\n&gt; cre=\r\nate a new Warc file each 5 minutes instead of waiting the end of the\n&gt; craw=\r\nl or the size limit of the Warc file.\n&gt;\n&gt; I developed a TimeWARCWriterProce=\r\nssor which extends the\n&gt; WARCWriterProcessor in order to add a &quot;maxtime&quot; at=\r\ntribute which represents\n&gt; the time to wait before creating a new file. The=\r\n &quot;write&quot; function is\n&gt; overrided to check the elapsed time since the creati=\r\non of the current Warc\n&gt; file and to return a &quot;ProcessResult.FINISH&quot; if the=\r\n time limit is reached.\n&gt;\n&gt; This new &quot;write&quot; function is called during the =\r\nwarc process but only once\n&gt; : when the warc file is created. I don&#39;t under=\r\nstand how work the write\n&gt; process and when the system check the size (in m=\r\ny case the elapsed time) of\n&gt; the current warc writter.\n&gt;\n&gt; Thanks\n&gt;\n&gt; Roma=\r\nin\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\r\n--047d7b33c83a7535b504dcc8a292\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;Hello Romain,&lt;br&gt;&lt;br&gt;Yeah that would be the basic approach=\r\n. To make it an an extension which can be added to the lib dir you can &lt;div=\r\n style=3D&quot;font-family:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;g=\r\nmail_default&quot;&gt;\ncreate&lt;/div&gt;=A0&lt;div style=3D&quot;font-family:arial,helvetica,san=\r\ns-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt;a&lt;/div&gt;=A0class&lt;div style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_d=\r\nefault&quot;&gt; (TimeLimitedWARCWriterProcessor?)&lt;/div&gt;\n&lt;div style=3D&quot;font-family:=\r\narial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt; that ex=\r\ntends WARCWriterProcessor.=A0&lt;/div&gt;&lt;span style=3D&quot;font-family:arial,helveti=\r\nca,sans-serif&quot;&gt;&lt;div style=3D&quot;font-family:arial,helvetica,sans-serif;display=\r\n:inline&quot; class=3D&quot;gmail_default&quot;&gt;\nThat class&lt;/div&gt;&lt;div style=3D&quot;font-family=\r\n:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt; would =\r\noverride setupPool(...) to return a &lt;/div&gt;&lt;/span&gt;&lt;span style=3D&quot;font-family=\r\n:arial,helvetica,sans-serif&quot;&gt;TimeLimitedWARCWriter&lt;div style=3D&quot;font-family=\r\n:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt;\nPool, =\r\nwhich would override=A0&lt;/div&gt;&lt;/span&gt;&lt;span style=3D&quot;font-family:arial,helvet=\r\nica,sans-serif&quot;&gt;WARCWriterPool&lt;div style=3D&quot;font-family:arial,helvetica,san=\r\ns-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt;.&lt;/div&gt;&lt;/span&gt;&lt;span style=\r\n=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;div style=3D&quot;font-family:arial=\r\n,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt;\nmakeWriter()=\r\n to return a TimeLimitedWARCWriter, which, finally, would override checkSiz=\r\ne(). Then of course you would use=A0&lt;/div&gt;&lt;/span&gt;&lt;span style=3D&quot;font-family=\r\n:arial,helvetica,sans-serif&quot;&gt;TimeLimitedWARCWriterProcessor&lt;div style=3D&quot;fo=\r\nnt-family:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_default=\r\n&quot;&gt;\n in place of &lt;/div&gt;&lt;/span&gt;&lt;span style=3D&quot;font-family:arial,helvetica,san=\r\ns-serif&quot;&gt;WARCWriterProcessor&lt;div style=3D&quot;font-family:arial,helvetica,sans-=\r\nserif;display:inline&quot; class=3D&quot;gmail_default&quot;&gt; in your crawler-beans.cxml.&lt;=\r\n/div&gt;\n&lt;/span&gt;&lt;div&gt;&lt;span style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;d=\r\niv style=3D&quot;font-family:arial,helvetica,sans-serif;display:inline&quot; class=3D=\r\n&quot;gmail_default&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=3D&quot;font-family:aria=\r\nl,helvetica,sans-serif&quot;&gt;&lt;div style=3D&quot;font-family:arial,helvetica,sans-seri=\r\nf;display:inline&quot; class=3D&quot;gmail_default&quot;&gt;\nNoah&lt;/div&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;=\r\n/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Wed, =\r\nMay 15, 2013 at 6:40 AM, Romain Noel &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailt=\r\no:tereo27@...&quot; target=3D&quot;_blank&quot;&gt;tereo27@...&lt;/a&gt;&gt;&lt;/span&gt; wro=\r\nte:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border=\r\n-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n        \n&lt;div style=3D&quot;word-w=\r\nrap:break-word&quot;&gt;\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div&gt;&lt;span style=3D&quot;text-indent:0px;lette=\r\nr-spacing:normal;font-variant:normal;text-align:-webkit-auto;font-style:nor=\r\nmal;font-weight:normal;line-height:normal;border-collapse:separate;text-tra=\r\nnsform:none;font-size:medium;white-space:normal;font-family:Helvetica;word-=\r\nspacing:0px&quot;&gt;&lt;span style=3D&quot;text-indent:0px;letter-spacing:normal;font-vari=\r\nant:normal;text-align:-webkit-auto;font-style:normal;font-weight:normal;lin=\r\ne-height:normal;border-collapse:separate;text-transform:none;font-size:medi=\r\num;white-space:normal;font-family:Helvetica;word-spacing:0px&quot;&gt;&lt;div style=3D=\r\n&quot;word-wrap:break-word&quot;&gt;\n&lt;span style=3D&quot;border-collapse:separate;font-family=\r\n:Helvetica;font-variant:normal;font-weight:normal;letter-spacing:normal;lin=\r\ne-height:normal;text-align:-webkit-auto;text-indent:0px;text-transform:none=\r\n;white-space:normal;word-spacing:0px;font-size:medium&quot;&gt;&lt;div style=3D&quot;word-w=\r\nrap:break-word&quot;&gt;\n&lt;span style=3D&quot;border-collapse:separate;font-family:Helvet=\r\nica;font-variant:normal;font-weight:normal;letter-spacing:normal;line-heigh=\r\nt:normal;text-align:-webkit-auto;text-indent:0px;text-transform:none;white-=\r\nspace:normal;word-spacing:0px;font-size:medium&quot;&gt;&lt;div style=3D&quot;word-wrap:bre=\r\nak-word&quot;&gt;\nI find a solution. The right class to be modified is the WritterP=\r\noolMember in which a checkSize() method closes current file and opens a new=\r\n file if file size has passed out maxSize.&lt;/div&gt;&lt;div style=3D&quot;word-wrap:bre=\r\nak-word&quot;&gt;\nHowever, it needs to recompile Heritrix; =A0it&#39;s not an exten=\r\nsion which can be added to the lib dir.=A0&lt;/div&gt;&lt;div style=3D&quot;word-wrap:bre=\r\nak-word&quot;&gt;Is there any other solution ?&lt;/div&gt;&lt;div style=3D&quot;word-wrap:break-w=\r\nord&quot;&gt;&lt;br&gt;&lt;/div&gt;\n&lt;div style=3D&quot;word-wrap:break-word&quot;&gt;Thanks&lt;/div&gt;&lt;div style=\r\n=3D&quot;word-wrap:break-word&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=3D&quot;word-wrap:break-word&quot;&gt;Rom=\r\nain&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div&gt;Le 1=\r\n4 mai 2013 =E0 16:54, tereo27 a =E9crit :&lt;/div&gt;&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&lt;block=\r\nquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n\n    &lt;div&gt;=\r\n&lt;p&gt;Hi,&lt;br&gt;\n&lt;br&gt;\nI&#39;m looking for a way to limit in time the WarcWriterPr=\r\nocessor : i want to create a new Warc file each 5 minutes instead of waitin=\r\ng the end of the crawl or the size limit of the Warc file.&lt;br&gt;\n&lt;br&gt;\nI devel=\r\noped a TimeWARCWriterProcessor which extends the WARCWriterProcessor in ord=\r\ner to add a &quot;maxtime&quot; attribute which represents the time to wait=\r\n before creating a new file. The &quot;write&quot; function is overrided to=\r\n check the elapsed time since the creation of the current Warc file and to =\r\nreturn a &quot;ProcessResult.FINISH&quot; if the time limit is reached. &lt;br=\r\n&gt;\n\n&lt;br&gt;\nThis new &quot;write&quot; function is called during the warc proce=\r\nss but only once : when the warc file is created. I don&#39;t understand ho=\r\nw work the write process and when the system check the size (in my case the=\r\n elapsed time) of the current warc writter.&lt;br&gt;\n\n&lt;br&gt;\nThanks&lt;br&gt;\n&lt;br&gt;\nRomai=\r\nn&lt;br&gt;\n&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;/d=\r\niv&gt;&lt;br&gt;\n\n\n\n\n\n&lt;br&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; style=3D&quot;color:white=\r\n;clear:both&quot;&gt;&lt;/div&gt;\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--047d7b33c83a7535b504dcc8a292--\r\n\n"}}