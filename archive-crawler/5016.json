{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"a-Tj3HpoKfAFF2JzOEBBT2eA3-6D9gnxudJaTG4PRjNdUQSkqiCAAtFSifQyaXPso3KVydf4Qx7wB61US6RID1xEA8MJN4Q","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Change request for Heritrix 2.0","postDate":"1204226909","msgId":5016,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3QzcwQjVELjcwMjAxMDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGZxNzFoZisxMHFjNUBlR3JvdXBzLmNvbT4=","referencesHeader":"PGZxNzFoZisxMHFjNUBlR3JvdXBzLmNvbT4="},"prevInTopic":5015,"nextInTopic":5017,"prevInTime":5015,"nextInTime":5017,"topicId":5015,"numMessagesInTopic":9,"msgSnippet":"Good idea! To contribute patches, opening a JIRA issue is the best first step: describe the need, attach the patch, and assign the issue a high priority to","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 77047 invoked from network); 28 Feb 2008 19:28:29 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m53.grp.scd.yahoo.com with QMQP; 28 Feb 2008 19:28:29 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta18.grp.scd.yahoo.com with SMTP; 28 Feb 2008 19:28:29 -0000\r\nX-Received: (qmail 48838 invoked from network); 28 Feb 2008 19:28:25 -0000\r\nX-Received: from unknown (HELO ?192.168.1.28?) (unknown)\n  by unknown with SMTP; 28 Feb 2008 19:28:25 -0000\r\nX-pair-Authenticated: 71.204.189.79\r\nMessage-ID: &lt;47C70B5D.7020102@...&gt;\r\nDate: Thu, 28 Feb 2008 11:28:29 -0800\r\nUser-Agent: Thunderbird 2.0.0.12 (Windows/20080213)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fq71hf+10qc5@...&gt;\r\nIn-Reply-To: &lt;fq71hf+10qc5@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Change request for Heritrix 2.0\r\nX-Yahoo-Group-Post: member; u=137285340; y=_997-yzf8bqiSGltmxx6cJEzYyfpdk7SL8O71LzTMgbV\r\nX-Yahoo-Profile: gojomo\r\n\r\nGood idea!\n\nTo contribute patches, opening a JIRA issue is the best first step: \ndescribe the need, attach the patch, and assign the issue a high \npriority to help it be noticed in our reviews of open issues. Mentioning \nthe matter here is also welcome.\n\nRegarding the proposed change:\n\nMight using the RuntimeException constructor that wraps another \nexception (the &#39;cause&#39;), effectively retain the original message and stack?\n\nFor example:\n\n   catch( NullPointerException e ) {\n      // do some stuff\n      throw new RuntimeException( e );\n   }\n\n(Not sure this will cause the Heritrix log to capture the original \nmessage, but it might.)\n\n- Gordon @ IA\n\nnfoscarini wrote:\n&gt; Hi,\n&gt; \n&gt; I would like to make a change request to some of the source code in\n&gt; Heritrix 2.0, but I&#39;m not sure how to do this. Do I open a Jira issue,\n&gt; or is there a way to submit code to CVS for the developers to review?\n&gt; \n&gt; Anyway, here is my change request.\n&gt; \n&gt; Description:\n&gt; \n&gt; Developers creating add-ons sometimes need to throw exceptions to\n&gt; report to Heritrix that a recoverable exception has happen. Heritrix\n&gt; then logs this error into the &quot;runtime-errors.log&quot; has an -5 code on\n&gt; the URI.\n&gt; \n&gt; I would like to change the description that is logged, because it\n&gt; contains the exception stack trace, but not the exception description.\n&gt; \n&gt; For example; If I catch an exception like &quot;null pointer&quot;, and can not\n&gt; handle the exception. I&#39;ll wrap the exception, and throw a\n&gt; RuntimeException. Like this.\n&gt; \n&gt; catch( NullPointerException e )\n&gt; {\n&gt; // do some stuff\n&gt; throw new RuntimeException( e.getLocalizedMessage() );\n&gt; }\n&gt; \n&gt; Afterwards, when reviewing the &quot;runtime-errors.log&quot; the entry would\n&gt; look something like this.\n&gt; \n&gt; 2008-02-28T18:46:08.473Z    -5      18428 http://www.abc.com/ - -\n&gt; text/html #002 20080228184607809+440\n&gt; sha1:3SLSHIHACO4E3RJCBEHHX5WDZJKCD6RS - err=java.lang.RuntimeException,3t\n&gt;  java.lang.RuntimeException\n&gt; \tat\n&gt; centipede.writer.Scripts3DWriterProcessor.innerProcess(Scripts3DWriterProcessor.java:266)\n&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt; \tat\n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; \n&gt; Change effects:\n&gt; org.archive.crawler.framework.recoverableProblem(Throwable e)\n&gt; \n&gt; My problem with this log entry is that it doesn&#39;t describe the cause\n&gt; of the exception. If your library doesn&#39;t contain debug information,\n&gt; then the stack trace won&#39;t provide where the problem happened.\n&gt; \n&gt; So I recommend using e.getLocalizedMessage() in the log file, along\n&gt; with the stack trace.\n&gt; \n&gt; Current source code:\n&gt; \n&gt;     private void recoverableProblem(Throwable e) {\n&gt;         Object previousStep = step;\n&gt;         setStep(STEP_HANDLING_RUNTIME_EXCEPTION);\n&gt;         e.printStackTrace(System.err);\n&gt;         currentCuri.setFetchStatus(S_RUNTIME_EXCEPTION);\n&gt;         // store exception temporarily for logging\n&gt;         currentCuri.getAnnotations().add(&quot;err=&quot;+e.getClass().getName());\n&gt;         currentCuri.getData().put(A_RUNTIME_EXCEPTION, e);\n&gt;         String message = &quot;Problem &quot; + e + \n&gt;                 &quot; occured when trying to process &#39;&quot;\n&gt;                 + currentCuri.toString()\n&gt;                 + &quot;&#39; at step &quot; + previousStep \n&gt;                 + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n&gt;         logger.log(Level.SEVERE, message.toString(), e);\n&gt;     }\n&gt; \n&gt; Desired change:\n&gt; \n&gt;     private void recoverableProblem(Throwable e) {\n&gt;         Object previousStep = step;\n&gt;         setStep(STEP_HANDLING_RUNTIME_EXCEPTION);\n&gt;         e.printStackTrace(System.err);\n&gt;         currentCuri.setFetchStatus(S_RUNTIME_EXCEPTION);\n&gt;         // store exception temporarily for logging\n&gt;         currentCuri.getAnnotations().add(&quot;err=&quot;+e.getClass().getName());\n&gt;         currentCuri.getData().put(A_RUNTIME_EXCEPTION, e);\n&gt;         String message = &quot;Problem &quot; + e.getLocalizedMessage() + \n&gt;                 &quot; occured when trying to process &#39;&quot;\n&gt;                 + currentCuri.toString()\n&gt;                 + &quot;&#39; at step &quot; + previousStep \n&gt;                 + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n&gt;         logger.log(Level.SEVERE, message.toString(), e);\n&gt;     }\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}