{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"ZvN4UPONHs-PN4lxTl4OdPIaQkPl0wo-Rco1ydb97XUw6dejLAiEUuSexs3JFm8G4Z6zP_iZSz2N3SyBWLke0RgjuuY9KsE","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] HOW TO use SurtPrefixedDecideRule?","postDate":"1280782565","msgId":6638,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDNTczMEU1LjEwMzAxQGFyY2hpdmUub3JnPg==","inReplyToHeader":"PDIwMTAwNzMxMDk1OTI2OTI0MDkwN0B5YWhvby5jb20uY24+","referencesHeader":"PEE1NDZGQkRGN0QyNUIzNDY4NTI3RTlERDAxMThDNTYyMDI5NUJCRUZAU0JFTTM1RVhDMTAxMS5lZmQuaW50cmEuYWRtaW4uY2g+LCA8MjAxMDA3MzEwOTUxMTY3NDQwNTk1QHlhaG9vLmNvbS5jbj4gPDIwMTAwNzMxMDk1OTI2OTI0MDkwN0B5YWhvby5jb20uY24+"},"prevInTopic":6631,"nextInTopic":0,"prevInTime":6637,"nextInTime":6639,"topicId":6631,"numMessagesInTopic":2,"msgSnippet":"Good references for understanding the SurtPrefixedDecide rule and SURT-based scoping in general are: Heritrix glossary on SURT and SURT prefix: ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 92549 invoked from network); 2 Aug 2010 20:56:16 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m17.grp.re1.yahoo.com with QMQP; 2 Aug 2010 20:56:16 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta2.grp.re1.yahoo.com with SMTP; 2 Aug 2010 20:56:15 -0000\r\nX-Received: (qmail 79107 invoked from network); 2 Aug 2010 20:56:05 -0000\r\nX-Received: from 208.70.27.190 (HELO silverbook.local) (208.70.27.190)\n  by relay02.pair.com with SMTP; 2 Aug 2010 20:56:05 -0000\r\nX-pair-Authenticated: 208.70.27.190\r\nMessage-ID: &lt;4C5730E5.10301@...&gt;\r\nDate: Mon, 02 Aug 2010 13:56:05 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.11) Gecko/20100711 Thunderbird/3.0.6\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: eimhee &lt;eimhee@...&gt;\r\nReferences: &lt;A546FBDF7D25B3468527E9DD0118C5620295BBEF@...&gt;, &lt;201007310951167440595@...&gt; &lt;201007310959269240907@...&gt;\r\nIn-Reply-To: &lt;201007310959269240907@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] HOW TO use SurtPrefixedDecideRule?\r\nX-Yahoo-Group-Post: member; u=137285340; y=A9gOa7hjbP6f4cP8i3DXxWWX5xMp-wYZvU7tO2mXpZvQ\r\nX-Yahoo-Profile: gojomo\r\n\r\nGood references for understanding the SurtPrefixedDecide rule and \nSURT-based scoping in general are:\n\nHeritrix glossary on SURT and SURT prefix:\nhttps://webarchive.jira.com/wiki/display/Heritrix/Glossary#Glossary-SURT\n\nHelp page from our &#39;Archive-It&#39; service\nhttps://webarchive.jira.com/wiki/display/ARIH/SURT+Rules\n\nSurtPrefixedDecideRule & related source code\n\nThe &#39;dump&#39; file is a debugging tool to see what prefixes were in effect \nright after all the component&#39;s configuration is read. (In H3, this is \nat the time the ContextRefreshedEvent fires -- after &#39;build&#39; but before \n&#39;launch&#39;.) As of H3, it won&#39;t show all the SURT prefixes added to \naccomodate seeds as they are initially scheduled, so isn&#39;t quite as \nuseful as it used to be.\n\nI don&#39;t know where the IDNAException you&#39;ve clipped came from; it may \nnot be related to your seeds but rather some content included later.\n\n- Gordon @ IA\n\nOn 7/30/10 6:59 PM, eimhee wrote:\n&gt; ﻿\n&gt;\n&gt; the content of surts.dump:\n&gt; +http://(com,ebook,www,)\n&gt; but when the heritrix start, the file content changed to\n&gt; http://(com,ebook,www,)\n&gt; and have error message below\n&gt; org.apache.commons.httpclient.URIException:\n&gt; gnu.inet.encoding.IDNAException: Contains non-LDH characters.\n&gt; (com,ebook3000,www,)\n&gt; at org.archive.net.UURIFactory.fixupDomainlabel(UURIFactory.java:650)\n&gt; at org.archive.net.UURIFactory.fixupAuthority(UURIFactory.java:601)\n&gt; 2010-07-31\n&gt; ------------------------------------------------------------------------\n&gt; eimhee\n&gt; ------------------------------------------------------------------------\n&gt; *发件人：* eimhee\n&gt; *发送时间：* 2010-07-31 09:51:23\n&gt; *收件人：* archive-crawler; archive-crawler@yahoogroups.com\n&gt; *抄送：*\n&gt; *主题：* [archive-crawler] HOW TO use SurtPrefixedDecideRule?\n&gt;\n&gt; Dear All,\n&gt; I use the SurtPrefixedDecideRule to filter the domains,\n&gt; but I found the file surts.dump changed every time when I start heritrix,\n&gt; How to use SurtPrefixedDecideRule ?\n&gt; crawler-beans.cxml :\n&gt; &lt;!-- SCOPE: rules for which discovered URIs to crawl; order is very\n&gt; important because last decision returned other than &#39;NONE&#39; wins. --&gt;\n&gt; &lt;bean id=&quot;scope&quot; class=&quot;org.archive.modules.deciderules.DecideRuleSequence&quot;&gt;\n&gt; &lt;property name=&quot;rules&quot;&gt;\n&gt; &lt;list&gt;\n&gt; &lt;!-- Begin by REJECTing all... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...then ACCEPT those within configured/seed-implied SURT\n&gt; prefixes... --&gt;\n&gt; &lt;bean\n&gt; class=&quot;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot; /&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;&gt;&lt;/property&gt;\n&gt; &lt;property name=&quot;surtsSourceFile&quot; value=&quot;surts.dump&quot;&gt;&lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but REJECT those more than a configured link-hop-count from\n&gt; start... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxHops&quot; value=&quot;20&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but ACCEPT those more than a configured link-hop-count from\n&gt; start... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxTransHops&quot; value=&quot;2&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxSpeculativeHops&quot; value=&quot;1&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but REJECT those from a configurable (initially empty) set of\n&gt; REJECT SURTs... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;/&gt;\n&gt; &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot;/&gt;\n&gt; &lt;property name=&quot;surtsDumpFile&quot; value=&quot;negative-surts.dump&quot; /&gt;\n&gt; &lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...and REJECT those from a configurable (initially empty) set of\n&gt; URI regexes... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.MatchesListRegexDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;listLogicalOr&quot; value=&quot;true&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;regexList&quot;&gt;\n&gt; &lt;list&gt;\n&gt; &lt;/list&gt;\n&gt; &lt;/property&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...and REJECT those with suspicious repeating path-segments... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.PathologicalPathDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxRepetitions&quot; value=&quot;2&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...and REJECT those with more than threshold number of\n&gt; path-segments... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.TooManyPathSegmentsDecideRule&quot;&gt;\n&gt; &lt;!-- &lt;property name=&quot;maxPathDepth&quot; value=&quot;20&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- ...but always ACCEPT those marked as prerequisitee for another\n&gt; URI... --&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/list&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;!-- FETCH CHAIN --&gt;\n&gt; &lt;!-- processors declared as named beans --&gt;\n&gt; &lt;bean id=&quot;preselector&quot; class=&quot;org.archive.crawler.prefetch.Preselector&quot;&gt;\n&gt; &lt;property name=&quot;shouldProcessRule&quot;&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.DecideRuleSequence&quot;&gt;\n&gt; &lt;property name=&quot;rules&quot;&gt;\n&gt; &lt;list&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;&gt;&lt;/bean&gt;\n&gt; &lt;bean\n&gt; class=&quot;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule&quot;&gt;\n&gt; &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;false&quot; /&gt;\n&gt; &lt;property name=&quot;decision&quot; value=&quot;REJECT&quot;&gt;&lt;/property&gt;\n&gt; &lt;property name=&quot;surtsSourceFile&quot; value=&quot;surts.dump&quot;&gt;&lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/list&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;/bean&gt;\n&gt; &lt;/property&gt;\n&gt; &lt;!-- &lt;property name=&quot;recheckScope&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;blockAll&quot; value=&quot;false&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;blockByRegex&quot; value=&quot;&quot; /&gt; --&gt;\n&gt; &lt;!-- &lt;property name=&quot;allowByRegex&quot; value=&quot;&quot; /&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}