{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":279226674,"authorName":"Bert Wendland","from":"Bert Wendland &lt;bwendland@...&gt;","profile":"bwendland42","replyTo":"LIST","senderId":"AFAC_l2WqPzl-4gumqt2ogIm0bA0keZnbercE0xfHE9GJPrIS8nYh2UdqRYC7QgqewiI4vlszQeyamn_4GrPBukJvIuZYPpO","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] java.io.IOException: mark/reset not supported","postDate":"1174580117","msgId":3943,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PFBpbmUuV05ULjQuNjQuMDcwMzIyMTU0ODI2MC45MDBAY2l0cml4My5wdWJsaWMuaHUtYmVybGluLmRlPg==","inReplyToHeader":"PDQ2MDE2MzMzLjgwNjAyMDFAYXJjaGl2ZS5vcmc+","referencesHeader":"PGV0cDVwYys0a2F1QGVHcm91cHMuY29tPiA8NDYwMTYzMzMuODA2MDIwMUBhcmNoaXZlLm9yZz4="},"prevInTopic":3940,"nextInTopic":3945,"prevInTime":3942,"nextInTime":3944,"topicId":3933,"numMessagesInTopic":6,"msgSnippet":"Thank you, Gordon, That s really strange: I made several tests and I did not get at all this 400 Bad Behavior. On the contrary, I always received a proper","rawEmail":"Return-Path: &lt;bwendland@...&gt;\r\nX-Sender: bwendland@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 48911 invoked from network); 22 Mar 2007 16:52:20 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m22.grp.scd.yahoo.com with QMQP; 22 Mar 2007 16:52:20 -0000\r\nReceived: from unknown (HELO suncom3.cms.hu-berlin.de) (141.20.1.71)\n  by mta8.grp.scd.yahoo.com with SMTP; 22 Mar 2007 16:52:19 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby suncom3.cms.hu-berlin.de (8.13.8/8.13.7) with ESMTP id l2MGFMfX009475\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 22 Mar 2007 17:15:22 +0100 (CET)\r\nX-Virus-Scanned: by amavis at cms.hu-berlin.de\r\nReceived: from citrix3.public.hu-berlin.de (citrix3.public.hu-berlin.de [141.20.5.93])\n\tby suncom3.cms.hu-berlin.de (8.13.8/8.13.7) with ESMTP id l2MGFHHW009436\n\t(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Thu, 22 Mar 2007 17:15:17 +0100 (CET)\r\nDate: Thu, 22 Mar 2007 17:15:17 +0100\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;46016333.8060201@...&gt;\r\nMessage-ID: &lt;Pine.WNT.4.64.0703221548260.900@...-berlin.de&gt;\r\nReferences: &lt;etp5pc+4kau@...&gt; &lt;46016333.8060201@...&gt;\r\nX-X-Sender: wendland@...-berlin.de\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Bert Wendland &lt;bwendland@...&gt;\r\nSubject: Re: [archive-crawler] java.io.IOException: mark/reset not supported\r\nX-Yahoo-Group-Post: member; u=279226674; y=7W2p_FZQGLaPg_pZBci7qbsS02MzjxbO2Ss7LWXdfTpWbD0FCIM\r\nX-Yahoo-Profile: bwendland42\r\n\r\nThank you, Gordon,\n\nThat&#39;s really strange: I made several tests and I did not get at all this \n400 Bad Behavior. On the contrary, I always received a proper robots.txt \n(sorry - I did not mention this in my first posting):\n\n=====================================================================\nhttp://presse.parti-socialiste.fr/robots.txt 195.20.198.84 20070320155645 \ntext/html 292\nHTTP/1.1 200 OK\nDate: Tue, 20 Mar 2007 15:56:45 GMT\nServer: Apache\nSet-Cookie: bb2_screener_=1174406205+141.20.5.196; path=/\nX-Pingback: http://presse.parti-socialiste.fr/xmlrpc.php\nContent-Length: 24\nConnection: close\nContent-Type: text/html; charset=UTF-8\n\nUser-agent: *\nDisallow:\n=====================================================================\n\nThe IOException occured (and still occurs) when the crawler was fetching \nthe root page. Your hint concerning IP ranges gave me the idea to repeat \nthe test using a proxy in the US (69.88.144.161). The result did not \nchange.\n\nIf you would like to do further testing at your site, here are some other \nhosts of that domain which cause this error (the only exception is the \n&quot;mother&quot; of all, www.parti-socialiste.fr, which is still crawlable):\n\nagriculture.parti-socialiste.fr\ncesc.parti-socialiste.fr\nculture.parti-socialiste.fr\ndiscours.parti-socialiste.fr\negalite.parti-socialiste.fr\nentreprises.parti-socialiste.fr\nenvironnement.parti-socialiste.fr\nfonctionnement.parti-socialiste.fr\nformation.parti-socialiste.fr\nhebdo.parti-socialiste.fr\nhistoire.parti-socialiste.fr\nindustrie.parti-socialiste.fr\nlibertes.parti-socialiste.fr\nmilitant.parti-socialiste.fr\npresse.parti-socialiste.fr\nprojet.parti-socialiste.fr\nsecurite.parti-socialiste.fr\nservicespublics.parti-socialiste.fr\nsntic.parti-socialiste.fr\n\nLess important for us, however, but also causing IOExceptions:\n\nwww.pierrebedier.net\nwww.djtonio.fr\n\nCan you send me, please, your order.xml that you used for your test?\n\nBest regards,\n   Bert\n\n\n\nOn Wed, 21 Mar 2007, 12:07, Gordon Mohr wrote:\n\n&gt; Bert Wendland wrote:\n&gt;&gt; Hello everybody,\n&gt;&gt;\n&gt;&gt; We are getting more and more difficulties to crawl particular hosts of\n&gt;&gt; the domain parti-socialiste.fr. After getting the host&#39;s DNS, the\n&gt;&gt; crawler blocks with &quot;IOException: mark/reset not supported&quot; (see\n&gt;&gt; below). The error is the same with 1.10.1 and 1.12.0., jre is\n&gt;&gt; 1.5.0_06-b05.\n&gt;&gt;\n&gt;&gt; The problem began to occur a few days ago. So I guess they changed\n&gt;&gt; something on their servers that Heritrix cannot handle anymore. What\n&gt;&gt; can I do?\n&gt;\n&gt; I think there are several issues here.\n&gt;\n&gt; When I try to crawl the site, I don&#39;t get your error but I do get (for\n&gt; both robots and the root page):\n&gt;\n&gt; =====================================================================\n&gt; http://presse.parti-socialiste.fr/robots.txt 195.20.198.84\n&gt; 20070321161951 text/html 1065\n&gt; HTTP/1.1 400 Bad Behavior\n&gt; Date: Wed, 21 Mar 2007 16:18:04 GMT\n&gt; Server: Apache\n&gt; Status: 400 Bad Behavior\n&gt; Content-Length: 892\n&gt; Connection: close\n&gt; Content-Type: text/html\n&gt;\n&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&gt; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&gt; &lt;head&gt;\n&gt; &lt;title&gt;HTTP Error 400&lt;/title&gt;\n&gt; &lt;/head&gt;\n&gt; &lt;body&gt;\n&gt; &lt;h1&gt;Error 400&lt;/h1&gt;\n&gt; &lt;p&gt;We&#39;re sorry, but we could not fulfill your request for\n&gt; /robots.txt on this server.&lt;/p&gt;\n&gt; &lt;p&gt;The automated program you are using is not permitted to access this\n&gt; server. Please use a different program or a standard Web browser.&lt;/p&gt;\n&gt; &lt;p&gt;Your technical support key is: &lt;strong&gt;43b4-cbd4-7ad0-4a8a&lt;/strong&gt;&lt;/p&gt;\n&gt; &lt;p&gt;You can use this key to &lt;a\n&gt; href=&quot;http://www.ioerror.us/bb2-support-key?key=43b4-cbd4-7ad0-4a8a&quot;&gt;fix\n&gt; this problem yourself&lt;/a&gt;.&lt;/p&gt;\n&gt; &lt;p&gt;If you are unable to fix the problem yourself, please contact &lt;a\n&gt; href=&quot;mailto:julien.bezille+nospam@...&quot;&gt;julien.bezille at\n&gt; free.fr&lt;/a&gt; and be sure to provide the technical support key shown\n&gt; above.&lt;/p&gt;\n&gt; =====================================================================\n&gt;\n&gt; They appear to be using a PHP plug-in called &#39;Bad Behavior&#39; which aims\n&gt; to detect and block misbehaving robots.\n&gt;\n&gt; That I received the above error on my first try, even while respecting\n&gt; robots, indicates that the plug-in may have a built-in configuration\n&gt; against the &#39;heritrix&#39; user-agent.\n&gt;\n&gt; Your error may be the result of an even-more strict countermeasure they\n&gt; are taking against your user-agent or IP ranges, based on either a\n&gt; perception that you are not following robots or over-crawling their site.\n&gt;\n&gt; So, I believe the shortest route to resolving this problem will be to\n&gt; take it up with the site webmaster.\n&gt;\n&gt; The form of the error you are receiving is strange to me; the\n&gt; InputStream inside our HttpConnection should support mark/reset. So it\n&gt; is possible that their countermeasure is exercising a code path in\n&gt; Heritrix with a heretofore unknown bug. (Perhaps a retry triggered by\n&gt; their actions is skipping our usual wrapping.)\n&gt;\n&gt; I will create an issue and continue to investigating this error stack,\n&gt; but given the message I received I believe even if this stack is\n&gt; resolved, you will have trouble crawling this site unless the webmaster\n&gt; adjusts their countermeasures.\n&gt;\n&gt; Hope this helps,\n&gt;\n&gt; - Gordon @ IA\n&gt;\n&gt;&gt; Thanks for help,\n&gt;&gt;   Bert\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; 2007-03-20T13:18:13.388Z    -2          1\n&gt;&gt; http://presse.parti-socialiste.fr/ - - text/html #040 - - -\n&gt;&gt; le:IOException@HTTP\n&gt;&gt;  java.io.IOException: mark/reset not supported\n&gt;&gt; \tat java.io.InputStream.reset(Unknown Source)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpConnection.isResponseAvailable(HttpConnection.java:933)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodBase.readResponseBody(HttpMethodBase.java:1717)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodBase.readResponseBody(HttpMethodBase.java:1660)\n&gt;&gt; \tat\n&gt;&gt; org.archive.httpclient.HttpRecorderGetMethod.readResponseBody(HttpRecorderGetMethod.java:99)\n&gt;&gt; \tat\n&gt;&gt; org.archive.crawler.fetcher.FetchHTTP$2.readResponseBody(FetchHTTP.java:441)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1623)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1000)\n&gt;&gt; \tat\n&gt;&gt; org.archive.httpclient.HttpRecorderGetMethod.execute(HttpRecorderGetMethod.java:117)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:397)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:170)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:396)\n&gt;&gt; \tat\n&gt;&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:346)\n&gt;&gt; \tat org.archive.crawler.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:458)\n&gt;&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:103)\n&gt;&gt; \tat\n&gt;&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:304)\n&gt;&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n\n"}}