{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"fI5mK6VUsOhXyENJ9dV6r2pUEM9l9-Qh8ax8fTQ46NPYYW0s3S3D4ktglrNmu_vVCPRIH_YAS7ctTKx3k0NqddCStmA1I5c","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix 1.4 duplicate download problem","postDate":"1127332683","msgId":2214,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzMzFCQjRCLjcwMjAwMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQzMzBBOEIxLjEwMDA5MDBAYXJjaGl2ZS5vcmc+","referencesHeader":"PGRlMTl1cSt1ZzRtQGVHcm91cHMuY29tPiA8NDMwQTg3RjYuNTA5MDIwMEBhcmNoaXZlLm9yZz4gPDQzMzBBOEIxLjEwMDA5MDBAYXJjaGl2ZS5vcmc+"},"prevInTopic":2213,"nextInTopic":0,"prevInTime":2213,"nextInTime":2215,"topicId":2125,"numMessagesInTopic":4,"msgSnippet":"Update: I could reproduce this problem in 1.4, but not in CVS HEAD. Turns out another fix to the special canonicalization handling which is applied to URIs","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 4415 invoked from network); 21 Sep 2005 19:58:08 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m21.grp.scd.yahoo.com with QMQP; 21 Sep 2005 19:58:08 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.171)\n  by mta4.grp.scd.yahoo.com with SMTP; 21 Sep 2005 19:58:08 -0000\r\nReceived: (qmail 18885 invoked by uid 100); 21 Sep 2005 19:57:28 -0000\r\nReceived: from adsl-71-130-102-78.dsl.pltn13.pacbell.net (HELO ?192.168.1.10?) (gojomo@...@71.130.102.78)\n  by mail-dev.archive.org with SMTP; 21 Sep 2005 19:57:28 -0000\r\nMessage-ID: &lt;4331BB4B.7020005@...&gt;\r\nDate: Wed, 21 Sep 2005 12:58:03 -0700\r\nUser-Agent: Mozilla Thunderbird 1.0.6-1.1.fc3 (X11/20050720)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;de19uq+ug4m@...&gt; &lt;430A87F6.5090200@...&gt; &lt;4330A8B1.1000900@...&gt;\r\nIn-Reply-To: &lt;4330A8B1.1000900@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-68.6 required=7.0 tests=AWL,USER_IN_WHITELIST \n\tautolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix 1.4 duplicate download problem\r\nX-Yahoo-Group-Post: member; u=137285340; y=CTYU8QA_kv_gxQXh3L6u6D5S9BykVddeRIPfLcEj7Apy\r\nX-Yahoo-Profile: gojomo\r\n\r\nUpdate: I could reproduce this problem in 1.4, but not in CVS HEAD.\nTurns out another fix to the special canonicalization handling which\nis applied to URIs found in redirect-like headers (&#39;Location&#39; and\n&#39;Content-Location&#39;) has resolved this problem.\n\nFor more details, see:\n\n  [ 1266713 ] already-seen test not working (1.4.0); canonicalization\n  http://sourceforge.net/tracker/index.php?func=detail&aid=1266713&group_id=73833&atid=539099\n\nand\n\n  [ 1222360 ] strip-www canon. rule causes failed crawl of netarkivet.dk\n  http://sourceforge.net/tracker/index.php?func=detail&aid=1222360&group_id=73833&atid=539099\n\n- Gordon @ IA\n\nGordon Mohr wrote:\n&gt; Regarding this report from a month ago (and the related bug):\n&gt; \n&gt; We haven&#39;t noticed this, but I can think of an atypical situation\n&gt; where this might happen in a single crawl:\n&gt; \n&gt;   - if mid-crawl, you changed the URI canoncalization rules in\n&gt;     effect, then a subsequent discovery of the same URI wouldn&#39;t\n&gt;     necessarily be canonicalized the same way as the first, and\n&gt;     thus not recognized as &quot;already included&quot;\n&gt; \n&gt; Also, if you use the &#39;recover&#39; crawl capability to simulate the\n&gt; resumption of a previous crawl, the current behavior is to recrawl\n&gt; the seeds -- they&#39;re scheduled in the new crawl *before* the\n&gt; previous crawl&#39;s recovery log is processed. (This is somewhat a\n&gt; bug, but we&#39;ve sometimes found it useful, so we haven&#39;t made\n&gt; fixing it a priority.)\n&gt; \n&gt; However, in this case I see that the two fetches are immediately\n&gt; after each other, and in the same ARC file -- so no settings changes\n&gt; or recoveries could have happened.\n&gt; \n&gt; Also helpful to determine what&#39;s happened would be to grep through\n&gt; the associated crawl.log for the affected URI -- to see what it says\n&gt; about the two fetches. (Were they both recognized as successful?\n&gt; Both &#39;via&#39; the same predecessor URI? etc.)\n&gt; \n&gt; Depending on what that indicates, looking for the URI or any other\n&gt; errors in the heritrix-out.log or local-errors.log around the time\n&gt; of the dual-fetch might shed light on the situation.\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; stack wrote:\n&gt; \n&gt;&gt;joehung302 wrote:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;&gt;Has anybody seen duplicates download (same url download more than\n&gt;&gt;&gt;once) in 1.4? I did a few crawls and they all have duplicates.\n&gt;&gt;&gt;\n&gt;&gt;&gt;...\n&gt;&gt;&gt;clearly the url has been downloaded twice in this archive. Is it\n&gt;&gt;&gt;possible or am I missing something?\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;It shouldn&#39;t be happening Joe.  I&#39;ve opened a bug \n&gt;&gt;(http://sourceforge.net/tracker/index.php?func=detail&aid=1266713&group_id=73833&atid=539099) \n&gt;&gt;and pasted the above into it.  Would you mind adding your order file and \n&gt;&gt;seeds to the issue -- you can edit them to protect the innocent if you \n&gt;&gt;like -- so I can see if anything particular about them (Is there \n&gt;&gt;anything in logs?  OutOfMemoryErrors?).\n&gt;&gt;Yours,\n&gt;&gt;St.Ack\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;&gt;I did not encounter this problem in 1.0.4\n&gt;&gt;&gt;\n&gt;&gt;&gt;-Joe\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;------------------------------------------------------------------------\n&gt;&gt;&gt;YAHOO! GROUPS LINKS\n&gt;&gt;&gt;\n&gt;&gt;&gt;   *  Visit your group &quot;archive-crawler\n&gt;&gt;&gt;     &lt;http://groups.yahoo.com/group/archive-crawler&gt;&quot; on the web.\n&gt;&gt;&gt;      \n&gt;&gt;&gt;   *  To unsubscribe from this group, send an email to:\n&gt;&gt;&gt;      archive-crawler-unsubscribe@yahoogroups.com\n&gt;&gt;&gt;     &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;&gt;&gt;      \n&gt;&gt;&gt;   *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;&gt;&gt;     Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;------------------------------------------------------------------------\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; \n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n"}}