{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":473207283,"authorName":"Kristinn Sigur√∞sson","from":"=?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"neYw-5PnMcZH-giUtQ6-_4r0vXQGOPXvMvKxyudHiRHG8c1rrPAwLMNXgEUtzB85nPUjU3NwGGjXDiNNy95hHs_-HbbAnnEDsCkJWPwaj3LXnV2L_q3evFy8jGnxnKs3dDgrsKyNZp9j","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Intermittent issue running Heritrix with Java 7","postDate":"1373471765","msgId":8206,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOUU2NTdDQGJsaWtpLmJva2hsYWRhLmxvY2FsPg=="},"prevInTopic":0,"nextInTopic":8207,"prevInTime":8205,"nextInTime":8207,"topicId":8206,"numMessagesInTopic":15,"msgSnippet":"I was running a broad crawl (20+ thousand seeds) using the latest SNAPSHOT build of Heritrix (3.1.2-20130625) when I noticed that one of our big blogging site","rawEmail":"Return-Path: &lt;kristinn@...&gt;\r\nX-Sender: kristinn@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 54712 invoked by uid 102); 10 Jul 2013 15:56:49 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m3.grp.bf1.yahoo.com with SMTP; 10 Jul 2013 15:56:49 -0000\r\nX-Received: (qmail 24621 invoked from network); 10 Jul 2013 15:56:49 -0000\r\nX-Received: from unknown (HELO vala.bok.hi.is) (130.208.186.10)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 10 Jul 2013 15:56:49 -0000\r\nX-Received: from bliki.bokhlada.local (bliki.bok.hi.is [130.208.186.6])\n\tby vala.bok.hi.is (8.13.8/8.13.8) with ESMTP id r6AFuk5A031468\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 10 Jul 2013 15:56:46 GMT\r\nX-Received: from BLIKI.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) by\n bliki.bokhlada.local ([2002:82d0:ba06::82d0:ba06]) with mapi id\n 14.01.0438.000; Wed, 10 Jul 2013 15:56:06 +0000\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nThread-Topic: Intermittent issue running Heritrix with Java 7\r\nThread-Index: Ac59hHGg2/uan2q8Qx2HXU0sKl34RA==\r\nDate: Wed, 10 Jul 2013 15:56:05 +0000\r\nMessage-ID: &lt;E486D93E372D8C4282E8DF078392F12D9E657C@...&gt;\r\nAccept-Language: en-US, is-IS\r\nContent-Language: en-US\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-Spam-Status: No, score=0.0 required=4.6 tests=none autolearn=disabled\n\tversion=3.3.1\r\nX-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on gleipnir.rhi.hi.is\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?iso-8859-1?Q?Kristinn_Sigur=F0sson?= &lt;kristinn@...&gt;\r\nSubject: Intermittent issue running Heritrix with Java 7\r\nX-Yahoo-Group-Post: member; u=473207283; y=pkrtwumRGlf4g908-pXELRQw0g0CDL36Otkznv0Pq3fYqUxu\r\nX-Yahoo-Profile: kristsi25\r\n\r\nI was running a broad crawl (20+ thousand seeds) using the latest SNAPSHOT =\r\nbuild of Heritrix (3.1.2-20130625) when I noticed that one of our big blogg=\r\ning site wasn&#39;t making much progress.\n\nAs it turned out it was making inter=\r\nmittent progress and then hitting large stretches of time where every fetch=\r\n attempt ended with a -2 (connect fail).\n\nMy initial thought was that we we=\r\nre being blocked by the website, but that did not turn out to be the case. =\r\nAdditional inspection of the crawl log revealed that during a 20+ million U=\r\nRL crawl over 14 thousand URLs had errored out with a -2. I compared this w=\r\nith our most recent comparable crawl and for that the number was 60 URLs ou=\r\nt of 40+ million. Clearly there was a problem with the crawler.\n\nWhile some=\r\n domains were affect and other not, I could not deduce any pattern as to wh=\r\nat domains or URLs this affected.\n\nMy second assumption then was that this =\r\nwas due to me running a SNAPSHOT build. So I put 3.1.0-RC1 (which I had use=\r\nd for the previous crawl) into play on the same machine. The issue reoccurr=\r\ned. -2 errors began showing up in the crawl log about 2 hours in (exactly w=\r\nhen the 500 second wait times between 15 retries period had passed). This i=\r\ns not a regression in Heritrix.\n\nThat left two variables. The fact that I w=\r\nas running on new hardware and that I had upgraded from Java 6 to 7 (1.7.0_=\r\n25-b15 to be exact).\n\nI then installed Java 1.6.0-b105 and tried the crawl =\r\na third time (again using the SNAPSHOT build), shortening the retry wait in=\r\nterval from 500 seconds to 50. I figured this could only make the issue wor=\r\nse and would mean that it could manifest in as little as 15 minutes, instea=\r\nd of 2 hours.\n\nNow 5.5 hours in there are no sign of URLs with inexplicable=\r\n -2 status codes. It seems the issue IS related to the Java version.\n\nHas a=\r\nnyone encountered this? Any ideas on cause or how this could be remedied? F=\r\nor now, just using an older version of Java will fix the issue, but that is=\r\nn&#39;t a long term solution.\n\n- Kris\n\n----------------------------------------=\r\n---------------------------------\nLandsb=F3kasafn =CDslands - H=E1sk=F3lab=\r\n=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Reykjav=EDk\nS=EDmi/Tel: +354 5255600 |=\r\n www.landsbokasafn.is\n-----------------------------------------------------=\r\n--------------------\nfyrirvari/disclaimer - http://fyrirvari.landsbokasafn.=\r\nis\n\n"}}