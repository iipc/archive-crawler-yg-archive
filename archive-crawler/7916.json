{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":548507781,"authorName":"Henrik Ranthin","from":"Henrik Ranthin &lt;Henrik.Ranthin@...&gt;","replyTo":"LIST","senderId":"JKJsZxLuZ0ehUMDCBecpQ9u3Z1CVbeWavXasW0mTf29nMEOXKr9KCjDP7P3A_esTaIJEAAF4IgyM2QeRtpcICEqsIDJSiZgf08QRuSDqxzEU","spamInfo":{"isSpam":false,"reason":"3"},"subject":"RE: [archive-crawler] Usage of QuotaEnforcer","postDate":"1358327064","msgId":7916,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDFBMTJBOUM1MTBBMTI0NEQ4MERDNDYzMEU3OTVCODU1MTdBRkMzQkRAbWFpbHN0b3JlMS5hcHB0dXMubG9jYWw+","inReplyToHeader":"PDUwRUYwQjkyLjcwOTA0MDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PDFBMTJBOUM1MTBBMTI0NEQ4MERDNDYzMEU3OTVCODU1MTdBRkJGNjhAbWFpbHN0b3JlMS5hcHB0dXMubG9jYWw+IDw1MEVGMEI5Mi43MDkwNDAyQGFyY2hpdmUub3JnPg=="},"prevInTopic":7901,"nextInTopic":7919,"prevInTime":7915,"nextInTime":7917,"topicId":7900,"numMessagesInTopic":7,"msgSnippet":"Hi! The status is set to NONCRAWLED in the seeds report. I tried to run the job again and after a while it seems like the threads are starving. The crawling","rawEmail":"Return-Path: &lt;Henrik.Ranthin@...&gt;\r\nX-Sender: Henrik.Ranthin@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 35096 invoked from network); 16 Jan 2013 09:04:26 -0000\r\nX-Received: from unknown (10.193.84.151)\n  by m12.grp.bf1.yahoo.com with QMQP; 16 Jan 2013 09:04:26 -0000\r\nX-Received: from unknown (HELO mail.apptus.com) (212.247.86.71)\n  by mta5.grp.bf1.yahoo.com with SMTP; 16 Jan 2013 09:04:25 -0000\r\nX-Received: from MAILFRONT2.apptus.local (192.168.8.203) by mail.apptus.com\n (192.168.99.70) with Microsoft SMTP Server (TLS) id 14.1.438.0; Wed, 16 Jan\n 2013 10:04:31 +0100\r\nX-Received: from MAILSTORE1.apptus.local ([fe80::5d45:60ab:5875:3167]) by\n mailfront2.apptus.local ([::1]) with mapi id 14.01.0438.000; Wed, 16 Jan 2013\n 10:04:24 +0100\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nThread-Topic: [archive-crawler] Usage of QuotaEnforcer\r\nThread-Index: Ac3uSzjWsExRVlVkQSmuTvZ0+pOnAQBDqGgAARqzoJA=\r\nDate: Wed, 16 Jan 2013 09:04:24 +0000\r\nMessage-ID: &lt;1A12A9C510A1244D80DC4630E795B85517AFC3BD@...&gt;\r\nReferences: &lt;1A12A9C510A1244D80DC4630E795B85517AFBF68@...&gt;\n &lt;50EF0B92.7090402@...&gt;\r\nIn-Reply-To: &lt;50EF0B92.7090402@...&gt;\r\nAccept-Language: en-US, sv-SE\r\nContent-Language: en-US\r\nX-MS-Has-Attach: yes\r\nX-MS-TNEF-Correlator:\r\nContent-Type: multipart/mixed;\n\tboundary=&quot;_002_1A12A9C510A1244D80DC4630E795B85517AFC3BDmailstore1apptu_&quot;\r\nMIME-Version: 1.0\r\nReturn-Path: Henrik.Ranthin@...\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: Henrik Ranthin &lt;Henrik.Ranthin@...&gt;\r\nSubject: RE: [archive-crawler] Usage of QuotaEnforcer\r\nX-Yahoo-Group-Post: member; u=548507781\r\n\r\n\r\n--_002_1A12A9C510A1244D80DC4630E795B85517AFC3BDmailstore1apptu_\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi!\n\nThe status is set to NONCRAWLED in the seeds report.\n\nI tried to run t=\r\nhe job again and after a while it seems like the threads are starving. The =\r\ncrawling runs fast in the beginning and after a while it&#39;s just getting slo=\r\nwer and slower until it finally stops.\nFrom the job page in the Heritrix UI=\r\n:\n200 threads: 200 ABOUT_TO_GET_URI; 200 noActiveProcessor\n\nI also attached=\r\n a screenshot of the job page.\n\nI checked the logs and reports and in the u=\r\nri-errors.log and I have about 700 items similar to the line below but with=\r\n different uri:\n2013-01-11T12:03:49.728Z http://ablemove.net/ &quot;http scheme =\r\nspecific part is too short: //&quot; http://\nBut I don&#39;t know if that could cont=\r\nribute?\n\nFrom crawl-report.log:\n###########################################=\r\n############\ncrawl name: basic\ncrawl status: Finished\nduration: 7h15m20s364=\r\nms\n\nseeds crawled: 235\nseeds uncrawled: 23946\n\nhosts visited: 24828\n\nURIs p=\r\nrocessed: 40636\nURI successes: 14043\nURI failures: 24734\nURI disregards: 18=\r\n59\n\nnovel URIs: 14043\n\ntotal crawled bytes: 764213072 (729 MiB)\nnovel crawl=\r\ned bytes: 764213072 (729 MiB)\n\nURIs/sec: 0.54\nKB/sec: 28\n##################=\r\n#####################################\n\n\nRegards,\nHenrik\n\n\n\n-----Original Me=\r\nssage-----\nFrom: archive-crawler@yahoogroups.com [mailto:archive-crawler@ya=\r\nhoogroups.com] On Behalf Of Noah Levitt\nSent: den 10 januari 2013 19:42\nTo:=\r\n archive-crawler@yahoogroups.com\nCc: Henrik Ranthin\nSubject: Re: [archive-c=\r\nrawler] Usage of QuotaEnforcer\n\nHello Henrik,\n\nIn my brief test, QuotaEnfor=\r\ncer configured as you describe worked fine for me and didn&#39;t prevent any se=\r\neds from being crawled. Maybe some other part of your configuration is resp=\r\nonsible? What&#39;s the fetch status in the seeds report of the uncrawled seeds=\r\n? Anything else in the logs?\n\nNoah\n\nOn 2013-01-09 01:57 , Henrik Ranthin wr=\r\note:\n&gt;\n&gt;\n&gt; Hi!\n&gt;\n&gt; I want to limit the number of documents per site and I t=\r\nried using the QuotaEnforcer to do so (I&#39;m using Heritrix 3.1.1).\n&gt;\n&gt; At fi=\r\nrst it seemed to work and in the hosts report it looks like that the correc=\r\nt number of documents has been crawled for each host.\n&gt;\n&gt; However, when I c=\r\nhecked the status a few hours later the job had finished and most of the se=\r\neds had not been crawled.\n&gt;\n&gt;  From the job log:\n&gt;\n&gt; 2013-01-08T20:38:06.74=\r\n0Z INFO FINISHED 20130108131240\n&gt;\n&gt; 2013-01-08T20:38:04.739Z INFO EMPTY 201=\r\n30108131240\n&gt;\n&gt; 2013-01-08T20:38:04.739Z INFO STOPPING 20130108131240\n&gt;\n&gt; 2=\r\n013-01-08T13:12:58.056Z INFO RUNNING 20130108131240\n&gt;\n&gt; Am I using the corr=\r\nect configuration for QuotaEnforcer? And is this the prescribed way to limi=\r\nt the number of documents per site?\n&gt;\n&gt; Below is the configuration I change=\r\nd for QuotaEnforcer (other configuration is just default):\n&gt;\n&gt; &lt;bean id=3D&quot;=\r\nquotaEnforcer&quot; class=3D&quot;org.archive.crawler.prefetch.QuotaEnforcer&quot;&gt;\n&gt;\n&gt;   =\r\n &lt;property name=3D&quot;enabled&quot; value=3D&quot;true&quot;/&gt;\n&gt;\n&gt;    &lt;property name=3D&quot;hostM=\r\naxFetchSuccesses&quot; value=3D&quot;100&quot;/&gt;\n&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; &lt;bean id=3D&quot;fetchProcesso=\r\nrs&quot; class=3D&quot;org.archive.modules.FetchChain&quot;&gt;\n&gt;\n&gt;    &lt;property name=3D&quot;proc=\r\nessors&quot;&gt;\n&gt;\n&gt;     &lt;list&gt;\n&gt;\n&gt;      &lt;ref bean=3D&quot;preselector&quot;/&gt;\n&gt;\n&gt;      &lt;ref =\r\nbean=3D&quot;quotaEnforcer&quot;/&gt;\n&gt;\n&gt;      &lt;ref bean=3D&quot;preconditions&quot;/&gt;\n&gt;\n&gt;      &lt;r=\r\nef bean=3D&quot;fetchDns&quot;/&gt;\n&gt;\n&gt;      &lt;ref bean=3D&quot;fetchHttp&quot;/&gt;\n&gt;\n&gt;      &lt;ref bea=\r\nn=3D&quot;extractorHttp&quot;/&gt;\n&gt;\n&gt;      &lt;ref bean=3D&quot;extractorHtml&quot;/&gt;\n&gt;\n&gt;      &lt;ref =\r\nbean=3D&quot;extractorCss&quot;/&gt;\n&gt;\n&gt;      &lt;ref bean=3D&quot;extractorJs&quot;/&gt;\n&gt;\n&gt;      &lt;ref =\r\nbean=3D&quot;extractorSwf&quot;/&gt;\n&gt;\n&gt;     &lt;/list&gt;\n&gt;\n&gt;    &lt;/property&gt;\n&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; =\r\nRegards,\n&gt;\n&gt; Henrik\n&gt;\n&gt;\n&gt;\n&gt; \n\n\n------------------------------------\n\nYahoo!=\r\n Groups Links\n\n\n\n\r\n--_002_1A12A9C510A1244D80DC4630E795B85517AFC3BDmailstore1apptu_\r\nContent-Type: image/png; name=&quot;heritrix.PNG&quot;\r\nContent-Description: heritrix.PNG\r\nContent-Disposition: attachment; filename=&quot;heritrix.PNG&quot;; size=61725;\n\tcreation-date=&quot;Fri, 11 Jan 2013 13:41:10 GMT&quot;;\n\tmodification-date=&quot;Fri, 11 Jan 2013 13:41:10 GMT&quot;\r\n\r\n[ Attachment content not displayed ]\r\n--_002_1A12A9C510A1244D80DC4630E795B85517AFC3BDmailstore1apptu_--\r\n\n"}}