{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"Igor Ranitovic","from":"Igor Ranitovic &lt;igor@...&gt;","profile":"iranitovic","replyTo":"LIST","senderId":"CxGAXUZSYoMPy-EVIA6-R3drTXsrjMpSjkratNX93sqQInat0ZIpuHxdOrKB-xzqmEDjQ7UM3cP1KBJtwa6emAHrY-dx8AEb","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] How to add a URL into the retry list?","postDate":"1191874537","msgId":4589,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ3MEE4RkU5LjgwMzA5MDJAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGZlZHRxOStzazYzQGVHcm91cHMuY29tPg==","referencesHeader":"PGZlZHRxOStzazYzQGVHcm91cHMuY29tPg=="},"prevInTopic":4588,"nextInTopic":4593,"prevInTime":4588,"nextInTime":4590,"topicId":4588,"numMessagesInTopic":3,"msgSnippet":"Quick and dirt solution would be to add a fake seed at the top of the seed list. Maybe something like: http://www.myjones.com/code/signup.php?fakeparam ","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 21871 invoked from network); 8 Oct 2007 20:18:00 -0000\r\nReceived: from unknown (69.147.108.202)\n  by m55.grp.scd.yahoo.com with QMQP; 8 Oct 2007 20:18:00 -0000\r\nReceived: from unknown (HELO smtp5-g19.free.fr) (212.27.42.35)\n  by mta3.grp.re1.yahoo.com with SMTP; 8 Oct 2007 20:18:00 -0000\r\nReceived: from smtp5-g19.free.fr (localhost.localdomain [127.0.0.1])\n\tby smtp5-g19.free.fr (Postfix) with ESMTP id 9884C3F6160\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  8 Oct 2007 22:17:46 +0200 (CEST)\r\nReceived: from [127.0.0.1] (nor75-24-88-170-99-175.fbx.proxad.net [88.170.99.175])\n\tby smtp5-g19.free.fr (Postfix) with ESMTP id C760A3F61F1\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  8 Oct 2007 22:17:44 +0200 (CEST)\r\nMessage-ID: &lt;470A8FE9.8030902@...&gt;\r\nDate: Mon, 08 Oct 2007 13:15:37 -0700\r\nUser-Agent: Thunderbird 2.0.0.6 (Windows/20070728)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;fedtq9+sk63@...&gt;\r\nIn-Reply-To: &lt;fedtq9+sk63@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Igor Ranitovic &lt;igor@...&gt;\r\nSubject: Re: [archive-crawler] How to add a URL into the retry list?\r\nX-Yahoo-Group-Post: member; u=137477665; y=EejIlPhD6NAodqzB0MHXfrGrJdyGRv_uX50An1r9rRs931kzmQ\r\nX-Yahoo-Profile: iranitovic\r\n\r\nQuick and dirt solution would be to add a fake seed at the top of the \nseed list. Maybe something like:\n\nhttp://www.myjones.com/code/signup.php?fakeparam\nhttp://www.myjones.com/code/signup.php\nhttp://www.myjones.com/code/\n\nhttp://www.myjones.com/code/ when cookie is set is probably same as \nhttp://www.myjones.com/code/?cook=t when cookie is not set. If that is \nOK, then you can just leave it as it is and forget about the fake seed.\n\n\nAnother solution is to prepare cookies file and load it before crawling \nstarts. See HTTP Fetcher load-cookies-from-file and save-cookies-to-file \noptions.\n\nIf you want to re-fetch an URI, you can do that via JMX command line \ntool. Example (I did not try it):\n\nJAVA_BIN=/usr/bin/java\nJMX_JAR=/heritrix/bin/cmdline-jmxclient-0.10.5.jar\nJMX_CONTROLROLE=controlRole:letmein\nJMX_PORT=8849\n\nJMX_CMD=&quot;$JAVA_BIN -jar $JMX_JAR $JMX_CONTROLROLE&quot;\n\ncrawler=crawlerhostname\n\nmother=$($JMX_CMD $crawler:$JMX_PORT 2&gt;&1 | grep &#39;mother&#39;)\n\ncmd=&quot;importUri=http://www.myjones.com/code/,true,true&quot;\n\n$JMX_CMD $crawler:$JMX_PORT $mother $cmd\n\n-------------------\nComments from the crawl service mbean:\nimportUri: Add passed URL to the frontier\n  Parameters 3, return type=java.lang.Void\n   name=url type=java.lang.String URL to add to the frontier\n   name=forceFetch type=java.lang.Boolean True if URL is to be force fetched\n   name=seed type=java.lang.Boolean True if URL is a seed\n--------------------\n\n\nHope this helps.\n\nTake care,\ni.\n\n\n\n\n\nruyanbo wrote:\n&gt; I have a problem to use cookie and retry a URL. \n&gt; \n&gt; 1. If I use http://www.myjones.com/code/signup.php as the seed and set\n&gt; the crawler to only the seed. This URL will get an HTTP response\n&gt; status 302 and be redirected to\n&gt; http://www.myjones.com/code/signup.php?cook=t, because there is no\n&gt; cookie setted.\n&gt; \n&gt; 2. Same thing happens for http://www.myjones.com/code/. It will get\n&gt; 302 and be redirected to http://www.myjones.com/code/?cook=t\n&gt; \n&gt; 3. If I use both http://www.myjones.com/code/ and\n&gt; http://www.myjones.com/code/signup.php as the seeds and set the\n&gt; crawler to save and load cookie from file,\n&gt; http://www.myjones.com/code/ still get 302 and be redirected to\n&gt; http://www.myjones.com/code/?cook=t, but\n&gt; http://www.myjones.com/code/signup.php will be crawled successfully\n&gt; (200 OK). \n&gt; \n&gt; Can anybody tell me how to retry http://www.myjones.com/code/ ?\n&gt; \n&gt; Said in another way. Now the situation is\n&gt; \n&gt; URL #1 and #2 are in the seeds list.\n&gt; \n&gt; URL #1 (with no cookie) got 302 and be redirected to URL #3 (set cookie)\n&gt; \n&gt; URL #2 (load cookie) got 200 OK\n&gt; \n&gt; Can I retry URL #1 with the cookie, so it can be correctly crawled?\n&gt; \n&gt; thanks\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n\n"}}