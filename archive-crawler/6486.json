{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Ub4y47lJ0rx5OMqwZf9BtTwSrltfrhibcLudzVMMAYWS2_YZo_wZS03S4DrXJS-K6VtteHnSiuBbEKLIIgWhpMTScJu10wQ","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Re: How to specify OnHostsDecideRule in H3","postDate":"1271964973","msgId":6486,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCRDBBNTJELjEwNDAxMDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGhxb2wyYytkZDd2QGVHcm91cHMuY29tPg==","referencesHeader":"PGhxb2wyYytkZDd2QGVHcm91cHMuY29tPg=="},"prevInTopic":6484,"nextInTopic":6487,"prevInTime":6485,"nextInTime":6487,"topicId":6481,"numMessagesInTopic":8,"msgSnippet":"... The same is true for OnDomainsDecideRule -- it just auto-truncates the deduced prefix even more, so that anything within the same domain (including","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 76337 invoked from network); 22 Apr 2010 19:36:21 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m11.grp.re1.yahoo.com with QMQP; 22 Apr 2010 19:36:21 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta1.grp.re1.yahoo.com with SMTP; 22 Apr 2010 19:36:21 -0000\r\nX-Received: (qmail 61625 invoked from network); 22 Apr 2010 19:36:14 -0000\r\nX-Received: from 69.181.44.86 (HELO silverbook.local) (69.181.44.86)\n  by relay03.pair.com with SMTP; 22 Apr 2010 19:36:14 -0000\r\nX-pair-Authenticated: 69.181.44.86\r\nMessage-ID: &lt;4BD0A52D.1040101@...&gt;\r\nDate: Thu, 22 Apr 2010 12:36:13 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: Jens Bengtsson &lt;poserdonut@...&gt;\r\nReferences: &lt;hqol2c+dd7v@...&gt;\r\nIn-Reply-To: &lt;hqol2c+dd7v@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: How to specify OnHostsDecideRule in H3\r\nX-Yahoo-Group-Post: member; u=137285340; y=0j3ENCd4q2OZ3v95AWONpNPUQexqnkr4J_hZYHnJLDE3\r\nX-Yahoo-Profile: gojomo\r\n\r\nOn 4/21/10 9:58 PM, Jens Bengtsson wrote:\n&gt; OK, so I don&#39;t need to use OnHostsDecideRule. Is the same true for OnDomainDecideRule? Can I achieve the same &quot;lockdown&quot; with SurtPrefixedDecideRule?\n\nThe same is true for OnDomainsDecideRule -- it just auto-truncates the \ndeduced prefix even more, so that anything &quot;within the same domain&quot; \n(including subdomains and, for &quot;www.&quot;, sibling domains) is accepted.\n\nFor example, if your seed is:\n\nhttp://www.example.com/images/index.html\n\n...then the usual convert-to-SURT-prefix procedure results in...\n\nhttp://(com,example,www,)/images/\n\nIf OnHostsDecideRule is used, that gets further truncated to...\n\nhttp://(com,example,www,)/\n\n...which allows all URLs on that same exact host to be matched. If \nOnDomainsDecideRule is used, that gets further truncated to...\n\nhttp://(com,example,\n\n...so everything on &#39;example.com&#39; domain and subdomains is matched. \n(&#39;www,)/&#39; is special-case stripped; for any other subdomains only the \n&#39;)/&#39; would be stripped.\n\n\n&gt; I still don&#39;t understand what the property name is for defining URI&#39;s to accept (if I want to do it inline instead of in a file). I haven&#39;t been able to find a proper documentation of the properties available. Is there none, do I have to go looking in the source to figure it out?\n\nIf it&#39;s not yet documented in the User Guide, the source or hints in the \nexample configuration files are the only other documentation.\n\nSurtPrefixedDecideRule and its subclasses only accept prefixes from your \nseeds, or another &#39;surtsSourceFile&#39;. They don&#39;t accept an inline list of \nprefixes. (They theoretically could but haven&#39;t yet been set up that way.)\n\n&gt; This is the definition in the default config:\n&gt;\n&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;&gt;\n&gt;\n&gt; &lt;!--\n&gt;   &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt;\n&gt; --&gt;\n&gt; &lt;!--&lt;property name=&quot;alsoCheckVia&quot; value=&quot;true&quot; /&gt;  --&gt;\n&gt; &lt;!--&lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt;  --&gt;\n&gt;\n&gt; &lt;!--\n&gt;   &lt;property name=&quot;surtsDumpFile&quot; value=&quot;surts.dump&quot; /&gt;\n&gt; --&gt;\n&gt; &lt;/bean&gt;\n&gt;\n&gt; seedsAsSurtPrefixes in commented out, but does it still default to true? All I want to do now is limit the crawl to a specific domain. So it feels like overkill to have a file just to store one line with www.xxx.yyy in.\n\nAs noted atop the example/default configuration files:\n\n&quot;  Commented-out beans and properties are provided as an example; values\n    shown in comments reflect the actual defaults which are in effect\n    without specification. (To change from the default behavior,\n    uncomment AND alter the shown values.)   &quot;\n\nSo you only need to uncomment and change the &#39;seedsAsSurtPrefixes&#39; line \nif you want to change its value to false.\n\nHave you tried a crawl with the default scope to see what it does? If \nyour seed URL is &quot;http://www.example.com&quot; and you do a crawl with the \ndefault settings, the crawl stays on &quot;http://www.example.com&quot; URLs, \nexcept where it seems offsite URLs are necessary to render pages (as \nwith IMGs, SCRIPTs, FRAMEs, and Javascript-mentioned URLs).\n\nThat&#39;s the automatic effect of the SurtPrefixedDecideRule being in the \ndefault scope with &#39;seedsAsSurtPrefixes&#39; being true.\n\nOnly if you need to tweak that usual behavior do you need to swap in \ndifferent rule classes or change properties. And even there, you can \ninstead put other directives into the &#39;seeds&#39; text that the \nSurtPrefixedDecideRule will interpret. For example, lines that begin &quot;+&quot; \nare treated as SURT hints rather than actual seeds. So if your seeds \ntext (inline or from a file) is...\n\n#=======\nhttp://www.example.com/images/index.html\n+http://(com,example,\n#=======\n\n...then crawling starts on that one seed, but scoping accepts all URLs \nmatched by the prefix &lt;http://(com,example,&gt; -- that is, everything on \nexample.com and any subdomains.\n\n&gt; If SurtPrefixedDecideRule can&#39;t be used to keep the crawl within one domain I guess I should use OnDomainsDecideRule. But I have the same question there, what&#39;s the property name I need to use to define the URI/SURT? If there is no inline way of doing this should I use &quot;surtsSourceFile&quot; for OnDomainsDecideRule as well?\n\nAs noted above, I doubt your scenario requires using alternate rule \nclasses or a &#39;surtsSourceFile&#39; at all. But if it did, you supply a \nfilesystem path in the &#39;surtsSourceFile&#39; property, which may be absolute \nor relative to the job directory (the directory containing the &#39;.cxml&#39; \nfile).\n\n&gt; Thanks for your help!\n\nYou&#39;re welcome, hope this helps!\n\n- Gordon @ IA\n\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr&lt;gojomo@...&gt;  wrote:\n&gt;&gt;\n&gt;&gt; On 4/21/10 7:34 AM, Jens Bengtsson wrote:\n&gt;&gt;&gt; Hi!\n&gt;&gt;&gt;\n&gt;&gt;&gt; I want to specify an OnHostsDecideRule and the Crawl Scope documentation says:\n&gt;&gt;&gt;\n&gt;&gt;&gt; &quot;This DecideRule applies the configured decision to any URI that is in one of the hosts of the configured set.&quot;\n&gt;&gt;&gt;\n&gt;&gt;&gt; How do I define the configured set?\n&gt;&gt;&gt;\n&gt;&gt;&gt; What do I need besides the following?\n&gt;&gt;&gt;\n&gt;&gt;&gt; &lt;bean class=&quot;org.archive.modules.deciderules.surt.OnHostsDecideRule&quot;&gt;\n&gt;&gt;&gt;             &lt;property name=&quot;decision&quot; value=&quot;ACCEPT&quot;/&gt;\n&gt;&gt;&gt;    &lt;/bean&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; OnHostsDecideRule is a specialization of SurtPrefixedDecideRule.\n&gt;&gt;\n&gt;&gt; Both these rules can build their internal list of configured prefixes\n&gt;&gt; (against which URIs are tested) from one or both of:\n&gt;&gt;\n&gt;&gt; (1) the crawl&#39;s configured seeds -- if setting property\n&gt;&gt; seedsAsSurtPrefixes is true (which is the default)\n&gt;&gt;\n&gt;&gt; (2) a supplied file of URIs or prefixes, one to a line, via the\n&gt;&gt; &#39;surtsSourceFile&#39; setting property (a path to the file to use)\n&gt;&gt;\n&gt;&gt; In addition to the usual ways that desired prefixes are deduced from\n&gt;&gt; URIs but SurtPrefixedDecideRule, for OnHostsDecideRule all prefixes are\n&gt;&gt; truncated to the host component.\n&gt;&gt;\n&gt;&gt; For example, SurtPrefixedDecideRule will turn the URI\n&gt;&gt; &lt;http://example.com/images/&gt;  into the implied SURT prefix\n&gt;&gt; &lt;http://(com,example,)/images/&gt;. OnHostsDecideRule will further truncate\n&gt;&gt; that prefix to&lt;http://(com,example,)/&gt;, causing more URIs to be matched.\n&gt;&gt;\n&gt;&gt; Everything OnHostsDecideRule can do, SurtPrefixedDecideRule can do, too\n&gt;&gt; -- if SurtPrefixedDecideRule is supplied with URIs/prefixes already\n&gt;&gt; limited to the host-portion. For that reason, OnHostsDecideRule might be\n&gt;&gt; discouraged/deprecated/deleted someday, so that there aren&#39;t redundant\n&gt;&gt; ways to achieve the same effect.\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}