{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":555496909,"authorName":"Niels","from":"&quot;Niels&quot; &lt;niels.van.hecke@...&gt;","profile":"nielswvh","replyTo":"LIST","senderId":"up8WQV7p9XKnLD-fME1EsQK6bwZY7hhNkuEn-T2b_IAS7ZEbtbRcD66dS75_kGrtM90rw6i_n432lqF095iC1f300I-HgwCxjQ8","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: Heritrix pauses at seemingly random intervals","postDate":"1376068303","msgId":8297,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGt1MzdzZithOXI0QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDUyMDQzMkZGLjMwNjAzMDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":8295,"nextInTopic":0,"prevInTime":8296,"nextInTime":8298,"topicId":8268,"numMessagesInTopic":11,"msgSnippet":"All the css parsing errors can be ignored, as far as my group and I are concerned. We make a best-effort to rewrite all links to be local relative so that in","rawEmail":"Return-Path: &lt;niels.van.hecke@...&gt;\r\nX-Sender: niels.van.hecke@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 76446 invoked by uid 102); 9 Aug 2013 17:11:44 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m10.grp.bf1.yahoo.com with SMTP; 9 Aug 2013 17:11:44 -0000\r\nX-Received: (qmail 1700 invoked from network); 9 Aug 2013 17:11:44 -0000\r\nX-Received: from unknown (HELO ng19-vm3.bullet.mail.ne1.yahoo.com) (98.138.214.220)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 9 Aug 2013 17:11:44 -0000\r\nX-Received: from [98.138.217.177] by ng19.bullet.mail.ne1.yahoo.com with NNFMP; 09 Aug 2013 17:11:44 -0000\r\nX-Received: from [10.193.94.110] by tg2.bullet.mail.ne1.yahoo.com with NNFMP; 09 Aug 2013 17:11:44 -0000\r\nDate: Fri, 09 Aug 2013 17:11:43 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;ku37sf+a9r4@...&gt;\r\nIn-Reply-To: &lt;520432FF.3060307@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: &quot;Niels&quot; &lt;niels.van.hecke@...&gt;\r\nSubject: Re: Heritrix pauses at seemingly random intervals\r\nX-Yahoo-Group-Post: member; u=555496909; y=9i0BeZOWEqIXppmanxA1tRU3lFWeTXYw1X2vlIKSwWRbR66-UlPQuS32E7sIItHF-VuJdTIPquNEyYI\r\nX-Yahoo-Profile: nielswvh\r\n\r\nAll the css parsing errors can be ignored, as far as my group and I are con=\r\ncerned. We make a best-effort to rewrite all links to be local relative so =\r\nthat in post processing nothing is pulled from the external server more tha=\r\nn once. In our best-effort, if the external css is corrupt or poorly create=\r\nd, we have no choice but to use it as-is. That&#39;s just how it is.\nAny other =\r\nerrors that may show up are worth investigating, but those are to be dealt =\r\nwith as they show up.\nNiels\n\n--- In archive-crawler@yahoogroups.com, Gordon=\r\n Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; Everything Noah said, and also note:\n&gt; \n&gt; Any=\r\n &#39;SERIOUS&#39; level logging, at least by convention within the Heritrix \n&gt; cod=\r\ne base, means a problem that needs investigation/resolution. It has \n&gt; like=\r\nly led to a serious deviation from desired behavior: \n&gt; missed/lost/corrupt=\r\ned data, or inconsistent crawl/heap/VM state putting \n&gt; all subsequent read=\r\nouts/operation in doubt (even if progress seems to \n&gt; continue).\n&gt; \n&gt; Not e=\r\nvery SERIOUS logging results in a pause; the pause is due to a \n&gt; specific =\r\nError catch that is usually only triggered by OOMEs. (But as \n&gt; Noah notes,=\r\n appears here to be due to unwise raising of a Error inside \n&gt; the parsing =\r\nlibrary.)\n&gt; \n&gt; Also after either of these happen once (or more than once), =\r\nany \n&gt; follow-on problems (like say OOMEs) might be because it was impossib=\r\nle \n&gt; to clean-up from prior failures. So you ideally want to go to the \n&gt; =\r\nearliest one, understand what happened and remedy it, and start fresh.\n&gt; \n&gt;=\r\n - Gordon\n&gt; \n&gt; On 8/8/13 2:09 PM, Noah Levitt wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Ah, well, =\r\nthe fact that your try/catch(Exception) doesn&#39;t catch it, that\n&gt; &gt; ToeThrea=\r\nd.seriousError() ends up being called, and also the name of the\n&gt; &gt; class, =\r\nall suggest that com.phloc.css.parser.TokenMgrError is a\n&gt; &gt; java.lang.Erro=\r\nr.\n&gt; &gt;\n&gt; &gt; &quot;An Error is a subclass of Throwable that indicates serious prob=\r\nlems\n&gt; &gt; that a reasonable application should not try to catch.&quot;\n&gt; &gt; http:/=\r\n/docs.oracle.com/javase/6/docs/api/java/lang/Error.html\n&gt; &gt;\n&gt; &gt; That librar=\r\ny really should not be throwing Error in this case. I don&#39;t\n&gt; &gt; see the cla=\r\nss here, so maybe they realized that and changed it, and\n&gt; &gt; maybe a newer =\r\nversion of the library wouldn&#39;t have the problem.\n&gt; &gt; https://code.google.c=\r\nom/p/phloc-css/source/browse/#svn%2Ftrunk%2Fphloc-css%2Fsrc%2Fmain%2Fjava%2=\r\nFcom%2Fphloc%2Fcss%2Fparser\n&gt; &gt;\n&gt; &gt; In the mean time you could add a catch(=\r\nTokenMgrError) clause to your try\n&gt; &gt; block. (You could also catch(Throwabl=\r\ne) but that could cause problems\n&gt; &gt; because you want to let real errors li=\r\nke OutOfMemoryError through).\n&gt; &gt;\n&gt; &gt; Noah\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Thu, Aug 8, 2013 =\r\nat 10:01 AM, Niels &lt;niels.van.hecke@...\n&gt; &gt; &lt;mailto:niels.van.hecke@...&gt;&gt; w=\r\nrote:\n&gt; &gt;\n&gt; &gt;     &lt;&lt;&lt;\n&gt; &gt;     2013-08-02T20:17:47.128Z\n&gt; &gt;     com.phloc.cs=\r\ns.parser.TokenMgrError: Lexical error at line 169,\n&gt; &gt;     column 0.  Encou=\r\nntered: &lt;EOF&gt; after : &quot;&quot;\n&gt; &gt;     [ToeThread #363:\n&gt; &gt;     http://alpinecutt=\r\ner.com/templates/yoo_balance/css/modules.css\n&gt; &gt;       CrawlURI\n&gt; &gt;     htt=\r\np://alpinecutter.com/templates/yoo_balance/css/modules.css E\n&gt; &gt;     http:/=\r\n/alpinecutter.com/    0 attempts\n&gt; &gt;          in processor: toConvertMirror=\r\nWriter\n&gt; &gt;          ACTIVE for 58s282ms\n&gt; &gt;          step: ABOUT_TO_BEGIN_P=\r\nROCESSOR for 1s29ms\n&gt; &gt;     Java Thread State: RUNNABLE\n&gt; &gt;     Blocked/Wai=\r\nting On: NONE\n&gt; &gt;          java.lang.Thread.getStackTrace(Unknown Source)\n&gt;=\r\n &gt;\n&gt; &gt;     org.archive.crawler.framework.ToeThread.reportThread(ToeThread.j=\r\nava:483)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeTh=\r\nread.java:455)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framework.ToeThread.reportTo=\r\n(ToeThread.java:581)\n&gt; &gt;          org.archive.util.DevUtils.extraInfo(DevUt=\r\nils.java:61)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framework.ToeThread.seriousErr=\r\nor(ToeThread.java:266)\n&gt; &gt;          org.archive.crawler.framework.ToeThread=\r\n.run(ToeThread.java:176)\n&gt; &gt;     ]\n&gt; &gt;                 timestamp  discovere=\r\nd      queued   downloaded\n&gt; &gt;     doc/s(avg)  KB/s(avg)   dl-failures   bu=\r\nsy-thread   mem-use-KB\n&gt; &gt;       heap-size-KB   congestion   max-depth   av=\r\ng-depth\n&gt; &gt;     2013-08-02T20:17:47Z       95396       78234        17541\n&gt;=\r\n &gt;     25.42(18.82)   278(297)             0           575       969362\n&gt; &gt;=\r\n        9648000            1        2258          59\n&gt; &gt;\n&gt; &gt;     com.phloc.=\r\ncss.parser.TokenMgrError: Lexical error at line 169,\n&gt; &gt;     column 0.  Enc=\r\nountered: &lt;EOF&gt; after : &quot;&quot;\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.parser=\r\n.ParserCSS30TokenManager.getNextToken(ParserCSS30TokenManager.java:5702)\n&gt; =\r\n&gt;              at\n&gt; &gt;     com.phloc.css.parser.ParserCSS30.jj_ntk(ParserCSS=\r\n30.java:4956)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.parser.ParserCSS30.=\r\nstyleSheet(ParserCSS30.java:261)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.=\r\nreader.CSSReader._readStyleSheet(CSSReader.java:107)\n&gt; &gt;              at\n&gt; =\r\n&gt;     com.phloc.css.reader.CSSReader.readFromStream(CSSReader.java:826)\n&gt; &gt;=\r\n              at\n&gt; &gt;     com.phloc.css.reader.CSSReader.readFromFile(CSSRea=\r\nder.java:513)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.reader.CSSReader.re=\r\nadFromFile(CSSReader.java:450)\n&gt; &gt;              at\n&gt; &gt;     org.archive.modu=\r\nles.writer.LocalMirrorWriterProcessor.rewriteCssLinks(LocalMirrorWriterProc=\r\nessor.java:373)\n&gt; &gt;              at\n&gt; &gt;     org.archive.modules.writer.Loca=\r\nlMirrorWriterProcessor.innerProcess(LocalMirrorWriterProcessor.java:236)\n&gt; =\r\n&gt;              at\n&gt; &gt;     org.archive.modules.Processor.innerProcessResult(=\r\nProcessor.java:175)\n&gt; &gt;              at org.archive.modules.Processor.proce=\r\nss(Processor.java:142)\n&gt; &gt;              at\n&gt; &gt;     org.archive.modules.Proc=\r\nessorChain.process(ProcessorChain.java:131)\n&gt; &gt;              at\n&gt; &gt;     org=\r\n.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; &gt;     750 th=\r\nreads (575 active)\n&gt; &gt;     #serialNumber processorName currentUri (fetchAtt=\r\nempts) threadState\n&gt; &gt;     threadStep\n&gt; &gt;     #1 toConvertMirrorWriter\n&gt; &gt; =\r\n    https://www.qinetiq-na.com/wp-content/themes/QNA/js/jquery_003.js\n&gt; &gt;  =\r\n   (0) ACTIVE for 24s851ms at ABOUT_TO_BEGIN_PROCESSOR for 515ms\n&gt; &gt;     #2=\r\n toConvertMirrorWriter\n&gt; &gt;     http://www.controlchief.com/Templates/Images=\r\n/T-Icon.png (0) ACTIVE\n&gt; &gt;     for 26s505ms at ABOUT_TO_BEGIN_PROCESSOR for=\r\n 734ms\n&gt; &gt;     #3 toConvertMirrorWriter\n&gt; &gt;     http://utcaerospacesystems.=\r\ncom/Pages/Default.aspx (2) ACTIVE for\n&gt; &gt;     3m23s207ms at ABOUT_TO_BEGIN_=\r\nPROCESSOR for 3m13s36ms\n&gt; &gt;     ...\n&gt; &gt;     #749 toConvertMirrorWriter http=\r\n://www.magnetic-shield.com/index.html\n&gt; &gt;     (0) ACTIVE for 5m15s637ms at =\r\nABOUT_TO_BEGIN_PROCESSOR for 5m14s248ms\n&gt; &gt;     #750 [no CrawlURI] WAITING =\r\nfor 1s591ms at ABOUT_TO_GET_URI for 1s591ms\n&gt; &gt;      &gt;&gt;&gt;\n&gt; &gt;     Aug 02, 20=\r\n13 8:17:48 PM org.archive.crawler.framework.ToeThread\n&gt; &gt;     seriousError\n=\r\n&gt; &gt;     SEVERE: Serious error occured trying to process &#39;CrawlURI\n&gt; &gt;     h=\r\nttp://alpinecutter.com/templates/yoo_balance/css/modules.css E\n&gt; &gt;     http=\r\n://alpinecutter.com/ in toConvertMirrorWriter&#39;\n&gt; &gt;     [ToeThread #363:\n&gt; &gt;=\r\n     http://alpinecutter.com/templates/yoo_balance/css/modules.css\n&gt; &gt;     =\r\n  CrawlURI\n&gt; &gt;     http://alpinecutter.com/templates/yoo_balance/css/module=\r\ns.css E\n&gt; &gt;     http://alpinecutter.com/    0 attempts\n&gt; &gt;          in proc=\r\nessor: toConvertMirrorWriter\n&gt; &gt;          ACTIVE for 58s282ms\n&gt; &gt;          =\r\nstep: ABOUT_TO_BEGIN_PROCESSOR for 1s29ms\n&gt; &gt;     Java Thread State: RUNNAB=\r\nLE\n&gt; &gt;     Blocked/Waiting On: NONE\n&gt; &gt;          java.lang.Thread.getStackT=\r\nrace(Unknown Source)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framework.ToeThread.re=\r\nportThread(ToeThread.java:483)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framework.To=\r\neThread.reportTo(ToeThread.java:455)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framew=\r\nork.ToeThread.reportTo(ToeThread.java:581)\n&gt; &gt;          org.archive.util.De=\r\nvUtils.extraInfo(DevUtils.java:61)\n&gt; &gt;\n&gt; &gt;     org.archive.crawler.framewor=\r\nk.ToeThread.seriousError(ToeThread.java:266)\n&gt; &gt;          org.archive.crawl=\r\ner.framework.ToeThread.run(ToeThread.java:176)\n&gt; &gt;     ]\n&gt; &gt;               =\r\n  timestamp  discovered      queued   downloaded\n&gt; &gt;     doc/s(avg)  KB/s(a=\r\nvg)   dl-failures   busy-thread   mem-use-KB\n&gt; &gt;       heap-size-KB   conge=\r\nstion   max-depth   avg-depth\n&gt; &gt;     2013-08-02T20:17:47Z       95396     =\r\n  78234        17541\n&gt; &gt;     25.42(18.82)   278(297)             0         =\r\n  575       969362\n&gt; &gt;        9648000            1        2258          59\n=\r\n&gt; &gt;\n&gt; &gt;     com.phloc.css.parser.TokenMgrError: Lexical error at line 169,\n=\r\n&gt; &gt;     column 0.  Encountered: &lt;EOF&gt; after : &quot;&quot;\n&gt; &gt;              at\n&gt; &gt;   =\r\n  com.phloc.css.parser.ParserCSS30TokenManager.getNextToken(ParserCSS30Toke=\r\nnManager.java:5702)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.parser.Parser=\r\nCSS30.jj_ntk(ParserCSS30.java:4956)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.c=\r\nss.parser.ParserCSS30.styleSheet(ParserCSS30.java:261)\n&gt; &gt;              at\n=\r\n&gt; &gt;     com.phloc.css.reader.CSSReader._readStyleSheet(CSSReader.java:107)\n=\r\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.reader.CSSReader.readFromStream(C=\r\nSSReader.java:826)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.css.reader.CSSRead=\r\ner.readFromFile(CSSReader.java:513)\n&gt; &gt;              at\n&gt; &gt;     com.phloc.c=\r\nss.reader.CSSReader.readFromFile(CSSReader.java:450)\n&gt; &gt;              at\n&gt; =\r\n&gt;     org.archive.modules.writer.LocalMirrorWriterProcessor.rewriteCssLinks=\r\n(LocalMirrorWriterProcessor.java:373)\n&gt; &gt;              at\n&gt; &gt;     org.archi=\r\nve.modules.writer.LocalMirrorWriterProcessor.innerProcess(LocalMirrorWriter=\r\nProcessor.java:236)\n&gt; &gt;              at\n&gt; &gt;     org.archive.modules.Process=\r\nor.innerProcessResult(Processor.java:175)\n&gt; &gt;              at org.archive.m=\r\nodules.Processor.process(Processor.java:142)\n&gt; &gt;              at\n&gt; &gt;     or=\r\ng.archive.modules.ProcessorChain.process(ProcessorChain.java:131)\n&gt; &gt;      =\r\n        at\n&gt; &gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.ja=\r\nva:151)\n&gt; &gt;\n&gt; &gt;     All the css errors are like this one. I have a try/catc=\r\nh(Exception)\n&gt; &gt;     around the part that uses phloc, so any and all errors=\r\n should be\n&gt; &gt;     caught, but Heritrix seems to be pausing because of some=\r\n reason\n&gt; &gt;     somehow unrelated to exception handling.\n&gt; &gt;     Niels\n&gt; &gt;\n=\r\n&gt; &gt;\n&gt; &gt;     --- In archive-crawler@yahoogroups.com\n&gt; &gt;     &lt;mailto:archive-=\r\ncrawler@yahoogroups.com&gt;, Noah Levitt &lt;nlevitt@&gt;\n&gt; &gt;     wrote:\n&gt; &gt;      &gt;\n=\r\n&gt; &gt;      &gt; It doesn&#39;t pause automatically pauses on any &quot;severe error&quot;, onl=\r\ny\n&gt; &gt;     on a\n&gt; &gt;      &gt; &quot;serious error&quot; (like OOME). What exactly are the=\r\nse css errors?\n&gt; &gt;      &gt;\n&gt; &gt;      &gt; What is in the heritrix_out right arou=\r\nnd the moment when the\n&gt; &gt;     crawl pauses?\n&gt; &gt;      &gt;\n&gt; &gt;      &gt; Please p=\r\naste some excerpts.\n&gt; &gt;      &gt;\n&gt; &gt;      &gt; Noah\n&gt; &gt;      &gt;\n&gt; &gt;      &gt;\n&gt; &gt;   =\r\n   &gt; On Thu, Aug 1, 2013 at 3:55 PM, Niels &lt;niels.van.hecke@&gt; wrote:\n&gt; &gt;   =\r\n   &gt;\n&gt; &gt;      &gt; &gt; There seems to be &#39;severe&#39; errors popping up. The confusi=\r\nng\n&gt; &gt;     part is that\n&gt; &gt;      &gt; &gt; they originate from a css parsing libr=\r\nary is completely wrapped\n&gt; &gt;     in a\n&gt; &gt;      &gt; &gt; try/catch(Exception) bl=\r\nock. Does anything that has a logger\n&gt; &gt;     automatically\n&gt; &gt;      &gt; &gt; pau=\r\nse heritrix on a severe error?\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt;\n&gt; &gt;  =\r\n    &gt; &gt; ------------------------------------\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt; Yaho=\r\no! Groups Links\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt;\n&gt; &gt;      &gt; &gt;\n&gt; &gt;    =\r\n  &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;     ------------------------------------\n&gt; &gt;\n&gt; &gt;   =\r\n  Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;     archive-crawler-fullfeatured@yahoogro=\r\nups.com\n&gt; &gt;     &lt;mailto:archive-crawler-fullfeatured@yahoogroups.com&gt;\n&gt; &gt;\n&gt;=\r\n &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n"}}