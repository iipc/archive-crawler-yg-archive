{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"lkcFxlD-ZiC7PtsSO3eM2oQ0H1AwMQvrTEnKz8-yI369-1NnqOORkxfTIoUYnNNiRIOV4qciD1vn0CdD7ZFyKYYXdjGMrJzD","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Extractors communicating with CandidateChain processors...","postDate":"1368214051","msgId":8075,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBLV3Y5QjhfVWhrc0Q9RmdrV0N0WFlTVHpFRVpYWWpwY0hHOEozczUydFJjZ0BtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEIzRjhFODVCLTgwMUMtNDA1Ri04QTk3LUM1RTI3QzI5NjlDMUBhcmNoaXZlLm9yZz4=","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPgk8QjNGOEU4NUItODAxQy00MDVGLThBOTctQzVFMjdDMjk2OUMxQGFyY2hpdmUub3JnPg=="},"prevInTopic":8074,"nextInTopic":8076,"prevInTime":8074,"nextInTime":8076,"topicId":8073,"numMessagesInTopic":8,"msgSnippet":"It sounds like we have two use cases for adding a flexible dynamic attributes list like CrawlURI.data to org.archive.modules.extractor.Link . Would be very","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 88451 invoked by uid 102); 10 May 2013 19:27:39 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m11.grp.bf1.yahoo.com with SMTP; 10 May 2013 19:27:39 -0000\r\nX-Received: (qmail 11074 invoked from network); 10 May 2013 19:27:39 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 10 May 2013 19:27:39 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 0198C684015B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 12:27:38 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id F9ApmGkJgE8t for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri, 10 May 2013 12:27:33 -0700 (PDT)\r\nX-Received: from mail-ob0-f170.google.com (mail-ob0-f170.google.com [209.85.214.170])\n\tby mail.archive.org (Postfix) with ESMTPSA id 06A9E6840150\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 12:27:32 -0700 (PDT)\r\nX-Received: by mail-ob0-f170.google.com with SMTP id er7so3220204obc.1\n        for &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 12:27:32 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:x-received:in-reply-to:references:date:message-id\n         :subject:from:to:content-type;\n        bh=Z6inweaFc62A2dbS29XY6wBy5ARjsXMoLHDpolNODtw=;\n        b=Qq82vha2qFEaTtHTldjMACAxT+uClOC1RktJFSZpVaCT4ZoUs68auDvGFEiHPC4r1j\n         zNl2LEQODGF3hPFLtpt8xoBj3pPnQHYv4zQ7N+MAZPQgCOqqe0Kqxbm7jjkU5OWJ9Kjm\n         KrQqOPDJXYI4LGbXDVLrXRbI8l9wHd59LDi+fYjq8x/LuV0Qezo+w9zgBJczROkYwKPF\n         Z7caTmTFvJmp2O+VsIkaQAHL2KjWA6KuEQyisu5TsQvEZTV5JPVJU8LXl326bQI9RM/a\n         a7ypuEo/sgrmMEUhQDadCyL2/LbmXL3HNsGq4Bdg5ZUHW/Pwpp/Bz5oBOXq28pa44UNs\n         zoEQ==\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.102.161 with SMTP id fp1mr5974227obb.12.1368214052078;\n Fri, 10 May 2013 12:27:32 -0700 (PDT)\r\nX-Received: by 10.76.143.231 with HTTP; Fri, 10 May 2013 12:27:31 -0700 (PDT)\r\nIn-Reply-To: &lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt;\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt;\n\t&lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt;\r\nDate: Fri, 10 May 2013 12:27:31 -0700\r\nMessage-ID: &lt;CAA-z70KWv9B8_UhksD=FgkWCtXYSTzEEZXYjpcHG8J3s52tRcg@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=089e0149c1ce8d0fd504dc6228e8\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Extractors communicating with CandidateChain processors...\r\nX-Yahoo-Group-Post: member; u=325624130; y=SMtM7EujJhCc1uwbMOOBzedjkC99Io-AuPKvHUQ5CHhKZA\r\nX-Yahoo-Profile: nlevitt\r\n\r\n\r\n--089e0149c1ce8d0fd504dc6228e8\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIt sounds like we have two use cases for adding a &quot;flexible dynamic\nattribu=\r\ntes list&quot; like CrawlURI.data to org.archive.modules.extractor.Link\n. Would =\r\nbe very cheap for the common case where it&#39;s not used. Would you\nguys agree=\r\n that that&#39;s the preferred solution?\n\nNoah\n\n\nOn Fri, May 10, 2013 at 11:25 =\r\nAM, Adam Miller &lt;adam@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; I have used a custom ViaCo=\r\nntext, to annotate a URL for later detection in\n&gt; the processor chain. This=\r\n required creating a custom decide rule to check\n&gt; the context.\n&gt;\n&gt; An exam=\r\nple of this can be seen here:\n&gt; https://github.com/adam-miller/ExternalBrow=\r\nserExtractorHTML\n&gt;\n&gt; Decide Rule:\n&gt; https://github.com/adam-miller/External=\r\nBrowserExtractorHTML/blob/master/src/main/java/org/archive/modules/decideru=\r\nles/ViaContextMatchesRegexDecideRule.java\n&gt;\n&gt; An example from ExternalBrows=\r\nerExtractorHtml.java which gets\n&gt; &#39;processLink()&#39; from ExtractorHtml\n&gt; proc=\r\nessLink(curi,json.getString(&quot;url&quot;),&quot;=3DBROWSER_MISC&quot;.toString());\n&gt;\n&gt;\n&gt; ~Ad=\r\nam Miller\n&gt;\n&gt; On May 10, 2013, at 9:43 AM, Kristinn Sigur=F0sson &lt;\n&gt; kristi=\r\nnn@...&gt; wrote:\n&gt;\n&gt;\n&gt;\n&gt; I have an extractor that needs to be ab=\r\nle to mark up extracted URLs so\n&gt; that a processor in the candidates chain =\r\nknows how to handle them.\n&gt;\n&gt; The only options I see is to have the extract=\r\nor create a CrawlURI itself\n&gt; and add it to the OutCandidates list rather t=\r\nhan OutLinks or write all the\n&gt; markup into the parent curi&#39;s data map and =\r\nretrieve it using the\n&gt; curi.getFullVia() once in the candidate chain.\n&gt;\n&gt; =\r\nThe latter option feels like a royal hack and the former also feels a bit\n&gt;=\r\n iffy, so I&#39;m asking if there a recommended or established way of doing\n&gt; t=\r\nhis?\n&gt;\n&gt; Best,\n&gt; Kris\n&gt;\n&gt; -------------------------------------------------=\r\n---------\n&gt; Landsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=\r\n=F6tu 3 - 107 Reykjav=EDk\n&gt; S=EDmi/Tel: +354 5255600 | www.landsbokasafn.is=\r\n\n&gt; ----------------------------------------------------------\n&gt; fyrirvari/d=\r\nisclaimer - http://fyrirvari.landsbokasafn.is\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\r\n--089e0149c1ce8d0fd504dc6228e8\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;It sounds like we have two use cases for adding a &quot;fl=\r\nexible dynamic attributes list&quot; like CrawlURI.data to org.archive.modu=\r\nles.extractor.Link&lt;div style=3D&quot;font-family:arial,helvetica,sans-serif;disp=\r\nlay:inline&quot; class=3D&quot;gmail_default&quot;&gt;\n. Would be very cheap for the common c=\r\nase where it&#39;s not used. Would you guys agree that that&#39;s the prefe=\r\nrred solution?&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;arial, helvetica, sans-serif&quot;&gt;&lt;br&gt;&lt;/=\r\nfont&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;arial, helvetica, sans-serif&quot;&gt;&lt;div style=3D&quot;f=\r\nont-family:arial,helvetica,sans-serif;display:inline&quot; class=3D&quot;gmail_defaul=\r\nt&quot;&gt;\nNoah&lt;/div&gt;&lt;br&gt;&lt;/font&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail=\r\n_quote&quot;&gt;On Fri, May 10, 2013 at 11:25 AM, Adam Miller &lt;span dir=3D&quot;ltr&quot;&gt;&lt=\r\n;&lt;a href=3D&quot;mailto:adam@...&quot; target=3D&quot;_blank&quot;&gt;adam@...&lt;/a&gt;=\r\n&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 =\r\n0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n\n\n\n\n        \n&lt;div =\r\nstyle=3D&quot;word-wrap:break-word&quot;&gt;\n\n\n\n\n&lt;br&gt;&lt;br&gt;\n\n\n\n\n&lt;div&gt;I have used a custom =\r\nViaContext, to annotate a URL for later detection in the processor chain. T=\r\nhis required creating a custom decide rule to check the context.&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;An example of this can be seen here:&lt;/div&gt;\n&lt;div&gt;&lt;a href=3D&quot;h=\r\nttps://github.com/adam-miller/ExternalBrowserExtractorHTML&quot; target=3D&quot;_blan=\r\nk&quot;&gt;https://github.com/adam-miller/ExternalBrowserExtractorHTML&lt;/a&gt;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Decide Rule:=A0&lt;a href=3D&quot;https://github.com/adam-miller/E=\r\nxternalBrowserExtractorHTML/blob/master/src/main/java/org/archive/modules/d=\r\neciderules/ViaContextMatchesRegexDecideRule.java&quot; target=3D&quot;_blank&quot;&gt;https:/=\r\n/github.com/adam-miller/ExternalBrowserExtractorHTML/blob/master/src/main/j=\r\nava/org/archive/modules/deciderules/ViaContextMatchesRegexDecideRule.java&lt;/=\r\na&gt;&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;An example from ExternalBrowserExtractorHtml.j=\r\nava which gets &#39;processLink()&#39; from ExtractorHtml&lt;/div&gt;&lt;div&gt;&lt;span s=\r\ntyle=3D&quot;line-height:18px;color:rgb(153,0,0);font-size:12px;white-space:pre-=\r\nwrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margi=\r\nn:0px;font-weight:bold;border:0px;padding:0px&quot;&gt;processLink&lt;/span&gt;&lt;span styl=\r\ne=3D&quot;line-height:18px;color:rgb(51,51,51);font-size:12px;white-space:pre-wr=\r\nap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margin:=\r\n0px;font-weight:bold;border:0px;padding:0px&quot;&gt;(&lt;/span&gt;&lt;span style=3D&quot;line-he=\r\night:18px;color:rgb(51,51,51);font-size:12px;white-space:pre-wrap;font-fami=\r\nly:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margin:0px;border:0=\r\npx;padding:0px&quot;&gt;curi&lt;/span&gt;&lt;span style=3D&quot;line-height:18px;color:rgb(51,51,=\r\n51);font-size:12px;white-space:pre-wrap;font-family:Consolas,&#39;Liberatio=\r\nn Mono&#39;,Courier,monospace;margin:0px;font-weight:bold;border:0px;paddin=\r\ng:0px&quot;&gt;,&lt;/span&gt;&lt;span style=3D&quot;line-height:18px;color:rgb(51,51,51);font-siz=\r\ne:12px;white-space:pre-wrap;font-family:Consolas,&#39;Liberation Mono&#39;,=\r\nCourier,monospace;margin:0px;border:0px;padding:0px&quot;&gt;json&lt;/span&gt;&lt;span style=\r\n=3D&quot;line-height:18px;color:rgb(51,51,51);font-size:12px;white-space:pre-wra=\r\np;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margin:0=\r\npx;font-weight:bold;border:0px;padding:0px&quot;&gt;.&lt;/span&gt;&lt;span style=3D&quot;line-hei=\r\nght:18px;color:rgb(0,128,128);font-size:12px;white-space:pre-wrap;font-fami=\r\nly:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margin:0px;border:0=\r\npx;padding:0px&quot;&gt;getString&lt;/span&gt;&lt;span style=3D&quot;line-height:18px;color:rgb(5=\r\n1,51,51);font-size:12px;white-space:pre-wrap;font-family:Consolas,&#39;Libe=\r\nration Mono&#39;,Courier,monospace;margin:0px;font-weight:bold;border:0px;p=\r\nadding:0px&quot;&gt;(&lt;/span&gt;&lt;span style=3D&quot;line-height:18px;color:rgb(221,17,68);fo=\r\nnt-size:12px;white-space:pre-wrap;font-family:Consolas,&#39;Liberation Mono=\r\n&#39;,Courier,monospace;margin:0px;border:0px;padding:0px&quot;&gt;&quot;url&quot;&lt;=\r\n/span&gt;&lt;span style=3D&quot;line-height:18px;color:rgb(51,51,51);font-size:12px;wh=\r\nite-space:pre-wrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,m=\r\nonospace;margin:0px;font-weight:bold;border:0px;padding:0px&quot;&gt;),&lt;/span&gt;&lt;span=\r\n style=3D&quot;line-height:18px;color:rgb(221,17,68);font-size:12px;white-space:=\r\npre-wrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;m=\r\nargin:0px;border:0px;padding:0px&quot;&gt;&quot;=3DBROWSER_MISC&quot;&lt;/span&gt;&lt;span s=\r\ntyle=3D&quot;line-height:18px;color:rgb(51,51,51);font-size:12px;white-space:pre=\r\n-wrap;font-family:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;marg=\r\nin:0px;font-weight:bold;border:0px;padding:0px&quot;&gt;.&lt;/span&gt;&lt;span style=3D&quot;line=\r\n-height:18px;color:rgb(0,128,128);font-size:12px;white-space:pre-wrap;font-=\r\nfamily:Consolas,&#39;Liberation Mono&#39;,Courier,monospace;margin:0px;bord=\r\ner:0px;padding:0px&quot;&gt;toString&lt;/span&gt;&lt;span style=3D&quot;line-height:18px;color:rg=\r\nb(51,51,51);font-size:12px;white-space:pre-wrap;font-family:Consolas,&#39;L=\r\niberation Mono&#39;,Courier,monospace;margin:0px;font-weight:bold;border:0p=\r\nx;padding:0px&quot;&gt;());&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;\n&lt;div&gt;~=\r\nAdam Miller&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div class=3D&quot;im&quot;&gt;&lt;div&gt;On May 10, 2013, =\r\nat 9:43 AM, Kristinn Sigur=F0sson &lt;&lt;a href=3D&quot;mailto:kristinn@landsbokas=\r\nafn.is&quot; target=3D&quot;_blank&quot;&gt;kristinn@...&lt;/a&gt;&gt; wrote:&lt;/div&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span=\r\n&gt;\n\n\n\n    &lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;div class=3D&quot;im&quot;&gt;I have an extractor that needs to be=\r\n able to mark up extracted URLs so that a processor in the candidates chain=\r\n knows how to handle them.\n&lt;br&gt;\n\n&lt;br&gt;\nThe only options I see is to have the=\r\n extractor create a CrawlURI itself and add it to the OutCandidates list ra=\r\nther than OutLinks or write all the markup into the parent curi&#39;s data =\r\nmap and retrieve it using the curi.getFullVia() once in the candidate chain=\r\n.\n&lt;br&gt;\n\n&lt;br&gt;\nThe latter option feels like a royal hack and the former also =\r\nfeels a bit iffy, so I&#39;m asking if there a recommended or established w=\r\nay of doing this?\n&lt;br&gt;\n\n&lt;br&gt;\nBest,\n&lt;br&gt;\nKris\n&lt;br&gt;\n\n&lt;br&gt;\n-------------------=\r\n---------------------------------------\n&lt;br&gt;&lt;/div&gt;&lt;div class=3D&quot;im&quot;&gt;\nLandsb=\r\n=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Reyk=\r\njav=EDk\n&lt;br&gt;\nS=EDmi/Tel: &lt;a href=3D&quot;tel:%2B354%205255600&quot; value=3D&quot;+3545255=\r\n600&quot; target=3D&quot;_blank&quot;&gt;+354 5255600&lt;/a&gt; | &lt;a href=3D&quot;http://www.landsbokasa=\r\nfn.is&quot; target=3D&quot;_blank&quot;&gt;www.landsbokasafn.is&lt;/a&gt;\n&lt;br&gt;\n--------------------=\r\n--------------------------------------\n&lt;br&gt;&lt;/div&gt;\nfyrirvari/disclaimer - &lt;a=\r\n href=3D&quot;http://fyrirvari.landsbokasafn.is/&quot; target=3D&quot;_blank&quot;&gt;http://fyrir=\r\nvari.landsbokasafn.is&lt;/a&gt;\n&lt;br&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n\n=\r\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\n\n\n\n\n&lt;br&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;div width=3D&quot;1&quot; sty=\r\nle=3D&quot;color:white;clear:both&quot;&gt;&lt;/div&gt;\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/d=\r\niv&gt;\n\r\n--089e0149c1ce8d0fd504dc6228e8--\r\n\n"}}