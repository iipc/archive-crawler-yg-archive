{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"i9RJsB9arxIKZxo_CHzn0ZaSYnxZi5QO1amFVS0WYvvYUA0NP6VAW62CSLunY1ZE5UBnN2CrP3dnaXVnPMVovhAHiWZ-","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: limiting queue size","postDate":"1176882774","msgId":4134,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwNGlvbStrODEwQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MUQ1OTA5LjMwNDA4MDhAYXJjaGl2ZS5vcmc+"},"prevInTopic":4094,"nextInTopic":0,"prevInTime":4133,"nextInTime":4135,"topicId":4088,"numMessagesInTopic":3,"msgSnippet":"Thanks alot for your comments Gordon, a first implementation as a QueueSizeLimiterDecideRule is available at JIRA as #HER-1125 (contrib)","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 35463 invoked from network); 18 Apr 2007 07:54:30 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m46.grp.scd.yahoo.com with QMQP; 18 Apr 2007 07:54:30 -0000\r\nReceived: from unknown (HELO n26.bullet.scd.yahoo.com) (66.94.237.55)\n  by mta6.grp.scd.yahoo.com with SMTP; 18 Apr 2007 07:54:29 -0000\r\nReceived: from [66.218.69.2] by n26.bullet.scd.yahoo.com with NNFMP; 18 Apr 2007 07:52:57 -0000\r\nReceived: from [66.218.66.84] by t2.bullet.scd.yahoo.com with NNFMP; 18 Apr 2007 07:52:56 -0000\r\nDate: Wed, 18 Apr 2007 07:52:54 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f04iom+k810@...&gt;\r\nIn-Reply-To: &lt;461D5909.3040808@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: limiting queue size\r\nX-Yahoo-Group-Post: member; u=191387937; y=30_dyVKRBTaf2ISxI6eoBM8wzyMb1uX61Pjfll8FHJCXPoDt\r\nX-Yahoo-Profile: pandae667\r\n\r\nThanks alot for your comments Gordon,\n\na first implementation as a QueueSiz=\r\neLimiterDecideRule is available at\nJIRA as &quot;#HER-1125 (contrib) QueueSizeLi=\r\nmiterDecideRule&quot;.\nIt only affects &quot;true&quot; candidateURIs - as soon as somethi=\r\nng has been\npromoted to a CrawlURI it is disregarded and simply passed thou=\r\ngh.\n(This way each URI is only checked once wether it would overbudget the\n=\r\nqueue or not.)\n\nRegards\n  Olaf Freyer\n\n\n--- In archive-crawler@yahoogroups.=\r\ncom, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;\n&gt; That&#39;s a reasonable idea, not stra=\r\nnge at all.\n&gt; \n&gt; It might be appropriate to do as a post-extraction process=\r\nor, working \n&gt; like QuotaEnforcer but on candidate discovered links instead=\r\n of \n&gt; in-process URIs, and against counts of enqueued URIs rather than cou=\r\nnts \n&gt; of finished URIs.\n&gt; \n&gt; Similarly, it could take the form of a scope =\r\nDecideRule that consults \n&gt; appropriate discovered/enqueued tallies.\n&gt; \n&gt; O=\r\nr, since the current queue &#39;budget&#39; is assessed/spent as URIs are \n&gt; dequeu=\r\ned/finished, it could be another parallel &#39;budget&#39; assessed on \n&gt; queue ent=\r\nry.\n&gt; \n&gt; I suppose I like the scope approach best at first glance -- that f=\r\neels \n&gt; like the right place to knock URIs out before scheduling. But I&#39;m n=\r\not \n&gt; sure that opinion wouldn&#39;t change with more understanding of the \n&gt; u=\r\nnderlying need and some investigational implementation.\n&gt; \n&gt; - Gordon @ IA\n=\r\n&gt; \n&gt; pandae667 wrote:\n&gt; &gt; Dear IA-Team,\n&gt; &gt; \n&gt; &gt; this idea might seem rathe=\r\nr strange, but still this is something I&#39;m\n&gt; &gt; considering usefull...\n&gt; &gt; \n=\r\n&gt; &gt; So here is the basic idea:\n&gt; &gt;  - I have a QueueTotalBudget set to lets=\r\n say 10000 entries\n&gt; &gt;  - whilest crawling stuff from this queue it grows t=\r\no a size of\n&gt; &gt; something like 200000 entries (something I&#39;ve seen quite of=\r\nten)\n&gt; &gt;  - after the budget is exceeded the queue gets retired\n&gt; &gt; \n&gt; &gt; Re=\r\nsult: 190000 entries in the queue that won&#39;t ever be used.\n&gt; &gt; \n&gt; &gt; Now the=\r\nre is one thing I know for sure (which might not be true in\n&gt; &gt; other peopl=\r\nes crawling scenarios): I will not change the queues total\n&gt; &gt; budget - so =\r\nthere is no need to recall any of those URLs. So one\n&gt; &gt; possible approach =\r\nwould be wiping the queue when the budget is\nexceeded.\n&gt; &gt; \n&gt; &gt; But I do se=\r\ne another option that might be better:\n&gt; &gt; Why enqueue this stuff when we a=\r\nllready do know things will never be\n&gt; &gt; processed?\n&gt; &gt; \n&gt; &gt; So my question=\r\n(s) are: \n&gt; &gt;  - is this 2nd approach reasonable at all?\n&gt; &gt;  - does writin=\r\ng a postProcessor for such a task seem the right thing\n&gt; &gt; to do? (which ca=\r\nn decided things are out-of-scope if their queues\n&gt; &gt; budget would be excee=\r\nded after their addition)\n&gt; &gt; \n&gt; &gt; Any thoughts/comments are welcome.\n&gt; &gt; \n=\r\n&gt; &gt; Regards\n&gt; &gt;   Olaf Freyer\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n=\r\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}