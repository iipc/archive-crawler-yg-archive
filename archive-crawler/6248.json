{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":422010605,"authorName":"anas elghafari","from":"anas elghafari &lt;anas.elghafari@...&gt;","replyTo":"LIST","senderId":"vja_SAUfCIELpsaDy_r6KpCeop1f1Kv-bhBeEs6LnVmsL3rWPBWrwEp_-TPG4cZNnaHkq_T_4shDo3kEw--qXm8MB7Rd7-3mVOXRwUbYabA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Decide rules","postDate":"1262018136","msgId":6248,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZhMDI5ZTJkMDkxMjI4MDgzNXM1MDEzNmZmMHg3ODA2ZmVlMzIyZWNmNGU4QG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIzMDNAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1Pg==","referencesHeader":"PDJEMTI3RjExREM3OTcxNEU5QjZBNDNBQzk0NTgxNDdGMzI3NkIyRkJAc3VleDA3LW1ieC0wMy5hZC5zeXIuZWR1PgkgPDZhMDI5ZTJkMDkxMjI2MTAyOG03MGJkNTE5YW0zNGNhMzRmNDEwNmZkMjFAbWFpbC5nbWFpbC5jb20+CSA8MkQxMjdGMTFEQzc5NzE0RTlCNkE0M0FDOTQ1ODE0N0YzMjc2QjMwM0BzdWV4MDctbWJ4LTAzLmFkLnN5ci5lZHU+"},"prevInTopic":6246,"nextInTopic":6249,"prevInTime":6247,"nextInTime":6249,"topicId":6240,"numMessagesInTopic":14,"msgSnippet":"I don t think the effect of the sequence is OR. Every rule stamps the URI with ACCEPT, REJECT or PASS. And the last non-pass is the operative judgment. So I","rawEmail":"Return-Path: &lt;anas.elghafari@...&gt;\r\nX-Sender: anas.elghafari@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 41978 invoked from network); 28 Dec 2009 16:35:39 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m5.grp.sp2.yahoo.com with QMQP; 28 Dec 2009 16:35:39 -0000\r\nX-Received: from unknown (HELO mail-bw0-f214.google.com) (209.85.218.214)\n  by mta3.grp.sp2.yahoo.com with SMTP; 28 Dec 2009 16:35:39 -0000\r\nX-Received: by bwz6 with SMTP id 6so7012584bwz.31\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 28 Dec 2009 08:35:38 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.204.2.131 with SMTP id 3mr10867549bkj.175.1262018136758; Mon, \n\t28 Dec 2009 08:35:36 -0800 (PST)\r\nIn-Reply-To: &lt;2D127F11DC79714E9B6A43AC9458147F3276B303@...&gt;\r\nReferences: &lt;2D127F11DC79714E9B6A43AC9458147F3276B2FB@...&gt;\n\t &lt;6a029e2d0912261028m70bd519am34ca34f4106fd21@...&gt;\n\t &lt;2D127F11DC79714E9B6A43AC9458147F3276B303@...&gt;\r\nDate: Mon, 28 Dec 2009 17:35:36 +0100\r\nMessage-ID: &lt;6a029e2d0912280835s50136ff0x7806fee322ecf4e8@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=00151758b3b0bdd960047bcc7e6e\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: anas elghafari &lt;anas.elghafari@...&gt;\r\nSubject: Re: [archive-crawler] Decide rules\r\nX-Yahoo-Group-Post: member; u=422010605\r\n\r\n\r\n--00151758b3b0bdd960047bcc7e6e\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI don&#39;t think the effect of the sequence is OR. Every rule stamps the URI\nw=\r\nith ACCEPT, REJECT or PASS. And the last non-pass is the operative\njudgment=\r\n. So I don&#39;t quite understand the problem. Just have your rules\nstamp REJEC=\r\nT on what you don&#39;t like, and PASS on everything else... and this\ngives the=\r\n effect of combining the reject rules with &quot;AND&quot;\n\n\nOn Sat, Dec 26, 2009 at =\r\n9:05 PM, Steven A Rowe &lt;sarowe@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hi Anas,\n&gt;\n&gt; I was ho=\r\nping that you (or someone else on this list) would say that I was\n&gt; missing=\r\n something that would allow me to only write rules, and not have to\n&gt; write=\r\n code.\n&gt;\n&gt; Combining multiple conditions together seems like such a basic r=\r\nequirement\n&gt; I&#39;m surprised it doesn&#39;t already exist - something like the ab=\r\nility to\n&gt; override the logical operator on DecideRuleSequence (currently h=\r\nardwired to\n&gt; OR) to other possibilities like AND. Then I could write somet=\r\nhing like\n&gt; (pardon the pseudocode):\n&gt;\n&gt; OrDecideRuleSequence : decision=3D=\r\nLASTMATCH\n&gt; RejectDecideRule\n&gt; SurtPrefixedDecideRule : seedsAsSurtPrefixes=\r\n=3Dtrue ; decision=3DACCEPT\n&gt; AndDecideRuleSequence : decision=3DREJECT\n&gt; C=\r\nontentTypeMatchesRegexDecideRule : regex=3Dtext/html\n&gt; ExceedsDocumentLengt=\r\nhThresholdDecideRule\n&gt; : contentLengthThreshold=3D10000000\n&gt; AndDecideRuleS=\r\nequence : decision=3DREJECT\n&gt; ContentTypeMatchesRegexDecideRule : regex=3Dt=\r\next/plain\n&gt; ExceedsDocumentLengthThresholdDecideRule\n&gt; : contentLengthThres=\r\nhold=3D100000\n&gt;\n&gt; Is this a bad idea?\n&gt;\n&gt; Steve\n&gt;\n&gt;\n&gt; On 12/26/2009 at 1:28=\r\n PM, anas elghafari wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; You can write your own decideRules t=\r\nhat subclass the DecideRule, and you\n&gt; &gt; overwrite the decisionFor(Object o=\r\n) method. In the decisionFor(Object o)\n&gt; &gt; you check if the Object is a Cra=\r\nwlURI, if so you typecast into CrawlURI\n&gt; &gt; and then you will be able to ch=\r\neck the contenttype and content size\n&gt; &gt; (look at CrawlURI API). And you ca=\r\nn issue decesion REJECT for the uris\n&gt; &gt; that don&#39;t fulfill you criteria.\n&gt;=\r\n &gt;\n&gt; &gt; You can also do this by adding a processor, where -in your overwriti=\r\nng\n&gt; &gt; of innerProcess(CrawlURI curi)- you check the type and size and then=\r\n you\n&gt; &gt; reject those URIs you don&#39;t want to process by calling\n&gt; &gt; curi.sk=\r\nipToProcessorChain(getCrawlController().getPostProcessorChain())\n&gt; &gt;\n&gt; &gt; be=\r\nware that DecideRules/Filter inserted before the extraction will\n&gt; &gt; preven=\r\nt the CrawlJob from ever getting to Uris that are acceptable,\n&gt; &gt; because t=\r\nhe path to them goes through URIs that are not.\n&gt; &gt;\n&gt; &gt; Anas\n&gt; &gt;\n&gt; &gt; On Wed=\r\n, Dec 23, 2009 at 1:48 AM, Steven A Rowe &lt;sarowe@...&lt;sarowe%40syr.edu&gt;&gt;=\r\n\n&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi,\n&gt; &gt;\n&gt; &gt; I want to write decide-rules that reject reso=\r\nurces based on two\n&gt; &gt; conditions: content-length and content-type (e.g., t=\r\next/html resources\n&gt; &gt; larger than 10MB, and text/plain resources larger th=\r\nan 100KB), but I\n&gt; &gt; can&#39;t find any way to logically AND rule subsets toget=\r\nher.\n&gt; &gt;\n&gt; &gt; Is there a way to write decide-rules that would achieve what I=\r\n\n&gt; &gt; want? Should I be using ScriptedDecideRules?\n&gt; &gt;\n&gt; &gt; Thanks (for your =\r\npatience with a newbie),\n&gt; &gt; Steve\n&gt;\n&gt;  \n&gt;\n\r\n--00151758b3b0bdd960047bcc7e6e\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div&gt;I don&#39;t think the effect of the sequence is OR. Every rule stamps =\r\nthe URI with ACCEPT, REJECT or PASS. And the last non-pass is the operative=\r\n judgment. So I don&#39;t quite understand the problem. Just have your rule=\r\ns stamp REJECT on what you don&#39;t like, and PASS on everything else... a=\r\nnd this gives the effect of combining the reject rules with &quot;AND&quot;=\r\n=A0&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sat, Dec 26, 200=\r\n9 at 9:05 PM, Steven A Rowe &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:sarowe@=\r\nsyr.edu&quot;&gt;sarowe@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail=\r\n_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:=\r\n1ex;&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color:#fff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;=\r\n\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;Hi Anas,&lt;br&gt;\n&lt;br&gt;\nI was=\r\n hoping that you (or someone else on this list) would say that I was missin=\r\ng something that would allow me to only write rules, and not have to write =\r\ncode.&lt;br&gt;\n&lt;br&gt;\nCombining multiple conditions together seems like such a bas=\r\nic requirement I&#39;m surprised it doesn&#39;t already exist - something l=\r\nike the ability to override the logical operator on DecideRuleSequence (cur=\r\nrently hardwired to OR) to other possibilities like AND.  Then I could writ=\r\ne something like (pardon the pseudocode):&lt;br&gt;\n\n&lt;br&gt;\nOrDecideRuleSequence : =\r\ndecision=3DLASTMATCH&lt;br&gt;\n   RejectDecideRule&lt;br&gt;\n   SurtPrefixedDecideRule =\r\n: seedsAsSurtPrefixes=3Dtrue ; decision=3DACCEPT&lt;br&gt;\n   AndDecideRuleSequen=\r\nce : decision=3DREJECT&lt;br&gt;\n      ContentTypeMatchesRegexDecideRule : regex=\r\n=3Dtext/html&lt;br&gt;\n      ExceedsDocumentLengthThresholdDecideRule &lt;br&gt;\n      =\r\n   : contentLengthThreshold=3D10000000&lt;br&gt;\n   AndDecideRuleSequence : decis=\r\nion=3DREJECT&lt;br&gt;\n      ContentTypeMatchesRegexDecideRule : regex=3Dtext/pla=\r\nin&lt;br&gt;\n      ExceedsDocumentLengthThresholdDecideRule&lt;br&gt;\n         : conten=\r\ntLengthThreshold=3D100000&lt;br&gt;\n&lt;br&gt;\nIs this a bad idea?&lt;br&gt;\n&lt;br&gt;\nSteve&lt;/p&gt;&lt;d=\r\niv&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;\n&lt;br&gt;\nOn 12/26/2009 at 1:28 PM, anas el=\r\nghafari wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; You can write your own decideRu=\r\nles that subclass the DecideRule, and you&lt;br&gt;\n&gt; overwrite the decisionFo=\r\nr(Object o) method. In the decisionFor(Object o)&lt;br&gt;\n&gt; you check if the =\r\nObject is a CrawlURI, if so you typecast into CrawlURI&lt;br&gt;\n&gt; and then yo=\r\nu will be able to check the contenttype and content size&lt;br&gt;\n&gt; (look at =\r\nCrawlURI API). And you can issue decesion REJECT for the uris&lt;br&gt;\n&gt; that=\r\n don&#39;t fulfill you criteria.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; You can also do this by=\r\n adding a processor, where -in your overwriting&lt;br&gt;\n&gt; of innerProcess(Cr=\r\nawlURI curi)- you check the type and size and then you&lt;br&gt;\n&gt; reject thos=\r\ne URIs you don&#39;t want to process by calling&lt;br&gt;\n&gt; curi.skipToProcess=\r\norChain(getCrawlController().getPostProcessorChain())&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; be=\r\nware that DecideRules/Filter inserted before the extraction will&lt;br&gt;\n&gt; p=\r\nrevent the CrawlJob from ever getting to Uris that are acceptable,&lt;br&gt;\n&gt;=\r\n because the path to them goes through URIs that are not.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt=\r\n; Anas&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; On Wed, Dec 23, 2009 at 1:48 AM, Steven A Rowe &l=\r\nt;&lt;a href=3D&quot;mailto:sarowe%40syr.edu&quot; target=3D&quot;_blank&quot;&gt;sarowe@...&lt;/a&gt;&=\r\ngt; wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; \tHi,&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; \tI want to write deci=\r\nde-rules that reject resources based on two&lt;br&gt;\n&gt; conditions: content-le=\r\nngth and content-type (e.g., text/html resources&lt;br&gt;\n&gt; larger than 10MB,=\r\n and text/plain resources larger than 100KB), but I&lt;br&gt;\n&gt; can&#39;t find=\r\n any way to logically AND rule subsets together.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; \tIs the=\r\nre a way to write decide-rules that would achieve what I&lt;br&gt;\n&gt; want? Sho=\r\nuld I be using ScriptedDecideRules?&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; \tThanks (for your pa=\r\ntience with a newbie),&lt;br&gt;\n&gt; \tSteve&lt;br&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n=\r\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n =\r\n \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;\n\r\n--00151758b3b0bdd960047bcc7e6e--\r\n\n"}}