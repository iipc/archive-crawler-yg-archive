{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"0P27_ejtkadFO0CzlUk0f8LZDrpnPEUiwGN3zC1nUPOWq3WEorMDJW81Hzv8kEHTH-lcxgFzNqN26e_FAtDJ8iS2wy4-wea7","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] [Thoughts / Fixes] bugs 1507554,1517693","postDate":"1152556793","msgId":3031,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0QjI5RUY5LjkwNDA4MDRAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGIxM2YzZjA2MDYwNzA5MTQyN2czYmZkMTgyMXlhYmE5MTZjZDE5NmJkZTc1QG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGIxM2YzZjA2MDYwNzA5MTQyN2czYmZkMTgyMXlhYmE5MTZjZDE5NmJkZTc1QG1haWwuZ21haWwuY29tPg=="},"prevInTopic":3029,"nextInTopic":3033,"prevInTime":3030,"nextInTime":3032,"topicId":3026,"numMessagesInTopic":10,"msgSnippet":"... Great stuff Yousef.  Comments interlaced in the below. ... The only case I can think of URIs in form values would be as form defaults. In general, Heritrix","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 55547 invoked from network); 10 Jul 2006 18:40:11 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m38.grp.scd.yahoo.com with QMQP; 10 Jul 2006 18:40:11 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.227.188)\n  by mta3.grp.scd.yahoo.com with SMTP; 10 Jul 2006 18:40:11 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id A638D14156BAB;\n\tMon, 10 Jul 2006 11:39:51 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 02155-01-63; Mon, 10 Jul 2006 11:39:49 -0700 (PDT)\r\nReceived: from [192.168.1.204] (unknown [67.170.222.19])\n\tby mail.archive.org (Postfix) with ESMTP id 497D414156A7B;\n\tMon, 10 Jul 2006 11:39:49 -0700 (PDT)\r\nMessage-ID: &lt;44B29EF9.9040804@...&gt;\r\nDate: Mon, 10 Jul 2006 11:39:53 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.0.2) Gecko/20060405 SeaMonkey/1.0.1\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;b13f3f060607091427g3bfd1821yaba916cd196bde75@...&gt;\r\nIn-Reply-To: &lt;b13f3f060607091427g3bfd1821yaba916cd196bde75@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] [Thoughts / Fixes] bugs 1507554,1517693\r\nX-Yahoo-Group-Post: member; u=168599281; y=ov_cjehmEpRGUy00E5E-PVy1oopcUhPmFnPcumk7-pIyvEN2mGOvi1XD\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nYousef Ourabi wrote:\n&gt;\n&gt; Hello:\n&gt; I sent a somewhat similar email to this list yesterday that seems to \n&gt; have been blocked due to the attached patches? Ignore that one if it \n&gt; ends up making it to the list as I&#39;ve slightly changed the way I \n&gt; tweaked things. Both issues are resolved on my local build, could \n&gt; someone (St.Ack?) take a quick look through the patch(es) and see if \n&gt; they are up to snuff (There might be architectural considerations I&#39;ve \n&gt; failed to take into account). If they are not, share your thoughts and \n&gt; I&#39;ll try to comply :-)\n&gt;\n\n\n\n\n\n\n\n\nGreat stuff Yousef.  Comments interlaced in the below.\n\n...\n\n&gt; There is a comment that mentions something about URI&#39;s in form values \n&gt; (other than the action of course) can someone elaborate? I can&#39;t \n&gt; really think of any examples? It seems like this is unnecessarily \n&gt; increasing the signal/noise ratio when extracting URI&#39;s and it seems \n&gt; like being lax with false positives would have a strong negative \n&gt; impact at crawl time (?)\n&gt;\n\n\n\n\n\n\n\nThe only case I can think of URIs in form values would be as form defaults.\n\nIn general, Heritrix would rather have false positives than the inverse \n(Our extraction philosophy can be characterized as &#39;overeager&#39;).  \nHeritrix is an archival crawler that tries to find every link possible.\n\nTalking with our Igor, considering the sample HTML you provide, we&#39;d \nlike to keep our default behavior for the very reason that there may be \nlinks in values (as per your cnn.com in the example below).  Igor also \nprovided an example where a list is all links: http://www.fco.gov.uk.\n\nWhat would be nice would be making this behavior optional with it \nenabled by default.  If a webmaster complained about a Heritrix crawler \ngenerating too many 404s, a crawl admin could turn off option extraction.\n\n\n....\n\n&gt;\n&gt; // INLINE PATCH\n&gt; Index: org/archive/crawler/extractor/ExtractorHTML.java\n&gt; ===================================================================\n&gt; RCS file: \n&gt; /cvsroot/archive-crawler/ArchiveOpenCrawler/src/java/org/archive/crawler/extractor/ExtractorHTML.java,v\n&gt; retrieving revision 1.74\n&gt; diff -u - r1.74 ExtractorHTML.java\n&gt; --- org/archive/crawler/extractor/ExtractorHTML.java    3 Mar 2006 \n&gt; 03:34:19 -0000    1.74\n&gt; +++ org/archive/crawler/extractor/ExtractorHTML.java    9 Jul 2006 \n&gt; 19:35:38 -0000\n&gt; @@ -155,8 +155,6 @@\n&gt;      // URI might be one anyway, as in form-tag VALUE attributes\n&gt;      static final String LIKELY_URI_PATH =\n&gt;       &quot;(&#92;&#92;.{0,2}[^&#92;&#92;.&#92;&#92;n&#92;&#92;r&#92;&#92;s&#92;&quot;&#39;]*(&#92;&#92;.[^&#92;&#92;.&#92;&#92;n&#92;&#92;r&#92;&#92;s&#92;&quot;&#39;]+)+)&quot;;\n&gt; -    static final String ESCAPED_AMP = &quot;&amp;&quot;;\n&gt; -    static final String AMP =&quot;&&quot;;\n&gt;      static final String WHITESPACE = &quot;&#92;&#92;s&quot;;\n&gt;      static final String CLASSEXT =&quot;.class&quot;;\n&gt;      static final String APPLET = &quot;applet&quot;;\n&gt; @@ -220,6 +218,7 @@\n&gt;              assert start &gt;= 0: &quot;Start is: &quot; + start + &quot;, &quot; + curi;\n&gt;              assert end &gt;= 0: &quot;End is :&quot; + end + &quot;, &quot; + curi;\n&gt;              CharSequence value = cs.subSequence(start, end);\n&gt; +            value = TextUtils.descapeHtmlForURI(value.toString());\n&gt;              if (attr.start(2) &gt; -1) {\n&gt;                  // HREF\n&gt;                  CharSequence context =\n&gt; @@ -276,7 +275,7 @@\n&gt;              } else if (attr.start(6) &gt; -1) {\n&gt;                  // CODEBASE\n&gt;                  // TODO: more HTML deescaping?\n&gt; -                codebase = TextUtils.replaceAll(ESCAPED_AMP, value, AMP);\n&gt; +                codebase = TextUtils.descapeHtmlForURI(value.toString());\n&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis looks like an improvement.  Would be nice if \nTextUtils.descapeHtmlForURI did all encodings other than just single \nquote and ampersand as per the suggestion of Will Sargent up on the list \nsubsequent to your posting.\n\nThanks Yousef,\nSt.Ack\n&gt;\n&gt;  \n\n\n"}}