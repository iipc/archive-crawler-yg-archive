{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":112974261,"authorName":"Mathew Nik Foscarini","from":"Mathew Nik Foscarini &lt;nfoscarini@...&gt;","profile":"nfoscarini","replyTo":"LIST","senderId":"28kJo4WNH_SCEAxvT30DL_JGAfmT6ZAE9MqZSvBzeHr8D6UaIQGqtsrdDozhGkBoGFWy7phX5eJgzkiZI_P56ExDRpuvG6GyhX-8VC_tH_wGxg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Change request for Heritrix 2.0","postDate":"1204229537","msgId":5021,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDg1MDA1LjY1NzQucW1Ad2ViNTQ2MDEubWFpbC5yZTIueWFob28uY29tPg=="},"prevInTopic":5020,"nextInTopic":5022,"prevInTime":5020,"nextInTime":5022,"topicId":5015,"numMessagesInTopic":9,"msgSnippet":"Hi Sean, My change applies to the ToeThread.java where it writes the log entry for error messages. It doesn t print the description so no matter what","rawEmail":"Return-Path: &lt;nfoscarini@...&gt;\r\nX-Sender: nfoscarini@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 7120 invoked from network); 28 Feb 2008 20:12:18 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m48.grp.scd.yahoo.com with QMQP; 28 Feb 2008 20:12:18 -0000\r\nX-Received: from unknown (HELO web54601.mail.re2.yahoo.com) (206.190.49.171)\n  by mta18.grp.scd.yahoo.com with SMTP; 28 Feb 2008 20:12:17 -0000\r\nX-Received: (qmail 7685 invoked by uid 60001); 28 Feb 2008 20:12:17 -0000\r\nX-YMail-OSG: drWbewIVM1kyNFdggoM3agqRYMjWJDESMaChIJilSYsOFudrSqHLBqOG.OQZ.cN6Vg--\r\nX-Received: from [38.99.150.66] by web54601.mail.re2.yahoo.com via HTTP; Thu, 28 Feb 2008 12:12:17 PST\r\nX-Mailer: YahooMailRC/818.31 YahooMailWebService/0.7.162\r\nDate: Thu, 28 Feb 2008 12:12:17 -0800 (PST)\r\nTo: archive-crawler@yahoogroups.com\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; boundary=&quot;0-587651073-1204229537=:6574&quot;\r\nMessage-ID: &lt;85005.6574.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mathew Nik Foscarini &lt;nfoscarini@...&gt;\r\nReply-To: Mathew Nik Foscarini &lt;nfoscarini@...&gt;\r\nSubject: Re: [archive-crawler] Change request for Heritrix 2.0\r\nX-Yahoo-Group-Post: member; u=112974261; y=81Zpc-MXxTV-ByZWd_lkFtSwK_aGkCKpph8E34mRpEUqu5-7IA\r\nX-Yahoo-Profile: nfoscarini\r\n\r\n\r\n--0-587651073-1204229537=:6574\r\nContent-Type: text/plain; charset=us-ascii\r\n\r\nHi Sean,\n\nMy change applies to the ToeThread.java where it writes the log entry for error messages. It doesn&#39;t print the description so no matter what constructor you use in the exception it won&#39;t appear in the log.\n\n        String message = &quot;Problem &quot; + e + \n                &quot; occured when trying to process &#39;&quot;\n                + currentCuri.toString()\n                + &quot;&#39; at step &quot; + previousStep \n                + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n        logger.log(Level.SEVERE, message.toString(), e);\n\nThe exception to string method just sends out the class name of the exception.\n\nSo the log would be &quot;Problem java.lang.RuntimeException occured when trying to process&quot;\n\nWhich isn&#39;t really describing the problem.\n\nMaybe would it could changed it to something like this:\n\n        String message = &quot;Problem &quot; + e + \n                &quot; caused &quot; + e.getLocalizedMessage() +\n                &quot; which occurred when trying to process &#39;&quot;\n                + currentCuri.toString()\n                + &quot;&#39; at step &quot; + previousStep \n                + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;\n        logger.log(Level.SEVERE, message.toString(), e);\n\nSo that would log something like &quot;Problem java.lang.RuntimeException caused Null which occurred when trying to process ...&quot;\n\nP.S. &quot;occured&quot; I think is spelled &quot;occurred&quot; which should also be changed.\n\n----- Original Message ----\nFrom: Sean Timm &lt;timmsc@...&gt;\nTo: archive-crawler@yahoogroups.com\nSent: Thursday, February 28, 2008 3:03:02 PM\nSubject: Re: [archive-crawler] Change request for Heritrix 2.0\n\n\n\n\n\n\n\n\n\n\n  \n\n\n    \n            It should expose the description.  From the Javadoc:\n\n\n\n|*RuntimeException\n\n    &lt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/RuntimeExce ption.html# RuntimeException %28java.lang. Throwable% 29&gt;*(Throwable\n\n    &lt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/Throwable. html&gt; cause)|\n\n\n\nConstructs a new runtime exception with the specified\n\n    cause and a detail message of (cause==null ? null :\n\n    cause.toString( )) (which typically contains the class and detail\n\n    message of cause).\n\n\n\nIf an additional description needs to be added,\n\n\n\n|*RuntimeException\n\n    &lt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/RuntimeExce ption.html# RuntimeException %28java.lang. String,%20java. lang.Throwable% 29&gt;*(String\n\n    &lt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/String. html&gt; message,\n\n    Throwable\n\n    &lt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/Throwable. html&gt; cause)|\n\n\n\nConstructs a new runtime exception with the specified\n\n    detail message and cause.\n\n\n\ncan be used.\n\n\n\n-Sean\n\n\n\nMathew Nik Foscarini wrote:\n\n&gt; Correct, that will expose the stack trace for the wrapped exception, \n\n&gt; but it still doesn&#39;t expose the description.\n\n&gt;\n\n&gt; Here is a sample log generated by using &quot;throw new RuntimeException( e )&quot;\n\n&gt;\n\n&gt; 2008-02-28T19: 15:08.656Z    -5      18428 http://www.abc. com/ - - text/html #002 20080228191507974+ 447 sha1:3SLSHIHACO4E3R JCBEHHX5WDZJKCD6 RS - err=java.lang. RuntimeException ,3t\n\n&gt;  java.lang.RuntimeEx ception: java.lang.NullPoint erException\n\n&gt;    at centipede.writer. Scripts3DWriterP rocessor. innerProcess( Scripts3DWriterP rocessor. java:266)\n\n&gt;     at org.archive. crawler.framewor k.Processor. process(Processo r.java:112)\n\n&gt;   at\n\n&gt;  org.archive. crawler.framewor k.ToeThread. processCrawlUri( ToeThread. java:302)\n\n&gt;     at org.archive. crawler.framewor k.ToeThread. run(ToeThread. java:151)\n\n&gt; Caused by: java.lang.NullPoint erException\n\n&gt;  at centipede.writer. Scripts3DWriterP rocessor. innerProcess( Scripts3DWriterP rocessor. java:217)\n\n&gt;     ... 3 more\n\n&gt; This is an improvement, but I would also like to see the localized \n\n&gt; message there.\n\n&gt;\n\n&gt; For example; &quot;throw new RuntimeException( &quot;Hello world&quot; )&quot;\n\n&gt;\n\n&gt; You will not find the text &quot;Hello world&quot; in the error logs.\n\n&gt;\n\n&gt; I need the stack trace, but when I get to the code I don&#39;t know why.\n\n&gt;\n\n&gt; Think of IOException( s) for example. Was it an opening error, read \n\n&gt; error, or eof?\n\n&gt;\n\n&gt; ----- Original Message ----\n\n&gt; From: Gordon Mohr &lt;gojomo@archive. org&gt;\n\n&gt; To: archive-crawler@ yahoogroups. com\n\n&gt; Sent: Thursday, February 28, 2008 2:28:29 PM\n\n&gt; Subject: Re: [archive-crawler] Change request for Heritrix 2.0\n\n&gt;\n\n&gt; Good idea!\n\n&gt;\n\n&gt; To contribute patches, opening a JIRA issue is the best first step:\n\n&gt; describe the need, attach the patch, and assign the issue a high\n\n&gt; priority to help it be noticed in our reviews of open issues. Mentioning\n\n&gt; the matter here is also welcome.\n\n&gt;\n\n&gt; Regarding the proposed change:\n\n&gt;\n\n&gt; Might using the RuntimeException constructor that wraps another\n\n&gt; exception (the &#39;cause&#39;), effectively retain the original message and \n\n&gt; stack?\n\n&gt;\n\n&gt; For example:\n\n&gt;\n\n&gt; catch( NullPointerExceptio n e ) {\n\n&gt; // do some stuff\n\n&gt; throw new RuntimeException( e );\n\n&gt; }\n\n&gt;\n\n&gt; (Not sure this will cause the Heritrix log to capture the original\n\n&gt; message, but it might.)\n\n&gt;\n\n&gt; - Gordon @ IA\n\n&gt;\n\n&gt; nfoscarini wrote:\n\n&gt; &gt; Hi,\n\n&gt; &gt;\n\n&gt; &gt; I would like to make a change request to some of the source code in\n\n&gt; &gt; Heritrix 2.0, but I&#39;m not sure how to do this. Do I open a Jira issue,\n\n&gt; &gt; or is there a way to submit code to CVS for the developers to review?\n\n&gt; &gt;\n\n&gt; &gt; Anyway, here is my change request.\n\n&gt; &gt;\n\n&gt; &gt; Description:\n\n&gt; &gt;\n\n&gt; &gt; Developers creating add-ons sometimes need to throw exceptions to\n\n&gt; &gt; report to Heritrix that a recoverable exception has happen. Heritrix\n\n&gt; &gt; then logs this error into the &quot;runtime-errors. log&quot; has an -5 code on\n\n&gt; &gt; the URI.\n\n&gt; &gt;\n\n&gt; &gt; I would like to change the description that is logged, because it\n\n&gt; &gt; contains the exception stack trace, but not the exception description.\n\n&gt; &gt;\n\n&gt; &gt; For example; If I catch an exception like &quot;null pointer&quot;, and can not\n\n&gt; &gt; handle the exception. I&#39;ll wrap the exception, and throw a\n\n&gt; &gt; RuntimeException. Like this.\n\n&gt; &gt;\n\n&gt; &gt; catch( NullPointerExceptio n e )\n\n&gt; &gt; {\n\n&gt; &gt; // do some stuff\n\n&gt; &gt; throw new RuntimeException( e.getLocalizedMessa ge() );\n\n&gt; &gt; }\n\n&gt; &gt;\n\n&gt; &gt; Afterwards, when reviewing the &quot;runtime-errors. log&quot; the entry would\n\n&gt; &gt; look something like this.\n\n&gt; &gt;\n\n&gt; &gt; 2008-02-28T18: 46:08.473Z -5 18428 http://www.abc. com/ \n\n&gt; &lt;http://www.abc. com/&gt; - -\n\n&gt; &gt; text/html #002 20080228184607809+ 440\n\n&gt; &gt; sha1:3SLSHIHACO4E3R JCBEHHX5WDZJKCD6 RS - err=java.lang. \n\n&gt; RuntimeException ,3t\n\n&gt; &gt; java.lang.RuntimeEx ception\n\n&gt; &gt; at\n\n&gt; &gt; centipede.writer. Scripts3DWriterP rocessor. innerProcess( \n\n&gt; Scripts3DWriterP rocessor. java:266)\n\n&gt; &gt; at org.archive. crawler.framewor k.Processor. process(Processo \n\n&gt; r.java:112)\n\n&gt; &gt; at\n\n&gt; &gt; org.archive. crawler.framewor k.ToeThread. processCrawlUri( \n\n&gt; ToeThread. java:302)\n\n&gt; &gt; at org.archive. crawler.framewor k.ToeThread. run(ToeThread. java:151)\n\n&gt; &gt;\n\n&gt; &gt; Change effects:\n\n&gt; &gt; org.archive. crawler.framewor k.recoverablePro blem(Throwable e)\n\n&gt; &gt;\n\n&gt; &gt; My problem with this log entry is that it doesn&#39;t describe the cause\n\n&gt; &gt; of the exception. If your library doesn&#39;t contain debug information,\n\n&gt; &gt; then the stack trace won&#39;t provide where the problem happened.\n\n&gt; &gt;\n\n&gt; &gt; So I recommend using e.getLocalizedMessa ge() in the log file, along\n\n&gt; &gt; with the stack trace.\n\n&gt; &gt;\n\n&gt; &gt; Current source code:\n\n&gt; &gt;\n\n&gt; &gt; private void recoverableProblem( Throwable e) {\n\n&gt; &gt; Object previousStep = step;\n\n&gt; &gt; setStep(STEP_ HANDLING_ RUNTIME_EXCEPTIO N);\n\n&gt; &gt; e.printStackTrace( System.err) ;\n\n&gt; &gt; currentCuri. setFetchStatus( S_RUNTIME_ EXCEPTION) ;\n\n&gt; &gt; // store exception temporarily for logging\n\n&gt; &gt; currentCuri. getAnnotations( ).add(&quot;err= &quot;+e.getClass( ).getName( ));\n\n&gt; &gt; currentCuri. getData() .put(A_RUNTIME_ EXCEPTION, e);\n\n&gt; &gt; String message = &quot;Problem &quot; + e +\n\n&gt; &gt; &quot; occured when trying to process &#39;&quot;\n\n&gt; &gt; + currentCuri. toString( )\n\n&gt; &gt; + &quot;&#39; at step &quot; + previousStep\n\n&gt; &gt; + &quot; in &quot; + currentProcessorNam e +&quot;&#92;n&quot;;\n\n&gt; &gt; logger.log(Level. SEVERE, message.toString( ), e);\n\n&gt; &gt; }\n\n&gt; &gt;\n\n&gt; &gt; Desired change:\n\n&gt; &gt;\n\n&gt; &gt; private void recoverableProblem( Throwable e) {\n\n&gt; &gt; Object previousStep = step;\n\n&gt; &gt; setStep(STEP_ HANDLING_ RUNTIME_EXCEPTIO N);\n\n&gt; &gt; e.printStackTrace( System.err) ;\n\n&gt; &gt; currentCuri. setFetchStatus( S_RUNTIME_ EXCEPTION) ;\n\n&gt; &gt; // store exception temporarily for logging\n\n&gt; &gt; currentCuri. getAnnotations( ).add(&quot;err= &quot;+e.getClass( ).getName( ));\n\n&gt; &gt; currentCuri. getData() .put(A_RUNTIME_ EXCEPTION, e);\n\n&gt; &gt; String message = &quot;Problem &quot; + e.getLocalizedMessa ge() +\n\n&gt; &gt; &quot; occured when trying to process &#39;&quot;\n\n&gt; &gt; + currentCuri. toString( )\n\n&gt; &gt; + &quot;&#39; at step &quot; + previousStep\n\n&gt; &gt; + &quot; in &quot; + currentProcessorNam e +&quot;&#92;n&quot;;\n\n&gt; &gt; logger.log(Level. SEVERE, message.toString( ), e);\n\n&gt; &gt; }\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt; &gt; Yahoo! Groups Links\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt; &gt;\n\n&gt;\n\n&gt;\n\n&gt;\n\n&gt; ------------ --------- --------- --------- --------- --------- -\n\n&gt; Never miss a thing. Make Yahoo your homepage. \n\n&gt; &lt;http://us.rd. yahoo.com/ evt=51438/ *http://www. yahoo.com/ r/hs&gt;  \n\n\n\n    \n  \n\n    \n    \n\n\n\n\n&lt;!--\n\n#ygrp-mkp{\nborder:1px solid #d8d8d8;font-family:Arial;margin:14px 0px;padding:0px 14px;}\n#ygrp-mkp hr{\nborder:1px solid #d8d8d8;}\n#ygrp-mkp #hd{\ncolor:#628c2a;font-size:85%;font-weight:bold;line-height:122%;margin:10px 0px;}\n#ygrp-mkp #ads{\nmargin-bottom:10px;}\n#ygrp-mkp .ad{\npadding:0 0;}\n#ygrp-mkp .ad a{\ncolor:#0000ff;text-decoration:none;}\n--&gt;\n\n\n\n&lt;!--\n\n#ygrp-sponsor #ygrp-lc{\nfont-family:Arial;}\n#ygrp-sponsor #ygrp-lc #hd{\nmargin:10px 0px;font-weight:bold;font-size:78%;line-height:122%;}\n#ygrp-sponsor #ygrp-lc .ad{\nmargin-bottom:10px;padding:0 0;}\n--&gt;\n\n\n\n&lt;!--\n\n#ygrp-mlmsg {font-size:13px;font-family:arial, helvetica, clean, sans-serif;}\n#ygrp-mlmsg table {font-size:inherit;font:100%;}\n#ygrp-mlmsg select, input, textarea {font:99% arial, helvetica, clean, sans-serif;}\n#ygrp-mlmsg pre, code {font:115% monospace;}\n#ygrp-mlmsg * {line-height:1.22em;}\n#ygrp-text{\nfont-family:Georgia;\n}\n#ygrp-text p{\nmargin:0 0 1em 0;}\n#ygrp-tpmsgs{\nfont-family:Arial;\nclear:both;}\n#ygrp-vitnav{\npadding-top:10px;font-family:Verdana;font-size:77%;margin:0;}\n#ygrp-vitnav a{\npadding:0 1px;}\n#ygrp-actbar{\nclear:both;margin:25px 0;white-space:nowrap;color:#666;text-align:right;}\n#ygrp-actbar .left{\nfloat:left;white-space:nowrap;}\n.bld{font-weight:bold;}\n#ygrp-grft{\nfont-family:Verdana;font-size:77%;padding:15px 0;}\n#ygrp-ft{\nfont-family:verdana;font-size:77%;border-top:1px solid #666;\npadding:5px 0;\n}\n#ygrp-mlmsg #logo{\npadding-bottom:10px;}\n\n#ygrp-vital{\nbackground-color:#e0ecee;margin-bottom:20px;padding:2px 0 8px 8px;}\n#ygrp-vital #vithd{\nfont-size:77%;font-family:Verdana;font-weight:bold;color:#333;text-transform:uppercase;}\n#ygrp-vital ul{\npadding:0;margin:2px 0;}\n#ygrp-vital ul li{\nlist-style-type:none;clear:both;border:1px solid #e0ecee;\n}\n#ygrp-vital ul li .ct{\nfont-weight:bold;color:#ff7900;float:right;width:2em;text-align:right;padding-right:.5em;}\n#ygrp-vital ul li .cat{\nfont-weight:bold;}\n#ygrp-vital a{\ntext-decoration:none;}\n\n#ygrp-vital a:hover{\ntext-decoration:underline;}\n\n#ygrp-sponsor #hd{\ncolor:#999;font-size:77%;}\n#ygrp-sponsor #ov{\npadding:6px 13px;background-color:#e0ecee;margin-bottom:20px;}\n#ygrp-sponsor #ov ul{\npadding:0 0 0 8px;margin:0;}\n#ygrp-sponsor #ov li{\nlist-style-type:square;padding:6px 0;font-size:77%;}\n#ygrp-sponsor #ov li a{\ntext-decoration:none;font-size:130%;}\n#ygrp-sponsor #nc{\nbackground-color:#eee;margin-bottom:20px;padding:0 8px;}\n#ygrp-sponsor .ad{\npadding:8px 0;}\n#ygrp-sponsor .ad #hd1{\nfont-family:Arial;font-weight:bold;color:#628c2a;font-size:100%;line-height:122%;}\n#ygrp-sponsor .ad a{\ntext-decoration:none;}\n#ygrp-sponsor .ad a:hover{\ntext-decoration:underline;}\n#ygrp-sponsor .ad p{\nmargin:0;}\no{font-size:0;}\n.MsoNormal{\nmargin:0 0 0 0;}\n#ygrp-text tt{\nfont-size:120%;}\nblockquote{margin:0 0 0 4px;}\n.replbq{margin:4;}\n--&gt;\n\n\n\n\n\n\n\n\n      ____________________________________________________________________________________\nNever miss a thing.  Make Yahoo your home page. \nhttp://www.yahoo.com/r/hs\r\n--0-587651073-1204229537=:6574\r\nContent-Type: text/html; charset=us-ascii\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;&lt;!-- DIV {margin:0px;} --&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div style=&quot;font-family:times new roman, new york, times, serif;font-size:12pt&quot;&gt;&lt;div style=&quot;font-family: times new roman,new york,times,serif; font-size: 12pt;&quot;&gt;Hi Sean,&lt;br&gt;&lt;br&gt;My change applies to the ToeThread.java where it writes the log entry for error messages. It doesn&#39;t print the description so no matter what constructor you use in the exception it won&#39;t appear in the log.&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String message = &quot;Problem &quot; + e + &lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot; occured when trying to process &#39;&quot;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + currentCuri.toString()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;&#39; at step &quot; + previousStep\n &lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logger.log(Level.SEVERE, message.toString(), e);&lt;br&gt;&lt;br&gt;The exception to string method just sends out the class name of the exception.&lt;br&gt;&lt;br&gt;So the log would be &quot;Problem java.lang.RuntimeException occured when trying to process&quot;&lt;br&gt;&lt;br&gt;Which isn&#39;t really describing the problem.&lt;br&gt;&lt;br&gt;Maybe would it could changed it to something like this:&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String message = &quot;Problem &quot; + e + &lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot; caused &quot; + e.getLocalizedMessage() +&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot; which occurred when trying to process\n &#39;&quot;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + currentCuri.toString()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;&#39; at step &quot; + previousStep &lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot; in &quot; + currentProcessorName +&quot;&#92;n&quot;;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logger.log(Level.SEVERE, message.toString(), e);&lt;br&gt;&lt;br&gt;So that would log something like &quot;Problem java.lang.RuntimeException caused Null which occurred when trying to process ...&quot;&lt;br&gt;&lt;br&gt;P.S. &quot;occured&quot; I think is spelled &quot;occurred&quot; which should also be changed.&lt;br&gt;&lt;br&gt;&lt;div style=&quot;border-left: 2px solid rgb(16, 16, 255); margin: 5px 0px 5px 5px; padding-left: 5px; font-family: times new roman,new york,times,serif; font-size: 12pt;&quot;&gt;----- Original Message ----&lt;br&gt;From: Sean Timm &lt;timmsc@...&gt;&lt;br&gt;To:\n archive-crawler@yahoogroups.com&lt;br&gt;Sent: Thursday, February 28, 2008 3:03:02 PM&lt;br&gt;Subject: Re: [archive-crawler] Change request for Heritrix 2.0&lt;br&gt;&lt;br&gt;\n\n\n\n\n\n\n\n\n    &lt;div id=&quot;ygrp-text&quot;&gt;\n            &lt;p&gt;It should expose the description.  From the Javadoc:&lt;br&gt;\n&lt;br&gt;\n|*RuntimeException&lt;br&gt;\n    &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/RuntimeException.html#RuntimeException%28java.lang.Throwable%29&quot;&gt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/RuntimeExce ption.html# RuntimeException %28java.lang. Throwable% 29&lt;/a&gt;&gt;*(Throwable&lt;br&gt;\n    &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html&quot;&gt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/Throwable. html&lt;/a&gt;&gt; cause)|&lt;br&gt;\n&lt;br&gt;\nConstructs a new runtime exception with the specified&lt;br&gt;\n    cause and a detail message of (cause==null ? null :&lt;br&gt;\n    cause.toString( )) (which typically contains the class and detail&lt;br&gt;\n    message of cause).&lt;br&gt;\n&lt;br&gt;\nIf an additional description needs to be added,&lt;br&gt;\n&lt;br&gt;\n|*RuntimeException&lt;br&gt;\n    &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/RuntimeException.html#RuntimeException%28java.lang.String,%20java.lang.Throwable%29&quot;&gt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/RuntimeExce ption.html# RuntimeException %28java.lang. String,%20java. lang.Throwable% 29&lt;/a&gt;&gt;*(String&lt;br&gt;\n    &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html&quot;&gt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/String. html&lt;/a&gt;&gt; message,&lt;br&gt;\n    Throwable&lt;br&gt;\n    &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Throwable.html&quot;&gt;http://java. sun.com/j2se/ 1.5.0/docs/ api/java/ lang/Throwable. html&lt;/a&gt;&gt; cause)|&lt;br&gt;\n&lt;br&gt;\nConstructs a new runtime exception with the specified&lt;br&gt;\n    detail message and cause.&lt;br&gt;\n&lt;br&gt;\ncan be used.&lt;br&gt;\n&lt;br&gt;\n-Sean&lt;br&gt;\n&lt;br&gt;\nMathew Nik Foscarini wrote:&lt;br&gt;\n&gt; Correct, that will expose the stack trace for the wrapped exception, &lt;br&gt;\n&gt; but it still doesn&#39;t expose the description.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Here is a sample log generated by using &quot;throw new RuntimeException( e )&quot;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; 2008-02-28T19: 15:08.656Z    -5      18428 &lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://www.abc.com/&quot;&gt;http://www.abc. com/&lt;/a&gt; - - text/html #002 20080228191507974+ 447 sha1:3SLSHIHACO4E3R JCBEHHX5WDZJKCD6 RS - err=java.lang. RuntimeException ,3t&lt;br&gt;\n&gt;  java.lang.RuntimeEx ception: java.lang.NullPoint erException&lt;br&gt;\n&gt;    at centipede.writer. Scripts3DWriterP rocessor. innerProcess( Scripts3DWriterP rocessor. java:266)&lt;br&gt;\n&gt;     at org.archive. crawler.framewor k.Processor. process(Processo r.java:112)&lt;br&gt;\n&gt;   at&lt;br&gt;\n&gt;  org.archive. crawler.framewor k.ToeThread. processCrawlUri( ToeThread. java:302)&lt;br&gt;\n&gt;     at org.archive. crawler.framewor k.ToeThread. run(ToeThread. java:151)&lt;br&gt;\n&gt; Caused by: java.lang.NullPoint erException&lt;br&gt;\n&gt;  at centipede.writer. Scripts3DWriterP rocessor. innerProcess( Scripts3DWriterP rocessor. java:217)&lt;br&gt;\n&gt;     ... 3 more&lt;br&gt;\n&gt; This is an improvement, but I would also like to see the localized &lt;br&gt;\n&gt; message there.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; For example; &quot;throw new RuntimeException( &quot;Hello world&quot; )&quot;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; You will not find the text &quot;Hello world&quot; in the error logs.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; I need the stack trace, but when I get to the code I don&#39;t know why.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Think of IOException( s) for example. Was it an opening error, read &lt;br&gt;\n&gt; error, or eof?&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; ----- Original Message ----&lt;br&gt;\n&gt; From: Gordon Mohr &lt;&lt;a rel=&quot;nofollow&quot; ymailto=&quot;mailto:gojomo%40archive.org&quot; target=&quot;_blank&quot; href=&quot;mailto:gojomo%40archive.org&quot;&gt;gojomo@archive. org&lt;/a&gt;&gt;&lt;br&gt;\n&gt; To: &lt;a rel=&quot;nofollow&quot; ymailto=&quot;mailto:archive-crawler%40yahoogroups.com&quot; target=&quot;_blank&quot; href=&quot;mailto:archive-crawler%40yahoogroups.com&quot;&gt;archive-crawler@ yahoogroups. com&lt;/a&gt;&lt;br&gt;\n&gt; Sent: Thursday, February 28, 2008 2:28:29 PM&lt;br&gt;\n&gt; Subject: Re: [archive-crawler] Change request for Heritrix 2.0&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Good idea!&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; To contribute patches, opening a JIRA issue is the best first step:&lt;br&gt;\n&gt; describe the need, attach the patch, and assign the issue a high&lt;br&gt;\n&gt; priority to help it be noticed in our reviews of open issues. Mentioning&lt;br&gt;\n&gt; the matter here is also welcome.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Regarding the proposed change:&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Might using the RuntimeException constructor that wraps another&lt;br&gt;\n&gt; exception (the &#39;cause&#39;), effectively retain the original message and &lt;br&gt;\n&gt; stack?&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; For example:&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; catch( NullPointerExceptio n e ) {&lt;br&gt;\n&gt; // do some stuff&lt;br&gt;\n&gt; throw new RuntimeException( e );&lt;br&gt;\n&gt; }&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; (Not sure this will cause the Heritrix log to capture the original&lt;br&gt;\n&gt; message, but it might.)&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; - Gordon @ IA&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; nfoscarini wrote:&lt;br&gt;\n&gt; &gt; Hi,&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; I would like to make a change request to some of the source code in&lt;br&gt;\n&gt; &gt; Heritrix 2.0, but I&#39;m not sure how to do this. Do I open a Jira issue,&lt;br&gt;\n&gt; &gt; or is there a way to submit code to CVS for the developers to review?&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Anyway, here is my change request.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Description:&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Developers creating add-ons sometimes need to throw exceptions to&lt;br&gt;\n&gt; &gt; report to Heritrix that a recoverable exception has happen. Heritrix&lt;br&gt;\n&gt; &gt; then logs this error into the &quot;runtime-errors. log&quot; has an -5 code on&lt;br&gt;\n&gt; &gt; the URI.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; I would like to change the description that is logged, because it&lt;br&gt;\n&gt; &gt; contains the exception stack trace, but not the exception description.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; For example; If I catch an exception like &quot;null pointer&quot;, and can not&lt;br&gt;\n&gt; &gt; handle the exception. I&#39;ll wrap the exception, and throw a&lt;br&gt;\n&gt; &gt; RuntimeException. Like this.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; catch( NullPointerExceptio n e )&lt;br&gt;\n&gt; &gt; {&lt;br&gt;\n&gt; &gt; // do some stuff&lt;br&gt;\n&gt; &gt; throw new RuntimeException( e.getLocalizedMessa ge() );&lt;br&gt;\n&gt; &gt; }&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Afterwards, when reviewing the &quot;runtime-errors. log&quot; the entry would&lt;br&gt;\n&gt; &gt; look something like this.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; 2008-02-28T18: 46:08.473Z -5 18428 &lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://www.abc.&quot;&gt;http://www.abc.&lt;/a&gt; com/ &lt;br&gt;\n&gt; &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://www.abc.com/&quot;&gt;http://www.abc. com/&lt;/a&gt;&gt; - -&lt;br&gt;\n&gt; &gt; text/html #002 20080228184607809+ 440&lt;br&gt;\n&gt; &gt; sha1:3SLSHIHACO4E3R JCBEHHX5WDZJKCD6 RS - err=java.lang. &lt;br&gt;\n&gt; RuntimeException ,3t&lt;br&gt;\n&gt; &gt; java.lang.RuntimeEx ception&lt;br&gt;\n&gt; &gt; at&lt;br&gt;\n&gt; &gt; centipede.writer. Scripts3DWriterP rocessor. innerProcess( &lt;br&gt;\n&gt; Scripts3DWriterP rocessor. java:266)&lt;br&gt;\n&gt; &gt; at org.archive. crawler.framewor k.Processor. process(Processo &lt;br&gt;\n&gt; r.java:112)&lt;br&gt;\n&gt; &gt; at&lt;br&gt;\n&gt; &gt; org.archive. crawler.framewor k.ToeThread. processCrawlUri( &lt;br&gt;\n&gt; ToeThread. java:302)&lt;br&gt;\n&gt; &gt; at org.archive. crawler.framewor k.ToeThread. run(ToeThread. java:151)&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Change effects:&lt;br&gt;\n&gt; &gt; org.archive. crawler.framewor k.recoverablePro blem(Throwable e)&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; My problem with this log entry is that it doesn&#39;t describe the cause&lt;br&gt;\n&gt; &gt; of the exception. If your library doesn&#39;t contain debug information,&lt;br&gt;\n&gt; &gt; then the stack trace won&#39;t provide where the problem happened.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; So I recommend using e.getLocalizedMessa ge() in the log file, along&lt;br&gt;\n&gt; &gt; with the stack trace.&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Current source code:&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; private void recoverableProblem( Throwable e) {&lt;br&gt;\n&gt; &gt; Object previousStep = step;&lt;br&gt;\n&gt; &gt; setStep(STEP_ HANDLING_ RUNTIME_EXCEPTIO N);&lt;br&gt;\n&gt; &gt; e.printStackTrace( System.err) ;&lt;br&gt;\n&gt; &gt; currentCuri. setFetchStatus( S_RUNTIME_ EXCEPTION) ;&lt;br&gt;\n&gt; &gt; // store exception temporarily for logging&lt;br&gt;\n&gt; &gt; currentCuri. getAnnotations( ).add(&quot;err= &quot;+e.getClass( ).getName( ));&lt;br&gt;\n&gt; &gt; currentCuri. getData() .put(A_RUNTIME_ EXCEPTION, e);&lt;br&gt;\n&gt; &gt; String message = &quot;Problem &quot; + e +&lt;br&gt;\n&gt; &gt; &quot; occured when trying to process &#39;&quot;&lt;br&gt;\n&gt; &gt; + currentCuri. toString( )&lt;br&gt;\n&gt; &gt; + &quot;&#39; at step &quot; + previousStep&lt;br&gt;\n&gt; &gt; + &quot; in &quot; + currentProcessorNam e +&quot;&#92;n&quot;;&lt;br&gt;\n&gt; &gt; logger.log(Level. SEVERE, message.toString( ), e);&lt;br&gt;\n&gt; &gt; }&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Desired change:&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; private void recoverableProblem( Throwable e) {&lt;br&gt;\n&gt; &gt; Object previousStep = step;&lt;br&gt;\n&gt; &gt; setStep(STEP_ HANDLING_ RUNTIME_EXCEPTIO N);&lt;br&gt;\n&gt; &gt; e.printStackTrace( System.err) ;&lt;br&gt;\n&gt; &gt; currentCuri. setFetchStatus( S_RUNTIME_ EXCEPTION) ;&lt;br&gt;\n&gt; &gt; // store exception temporarily for logging&lt;br&gt;\n&gt; &gt; currentCuri. getAnnotations( ).add(&quot;err= &quot;+e.getClass( ).getName( ));&lt;br&gt;\n&gt; &gt; currentCuri. getData() .put(A_RUNTIME_ EXCEPTION, e);&lt;br&gt;\n&gt; &gt; String message = &quot;Problem &quot; + e.getLocalizedMessa ge() +&lt;br&gt;\n&gt; &gt; &quot; occured when trying to process &#39;&quot;&lt;br&gt;\n&gt; &gt; + currentCuri. toString( )&lt;br&gt;\n&gt; &gt; + &quot;&#39; at step &quot; + previousStep&lt;br&gt;\n&gt; &gt; + &quot; in &quot; + currentProcessorNam e +&quot;&#92;n&quot;;&lt;br&gt;\n&gt; &gt; logger.log(Level. SEVERE, message.toString( ), e);&lt;br&gt;\n&gt; &gt; }&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt; Yahoo! Groups Links&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt; &gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; ------------ --------- --------- --------- --------- --------- -&lt;br&gt;\n&gt; Never miss a thing. Make Yahoo your homepage. &lt;br&gt;\n&gt; &lt;&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; href=&quot;http://us.rd.yahoo.com/evt=51438/*http://www.yahoo.com/r/hs&quot;&gt;http://us.rd. yahoo.com/ evt=51438/ *http://www. yahoo.com/ r/hs&lt;/a&gt;&gt;  &lt;br&gt;\n&lt;/p&gt;\n    &lt;/div&gt;  \n\n\n\n&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;\n\n      &lt;hr size=1&gt;Never miss a thing.  &lt;a href=&quot;http://us.rd.yahoo.com/evt=51438/*http://www.yahoo.com/r/hs&quot;&gt; Make Yahoo your homepage.&lt;/a&gt;\n\n&lt;/body&gt;&lt;/html&gt;\r\n--0-587651073-1204229537=:6574--\r\n\n"}}