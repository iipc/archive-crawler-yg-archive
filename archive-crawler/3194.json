{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"N0ZiN_l6V7VYjOXclIWwF4j73hE63pXJ6PE5aRiXnuUQypG0nzzCI4xsCy9MFfYjvP1YmWOEZ5ewk0UZL3hJaNj_JAKqGx6O","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Two instances","postDate":"1155923715","msgId":3194,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ0RTVGRjAzLjgwMTA0MDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVjNHBybysxc2swQGVHcm91cHMuY29tPg==","referencesHeader":"PGVjNHBybysxc2swQGVHcm91cHMuY29tPg=="},"prevInTopic":3192,"nextInTopic":3195,"prevInTime":3193,"nextInTime":3195,"topicId":3188,"numMessagesInTopic":6,"msgSnippet":"What version of Heritrix?  If 1.8.0, the below NPE looks like it could be related to this issue: ","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 57128 invoked from network); 18 Aug 2006 18:08:08 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m38.grp.scd.yahoo.com with QMQP; 18 Aug 2006 18:08:08 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta1.grp.scd.yahoo.com with SMTP; 18 Aug 2006 18:08:07 -0000\r\nReceived: from [192.168.1.106] ([192.168.1.106])\n\t(authenticated)\n\tby dns-eth1.duboce.net (8.10.2/8.10.2) with ESMTP id k7IGb9917472;\n\tFri, 18 Aug 2006 09:37:09 -0700\r\nMessage-ID: &lt;44E5FF03.8010409@...&gt;\r\nDate: Fri, 18 Aug 2006 10:55:15 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.0.4) Gecko/20060516 SeaMonkey/1.0.2\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;ec4pro+1sk0@...&gt;\r\nIn-Reply-To: &lt;ec4pro+1sk0@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Two instances\r\nX-Yahoo-Group-Post: member; u=168599281; y=uUBFnp2aVCNHuZrgUDmhGCZeTAH70wsse0B2lu-hxiOdmNvZULQB9ZPu\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nWhat version of Heritrix?  If 1.8.0, the below NPE looks like it could \nbe related to this issue: \nhttp://sourceforge.net/tracker/index.php?func=detail&aid=1489155&group_id=73833&atid=539099.  \nIf so, you&#39;ll need to update to HEAD to be able to run multiple instances.\n\nOtherwise, are you on windows?  And is your UI still hosed?\n\nUsing cmdline_jmxclient, first you need to find the CrawlJob MBean in \nyour list of MBeans.  It looks like there is only one currently running \nand its name is:\n\norg.archive.crawler:host=har,jmxport=8849,mother=Heritrix,name=CZ2006-decide-20060808104342375,type=CrawlService.Job\n\nTo get listing of all the available operations and attributes for your a \nCrawlJob, pass this cmdline-jmxclient without argument.  E.g:\n\n% java -jar cmdline-jmxclient-X.X.jar controlRole:secret localhost:8081 \norg.archive.crawler:host=har,jmxport=8849,mother=Heritrix,name=CZ2006-decide-20060808104342375,type=CrawlService.Job\n\nThere&#39;ll be a lot of output listing attributes and operations with \ndescription of parameters to pass.   Look for the checkpoint \noperation.   It looks like the operation name is &#39;startCheckpoint&#39;.  \nNotice how it doesn&#39;t take parameters.  Therefore, the below should run \nthe checkpoint for you:\n\n% java -jar cmdline-jmxclient-X.X.jar controlRole:secret localhost:8081 \norg.archive.crawler:host=har,jmxport=8849,mother=Heritrix,name=CZ2006-decide-20060808104342375,type=CrawlService.Job \nstartCheckpoint\n\n(I haven&#39;t verified.  Above is just from reading the API).\n\nCheckpoint marks the progress log so check there for completion (unless \nthere it errors out checkpointing).\n\nThere&#39;s a few more examples on usage here \nhttp://crawler.archive.org/cmdline-jmxclient/ or if you pass &#39;-h&#39;, you \nshould get usage info.\n\nYou might try using $JAVA_HOME/bin/jconsole if you can&#39;t figure the \ncmdline_jmxclient.  Its a SWING app. that might be easier to navigate.\n\nGood luck,\nSt.Ack\n\n\n\ngoblin_cz wrote:\n&gt;\n&gt; Hi,\n&gt; the first occured exception (in this case) is:\n&gt; java.lang.NullPointerException\n&gt; at\n&gt; org.archive.crawler.datamodel.ServerCache.getHostFor(ServerCache.java:145)\n&gt; at\n&gt; org.archive.crawler.fetcher.HeritrixProtocolSocketFactory.getHostAddress(HeritrixProtocolSocketFactory.java:166)\n&gt; at\n&gt; org.archive.crawler.fetcher.HeritrixProtocolSocketFactory.createSocket(HeritrixProtocolSocketFactory.java:134)\n&gt; at\n&gt; org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)\n&gt; at\n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:382)\n&gt; at\n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:168)\n&gt; at\n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:396)\n&gt; at\n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:324)\n&gt; at\n&gt; org.archive.crawler.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:408)\n&gt; at\n&gt; org.archive.crawler.framework.Processor.process(Processor.java:103)\n&gt; at\n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt; at org.archive.crawler.framework.ToeThread.run(ToeThread.java:153)\n&gt;\n&gt; and now there are 480 000 exceptions like this (NullPointer).\n&gt;\n&gt; About JMX client. I am in the state where I am connected to the server\n&gt; with cmdline-jmxclient and it will print:\n&gt; 08/18/2006 18:21:38 +0200 org.archive.jmx.Client\n&gt; org.archive.crawler:guiport=7070,host=har,jmxport=8849,name=Heritrix,type=CrawlService\n&gt; java.lang:name=PS Survivor Space,type=MemoryPool\n&gt; java.lang:type=Memory\n&gt; java.lang:name=PS Perm Gen,type=MemoryPool\n&gt; JMImplementation:type=MBeanServerDelegate\n&gt; java.lang:name=Code Cache,type=MemoryPool\n&gt; java.lang:name=PS Scavenge,type=GarbageCollector\n&gt; java.util.logging:type=Logging\n&gt; org.archive.crawler:guiport=7070,host=har,jmxport=8849,name=serials,type=CrawlService\n&gt; java.lang:type=Threading\n&gt; java.lang:type=OperatingSystem\n&gt; java.lang:type=Compilation\n&gt; java.lang:name=CodeCacheManager,type=MemoryManager\n&gt; java.lang:name=PS Eden Space,type=MemoryPool\n&gt; org.archive.crawler:host=har,jmxport=8849,mother=Heritrix,name=CZ2006-decide-20060808104342375,type=CrawlService.Job\n&gt; java.lang:name=PS Old Gen,type=MemoryPool\n&gt; java.lang:type=Runtime\n&gt; java.lang:type=ClassLoading\n&gt; java.lang:name=PS MarkSweep,type=GarbageCollector\n&gt;\n&gt; I am little confused about commands and beans. How can I checkpoint\n&gt; the job? Thank you\n&gt;\n&gt; The situation, how this have happened to me:\n&gt; 1. crawler - were running broad crawl\n&gt; I started second instance (on local-instances.jsp), I set tiny crawl\n&gt; (only one seed) with deciding rules. The only thing what is &quot;wrong&quot;: I\n&gt; set seed without www prefix (i set mzk.cz instead www.mzk.cz - this\n&gt; was the test) and it was preparing and preparing after few minutes it\n&gt; throw exception about null pointer.\n&gt;\n&gt; Have a nice day\n&gt; Brokes\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, Michael Stack &lt;stack@...&gt; \n&gt; wrote:\n&gt; &gt;\n&gt; &gt; Check heritrix_out.log. Hopefully it has more precise info on what went\n&gt; &gt; awry. The below doesn&#39;t tell us much (No line numbers from compiled\n&gt; &gt; JSP). Can you connect via JMX (Use jconsole or the cmdline_jmxclient)?\n&gt; &gt; If so, you could checkpoint your broad crawl and then restart and\n&gt; &gt; recover the application.\n&gt; &gt;\n&gt; &gt; If you can figure a recipe to reproduce the below, send it on over (I\n&gt; &gt; just tried multiple crawling instances and seems to work fine).\n&gt; &gt;\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; goblin_cz wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hallo,\n&gt; &gt; &gt; I ran broad crawl and because I want something try, I started new\n&gt; &gt; &gt; instance in page local-instances.jsp and on it little crawl.\n&gt; &gt; &gt; Everything looks ok but after few minutes I have get on\n&gt; &gt; &gt; local-instances.jsp this exception:\n&gt; &gt; &gt;\n&gt; &gt; &gt; HTTP ERROR: 500 Internal Server Error\n&gt; &gt; &gt;\n&gt; &gt; &gt; RequestURI=/local-instances.jsp\n&gt; &gt; &gt;\n&gt; &gt; &gt; and on index.jsp\n&gt; &gt; &gt;\n&gt; &gt; &gt; An error occured\n&gt; &gt; &gt;\n&gt; &gt; &gt; java.lang.NullPointerException\n&gt; &gt; &gt;\n&gt; &gt; &gt; java.lang.NullPointerException\n&gt; &gt; &gt; at org.archive.crawler.jspc.admin.index_jsp._jspService(Unknown\n&gt; &gt; &gt; Source)\n&gt; &gt; &gt; at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n&gt; &gt; &gt; at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n&gt; &gt; &gt; at\n&gt; &gt; &gt; org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:358)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:342)\n&gt; &gt; &gt; at\n&gt; &gt; &gt; org.archive.crawler.admin.ui.RootFilter.doFilter(RootFilter.java:67)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:334)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:286)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n&gt; &gt; &gt; at org.mortbay.http.HttpContext.handle(HttpContext.java:1807)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:525)\n&gt; &gt; &gt; at org.mortbay.http.HttpContext.handle(HttpContext.java:1757)\n&gt; &gt; &gt; at org.mortbay.http.HttpServer.service(HttpServer.java:879)\n&gt; &gt; &gt; at org.mortbay.http.HttpConnection.service(HttpConnection.java:789)\n&gt; &gt; &gt; at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:960)\n&gt; &gt; &gt; at org.mortbay.http.HttpConnection.handle(HttpConnection.java:806)\n&gt; &gt; &gt; at\n&gt; &gt; &gt;\n&gt; org.mortbay.http.SocketListener.handleConnection(SocketListener.java:218)\n&gt; &gt; &gt; at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:300)\n&gt; &gt; &gt; at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:511)\n&gt; &gt; &gt;\n&gt; &gt; &gt; I hope that there is possible to recover my broad crawl.\n&gt; &gt; &gt; Thank you.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Specs:\n&gt; &gt; &gt; heritrix-1.8.0\n&gt; &gt; &gt; linux\n&gt; &gt; &gt; java 5.06\n&gt; &gt; &gt;\n&gt; &gt; &gt; --\n&gt; &gt; &gt; --\n&gt; &gt; &gt; Adam Broke&#65533;\n&gt; &gt; &gt; www.brokes.net\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  \n\n\n"}}