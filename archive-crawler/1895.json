{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":163406187,"authorName":"Kristinn Sigurdsson","from":"&quot;Kristinn Sigurdsson&quot; &lt;kris@...&gt;","profile":"kristsi25","replyTo":"LIST","senderId":"j6ku2mYrnSABOUzaaoPj_d-HrHH8dFpU8v3yVFZZQ7hKiDmcXZYsjO9VdIwvSENSFxa847Hdqz32KCyLH7UBZbJZ3UKL6mRTiOslMYdXAg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] NPE from WorkQueueFrontier after crawl has finished","postDate":"1117455582","msgId":1895,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDA2NzhEQjE5NjhFQUM3NDA5Q0MzRDBBQjdBMTFCODRBMDZFRDNEQHNrYXJmdXIuYm9rLmxvY2FsPg==","inReplyToHeader":"PDQyOUFGNUUxLjEwNzA0MDZAc3RhdHNiaWJsaW90ZWtldC5kaz4="},"prevInTopic":1893,"nextInTopic":0,"prevInTime":1894,"nextInTime":1896,"topicId":1893,"numMessagesInTopic":2,"msgSnippet":"I ve seen that myself. Object references are discarded prematurely causing certain end of crawl events to trigger NPEs. The problem hasn t gotten much ","rawEmail":"Return-Path: &lt;kris@...&gt;\r\nX-Sender: kris@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 3281 invoked from network); 30 May 2005 12:17:13 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m24.grp.scd.yahoo.com with QMQP; 30 May 2005 12:17:13 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 30 May 2005 12:17:13 -0000\r\nReceived: (qmail 8511 invoked by uid 100); 30 May 2005 12:17:06 -0000\r\nReceived: from forritun-4.bok.hi.is (HELO forritun4) (kris@...@130.208.152.83)\n  by mail-dev.archive.org with SMTP; 30 May 2005 12:17:06 -0000\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nDate: Mon, 30 May 2005 12:19:42 -0000\r\nMessage-ID: &lt;0678DB1968EAC7409CC3D0AB7A11B84A06ED3D@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_0001_01C56511.DD39CF90&quot;\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook, Build 10.0.4510\r\nIn-Reply-To: &lt;429AF5E1.1070406@...&gt;\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-64.5 required=7.0 tests=AWL,HTML_FONTCOLOR_BLUE,\n\tHTML_MESSAGE,USER_IN_WHITELIST autolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Kristinn Sigurdsson&quot; &lt;kris@...&gt;\r\nSubject: RE: [archive-crawler] NPE from WorkQueueFrontier after crawl has finished\r\nX-Yahoo-Group-Post: member; u=163406187; y=Dv4DfNSWOAwKAieKAkmw-GA965SpZxtnPaoqln8zqtqT70X9\r\nX-Yahoo-Profile: kristsi25\r\n\r\n\r\n------=_NextPart_000_0001_01C56511.DD39CF90\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI&#39;ve seen that myself. Object references are discarded prematurely causing\n=\r\ncertain end of crawl events to trigger NPEs. The problem hasn&#39;t gotten much=\r\n\nattention because it (by its very nature) is not going to harm any crawls.=\r\n\n \nThis bug issue: http://sourceforge.net/tracker/index.php?func=3Ddetail\n&lt;=\r\nhttp://sourceforge.net/tracker/index.php?func=3Ddetail&aid=3D932022&group_i=\r\nd=3D73\n833&atid=3D539099&gt; &aid=3D932022&group_id=3D73833&atid=3D539099 esse=\r\nntially deals\nwith the same problem, although the many changes to the\nCrawl=\r\nController/Frontier/ToeThreads setup has somewhat morphed the symptoms.\n \n-=\r\n Kris\n\n-----Original Message-----\nFrom: archive-crawler@yahoogroups.com\n[ma=\r\nilto:archive-crawler@yahoogroups.com] On Behalf Of Bjarne Andersen\nSent: 30=\r\n. ma=ED 2005 11:16\nTo: archive-crawler@yahoogroups.com\nSubject: [archive-cr=\r\nawler] NPE from WorkQueueFrontier after crawl has\nfinished\n\n\nHi !\n\nI&#39;m runn=\r\ning Heritrix embedded in another application !\nEverything seems to go fine =\r\n- but sometimes (not always) I get this NPE\nIt always happens after the cra=\r\nwl has finished so it does not bother me \n- but I assume there could be a b=\r\nug ?\n\nBelow is the bottom of the logfile\n\nbest\nBjarne Andersen\n\nMay 30, 200=\r\n5 12:51:48 PM org.archive.crawler.framework.CrawlController \nsendCrawlState=\r\nChangeEvent\nINFO: Sent STOPPING\nMay 30, 2005 12:51:48 PM org.archive.crawle=\r\nr.framework.CrawlController \nbeginCrawlStop\nINFO: Finished beginCrawlStop()=\r\n.\nMay 30, 2005 12:51:48 PM org.archive.crawler.framework.CrawlController \nc=\r\nompleteStop\nINFO: Entered complete stop.\nMay 30, 2005 12:51:48 PM org.archi=\r\nve.crawler.admin.StatisticsTracker \ncrawlEnded\nINFO: Entered crawlEnded\nMay=\r\n 30, 2005 12:51:48 PM org.archive.crawler.admin.StatisticsTracker \nwriteRep=\r\nort\nINFO: \n/home/bja/projects/webarkivering/tests/dk/netarkivet/harvestcont=\r\nroller/data/\nlauncher/working/heritrix_out/hosts-report.txt\nMay 30, 2005 12=\r\n:51:48 PM org.archive.crawler.admin.StatisticsTracker \nwriteReport\nINFO: \n/=\r\nhome/bja/projects/webarkivering/tests/dk/netarkivet/harvestcontroller/data/=\r\n\nlauncher/working/heritrix_out/mimetype-report.txt\nMay 30, 2005 12:51:48 PM=\r\n org.archive.crawler.admin.StatisticsTracker \nwriteReport\nINFO: \n/home/bja/=\r\nprojects/webarkivering/tests/dk/netarkivet/harvestcontroller/data/\nlauncher=\r\n/working/heritrix_out/responsecode-report.txt\nMay 30, 2005 12:51:48 PM org.=\r\narchive.crawler.admin.StatisticsTracker \nwriteReport\nINFO: \n/home/bja/proje=\r\ncts/webarkivering/tests/dk/netarkivet/harvestcontroller/data/\nlauncher/work=\r\ning/heritrix_out/seeds-report.txt\nMay 30, 2005 12:51:48 PM org.archive.craw=\r\nler.admin.StatisticsTracker \nwriteReport\nINFO: \n/home/bja/projects/webarkiv=\r\nering/tests/dk/netarkivet/harvestcontroller/data/\nlauncher/working/heritrix=\r\n_out/crawl-report.txt\nMay 30, 2005 12:51:48 PM org.archive.crawler.admin.St=\r\natisticsTracker \nwriteReport\nINFO: \n/home/bja/projects/webarkivering/tests/=\r\ndk/netarkivet/harvestcontroller/data/\nlauncher/working/heritrix_out/process=\r\nors-report.txt\nMay 30, 2005 12:51:48 PM org.archive.crawler.admin.Statistic=\r\nsTracker \nwriteReport\nINFO: \n/home/bja/projects/webarkivering/tests/dk/neta=\r\nrkivet/harvestcontroller/data/\nlauncher/working/heritrix_out/crawl-manifest=\r\n.txt\nMay 30, 2005 12:51:48 PM org.archive.crawler.admin.StatisticsTracker \n=\r\ncrawlEnded\nINFO: Leaving crawlEnded\nMay 30, 2005 12:51:48 PM org.archive.cr=\r\nawler.framework.CrawlController \nsendCrawlStateChangeEvent\nINFO: Sent FINIS=\r\nHED\njava.lang.NullPointerException\n      at \norg.archive.crawler.frontier.W=\r\norkQueueFrontier.next(WorkQueueFrontier.java:4\n99)\n      at org.archive.cra=\r\nwler.framework.ToeThread.run(ToeThread.java:136)\nMay 30, 2005 12:51:48 PM o=\r\nrg.archive.crawler.framework.CrawlController \ncompleteStop\nINFO: Finished c=\r\nrawl.\n\n\n  _____  \n\nYahoo! Groups Links\n\n\n*\tTo visit your group on the web, =\r\ngo to:\nhttp://groups.yahoo.com/group/archive-crawler/\n  \n\n*\tTo unsubscribe =\r\nfrom this group, send an email to:\narchive-crawler-unsubscribe@yahoogroups.=\r\ncom\n&lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=3DUnsubscri=\r\nbe&gt; \n  \n\n*\tYour use of Yahoo! Groups is subject to the Yahoo! Terms of Serv=\r\nice\n&lt;http://docs.yahoo.com/info/terms/&gt; . \n\n\n\r\n------=_NextPart_000_0001_01C56511.DD39CF90\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n&lt;TITLE&gt;Message&lt;/TITLE&gt;\n&lt;META http-equiv=3DContent-Type content=3D&quot;text/html=\r\n; charset=3Diso-8859-1&quot;&gt;\n&lt;META content=3D&quot;MSHTML 6.00.2800.1498&quot; name=3DGEN=\r\nERATOR&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;DIV&gt;&lt;SPAN class=3D614401512-30052005&gt;&lt;FONT face=3DAr=\r\nial color=3D#0000ff size=3D2&gt;I&#39;ve \nseen that myself. Object references&nbsp=\r\n;are discarded prematurely causing \ncertain end of crawl events to trigger =\r\nNPEs. The problem&nbsp;hasn&#39;t gotten much \nattention&nbsp;because it (by it=\r\ns very nature) is not going to harm any \ncrawls.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;=\r\nSPAN class=3D614401512-30052005&gt;&lt;FONT face=3DArial color=3D#0000ff \nsize=3D=\r\n2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3D614401512-30052005&gt;&lt;FONT fa=\r\nce=3DArial color=3D#0000ff size=3D2&gt;This \nbug issue: &lt;A \nhref=3D&quot;http://sou=\r\nrceforge.net/tracker/index.php?func=3Ddetail&amp;aid=3D932022&amp;group_id=\r\n=3D73833&amp;atid=3D539099&quot;&gt;http://sourceforge.net/tracker/index.php?func=\r\n=3Ddetail&amp;aid=3D932022&amp;group_id=3D73833&amp;atid=3D539099&lt;/A&gt;&nbsp;=\r\nessentially \ndeals with the same problem, although the many changes to the =\r\n\nCrawlController/Frontier/ToeThreads setup has somewhat morphed the \nsympto=\r\nms.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=3D614401512-30052005&gt;&lt;FONT face=3D=\r\nArial color=3D#0000ff \nsize=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;SPAN class=\r\n=3D614401512-30052005&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;- \nKris&lt;/=\r\nFONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=3D&quot;PADDING-LEFT: 5px; MARGIN-LEFT: 5p=\r\nx; BORDER-LEFT: #0000ff 2px solid; MARGIN-RIGHT: 0px&quot;&gt;\n  &lt;DIV&gt;&lt;/DIV&gt;\n  &lt;DIV=\r\n class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft&gt;&lt;FONT \n  =\r\nface=3DTahoma size=3D2&gt;-----Original Message-----&lt;BR&gt;&lt;B&gt;From:&lt;/B&gt; \n  archiv=\r\ne-crawler@yahoogroups.com [mailto:archive-crawler@yahoogroups.com] &lt;B&gt;On \n =\r\n Behalf Of &lt;/B&gt;Bjarne Andersen&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt; 30. ma=ED 2005 11:16&lt;BR&gt;&lt;B&gt;T=\r\no:&lt;/B&gt; \n  archive-crawler@yahoogroups.com&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt; [archive-crawl=\r\ner] NPE from \n  WorkQueueFrontier after crawl has finished&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/=\r\nDIV&gt;&lt;TT&gt;Hi \n  !&lt;BR&gt;&lt;BR&gt;I&#39;m running Heritrix embedded in another application=\r\n !&lt;BR&gt;Everything \n  seems to go fine - but sometimes (not always) I get thi=\r\ns NPE&lt;BR&gt;It always \n  happens after the crawl has finished so it does not b=\r\nother me &lt;BR&gt;- but I \n  assume there could be a bug ?&lt;BR&gt;&lt;BR&gt;Below is the b=\r\nottom of the \n  logfile&lt;BR&gt;&lt;BR&gt;best&lt;BR&gt;Bjarne Andersen&lt;BR&gt;&lt;BR&gt;May 30, 2005 =\r\n12:51:48 PM \n  org.archive.crawler.framework.CrawlController \n  &lt;BR&gt;sendCra=\r\nwlStateChangeEvent&lt;BR&gt;INFO: Sent STOPPING&lt;BR&gt;May 30, 2005 12:51:48 \n  PM or=\r\ng.archive.crawler.framework.CrawlController &lt;BR&gt;beginCrawlStop&lt;BR&gt;INFO: \n  =\r\nFinished beginCrawlStop().&lt;BR&gt;May 30, 2005 12:51:48 PM \n  org.archive.crawl=\r\ner.framework.CrawlController &lt;BR&gt;completeStop&lt;BR&gt;INFO: \n  Entered complete =\r\nstop.&lt;BR&gt;May 30, 2005 12:51:48 PM \n  org.archive.crawler.admin.StatisticsTr=\r\nacker &lt;BR&gt;crawlEnded&lt;BR&gt;INFO: Entered \n  crawlEnded&lt;BR&gt;May 30, 2005 12:51:4=\r\n8 PM \n  org.archive.crawler.admin.StatisticsTracker &lt;BR&gt;writeReport&lt;BR&gt;INFO=\r\n: \n  &lt;BR&gt;/home/bja/projects/webarkivering/tests/dk/netarkivet/harvestcontro=\r\nller/data/launcher/working/heritrix_out/hosts-report.txt&lt;BR&gt;May \n  30, 2005=\r\n 12:51:48 PM org.archive.crawler.admin.StatisticsTracker \n  &lt;BR&gt;writeReport=\r\n&lt;BR&gt;INFO: \n  &lt;BR&gt;/home/bja/projects/webarkivering/tests/dk/netarkivet/harve=\r\nstcontroller/data/launcher/working/heritrix_out/mimetype-report.txt&lt;BR&gt;May =\r\n\n  30, 2005 12:51:48 PM org.archive.crawler.admin.StatisticsTracker \n  &lt;BR&gt;=\r\nwriteReport&lt;BR&gt;INFO: \n  &lt;BR&gt;/home/bja/projects/webarkivering/tests/dk/netar=\r\nkivet/harvestcontroller/data/launcher/working/heritrix_out/responsecode-rep=\r\nort.txt&lt;BR&gt;May \n  30, 2005 12:51:48 PM org.archive.crawler.admin.Statistics=\r\nTracker \n  &lt;BR&gt;writeReport&lt;BR&gt;INFO: \n  &lt;BR&gt;/home/bja/projects/webarkivering=\r\n/tests/dk/netarkivet/harvestcontroller/data/launcher/working/heritrix_out/s=\r\needs-report.txt&lt;BR&gt;May \n  30, 2005 12:51:48 PM org.archive.crawler.admin.St=\r\natisticsTracker \n  &lt;BR&gt;writeReport&lt;BR&gt;INFO: \n  &lt;BR&gt;/home/bja/projects/webar=\r\nkivering/tests/dk/netarkivet/harvestcontroller/data/launcher/working/heritr=\r\nix_out/crawl-report.txt&lt;BR&gt;May \n  30, 2005 12:51:48 PM org.archive.crawler.=\r\nadmin.StatisticsTracker \n  &lt;BR&gt;writeReport&lt;BR&gt;INFO: \n  &lt;BR&gt;/home/bja/projec=\r\nts/webarkivering/tests/dk/netarkivet/harvestcontroller/data/launcher/workin=\r\ng/heritrix_out/processors-report.txt&lt;BR&gt;May \n  30, 2005 12:51:48 PM org.arc=\r\nhive.crawler.admin.StatisticsTracker \n  &lt;BR&gt;writeReport&lt;BR&gt;INFO: \n  &lt;BR&gt;/ho=\r\nme/bja/projects/webarkivering/tests/dk/netarkivet/harvestcontroller/data/la=\r\nuncher/working/heritrix_out/crawl-manifest.txt&lt;BR&gt;May \n  30, 2005 12:51:48 =\r\nPM org.archive.crawler.admin.StatisticsTracker \n  &lt;BR&gt;crawlEnded&lt;BR&gt;INFO: L=\r\neaving crawlEnded&lt;BR&gt;May 30, 2005 12:51:48 PM \n  org.archive.crawler.framew=\r\nork.CrawlController \n  &lt;BR&gt;sendCrawlStateChangeEvent&lt;BR&gt;INFO: Sent \n  FINIS=\r\nHED&lt;BR&gt;java.lang.NullPointerException&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  =\r\nat \n  &lt;BR&gt;org.archive.crawler.frontier.WorkQueueFrontier.next(WorkQueueFron=\r\ntier.java:499)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  at org.archive.crawler.=\r\nframework.ToeThread.run(ToeThread.java:136)&lt;BR&gt;May 30, \n  2005 12:51:48 PM =\r\norg.archive.crawler.framework.CrawlController \n  &lt;BR&gt;completeStop&lt;BR&gt;INFO: =\r\nFinished crawl.&lt;BR&gt;&lt;/TT&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_0001_01C56511.DD39CF90--\r\n\n"}}