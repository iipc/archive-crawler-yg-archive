{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":551250598,"authorName":"Adam Miller","from":"Adam Miller &lt;adam@...&gt;","replyTo":"LIST","senderId":"59JVSlaXzlyVv9ssaRZZFS6o-RdhpBEvYim9NgJPZ93UdGI7mb7mFC52thB_Pix1Jtfq5m2w7y4tagu9IkPrzIXywxG3","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Extractors communicating with CandidateChain processors...","postDate":"1368210300","msgId":8074,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PEIzRjhFODVCLTgwMUMtNDA1Ri04QTk3LUM1RTI3QzI5NjlDMUBhcmNoaXZlLm9yZz4=","inReplyToHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJEOThFMjM5QGJsaWtpLmJva2hsYWRhLmxvY2FsPg=="},"prevInTopic":8073,"nextInTopic":8075,"prevInTime":8073,"nextInTime":8075,"topicId":8073,"numMessagesInTopic":8,"msgSnippet":"I have used a custom ViaContext, to annotate a URL for later detection in the processor chain. This required creating a custom decide rule to check the","rawEmail":"Return-Path: &lt;adam@...&gt;\r\nReceived: (qmail 11195 invoked by uid 102); 10 May 2013 19:02:29 -0000\r\nReceived: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m8.grp.bf1.yahoo.com with SMTP; 10 May 2013 19:02:29 -0000\r\nReceived: (qmail 21067 invoked from network); 10 May 2013 19:02:29 -0000\r\nReceived: from unknown (HELO ng10-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.189)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 10 May 2013 19:02:29 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1368212548; bh=r9OzJlNX9mszf1IMwejXgYk80yXG6UqmONhkC/vq80s=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:Content-Type:Message-Id:Mime-Version:Date:References:To:In-Reply-To:X-Mailer:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=LKoEzToXT7Hv5E3SArcNE5Ys82WzpokV/2tR9rjDqMOgaW5cuS5TmlTYI5hIMpY+76zCBnlMrHUOkoLf/i542Az/DrdA+9M4ZGt6R96/5Jf9NBMSUw0o2SYvAHZrb6br+nhzbkpF0c5c0M7g96Pao8mrc/SkoryyKj78RgKnY6U=\r\nReceived: from [98.138.217.181] by ng10.bullet.mail.ne1.yahoo.com with NNFMP; 10 May 2013 19:02:28 -0000\r\nReceived: from [10.193.94.42] by tg6.bullet.mail.ne1.yahoo.com with NNFMP; 10 May 2013 19:02:28 -0000\r\nX-Sender: adam@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 59359 invoked by uid 102); 10 May 2013 18:25:17 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m9.grp.bf1.yahoo.com with SMTP; 10 May 2013 18:25:17 -0000\r\nX-Received: (qmail 21850 invoked from network); 10 May 2013 18:25:17 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 10 May 2013 18:25:17 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 13F436840174\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 11:25:14 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 9cDWlW8xIukj for &lt;archive-crawler@yahoogroups.com&gt;;\n\tFri, 10 May 2013 11:25:05 -0700 (PDT)\r\nX-Received: from [192.168.2.132] (97-114-104-96.spkn.qwest.net [97.114.104.96])\n\tby mail.archive.org (Postfix) with ESMTPSA id 69AAE684016B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 10 May 2013 11:25:04 -0700 (PDT)\r\nContent-Type: multipart/alternative; boundary=&quot;Apple-Mail=_409FF4D9-88FA-4F41-A2E4-6C90D6A1B16C&quot;\r\nMessage-Id: &lt;B3F8E85B-801C-405F-8A97-C5E27C2969C1@...&gt;\r\nMime-Version: 1.0 (Mac OS X Mail 6.3 &#92;(1503&#92;))\r\nDate: Fri, 10 May 2013 11:25:00 -0700\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;E486D93E372D8C4282E8DF078392F12D98E239@...&gt;\r\nX-Mailer: Apple Mail (2.1503)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Adam Miller &lt;adam@...&gt;\r\nSubject: Re: [archive-crawler] Extractors communicating with CandidateChain processors...\r\nX-Yahoo-Group-Post: member; u=551250598\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nlevitt &lt;nlevitt@...&gt; via web; 10 May 2013 19:02:27 -0000\r\n\r\n\r\n--Apple-Mail=_409FF4D9-88FA-4F41-A2E4-6C90D6A1B16C\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=windows-1252\r\n\r\nI have used a custom ViaContext, to annotate a URL for later detection in t=\r\nhe processor chain. This required creating a custom decide rule to check th=\r\ne context.\n\nAn example of this can be seen here:\nhttps://github.com/adam-mi=\r\nller/ExternalBrowserExtractorHTML\n\nDecide Rule: https://github.com/adam-mil=\r\nler/ExternalBrowserExtractorHTML/blob/master/src/main/java/org/archive/modu=\r\nles/deciderules/ViaContextMatchesRegexDecideRule.java\n\nAn example from Exte=\r\nrnalBrowserExtractorHtml.java which gets &#39;processLink()&#39; from ExtractorHtml=\r\n\nprocessLink(curi,json.getString(&quot;url&quot;),&quot;=3DBROWSER_MISC&quot;.toString());\n\n\n~A=\r\ndam Miller\n\nOn May 10, 2013, at 9:43 AM, Kristinn Sigur=F0sson &lt;kristinn@la=\r\nndsbokasafn.is&gt; wrote:\n\n&gt; I have an extractor that needs to be able to mark=\r\n up extracted URLs so that a processor in the candidates chain knows how to=\r\n handle them. \n&gt; \n&gt; The only options I see is to have the extractor create =\r\na CrawlURI itself and add it to the OutCandidates list rather than OutLinks=\r\n or write all the markup into the parent curi&#39;s data map and retrieve it us=\r\ning the curi.getFullVia() once in the candidate chain. \n&gt; \n&gt; The latter opt=\r\nion feels like a royal hack and the former also feels a bit iffy, so I&#39;m as=\r\nking if there a recommended or established way of doing this? \n&gt; \n&gt; Best, \n=\r\n&gt; Kris \n&gt; \n&gt; ---------------------------------------------------------- \n&gt; =\r\nLandsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 10=\r\n7 Reykjav=EDk \n&gt; S=EDmi/Tel: +354 5255600 | www.landsbokasafn.is \n&gt; -------=\r\n--------------------------------------------------- \n&gt; fyrirvari/disclaimer=\r\n - http://fyrirvari.landsbokasafn.is \n&gt; \n\n\r\n--Apple-Mail=_409FF4D9-88FA-4F41-A2E4-6C90D6A1B16C\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/html;\n\tcharset=windows-1252\r\n\r\n&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=3D&quot;Content-Type&quot; content=3D&quot;text/html charset=\r\n=3Dwindows-1252&quot;&gt;&lt;/head&gt;&lt;body style=3D&quot;word-wrap: break-word; -webkit-nbsp-=\r\nmode: space; -webkit-line-break: after-white-space; &quot;&gt;&lt;div&gt;I have used a cu=\r\nstom ViaContext, to annotate a URL for later detection in the processor cha=\r\nin. This required creating a custom decide rule to check the context.&lt;/div&gt;=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;An example of this can be seen here:&lt;/div&gt;&lt;div&gt;&lt;a href=\r\n=3D&quot;https://github.com/adam-miller/ExternalBrowserExtractorHTML&quot;&gt;https://gi=\r\nthub.com/adam-miller/ExternalBrowserExtractorHTML&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;Decide Rule:&nbsp;&lt;a href=3D&quot;https://github.com/adam-miller/ExternalBro=\r\nwserExtractorHTML/blob/master/src/main/java/org/archive/modules/deciderules=\r\n/ViaContextMatchesRegexDecideRule.java&quot;&gt;https://github.com/adam-miller/Exte=\r\nrnalBrowserExtractorHTML/blob/master/src/main/java/org/archive/modules/deci=\r\nderules/ViaContextMatchesRegexDecideRule.java&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=\r\nAn example from ExternalBrowserExtractorHtml.java which gets &#39;processLink()=\r\n&#39; from ExtractorHtml&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;nf&quot; style=3D&quot;margin: 0px; pad=\r\nding: 0px; border: 0px; color: rgb(153, 0, 0); font-weight: bold; font-fami=\r\nly: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; font-size: 12px; line-=\r\nheight: 18px; white-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;pro=\r\ncessLink&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=3D&quot;margin: 0px; padding: 0px; border=\r\n: 0px; font-weight: bold; color: rgb(51, 51, 51); font-family: Consolas, &#39;L=\r\niberation Mono&#39;, Courier, monospace; font-size: 12px; line-height: 18px; wh=\r\nite-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;(&lt;/span&gt;&lt;span class=\r\n=3D&quot;n&quot; style=3D&quot;margin: 0px; padding: 0px; border: 0px; color: rgb(51, 51, =\r\n51); font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; font-siz=\r\ne: 12px; line-height: 18px; white-space: pre; background-color: rgb(255, 25=\r\n5, 255); &quot;&gt;curi&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=3D&quot;margin: 0px; padding: 0px;=\r\n border: 0px; font-weight: bold; color: rgb(51, 51, 51); font-family: Conso=\r\nlas, &#39;Liberation Mono&#39;, Courier, monospace; font-size: 12px; line-height: 1=\r\n8px; white-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;,&lt;/span&gt;&lt;spa=\r\nn class=3D&quot;n&quot; style=3D&quot;margin: 0px; padding: 0px; border: 0px; color: rgb(5=\r\n1, 51, 51); font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; f=\r\nont-size: 12px; line-height: 18px; white-space: pre; background-color: rgb(=\r\n255, 255, 255); &quot;&gt;json&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=3D&quot;margin: 0px; paddin=\r\ng: 0px; border: 0px; font-weight: bold; color: rgb(51, 51, 51); font-family=\r\n: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; font-size: 12px; line-he=\r\night: 18px; white-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;.&lt;/sp=\r\nan&gt;&lt;span class=3D&quot;na&quot; style=3D&quot;margin: 0px; padding: 0px; border: 0px; colo=\r\nr: rgb(0, 128, 128); font-family: Consolas, &#39;Liberation Mono&#39;, Courier, mon=\r\nospace; font-size: 12px; line-height: 18px; white-space: pre; background-co=\r\nlor: rgb(255, 255, 255); &quot;&gt;getString&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=3D&quot;margi=\r\nn: 0px; padding: 0px; border: 0px; font-weight: bold; color: rgb(51, 51, 51=\r\n); font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; font-size:=\r\n 12px; line-height: 18px; white-space: pre; background-color: rgb(255, 255,=\r\n 255); &quot;&gt;(&lt;/span&gt;&lt;span class=3D&quot;s&quot; style=3D&quot;margin: 0px; padding: 0px; bord=\r\ner: 0px; color: rgb(221, 17, 68); font-family: Consolas, &#39;Liberation Mono&#39;,=\r\n Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; =\r\nbackground-color: rgb(255, 255, 255); &quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=\r\n=3D&quot;margin: 0px; padding: 0px; border: 0px; font-weight: bold; color: rgb(5=\r\n1, 51, 51); font-family: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; f=\r\nont-size: 12px; line-height: 18px; white-space: pre; background-color: rgb(=\r\n255, 255, 255); &quot;&gt;),&lt;/span&gt;&lt;span class=3D&quot;s&quot; style=3D&quot;margin: 0px; padding:=\r\n 0px; border: 0px; color: rgb(221, 17, 68); font-family: Consolas, &#39;Liberat=\r\nion Mono&#39;, Courier, monospace; font-size: 12px; line-height: 18px; white-sp=\r\nace: pre; background-color: rgb(255, 255, 255); &quot;&gt;&quot;=3DBROWSER_MISC&quot;&lt;/span&gt;&lt;=\r\nspan class=3D&quot;o&quot; style=3D&quot;margin: 0px; padding: 0px; border: 0px; font-weig=\r\nht: bold; color: rgb(51, 51, 51); font-family: Consolas, &#39;Liberation Mono&#39;,=\r\n Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; =\r\nbackground-color: rgb(255, 255, 255); &quot;&gt;.&lt;/span&gt;&lt;span class=3D&quot;na&quot; style=3D=\r\n&quot;margin: 0px; padding: 0px; border: 0px; color: rgb(0, 128, 128); font-fami=\r\nly: Consolas, &#39;Liberation Mono&#39;, Courier, monospace; font-size: 12px; line-=\r\nheight: 18px; white-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;toS=\r\ntring&lt;/span&gt;&lt;span class=3D&quot;o&quot; style=3D&quot;margin: 0px; padding: 0px; border: 0=\r\npx; font-weight: bold; color: rgb(51, 51, 51); font-family: Consolas, &#39;Libe=\r\nration Mono&#39;, Courier, monospace; font-size: 12px; line-height: 18px; white=\r\n-space: pre; background-color: rgb(255, 255, 255); &quot;&gt;());&lt;/span&gt;&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div apple-content-edited=3D&quot;true&quot;&gt;\n&lt;div&gt;~Adam Mil=\r\nler&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;br&gt;&lt;div&gt;&lt;div&gt;On May 10, 2013, at 9:43 AM, Kristinn Sigur=\r\n=F0sson &lt;&lt;a href=3D&quot;mailto:kristinn@...&quot;&gt;kristinn@landsboka=\r\nsafn.is&lt;/a&gt;&gt; wrote:&lt;/div&gt;&lt;br class=3D&quot;Apple-interchange-newline&quot;&gt;&lt;blockq=\r\nuote type=3D&quot;cite&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color: #fff;&quot;&gt;\n&lt;s=\r\npan style=3D&quot;display:none&quot;&gt;&nbsp;&lt;/span&gt;\n\n\n\n    &lt;div id=3D&quot;ygrp-text&quot;&gt;&lt;p&gt;I =\r\nhave an extractor that needs to be able to mark up extracted URLs so that a=\r\n processor in the candidates chain knows how to handle them.\n&lt;br&gt;\n\n&lt;br&gt;\nThe=\r\n only options I see is to have the extractor create a CrawlURI itself and a=\r\ndd it to the OutCandidates list rather than OutLinks or write all the marku=\r\np into the parent curi&#39;s data map and retrieve it using the curi.getFullVia=\r\n() once in the candidate chain.\n&lt;br&gt;\n\n&lt;br&gt;\nThe latter option feels like a r=\r\noyal hack and the former also feels a bit iffy, so I&#39;m asking if there a re=\r\ncommended or established way of doing this?\n&lt;br&gt;\n\n&lt;br&gt;\nBest,\n&lt;br&gt;\nKris\n&lt;br&gt;=\r\n\n\n&lt;br&gt;\n----------------------------------------------------------\n&lt;br&gt;\nLand=\r\nsb=F3kasafn =CDslands - H=E1sk=F3lab=F3kasafn | Arngr=EDmsg=F6tu 3 - 107 Re=\r\nykjav=EDk\n&lt;br&gt;\nS=EDmi/Tel: +354 5255600 | &lt;a href=3D&quot;http://www.landsbokasa=\r\nfn.is&quot;&gt;www.landsbokasafn.is&lt;/a&gt;\n&lt;br&gt;\n--------------------------------------=\r\n--------------------\n&lt;br&gt;\nfyrirvari/disclaimer - &lt;a href=3D&quot;http://fyrirvar=\r\ni.landsbokasafn.is/&quot;&gt;http://fyrirvari.landsbokasafn.is&lt;/a&gt;\n&lt;br&gt;\n&lt;/p&gt;\n\n    &lt;=\r\n/div&gt;\n     \n\n    \n\n&lt;/div&gt;\n\n\n\n&lt;!-- end group email --&gt;\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;=\r\nbr&gt;&lt;/body&gt;&lt;/html&gt;\r\n--Apple-Mail=_409FF4D9-88FA-4F41-A2E4-6C90D6A1B16C--\r\n\n"}}