{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"71d1JRNBEwtmxbd4iurpus-PNOBq7owfjIfovZJJeWV7ElwL8xZDXagqaxsv20Sj1frD1NYGtzdWNSBr5PJSZW9X9SAg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: existance of something like DomainQueueAssignementPolicy","postDate":"1176880311","msgId":4131,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwNGdibitmdWZsQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MEI4ODEzLjQwNzAzMDdAc3RhdHNiaWJsaW90ZWtldC5kaz4="},"prevInTopic":3972,"nextInTopic":4132,"prevInTime":4130,"nextInTime":4132,"topicId":3962,"numMessagesInTopic":8,"msgSnippet":"Thanks alot Bjarne for sharing your implementation, but during further investigations towards #HER-1094 I came up with another idea that I think looks","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 15136 invoked from network); 18 Apr 2007 07:13:50 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m45.grp.scd.yahoo.com with QMQP; 18 Apr 2007 07:13:50 -0000\r\nReceived: from unknown (HELO n10c.bullet.sp1.yahoo.com) (69.147.64.105)\n  by mta7.grp.scd.yahoo.com with SMTP; 18 Apr 2007 07:13:50 -0000\r\nReceived: from [216.252.122.216] by n10.bullet.sp1.yahoo.com with NNFMP; 18 Apr 2007 07:11:53 -0000\r\nReceived: from [209.73.164.83] by t1.bullet.sp1.yahoo.com with NNFMP; 18 Apr 2007 07:11:53 -0000\r\nReceived: from [66.218.66.87] by t7.bullet.scd.yahoo.com with NNFMP; 18 Apr 2007 07:11:53 -0000\r\nDate: Wed, 18 Apr 2007 07:11:51 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f04gbn+fufl@...&gt;\r\nIn-Reply-To: &lt;460B8813.4070307@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: existance of something like DomainQueueAssignementPolicy\r\nX-Yahoo-Group-Post: member; u=191387937; y=kN2BELqTCjrzeErUDzUEAnAwauayFqWmnPRrwxHrC1HkcuZo\r\nX-Yahoo-Profile: pandae667\r\n\r\nThanks alot Bjarne for sharing your implementation,\n\nbut during further inv=\r\nestigations towards #HER-1094 I came up with\nanother idea that I think look=\r\ns promising (but maybe I don&#39;t just see\nthe caveats yet).\n\nThe basic proble=\r\nm is &quot;what constitutes a reasonable domain partitioning&quot; ?\nGordon brought u=\r\np the example of &quot;foo.bar.baz.co.uk&quot; that for sure\nshouldn&#39;t be put in a &quot;c=\r\no.uk&quot; queue but rather into a &quot;baz.co.uk&quot; queue.\n\nSo my first naive approac=\r\nh would be:\nif the 2nd level domain consists of two or less letters also ta=\r\nke the\n3rd level domain into account.\n\nBut this approach might introduce so=\r\nme unintended side effects -\nnamely with two letter 2nd level domains under=\r\n the hood of the general\npurpose top level domains like .com (for example a=\r\na.com).\n\nSo the most convenient solution so far seems to me to be something=\r\n\nlike &quot;the resulting domain should be constructed  by as many domain\nlevels=\r\n as it takes so that the result contains at least consists of\nfive letters&quot;=\r\n (notwithstanding http://x.org that takes a special role...)\n\nexamples:\nfoo=\r\n.bar.baz.example.com =3D&gt; example.com\nfoo.bar.baz.example.co.uk =3D&gt; exampl=\r\ne.co.uk \nfoo.bar.baz.aa.com &gt; aa.com\nx.org =3D&gt; x.org\n\nTo make sure &quot;www.x.=\r\norg&quot; and &quot;x.org&quot; both enter the same queue\nstripping any &quot;www[&#92;d]*&#92;.&quot; prefi=\r\nx afterwards might seem reasonable, too.\n\nI consider this idea as a &quot;reques=\r\nt for discussion&quot; and hope to get\nsome helpful comments.\n\nRegards\n  Olaf Fr=\r\neyer\n\n\n--- In archive-crawler@yahoogroups.com, Bjarne Andersen &lt;bja@...&gt; wr=\r\note:\n&gt;\n&gt; We have implemented a simple version of this. It&#39;s attached to thi=\r\ns\nmail (I&#39;m unsure if attachments get removed)\n&gt; \n&gt; We use that exactly to =\r\nlimit load on domain-level and to limit the\noverall number of fetches / byt=\r\nes on domain-level (with the QuotaEnforcer \n&gt; module which has the notion o=\r\nf Groups following the\nQueueAssignmentPolicy)\n&gt; \n&gt; best\n&gt; -- \n&gt; Bjarne Ande=\r\nrsen\n&gt; Daily Manager - netarchive.dk\n&gt; \n&gt; State & University Library\n&gt; Univ=\r\nersitetsparken\n&gt; DK-8000 Aarhus C\n&gt; T: +45 89462165 - C: +45 25662353\n&gt; CVR=\r\n/SE 10100682 - EAN 5798000791084\n&gt; http://netarchive.dk\n&gt; \n&gt; pandae667 wrot=\r\ne:\n&gt; &gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@&gt; wrote:=\r\n\n&gt; &gt; \n&gt; &gt;&gt;pandae667 wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt;&gt;Dear IA-Team,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;I&#39;m wondering=\r\n if there is something like a\n&gt; &gt;&gt;&gt;DomainQueueAssignementPolicy (I need thi=\r\ns to make sure not to crawl\n&gt; &gt;&gt;&gt;more than one host located on the same dom=\r\nain at once - otherwise I\n&gt; &gt;&gt;&gt;might DoS customers that use loads of differ=\r\nent sub-hostnames for\n&gt; &gt;&gt;&gt;different purposes.)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;If nothing alike=\r\n exists yet I&#39;d implement such a policy based upon\n&gt; &gt;&gt;&gt;SurtAuthorityQueueA=\r\nssignmentPolicy.\n&gt; &gt;&gt;\n&gt; &gt;&gt;Nothing like that yet exists.\n&gt; &gt;&gt;\n&gt; &gt;&gt;If it is o=\r\nnly an issue only for a certain known set of domains,\nyou can \n&gt; &gt;&gt;use the =\r\n&quot;force-queue-assignment&quot; frontier setting in a domain\noverride \n&gt; &gt;&gt;to forc=\r\ne all URIs in subdomains into the same queue.\n&gt; &gt;&gt;\n&gt; &gt;&gt;(Specifically: if th=\r\nis setting is non-empty, all URIs to which the \n&gt; &gt;&gt;setting applies will ha=\r\nve this string, rather than the string\ngiven by \n&gt; &gt;&gt;the assignment-policy,=\r\n as its queue name.)\n&gt; &gt;&gt;\n&gt; &gt;&gt;A policy to do this would be a valuable contr=\r\nibution. Of course, for \n&gt; &gt;&gt;different top-level-domains the number of doma=\r\nin-segments that\nreflect \n&gt; &gt;&gt;&quot;same domain&quot; (in a meaningful shared-ownersh=\r\nip sense) varies.\n&gt; &gt;&gt;\n&gt; &gt;&gt;- Gordon @ IA\n&gt; &gt;&gt;\n&gt; &gt; \n&gt; &gt; Hi Gordon,\n&gt; &gt; \n&gt; &gt; =\r\nI do agree that it would be usefull to make such an AssignementPolicy\n&gt; &gt; c=\r\nonfigurable - but it seems to me like this isn&#39;t an available option.\n&gt; &gt; T=\r\no offer something like addElementToDefinition the class would need to\n&gt; &gt; e=\r\nxtend ComplexType - but currently those AssignementPolicies are based\n&gt; &gt; u=\r\npon the abstract class QueueAssignementPolicy.\n&gt; &gt; Additionally to this sho=\r\nrtcoming I don&#39;t know how the webUI\n&gt; &gt; would/should handle this case. The =\r\nassignement policies are listed in\n&gt; &gt; a dropdown box on the settings page =\r\n- thus propably offering no way to\n&gt; &gt; set additional options.\n&gt; &gt; \n&gt; &gt; Reg=\r\nards\n&gt; &gt;   Olaf Freyer\n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}