{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":215515511,"authorName":"Mike Schwartz","from":"Mike Schwartz &lt;mschwartz@...&gt;","profile":"mfschwartz","replyTo":"LIST","senderId":"ekqOZTyMkhgDI0aO_e7FzwSzmAFtLHhc2Az7sGNd1uOuI2HzIfzhF0H1xKP3Pkd-HxuQ8PIXL-er5Jc6Ux6NjiL5CrATXOuZUrY","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] recover log question","postDate":"1111614694","msgId":1690,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDYuMi4wLjE0LjIuMjAwNTAzMjMxMDMxMzQuMDJiNWUzZTBAdmhvc3Q2LmF0b21pY3NlcnZlcnMuY29tPg==","inReplyToHeader":"PDQyMzc5MjUxLjEwMTA1MDJAYXJjaGl2ZS5vcmc+","referencesHeader":"PGN2dm1nbStzZGI5QGVHcm91cHMuY29tPiA8Ni4yLjAuMTQuMi4yMDA1MDIyODEyMzgzMS4wMmIxZmU5OEB2aG9zdDYuYXRvbWljc2VydmVycy5jb20+IDw0MjI2MDYzMy4yMDIwMzAzQGFyY2hpdmUub3JnPiA8Ni4yLjAuMTQuMi4yMDA1MDMxNDE5MTE1Ny4wMmJmMzcxMEB2aG9zdDYuYXRvbWljc2VydmVycy5jb20+IDw0MjM2NEMwNC44MDEwNjA3QGFyY2hpdmUub3JnPiA8Ni4yLjAuMTQuMi4yMDA1MDMxNDIwMDIwOS4wMmI4YmQxOEB2aG9zdDYuYXRvbWljc2VydmVycy5jb20+IDw0MjM3OTI1MS4xMDEwNTAyQGFyY2hpdmUub3JnPg=="},"prevInTopic":1664,"nextInTopic":0,"prevInTime":1689,"nextInTime":1691,"topicId":1617,"numMessagesInTopic":12,"msgSnippet":"hi, sorry for the delayed response. ... this URL showed up only 4 times in the crawl log: 20050308123650612   404        204 http://216.219.253.36/robots.txt","rawEmail":"Return-Path: &lt;mschwartz@...&gt;\r\nX-Sender: mschwartz@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 91585 invoked from network); 23 Mar 2005 21:51:39 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m23.grp.scd.yahoo.com with QMQP; 23 Mar 2005 21:51:39 -0000\r\nReceived: from unknown (HELO vhost6.atomicservers.com) (216.58.160.194)\n  by mta3.grp.scd.yahoo.com with SMTP; 23 Mar 2005 21:51:39 -0000\r\nReceived: from dev4lt.aptas.com ([64.78.237.248])\n\t(authenticated (0 bits))\n\tby vhost6.atomicservers.com (8.11.6/8.11.6) with ESMTP id j2NLpXt30307\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 23 Mar 2005 14:51:33 -0700\r\nMessage-Id: &lt;6.2.0.14.2.20050323103134.02b5e3e0@...&gt;\r\nX-Mailer: QUALCOMM Windows Eudora Version 6.2.0.14\r\nDate: Wed, 23 Mar 2005 14:51:34 -0700\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;42379251.1010502@...&gt;\r\nReferences: &lt;cvvmgm+sdb9@...&gt;\n &lt;6.2.0.14.2.20050228123831.02b1fe98@...&gt;\n &lt;42260633.2020303@...&gt;\n &lt;6.2.0.14.2.20050314191157.02bf3710@...&gt;\n &lt;42364C04.8010607@...&gt;\n &lt;6.2.0.14.2.20050314200209.02b8bd18@...&gt;\n &lt;42379251.1010502@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;=====================_183090515==.ALT&quot;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Mike Schwartz &lt;mschwartz@...&gt;\r\nSubject: Re: [archive-crawler] recover log question\r\nX-Yahoo-Group-Post: member; u=215515511\r\nX-Yahoo-Profile: mfschwartz\r\n\r\n\r\n--=====================_183090515==.ALT\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed\r\n\r\nhi,\n\nsorry for the delayed response.\n\nAt 06:56 PM 3/15/2005, you wrote:\n&gt;Can you also check the crawl.log for that same URI -- the context in\n&gt;which it was discovered and success/failuyre of related URIs could\n&gt;be important.\n\nthis URL showed up only 4 times in the crawl log:\n20050308123650612   404        204 http://216.219.253.36/robots.txt RP \nhttp://216.219.253.36/ text/html #017 127 Z6EQWZKH5VW7CVKN7PZ6FISLVU7EKQFC -\n20050308123918472   200        324 http://216.219.253.36/ R \nhttp://www.salcomachine.com/ text/html #055 161 \nEOZL2LKTNKI2FNKSYJ2ZOUQ54ZDE7WOU 2t\n20050312212106979   404        204 http://216.219.253.36/robots.txt P \nhttp://216.219.253.36/ text/html #051 625 Z6EQWZKH5VW7CVKN7PZ6FISLVU7EKQFC -\n20050312212126406   200        324 http://216.219.253.36/ - - text/html \n#072 726 EOZL2LKTNKI2FNKSYJ2ZOUQ54ZDE7WOU 2t\nI did a reverse DNS lookup and found the corresponding DNS name - \nnuki.valueweb.net - but no URI in the crawl.log contains that DNS \nname.  And given that there was no F+ for http://216.219.253.36/  prior to \nits first occurance in the log, I&#39;m at a loss to explain where that URI \ncame from.\n\n\n&gt;I&#39;m inclined to think it a problem in the frontier you&#39;re using;\n&gt;(or its superclasses), some path that lets a URI be added without the\n&gt;proper Recovery logging.\n\ncould be - I was using the RobegerFrontier (in v1.2.0), which has since \nbeen merged into DomainSensitiveFrontier in the HEAD, which I am now \nusing.  We could just wait to see if the problem recurs now that I&#39;m on the \nlatest release.m\n\n\n&gt;Have you ever seen it with a non-IP address URI? (I don&#39;t think that&#39;s\n&gt;a factor, but if it&#39;s only shown up with IP address URIs, it must be.)\n\nI hadn&#39;t been able to see this before because my code RecoveryLogMapper \ncode gives up (throws and exception) the first time it sees this condition \n-- I modified it to just print out the problem and keep going.  Turns out \nthere are lots of cases where this condition happens, and not just with IP \naddressed URIs (the IP addressed URI just happened to be the first one in \nmy case).  Here&#39;s the first few lines of another domain where this \nsituation occurs:\nFe http://www.arvadarentalls.com/\nF+ dns:www.arvadarentalls.com P http://www.arvadarentalls.com/\nF+ http://www.arvadarentalls.com/\nFe dns:www.arvadarentalls.com\nFs dns:www.arvadarentalls.com\nFe http://www.arvadarentalls.com/home.asp\nF+ http://www.arvadarentalls.com/robots.txt P \nhttp://www.arvadarentalls.com/home.asp\nF+ http://www.arvadarentalls.com/home.asp\n\nI have some code that walks thru the crawl log looking for -6000 error \ncodes (to find the URLs that were dropped because we exceeded the maxdocs \ncount) and then uses the RecoveryLogMapper to find the seed from which that \nURL was discovered (so I can construct a list of seeds that were not \ncompletely crawled).  If you like I can send this code to you - I suspect \nif you run it against a crawl.log and recover.gz from any recently run \nfairly large crawl with a maxdocs limit set (in the HSF) you&#39;ll be able to \nreproduce the problem.\n\nthanks\n  - Mike\n\n\n\n&gt;- Gordon @ IA\n&gt;\n&gt;Mike Schwartz wrote:\n&gt; &gt; hi Gordon,\n&gt; &gt;\n&gt; &gt; it only seems to happen pretty occasionally, on moderately large crawls\n&gt; &gt; (3000 seed URLs, max-docs set to 100 per seed (in the RobegerFrontier).\n&gt; &gt;\n&gt; &gt; here&#39;s an example excerpt from recover.gz:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; % gunzip &lt; recover.gz | fgrep &lt;http://216.219.253.36&gt;http://216.219.253.36\n&gt; &gt; Fe &lt;http://216.219.253.36/&gt;http://216.219.253.36/\n&gt; &gt; F+ &lt;http://216.219.253.36/robots.txt&gt;http://216.219.253.36/robots.txt P \n&gt; &lt;http://216.219.253.36/&gt;http://216.219.253.36/\n&gt; &gt; F+ &lt;http://216.219.253.36/&gt;http://216.219.253.36/\n&gt; &gt; Fe &lt;http://216.219.253.36/robots.txt&gt;http://216.219.253.36/robots.txt\n&gt; &gt; Fs &lt;http://216.219.253.36/robots.txt&gt;http://216.219.253.36/robots.txt\n&gt; &gt; Fe &lt;http://216.219.253.36/&gt;http://216.219.253.36/\n&gt; &gt; Fs &lt;http://216.219.253.36/&gt;http://216.219.253.36/\n&gt; &gt; ...\n&gt; &gt;\n&gt; &gt; None of the seed URLs I input contained IP addresses (they were all\n&gt; &gt; domain names), so it seems maybe suspicious that this problem popped up\n&gt; &gt; with an IP address.  I&#39;m wondering if somehow the IP address was emitted\n&gt; &gt; from an earlier discvoery of a DNS-name-containing URL, and somehow it\n&gt; &gt; got translated into an IP address-containing URL in the recover log.\n&gt; &gt;\n&gt; &gt; thanks,\n&gt; &gt;  - Mike\n&gt; &gt;\n&gt; &gt; At 07:44 PM 3/14/2005, you wrote:\n&gt; &gt;\n&gt; &gt;&gt; Mike Schwartz wrote:\n&gt; &gt;&gt; &gt; hi,\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; I notice the recover.gz file occasionally has entries in an Fe line\n&gt; &gt;&gt; without\n&gt; &gt;&gt; &gt; any predecessor F+ line.  I had thought there would always be an F+\n&gt; &gt;&gt; line\n&gt; &gt;&gt; &gt; for any URL before it would show up in an Fe line -- basically, you\n&gt; &gt;&gt; &gt; discover and add a URL to the frontier before you ever emit/crawl\n&gt; &gt;&gt; it.  Am I\n&gt; &gt;&gt; &gt; misunderstanding this?\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; I ask because the RecoveryLogMapper class I contributed recently\n&gt; &gt;&gt; makes the\n&gt; &gt;&gt; &gt; assumption noted above, so when it gets an Fe without a predecessory F+\n&gt; &gt;&gt; &gt; line it throws an Exception to indicate that situation wasn&#39;t\n&gt; &gt;&gt; expeceted.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Hi, Mike.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Your assumption was correct: there should always be an &#39;F+&#39; (add to\n&gt; &gt;&gt; Frontier)\n&gt; &gt;&gt; before an &#39;Fe&#39; (emit for crawl-try).\n&gt; &gt;&gt;\n&gt; &gt;&gt; Can you easily reproduce the case where there is an &#39;Fe&#39; with no\n&gt; &gt;&gt; preceding\n&gt; &gt;&gt; &#39;F+&#39;, or is it a rare occurence in large/long crawls?\n&gt; &gt;&gt;\n&gt; &gt;&gt; Can you excerpt out all the recovery-log lines pertaining the the URI in\n&gt; &gt;&gt; question, as well as any crawl.log lines for the same URI, to see if\n&gt; &gt;&gt; that sheds any light on what&#39;s happening?\n&gt; &gt;&gt;\n&gt; &gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Yahoo! Groups Sponsor\n&gt; &gt;&gt; ADVERTISEMENT\n&gt; &gt;&gt; \n&gt; &lt;&lt;http://us.ard.yahoo.com/SIG=129hiuoi7/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1110941065/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&gt;http://us.ard.yahoo.com/SIG=129hiuoi7/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1110941065/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&gt; \n&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; click here\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; ----------\n&gt; &gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;    * To visit your group on the web, go to:\n&gt; &gt;&gt;    *\n&gt; &gt;&gt; \n&gt; &lt;&lt;http://groups.yahoo.com/group/archive-crawler/&gt;http://groups.yahoo.com/group/archive-crawler/&gt;http://groups.yahoo.com/group/archive-crawler/ \n&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;    *\n&gt; &gt;&gt;    * To unsubscribe from this group, send an email to:\n&gt; &gt;&gt;    *\n&gt; &gt;&gt; \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;archive-crawler-unsubscribe@yahoogroups.com \n&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;    *\n&gt; &gt;&gt;    * Your use of Yahoo! Groups is subject to the\n&gt; &gt;&gt; \n&gt; &lt;&lt;http://docs.yahoo.com/info/terms/&gt;http://docs.yahoo.com/info/terms/&gt;Yahoo! \n&gt; Terms of Service.\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;Yahoo! Groups Sponsor\n&gt;ADVERTISEMENT\n&gt;&lt;http://us.ard.yahoo.com/SIG=129ucfrc2/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1111024599/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&gt;\n&gt;click here\n&gt;\n&gt;\n&gt;\n&gt;----------\n&gt;Yahoo! Groups Links\n&gt;    * To visit your group on the web, go to:\n&gt;    * \n&gt; &lt;http://groups.yahoo.com/group/archive-crawler/&gt;http://groups.yahoo.com/group/archive-crawler/ \n&gt;\n&gt;    *\n&gt;    * To unsubscribe from this group, send an email to:\n&gt;    * \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;archive-crawler-unsubscribe@yahoogroups.com \n&gt;\n&gt;    *\n&gt;    * Your use of Yahoo! Groups is subject to the \n&gt; &lt;http://docs.yahoo.com/info/terms/&gt;Yahoo! Terms of Service.\n\r\n--=====================_183090515==.ALT\r\nContent-Type: text/html; charset=&quot;us-ascii&quot;\r\n\r\n&lt;html&gt;\n&lt;body&gt;\n&lt;font size=3&gt;hi,&lt;br&gt;&lt;br&gt;\nsorry for the delayed response.&lt;br&gt;&lt;br&gt;\nAt 06:56 PM 3/15/2005, you wrote:&lt;br&gt;\n&lt;/font&gt;&lt;blockquote type=cite class=cite cite=&quot;&quot;&gt;&lt;tt&gt;Can you also check\nthe crawl.log for that same URI -- the context in&lt;br&gt;\nwhich it was discovered and success/failuyre of related URIs could&lt;br&gt;\nbe important.&lt;/tt&gt;&lt;/blockquote&gt;&lt;font size=3&gt;&lt;br&gt;\nthis URL showed up only 4 times in the crawl log: &lt;/font&gt;\n&lt;dl&gt;\n&lt;dd&gt;&lt;font size=2&gt;20050308123650612&nbsp;&nbsp;\n404&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 204\n&lt;a href=&quot;http://216.219.253.36/robots.txt&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/robots.txt&lt;/a&gt; RP\n&lt;a href=&quot;http://216.219.253.36/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/&lt;/a&gt; text/html #017 127\nZ6EQWZKH5VW7CVKN7PZ6FISLVU7EKQFC - \n&lt;dd&gt;20050308123918472&nbsp;&nbsp;\n200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 324\n&lt;a href=&quot;http://216.219.253.36/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/&lt;/a&gt; R\n&lt;a href=&quot;http://www.salcomachine.com/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.salcomachine.com/&lt;/a&gt; text/html #055 161\nEOZL2LKTNKI2FNKSYJ2ZOUQ54ZDE7WOU 2t \n&lt;dd&gt;20050312212106979&nbsp;&nbsp;\n404&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 204\n&lt;a href=&quot;http://216.219.253.36/robots.txt&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/robots.txt&lt;/a&gt; P\n&lt;a href=&quot;http://216.219.253.36/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/&lt;/a&gt; text/html #051 625\nZ6EQWZKH5VW7CVKN7PZ6FISLVU7EKQFC - \n&lt;dd&gt;20050312212126406&nbsp;&nbsp;\n200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 324\n&lt;a href=&quot;http://216.219.253.36/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/&lt;/a&gt; - - text/html #072 726\nEOZL2LKTNKI2FNKSYJ2ZOUQ54ZDE7WOU 2t&lt;/font&gt;&lt;font size=3&gt; \n&lt;/dl&gt;I did a reverse DNS lookup and found the corresponding DNS name -\nnuki.valueweb.net - but no URI in the crawl.log contains that DNS\nname.&nbsp; And given that there was no F+ for\n&lt;a href=&quot;http://216.219.253.36/%A0&quot; eudora=&quot;autourl&quot;&gt;\nhttp://216.219.253.36/ &lt;/a&gt; prior to its first occurance in the log, I&#39;m\nat a loss to explain where that URI came from.&lt;br&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;/font&gt;&lt;blockquote type=cite class=cite cite=&quot;&quot;&gt;&lt;tt&gt;I&#39;m inclined to think\nit a problem in the frontier you&#39;re using;&lt;br&gt;\n(or its superclasses), some path that lets a URI be added without\nthe&lt;br&gt;\nproper Recovery logging.&lt;/tt&gt;&lt;/blockquote&gt;&lt;font size=3&gt;&lt;br&gt;\ncould be - I was using the RobegerFrontier (in v1.2.0), which has since\nbeen merged into DomainSensitiveFrontier in the HEAD, which I am now\nusing.&nbsp; We could just wait to see if the problem recurs now that I&#39;m\non the latest release.m&lt;br&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;/font&gt;&lt;blockquote type=cite class=cite cite=&quot;&quot;&gt;&lt;tt&gt;Have you ever seen it\nwith a non-IP address URI? (I don&#39;t think that&#39;s&lt;br&gt;\na factor, but if it&#39;s only shown up with IP address URIs, it must\nbe.)&lt;/tt&gt;&lt;/blockquote&gt;&lt;font size=3&gt;&lt;br&gt;\nI hadn&#39;t been able to see this before because my code RecoveryLogMapper\ncode gives up (throws and exception) the first time it sees this\ncondition -- I modified it to just print out the problem and keep\ngoing.&nbsp; Turns out there are lots of cases where this condition\nhappens, and not just with IP addressed URIs (the IP addressed URI just\nhappened to be the first one in my case).&nbsp; Here&#39;s the first few\nlines of another domain where this situation occurs:&lt;/font&gt;\n&lt;dl&gt;\n&lt;dd&gt;&lt;font size=2&gt;Fe\n&lt;a href=&quot;http://www.arvadarentalls.com/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/&lt;/a&gt;\n&lt;dd&gt;F+ dns:www.arvadarentalls.com P\n&lt;a href=&quot;http://www.arvadarentalls.com/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/&lt;/a&gt;\n&lt;dd&gt;F+\n&lt;a href=&quot;http://www.arvadarentalls.com/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/&lt;/a&gt;\n&lt;dd&gt;Fe dns:www.arvadarentalls.com\n&lt;dd&gt;Fs dns:www.arvadarentalls.com\n&lt;dd&gt;Fe\n&lt;a href=&quot;http://www.arvadarentalls.com/home.asp&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/home.asp&lt;/a&gt;\n&lt;dd&gt;F+\n&lt;a href=&quot;http://www.arvadarentalls.com/robots.txt&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/robots.txt&lt;/a&gt; P\n&lt;a href=&quot;http://www.arvadarentalls.com/home.asp&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/home.asp&lt;/a&gt;\n&lt;dd&gt;F+\n&lt;a href=&quot;http://www.arvadarentalls.com/home.asp&quot; eudora=&quot;autourl&quot;&gt;\nhttp://www.arvadarentalls.com/home.asp&lt;br&gt;&lt;br&gt;&lt;/a&gt;&lt;/font&gt;\n&lt;/dl&gt;I have some code that walks thru the crawl log looking for -6000\nerror codes (to find the URLs that were dropped because we exceeded the\nmaxdocs count) and then uses the RecoveryLogMapper to find the seed from\nwhich that URL was discovered (so I can construct a list of seeds that\nwere not completely crawled).&nbsp; If you like I can send this code to\nyou - I suspect if you run it against a crawl.log and recover.gz from any\nrecently run fairly large crawl with a maxdocs limit set (in the HSF)\nyou&#39;ll be able to reproduce the problem.&lt;br&gt;&lt;br&gt;\nthanks&lt;br&gt;\n&nbsp;- Mike&lt;br&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;blockquote type=cite class=cite cite=&quot;&quot;&gt;&lt;tt&gt;- Gordon @ IA&lt;br&gt;&lt;br&gt;\nMike Schwartz wrote:&lt;br&gt;\n&gt; hi Gordon,&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; it only seems to happen pretty occasionally, on moderately large\ncrawls &lt;br&gt;\n&gt; (3000 seed URLs, max-docs set to 100 per seed (in the\nRobegerFrontier).&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; here&#39;s an example excerpt from recover.gz:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;\n&gt; % gunzip &lt; recover.gz | fgrep\n&lt;a href=&quot;http://216.219.253.36&quot;&gt;http://216.219.253.36&lt;/a&gt;&lt;br&gt;\n&gt; Fe &lt;a href=&quot;http://216.219.253.36/&quot;&gt;http://216.219.253.36/&lt;/a&gt;&lt;br&gt;\n&gt; F+\n&lt;a href=&quot;http://216.219.253.36/robots.txt&quot;&gt;\nhttp://216.219.253.36/robots.txt&lt;/a&gt; P\n&lt;a href=&quot;http://216.219.253.36/&quot;&gt;http://216.219.253.36/&lt;/a&gt;&lt;br&gt;\n&gt; F+ &lt;a href=&quot;http://216.219.253.36/&quot;&gt;http://216.219.253.36/&lt;/a&gt;&lt;br&gt;\n&gt; Fe\n&lt;a href=&quot;http://216.219.253.36/robots.txt&quot;&gt;\nhttp://216.219.253.36/robots.txt&lt;/a&gt;&lt;br&gt;\n&gt; Fs\n&lt;a href=&quot;http://216.219.253.36/robots.txt&quot;&gt;\nhttp://216.219.253.36/robots.txt&lt;/a&gt;&lt;br&gt;\n&gt; Fe &lt;a href=&quot;http://216.219.253.36/&quot;&gt;http://216.219.253.36/&lt;/a&gt;&lt;br&gt;\n&gt; Fs &lt;a href=&quot;http://216.219.253.36/&quot;&gt;http://216.219.253.36/&lt;/a&gt;&lt;br&gt;\n&gt; ...&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; None of the seed URLs I input contained IP addresses (they were all\n&lt;br&gt;\n&gt; domain names), so it seems maybe suspicious that this problem popped\nup &lt;br&gt;\n&gt; with an IP address.&nbsp; I&#39;m wondering if somehow the IP address\nwas emitted &lt;br&gt;\n&gt; from an earlier discvoery of a DNS-name-containing URL, and somehow\nit &lt;br&gt;\n&gt; got translated into an IP address-containing URL in the recover\nlog.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; thanks,&lt;br&gt;\n&gt;&nbsp; - Mike&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; At 07:44 PM 3/14/2005, you wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&gt;&gt; Mike Schwartz wrote:&lt;br&gt;\n&gt;&gt; &gt; hi,&lt;br&gt;\n&gt;&gt; &gt;&lt;br&gt;\n&gt;&gt; &gt; I notice the recover.gz file occasionally has entries in an\nFe line &lt;br&gt;\n&gt;&gt; without&lt;br&gt;\n&gt;&gt; &gt; any predecessor F+ line.&nbsp; I had thought there would\nalways be an F+ &lt;br&gt;\n&gt;&gt; line&lt;br&gt;\n&gt;&gt; &gt; for any URL before it would show up in an Fe line --\nbasically, you&lt;br&gt;\n&gt;&gt; &gt; discover and add a URL to the frontier before you ever\nemit/crawl &lt;br&gt;\n&gt;&gt; it.&nbsp; Am I&lt;br&gt;\n&gt;&gt; &gt; misunderstanding this?&lt;br&gt;\n&gt;&gt; &gt;&lt;br&gt;\n&gt;&gt; &gt; I ask because the RecoveryLogMapper class I contributed\nrecently &lt;br&gt;\n&gt;&gt; makes the&lt;br&gt;\n&gt;&gt; &gt; assumption noted above, so when it gets an Fe without a\npredecessory F+&lt;br&gt;\n&gt;&gt; &gt; line it throws an Exception to indicate that situation\nwasn&#39;t &lt;br&gt;\n&gt;&gt; expeceted.&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Hi, Mike.&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Your assumption was correct: there should always be an &#39;F+&#39; (add\nto &lt;br&gt;\n&gt;&gt; Frontier)&lt;br&gt;\n&gt;&gt; before an &#39;Fe&#39; (emit for crawl-try).&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Can you easily reproduce the case where there is an &#39;Fe&#39; with no\n&lt;br&gt;\n&gt;&gt; preceding&lt;br&gt;\n&gt;&gt; &#39;F+&#39;, or is it a rare occurence in large/long crawls?&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Can you excerpt out all the recovery-log lines pertaining the\nthe URI in&lt;br&gt;\n&gt;&gt; question, as well as any crawl.log lines for the same URI, to\nsee if&lt;br&gt;\n&gt;&gt; that sheds any light on what&#39;s happening?&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; - Gordon @ IA&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; Yahoo! Groups Sponsor&lt;br&gt;\n&gt;&gt; ADVERTISEMENT&lt;br&gt;\n&gt;&gt;\n&lt;&lt;a href=&quot;http://us.ard.yahoo.com/SIG=129hiuoi7/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1110941065/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&quot;&gt;\nhttp://us.ard.yahoo.com/SIG=129hiuoi7/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1110941065/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&lt;/a&gt;\n&gt; &lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; click here&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt; ----------&lt;br&gt;\n&gt;&gt; Yahoo! Groups Links&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; * To visit your group on the web, go to:&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; * &lt;br&gt;\n&gt;&gt;\n&lt;&lt;a href=&quot;http://groups.yahoo.com/group/archive-crawler/&quot;&gt;\nhttp://groups.yahoo.com/group/archive-crawler/&lt;/a&gt;\n&gt;&lt;a href=&quot;http://groups.yahoo.com/group/archive-crawler/&quot; eudora=&quot;autourl&quot;&gt;\nhttp://groups.yahoo.com/group/archive-crawler/&lt;/a&gt; &lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; *&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; * To unsubscribe from this group, send an\nemail to:&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; * &lt;br&gt;\n&gt;&gt;\n&lt;&lt;a href=&quot;mailto:archive-crawler-unsubscribe@yahoogroups.com%3Fsubject=Unsubscribe&quot; eudora=&quot;autourl&quot;&gt;\nmailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&lt;/a&gt;\n&gt;archive-crawler-unsubscribe@yahoogroups.com &lt;br&gt;\n&gt;&gt;&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; *&lt;br&gt;\n&gt;&gt;&nbsp;&nbsp;&nbsp; * Your use of Yahoo! Groups is subject to the\n&lt;br&gt;\n&gt;&gt;\n&lt;&lt;a href=&quot;http://docs.yahoo.com/info/terms/&quot;&gt;\nhttp://docs.yahoo.com/info/terms/&lt;/a&gt;&gt;Yahoo! Terms of Service.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; &lt;br&gt;&lt;br&gt;\n&lt;/tt&gt;&lt;font size=3&gt;&lt;br&gt;\n&lt;/font&gt;&lt;font size=2 color=&quot;#003399&quot;&gt;&lt;b&gt;Yahoo! Groups\nSponsor&lt;/b&gt;&lt;/font&gt;&lt;font size=3&gt; &lt;br&gt;\n&lt;/font&gt;&lt;font face=&quot;arial&quot; size=1&gt;ADVERTISEMENT&lt;/font&gt;&lt;font size=3&gt;&lt;br&gt;\n&lt;a href=&quot;http://us.ard.yahoo.com/SIG=129ucfrc2/M=298184.6018725.7038619.3001176/D=groups/S=1705004924:HM/EXP=1111024599/A=2593423/R=0/SIG=11el9gslf/*http://www.netflix.com/Default?mqso=60190075&quot;&gt;\n&lt;img src=&quot;http://us.a1.yimg.com/us.yimg.com/a/ne/netflix/22305_0205_016_b_300250_a.gif&quot; width=300 height=250 alt=&quot;click here&quot;&gt;\n&lt;/a&gt;&lt;br&gt;&lt;br&gt;\n&lt;hr&gt;\n&lt;/font&gt;&lt;tt&gt;Yahoo! Groups Links \n&lt;ul&gt;\n&lt;li&gt;To visit your group on the web, go to: \n&lt;li&gt;&lt;a href=&quot;http://groups.yahoo.com/group/archive-crawler/&quot;&gt;\nhttp://groups.yahoo.com/group/archive-crawler/&lt;/a&gt; \n&lt;li&gt;&nbsp; \n&lt;li&gt;To unsubscribe from this group, send an email to: \n&lt;li&gt;\n&lt;a href=&quot;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&quot;&gt;\narchive-crawler-unsubscribe@yahoogroups.com&lt;/a&gt; \n&lt;li&gt;&nbsp; \n&lt;li&gt;Your use of Yahoo! Groups is subject to the\n&lt;a href=&quot;http://docs.yahoo.com/info/terms/&quot;&gt;Yahoo! Terms of Service&lt;/a&gt;. \n&lt;/ul&gt;&lt;/blockquote&gt;&lt;/body&gt;\n&lt;/html&gt;\n\r\n--=====================_183090515==.ALT--\r\n\n"}}