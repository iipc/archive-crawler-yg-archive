{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":363624086,"authorName":"Ko, Lauren","from":"&quot;Ko, Lauren&quot; &lt;lauren.ko@...&gt;","profile":"laurendko","replyTo":"LIST","senderId":"RdtILBDqHKFwTO_Yofdy0TOD1AwOximbouZMoR9nSlCj5hHyEAsNDyeRvnERMa7ar5BXYWViFKI6_N-82rAaZw-kl3jofbQ","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Reading warc and warc.gz files","postDate":"1248794171","msgId":5948,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDc0NTdFQzY0RDFBMzY1NEQ4NjAxMzNFNUExRDIyMTMwM0ExRDBCNkI0QUBHQUJNQjAzLmFkLnVudC5lZHU+","inReplyToHeader":"PGg0bTdpOCtobjcwQGVHcm91cHMuY29tPg==","referencesHeader":"PGg0bTdpOCtobjcwQGVHcm91cHMuY29tPg=="},"prevInTopic":5947,"nextInTopic":5949,"prevInTime":5947,"nextInTime":5949,"topicId":5947,"numMessagesInTopic":4,"msgSnippet":"I think the issue you are having is arising because compressed warcs are actually created by concatenating compressed warc records. When you download the warc","rawEmail":"Return-Path: &lt;Lauren.Ko@...&gt;\r\nX-Sender: Lauren.Ko@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 84318 invoked from network); 28 Jul 2009 15:16:55 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m5.grp.sp2.yahoo.com with QMQP; 28 Jul 2009 15:16:55 -0000\r\nX-Received: from unknown (HELO mailhost.unt.edu) (129.120.188.67)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Jul 2009 15:16:54 -0000\r\nX-SBRS: 2.9\r\nX-Policy: INTERNAL_RELAY-$RELAY\r\nX-ExtLoopCount1: 1\r\nX-IronPort-Anti-Spam-Filtered: true\r\nX-IronPort-Anti-Spam-Result: AgwEAIezbkqBeNE4gWdsb2JhbACPG4ptAQEWJEWqfBGGaYhPgieBZQU\r\nX-IronPort-AV: E=Sophos;i=&quot;4.43,283,1246856400&quot;; \n   d=&quot;scan&#39;208&quot;;a=&quot;127731796&quot;\r\nX-Received: from gabhub02.ad.unt.edu ([129.120.209.56])\n  by mailhost.unt.edu with ESMTP/TLS/RC4-MD5; 28 Jul 2009 10:16:12 -0500\r\nX-Received: from GABMB03.ad.unt.edu ([129.120.209.62]) by GABHUB02.ad.unt.edu\n ([129.120.209.56]) with mapi; Tue, 28 Jul 2009 10:16:11 -0500\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nDate: Tue, 28 Jul 2009 10:16:11 -0500\r\nThread-Topic: [archive-crawler] Reading warc and warc.gz files\r\nThread-Index: AcoPkh8Ut85Mxp+XQWOJaNq0WdyHfAAAu4XW\r\nMessage-ID: &lt;7457EC64D1A3654D860133E5A1D221303A1D0B6B4A@...&gt;\r\nReferences: &lt;h4m7i8+hn70@...&gt;\r\nIn-Reply-To: &lt;h4m7i8+hn70@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nacceptlanguage: en-US\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nMIME-Version: 1.0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Ko, Lauren&quot; &lt;lauren.ko@...&gt;\r\nSubject: RE: [archive-crawler] Reading warc and warc.gz files\r\nX-Yahoo-Group-Post: member; u=363624086; y=1ag-EailYS5xVWs9Svv5ple1qCsRD0yuWlcaKSfYePUuTase\r\nX-Yahoo-Profile: laurendko\r\n\r\nI think the issue you are having is arising because compressed warcs are ac=\r\ntually created by concatenating compressed warc records. When you download =\r\nthe warc from archive.org and test it against your code, each record is com=\r\npressed to specification so it works. When you uncompress it then manually =\r\nrecompress the entire file yourself, each record is no longer individually =\r\ncompressed so it is failing. \n\nLauren Ko\nDigital Projects Unit\nUniversity o=\r\nf North Texas Libraries\n________________________________________\nFrom: arch=\r\nive-crawler@yahoogroups.com [archive-crawler@yahoogroups.com] On Behalf Of =\r\nsykushel [shaulk@...]\nSent: Tuesday, July 28, 2009 1:58 AM\nTo: a=\r\nrchive-crawler@yahoogroups.com\nSubject: [archive-crawler] Reading warc and =\r\nwarc.gz files\n\nI am using the following code to read both warc and warc.gz =\r\nfiles.\n\n                               warcReader =3D WARCReaderFactory.get=\r\n(new File(warcPath));\n\n            Iterator&lt;ArchiveRecord&gt; it =3D warcReade=\r\nr.iterator();\n            int counter=3D0;\n            while (it.hasNext())=\r\n {\n\n                ArchiveRecord record =3D it.next();\n                cou=\r\nnter++;\n            }\n            System.out.println(&quot;Num of records in fil=\r\ne is: &quot;+counter);\n\nI tested this with the file downloaded from http://www.a=\r\nrchive.org/details/ExampleArcAndWarcFiles and it worked fine, I the decompr=\r\nessed the file and again it worked OK, but if I compress the decompressed f=\r\nile, it will not manage to read more then 1 record.\nThe issue I have with w=\r\narc file that I created myself.\nI have arc files that I created using the c=\r\nrawler, and then converted them to warc using the Arc2Warc().transform call=\r\n.\nThe code works fine for the regular warc files, but if I compress them to=\r\n warc.gz, it will never pass the first record.\n\nAny idea?\n\n\n\n"}}