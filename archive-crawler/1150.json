{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"WM_bwXC93yViP5w-ob56kmCbi1z0unAIs9t_pAntLTjmMzAGs4gz_nvJUvQiIv5dZ-DeZnueTigAj0og2dNXfg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Why not limit crawls to HTML by setting Accept field","postDate":"1100050345","msgId":1150,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQxOTE2RkE5LjkwODA3MDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGNtcnFocis0dnNiQGVHcm91cHMuY29tPg==","referencesHeader":"PGNtcnFocis0dnNiQGVHcm91cHMuY29tPg=="},"prevInTopic":1149,"nextInTopic":1151,"prevInTime":1149,"nextInTime":1151,"topicId":1146,"numMessagesInTopic":6,"msgSnippet":"... Here s a note on midfetch filter from user manual: Its also possible to add in filters that are checked after the download of the HTTP response headers","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 70411 invoked from network); 10 Nov 2004 01:39:08 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m22.grp.scd.yahoo.com with QMQP; 10 Nov 2004 01:39:08 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta6.grp.scd.yahoo.com with SMTP; 10 Nov 2004 01:39:08 -0000\r\nReceived: (qmail 3235 invoked by uid 100); 10 Nov 2004 01:26:46 -0000\r\nReceived: from debord.archive.org (HELO ?207.241.238.140?) (stack@...@207.241.238.140)\n  by mail-dev.archive.org with SMTP; 10 Nov 2004 01:26:46 -0000\r\nMessage-ID: &lt;41916FA9.9080709@...&gt;\r\nDate: Tue, 09 Nov 2004 17:32:25 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.2) Gecko/20040820 Debian/1.7.2-4\r\nX-Accept-Language: en-us\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;cmrqhr+4vsb@...&gt;\r\nIn-Reply-To: &lt;cmrqhr+4vsb@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.7 required=6.5 tests=AWL,CLICK_BELOW autolearn=no \n\tversion=2.63\r\nX-eGroups-Remote-IP: 207.241.224.172\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Why not limit crawls to HTML by setting\n Accept field\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nbjhong02 wrote:\n\n&gt;\n&gt; I also notice in the FAQ at the homepage of Heritrix, the answer for\n&gt; the common problem 5, &quot;..., or, if you want to instead look at\n&gt; document mimetypes, you can Add a ContentTypeRegExpFilter filter as\n&gt; a midfetch filter to the http fetcher. This filter will be checked\n&gt; after the response headers have been downloaded but before the\n&gt; response content is fetched. ...&quot;\n&gt;\n&gt; I wonder how to do this.\n&gt; use a HEAD request before the GET, or get the content-type and match\n&gt; with the filter after this.http.excuteMethod(method) and before\n&gt; rec.getRecordedInput().readFullyOrUtil(..);\n\nHere&#39;s a note on midfetch filter from user manual: &quot;Its also possible to \nadd in filters that are checked after the download of the HTTP response \nheaders but before the response content is read. Use midfetch-filters to \nabort the download of content-types other than those wanted (Aborted \nfetches have an annotation midFetchAbort appended to the crawl.log \nentry). Note that unless the same filters are applied at the writer \nprocessing step, the response headers -- but not the content -- will \nshow in ARC files.&quot;\n\nSetting up a crawl, you need to browse to the filters page and add a \n*midfetch-filters* filter.  The ContentTypeRegexFilter makes most sense \nat the midfetch step; it looks at response content-type and runs the \nsupplied regex.  After adding, browse back to the settings page and add \nin a regex.\n\nGive us a shout if it gives you trouble.\nSt.Ack\n\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; *Yahoo! Groups Sponsor*\n&gt; ADVERTISEMENT\n&gt; click here \n&gt; &lt;http://us.ard.yahoo.com/SIG=129loomde/M=294855.5468653.6549235.3001176/D=groups/S=1705004924:HM/EXP=1100136258/A=2376776/R=0/SIG=11ldm1jvc/*http://promotions.yahoo.com/ydomains2004/index.html&gt; \n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}