{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":370021973,"authorName":"takeru sasaki","from":"takeru sasaki &lt;sasaki.takeru@...&gt;","replyTo":"LIST","senderId":"G7iMFCCO7oCNbsSXwnWETU-38RuN6qMN_zbx_o8wwJr37q9giSopGs_Blze3mflx2UjE7_oNFFWxreuZCydBjYT1W2T2oTF0nm1ytw2i","spamInfo":{"isSpam":false,"reason":"4"},"subject":"Re: [archive-crawler] Where I should add rules to? / Don&#39;t fetch if \tfetched in last N days.","postDate":"1236823211","msgId":5723,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGM1MDczNjZmMDkwMzExMTkwMHMyYmM0NDZlZmwxOWM4ZTA2ZjQwNGUxMjIyQG1haWwuZ21haWwuY29tPg==","inReplyToHeader":"PDQ5Qjg1MTYxLjUwNzA1MDRAYXJjaGl2ZS5vcmc+","referencesHeader":"PGM1MDczNjZmMDkwMzEwMjMyM3U1YzI2ZWI5ZW0zYzJkMWVlMjkxN2U4MmRmQG1haWwuZ21haWwuY29tPgkgPDQ5Qjg1MTYxLjUwNzA1MDRAYXJjaGl2ZS5vcmc+"},"prevInTopic":5722,"nextInTopic":5724,"prevInTime":5722,"nextInTime":5724,"topicId":5719,"numMessagesInTopic":4,"msgSnippet":"Hi, Gordon and members. ... Thank you, I will try SurtPrefixDecideRule. I want to use like: ^http://xxx.com/(news|blog) ?id=A d+$ ","rawEmail":"Return-Path: &lt;sasaki.takeru@...&gt;\r\nX-Sender: sasaki.takeru@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 51829 invoked from network); 12 Mar 2009 02:00:12 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m3.grp.sp2.yahoo.com with QMQP; 12 Mar 2009 02:00:12 -0000\r\nX-Received: from unknown (HELO wf-out-1314.google.com) (209.85.200.175)\n  by mta1.grp.re1.yahoo.com with SMTP; 12 Mar 2009 02:00:12 -0000\r\nX-Received: by wf-out-1314.google.com with SMTP id 23so308211wfg.26\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 11 Mar 2009 19:00:11 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.142.179.2 with SMTP id b2mr3435507wff.33.1236823211341; Wed, \n\t11 Mar 2009 19:00:11 -0700 (PDT)\r\nIn-Reply-To: &lt;49B85161.5070504@...&gt;\r\nReferences: &lt;c507366f0903102323u5c26eb9em3c2d1ee2917e82df@...&gt;\n\t &lt;49B85161.5070504@...&gt;\r\nDate: Thu, 12 Mar 2009 11:00:11 +0900\r\nMessage-ID: &lt;c507366f0903111900s2bc446efl19c8e06f404e1222@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nFrom: takeru sasaki &lt;sasaki.takeru@...&gt;\r\nSubject: Re: [archive-crawler] Where I should add rules to? / Don&#39;t fetch if \n\tfetched in last N days.\r\nX-Yahoo-Group-Post: member; u=370021973\r\n\r\nHi, Gordon and members.\n\n&gt; Usually, you should add rules to the &#39;scope&#39; (DecidingScope&#39;s rule chain).\n\nThank you, I will try SurtPrefixDecideRule.\n\nI want to use like:\n   ^http://xxx.com/(news|blog)&#92;?id=A&#92;d+$\n   ^http://xxx.com/blog/(2009|2010)/.+$\n\nWhat is advantage of SurtPrefixDecideRule? It is performance / lower CPU cost?\n\n\n\n&gt; The default scope already has one major SurtPrefixDecideRule for\n&gt; ruling-in (ACCEPTing) URIs based on your seeds.\n&gt;\n&gt; You could add another later in the chain to REJECT those\n\nThis case is override for &quot;xxx.com&quot; (settings/com/xxx/settings.xml).\n\nhttp://xxx.com/\nhttp://ad.xxx.com/\nhttp://login.xxx.com/\nhttp://www.xxx.com/news/top.html\nhttp://www.xxx.com/news/list.html\nhttp://www.xxx.com/news/list.html?page=2\nhttp://www.xxx.com/news/list.html?page=3\nhttp://www.xxx.com/news/news00001.html\nhttp://www.xxx.com/news/news00001.html?page=2\nhttp://www.xxx.com/news/news00002.html\nhttp://www.xxx.com/news/news00002.html?page=2\nhttp://www.xxx.com/news/news00003.html\nhttp://www.xxx.com/news/news00003.html?page=2\nhttp://www.xxx.com/news/20090310.html\nhttp://www.xxx.com/news/20090311.html\nhttp://www.xxx.com/news/20090312.html\nhttp://www.xxx.com/music/ .....\nhttp://www.xxx.com/help/ .....\nhttp://www.xxx.com/photo/ .....\nhttp://www.xxx.com/mail/ .....\n\nI want to fetch ^http://www.xxx.com/news/news&#92;d+.html.+$ urls.\n\nAdded these rules to &quot;scope&quot;\n1. NotMatchesRegExpDecideRule REJECT ^http://www.xxx.com/.+\n2. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/top.html$\n3. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/list.html.+\n4. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/news&#92;d+.html.+$\nWhen reject pattern is too many.\nREJECT-ALL and ACCEPT-SOME method is easy.\n\nIn override, I could not bring override-rules over parents(=root) rules.\nthen, too-many-hops-rules and other was not work.\nIt fetched http://www.xxx.com/news/list.html?page=99 and more and\ndiscovery-path is like\n&quot;LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.....&quot;.\n\nThen I think add these rules into &quot;Preselector#decide-rules&quot; is good idea.\n0. AcceptRule                                 default is ACCEPT\n1. NotMatchesRegExpDecideRule REJECT ^http://www.xxx.com/.+\n2. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/top.html$\n3. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/list.html.+\n4. MatchesRegExpDecideRule       ACCEPT ^http://www.xxx.com/news/news&#92;d+.html.+$\n\nIs it good idea?\nWhat is changes in &quot;Preselector#decide-rules&quot; and &quot;scope rules&quot;.\n\n\n&gt;&gt; 2. Don&#39;t fetch if the url is fetched in last 7 days.\n&gt; It could be adapted to skip fetches based on time of last fetch, but\n&gt; that is not a current feature. It would require new custom development.\n&gt; A focus of the work for later-in-2009 versions 2.2 and 2.4 is to add a\n&gt; generalized adaptive recrawling functionality.\nI understand. thank you.\n\nI think I need to write custom code with BeanShellDecideRule or create\nrecever.gz script.\nrequirement:\n - URL in seed is fetched every time.\n - I want to define every-time-fetch rules.\n - I want to define skip if fetched last N days(or hours). 2 or more rules set.\n - Block(=skip) URL which &quot;no-need-to-fetch-now&quot; at &quot;Preselector#decide-rules&quot;\n\nor, if anyone know other good solution for this, please tell me.\n\nthank you\n\ntakeru\n\n"}}