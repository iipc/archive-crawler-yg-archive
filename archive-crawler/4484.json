{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"He5g4wGZdCX4reIIV3QZ74fz5_SnXna3Ystfrp0W-R1X4w-rqsxPmlapBym5DMkR6OmWyINMkJvi05Wf9ICtHFX9ctA6D8M","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Deduplication with Heritrix 1.12","postDate":"1185920176","msgId":4484,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2QUZCNEIwLjEwOTA5MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQ2QTc0NkMyLjMwMjA3MDNAY2VzY2EuZXM+","referencesHeader":"PDQ2QTRBNzk4LjkwMjAwMDNAY2VzY2EuZXM+IDwwQUJGOEJFOC1BNDg2LTRFMUMtODVERi1ERTNDRTU3RDkzQjNAYXJjaGl2ZS5vcmc+IDw0NkE3NDZDMi4zMDIwNzAzQGNlc2NhLmVzPg=="},"prevInTopic":4457,"nextInTopic":4632,"prevInTime":4483,"nextInTime":4485,"topicId":4453,"numMessagesInTopic":6,"msgSnippet":"I m not sure what would have caused your errors; I would look in heritrix_out.log to see if there are any other errors suggestive of a broader problem. (In","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 30762 invoked from network); 31 Jul 2007 22:15:47 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m51.grp.scd.yahoo.com with QMQP; 31 Jul 2007 22:15:47 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta8.grp.scd.yahoo.com with SMTP; 31 Jul 2007 22:15:47 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 4A23814156544\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 31 Jul 2007 15:15:13 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 03360-08-100 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 31 Jul 2007 15:15:12 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id 4E4DC1415650F\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 31 Jul 2007 15:15:12 -0700 (PDT)\r\nMessage-ID: &lt;46AFB4B0.1090905@...&gt;\r\nDate: Tue, 31 Jul 2007 15:16:16 -0700\r\nUser-Agent: Thunderbird 1.5.0.12 (X11/20070604)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;46A4A798.9020003@...&gt; &lt;0ABF8BE8-A486-4E1C-85DF-DE3CE57D93B3@...&gt; &lt;46A746C2.3020703@...&gt;\r\nIn-Reply-To: &lt;46A746C2.3020703@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Deduplication with Heritrix 1.12\r\nX-Yahoo-Group-Post: member; u=137285340; y=kIltf2OWlbYzCoGuV3QUY9U972One338QSF0HjlbQBdg\r\nX-Yahoo-Profile: gojomo\r\n\r\nI&#39;m not sure what would have caused your errors; I would look in \nheritrix_out.log to see if there are any other errors suggestive of a \nbroader problem. (In particular, the error stacks you quote don&#39;t \nmention any deduplication-specific functionality.)\n\nGenerally, though:\n\nWhen using the 1.12 deduplication features, on the first crawl, you \nshould use only one of either the PersistLogProcessor or the \nPersistStoreProcessor.\n\nThen, on the followup crawl, you make sure its &#39;state&#39; directory is \npreloaded with information from the earlier crawl.\n\nIf you used the PersistLogProcessor, then the info from the log created \nmust be loaded into a new &#39;state&#39; directory, using the bundled \nPersistProcessor class as a command-line tool.\n\nIf you used the PersistStoreProcessor, you should be able to reuse the \n&#39;state&#39; directory from the earlier crawl directly. However, it will \ncontain extraneous information, so you may also use the PersistProcessor \nclass as a command-line tool to export the info from the old state \ndirectory into a new, minimal state directory.\n\nOn this followup crawl, you may also use the PersistLogProcessor or \nPersistStoreProcessor again to collect the info for a future repeated run.\n\nRight now the process is awkward -- with too many options and manual \nsteps -- because there isn&#39;t enough experience to recommend best \npractices. As experience is gathered, we will work to make the best \nprocesses more automatic, and achievable completely within the Web UI \nwith a minimum amount of configuration.\n\n- Gordon\n\nNatalia Torres wrote:\n&gt; Yes!! I try it creating jobs, some using PersistStoreProcess and some \n&gt; using  PersistLogStore. I use the same state directory in initial crawl \n&gt; and the second crawl.\n&gt; \n&gt; After hours crawling I get 28 altert message as\n&gt; \n&gt; com.sleepycat.util.RuntimeExceptionWrapper: (JE 3.2.23) Can&#39;t open a \n&gt; cursor Database state can&#39;t be DbState.CLOSED must be DbState.OPEN\n&gt; Cause: com.sleepycat.je.DatabaseException: (JE 3.2.23) Can&#39;t open a \n&gt; cursor Database state can&#39;t be DbState.CLOSED must be DbState.OPEN\n&gt; \tat com.sleepycat.je.Database.checkRequiredDbState(Database.java:1069)\n&gt; \tat com.sleepycat.je.Database.openCursor(Database.java:359)\n&gt; \tat \n&gt; com.sleepycat.collections.CurrentTransaction.openCursor(CurrentTransaction.java:364)\n&gt; \tat \n&gt; com.sleepycat.collections.MyRangeCursor.openCursor(MyRangeCursor.java:53)\n&gt; \tat com.sleepycat.collections.MyRangeCursor.(MyRangeCursor.java:30)\n&gt; \tat com.sleepycat.collections.DataCursor.init(DataCursor.java:171)\n&gt; \tat com.sleepycat.collections.DataCursor.(DataCursor.java:59)\n&gt; \tat com.sleepycat.collections.BlockIterator.hasNext(BlockIterator.java:299)\n&gt; \tat \n&gt; org.apache.commons.httpclient.cookie.CookieSpecBase.match(CookieSpecBase.java:607)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.addCookieRequestHeader(HttpMethodBase.java:1193)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.addRequestHeaders(HttpMethodBase.java:1327)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMethodBase.java:2056)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:1939)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1000)\n&gt; \tat \n&gt; org.archive.httpclient.HttpRecorderGetMethod.execute(HttpRecorderGetMethod.java:116)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:397)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:170)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:396)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:346)\n&gt; \tat org.archive.crawler.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:500)\n&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt; \tat \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; \n&gt; Stacktrace: com.sleepycat.util.RuntimeExceptionWrapper: (JE 3.2.23) \n&gt; Can&#39;t open a cursor Database state can&#39;t be DbState.CLOSED must be \n&gt; DbState.OPEN\n&gt; \tat \n&gt; com.sleepycat.collections.StoredContainer.convertException(StoredContainer.java:447)\n&gt; \tat com.sleepycat.collections.BlockIterator.hasNext(BlockIterator.java:380)\n&gt; \tat \n&gt; org.apache.commons.httpclient.cookie.CookieSpecBase.match(CookieSpecBase.java:607)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.addCookieRequestHeader(HttpMethodBase.java:1193)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.addRequestHeaders(HttpMethodBase.java:1327)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMethodBase.java:2056)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:1939)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1000)\n&gt; \tat \n&gt; org.archive.httpclient.HttpRecorderGetMethod.execute(HttpRecorderGetMethod.java:116)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:397)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:170)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:396)\n&gt; \tat \n&gt; org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:346)\n&gt; \tat org.archive.crawler.fetcher.FetchHTTP.innerProcess(FetchHTTP.java:500)\n&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt; \tat \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; Caused by: com.sleepycat.je.DatabaseException: (JE 3.2.23) Can&#39;t open a \n&gt; cursor Database state can&#39;t be DbState.CLOSED must be DbState.OPEN\n&gt; \tat com.sleepycat.je.Database.checkRequiredDbState(Database.java:1069)\n&gt; \tat com.sleepycat.je.Database.openCursor(Database.java:359)\n&gt; \tat \n&gt; com.sleepycat.collections.CurrentTransaction.openCursor(CurrentTransaction.java:364)\n&gt; \tat \n&gt; com.sleepycat.collections.MyRangeCursor.openCursor(MyRangeCursor.java:53)\n&gt; \tat com.sleepycat.collections.MyRangeCursor.(MyRangeCursor.java:30)\n&gt; \tat com.sleepycat.collections.DataCursor.init(DataCursor.java:171)\n&gt; \tat com.sleepycat.collections.DataCursor.(DataCursor.java:59)\n&gt; \tat com.sleepycat.collections.BlockIterator.hasNext(BlockIterator.java:299)\n&gt; \n&gt; \n&gt; N.\n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}