{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"cjGXzNnfKCRW8aZhqjZlQkwtuuTqSc6Ky3jJMMnSDT9WwzHatXiYQtNiYv2__3KVLjD6qpSirs3Yad1FDZqLAXKeWijRMYLB","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] How to replace html content after it is fetched by FetchHttp","postDate":"1404681264","msgId":8562,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBKOGFhSldIWHlOMVprKzFkNzRWQUQ3Tys9cm1NLV8reHI3dEJHS0VYS1BGUUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGxwNXQ1Nys0dHE3bDFAWWFob29Hcm91cHMuY29tPg==","referencesHeader":"PGxwNXQ1Nys0dHE3bDFAWWFob29Hcm91cHMuY29tPg=="},"prevInTopic":8561,"nextInTopic":8563,"prevInTime":8561,"nextInTime":8563,"topicId":8561,"numMessagesInTopic":4,"msgSnippet":"Hello Bruce, Heritrix is designed for archiving web pages verbatim. Anything is possible with some coding, but modifying html sounds like a bad idea to me. ...","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 91917 invoked by uid 102); 7 Jul 2014 19:49:59 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m6.grp.bf1.yahoo.com with SMTP; 7 Jul 2014 19:49:59 -0000\r\nX-Received: (qmail 23769 invoked from network); 7 Jul 2014 19:49:59 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 7 Jul 2014 19:49:59 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 0A879A6207B\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  7 Jul 2014 12:49:59 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id TMI0R3gltjvn for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon,  7 Jul 2014 12:49:58 -0700 (PDT)\r\nX-Received: from mail-ob0-f178.google.com (mail-ob0-f178.google.com [209.85.214.178])\n\tby mail.archive.org (Postfix) with ESMTPSA id CFD119C7150\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Sun,  6 Jul 2014 14:14:25 -0700 (PDT)\r\nX-Received: by mail-ob0-f178.google.com with SMTP id wn1so3719728obc.23\n        for &lt;archive-crawler@yahoogroups.com&gt;; Sun, 06 Jul 2014 14:14:24 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.57.3 with SMTP id e3mr26489971oeq.33.1404681264935; Sun,\n 06 Jul 2014 14:14:24 -0700 (PDT)\r\nX-Received: by 10.76.74.103 with HTTP; Sun, 6 Jul 2014 14:14:24 -0700 (PDT)\r\nX-Received: by 10.76.74.103 with HTTP; Sun, 6 Jul 2014 14:14:24 -0700 (PDT)\r\nIn-Reply-To: &lt;lp5t57+4tq7l1@...&gt;\r\nReferences: &lt;lp5t57+4tq7l1@...&gt;\r\nDate: Sun, 6 Jul 2014 14:14:24 -0700\r\nMessage-ID: &lt;CAA-z70J8aaJWHXyN1Zk+1d74VAD7O+=rmM-_+xr7tBGKEXKPFQ@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=089e0149495cd1b9cc04fd8cd77e\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [archive-crawler] How to replace html content after it is fetched\n by FetchHttp\r\nX-Yahoo-Group-Post: member; u=325624130; y=wWzgzcFkf3vPlbNalr6XrlY1A7jFW34N97XfYbGXLswAeg\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\n\r\n--089e0149495cd1b9cc04fd8cd77e\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHello Bruce,\n\nHeritrix is designed for archiving web pages verbatim. Anythi=\r\nng is possible\nwith some coding, but modifying html sounds like a bad idea =\r\nto me.\n\n&gt; In order to get rid of unexpected links\n\nWhat do mean by &quot;get rid=\r\n of&quot; exactly? Do you mean &quot;not crawl&quot;? If so,\nyou&#39;ll probably want to edit =\r\nyour scope rules to exclude the unwanted urls.\n\nNoah\n\nOn Jul 4, 2014 2:46 A=\r\nM, &quot;hpdgy@... [archive-crawler]&quot; &lt;\narchive-crawler@yahoogroups.com&gt; w=\r\nrote:\n&gt;\n&gt;\n&gt;\n&gt; Hi\n&gt;\n&gt;\n&gt; In order to get rid of unexpected links, I want to u=\r\nse JSoup to filter\nthe html content and then store the result to CrawlURI. =\r\nThus ExtractorHtml\netc. will extract links based on the filtered content.\n&gt;=\r\n\n&gt;\n&gt; Unfortunately I&#39;m not able to locate where exactly the html content is=\r\n\nfetched and has not been filled into CrawlURI. Besides, I don&#39;t konw how t=\r\no\nreplace the html content stored in CrawlURI(Seems related to\nRecordingInp=\r\nutStream in Recorder).\n&gt;\n&gt;\n&gt; Any Suggestion is appreciated.\n&gt;\n&gt;\n&gt;\n&gt; Regards=\r\n\n&gt;\n&gt; Bruce\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\r\n--089e0149495cd1b9cc04fd8cd77e\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;p dir=3D&quot;ltr&quot;&gt;Hello Bruce,&lt;/p&gt;\n&lt;p dir=3D&quot;ltr&quot;&gt;Heritrix is designed for arc=\r\nhiving web pages verbatim. Anything is possible with some coding, but modif=\r\nying html sounds like a bad idea to me.&lt;/p&gt;\n&lt;p dir=3D&quot;ltr&quot;&gt;&gt; In order to=\r\n get rid of unexpected links&lt;/p&gt;\n&lt;p dir=3D&quot;ltr&quot;&gt;What do mean by &quot;get r=\r\nid of&quot; exactly? Do you mean &quot;not crawl&quot;? If so, you&#39;ll p=\r\nrobably want to edit your scope rules to exclude the unwanted urls.&lt;/p&gt;\n&lt;p =\r\ndir=3D&quot;ltr&quot;&gt;Noah&lt;br&gt;&lt;/p&gt;\n&lt;p dir=3D&quot;ltr&quot;&gt;On Jul 4, 2014 2:46 AM, &quot;&lt;a hr=\r\nef=3D&quot;mailto:hpdgy@...&quot;&gt;hpdgy@...&lt;/a&gt; [archive-crawler]&quot; &=\r\nlt;&lt;a href=3D&quot;mailto:archive-crawler@yahoogroups.com&quot;&gt;archive-crawler@yahoo=\r\ngroups.com&lt;/a&gt;&gt; wrote:&lt;br&gt;\n\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Hi&lt;br&gt;\n&gt;&lt;=\r\nbr&gt;\n&gt;&lt;br&gt;\n&gt; In order to get rid of unexpected links, I want to use JS=\r\noup to filter the html content and then store the result to CrawlURI. Thus =\r\nExtractorHtml etc. will extract links based on the filtered content.&lt;br&gt;\n&g=\r\nt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Unfortunately I&#39;m not able to locate where exactly=\r\n the html content is fetched and has not been filled into CrawlURI. Besides=\r\n, I don&#39;t konw how to replace the html content stored in CrawlURI(Seems=\r\n related to RecordingInputStream in Recorder).=C2=A0&lt;br&gt;\n\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;=\r\n\n&gt; Any Suggestion is appreciated.&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Re=\r\ngards&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; Bruce&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt;&lt;br&gt;\n&gt; =\r\n&lt;/p&gt;\n\r\n--089e0149495cd1b9cc04fd8cd77e--\r\n\n"}}