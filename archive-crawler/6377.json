{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"cHQu4Kp_CoyqhTRPOpZgq989OnPTFKmx6LM2jyVa9ljIogLZTkbjaq4ODxz-x-jL7IOeEeyqaniAkPl67kzK2vNZ6tckFQs","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Budget & reporting on exhausted and retired queues","postDate":"1265402300","msgId":6377,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRCNkM4MUJDLjMwMjA2MDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDE1Y2VlYWI1MTAwMjA1MDMyMHE0MTA0ZmQxNm1iZTVmNWE2NTY0YTZjOTNjQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PDE1Y2VlYWI1MTAwMjA1MDMyMHE0MTA0ZmQxNm1iZTVmNWE2NTY0YTZjOTNjQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":6376,"nextInTopic":0,"prevInTime":6376,"nextInTime":6378,"topicId":6376,"numMessagesInTopic":2,"msgSnippet":"... It appears you re using H1. Yes, queues with zero currentSize in the all report are empty (aka exhausted ). Queues with totalSpend/totalBudget with","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 31061 invoked from network); 5 Feb 2010 20:38:35 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m3.grp.sp2.yahoo.com with QMQP; 5 Feb 2010 20:38:35 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta3.grp.re1.yahoo.com with SMTP; 5 Feb 2010 20:38:35 -0000\r\nX-Received: (qmail 93907 invoked from network); 5 Feb 2010 20:38:21 -0000\r\nX-Received: from 70.137.148.203 (HELO ?192.168.23.128?) (70.137.148.203)\n  by relay02.pair.com with SMTP; 5 Feb 2010 20:38:21 -0000\r\nX-pair-Authenticated: 70.137.148.203\r\nMessage-ID: &lt;4B6C81BC.3020600@...&gt;\r\nDate: Fri, 05 Feb 2010 12:38:20 -0800\r\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;15ceeab51002050320q4104fd16mbe5f5a6564a6c93c@...&gt;\r\nIn-Reply-To: &lt;15ceeab51002050320q4104fd16mbe5f5a6564a6c93c@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Budget & reporting on exhausted and retired\n queues\r\nX-Yahoo-Group-Post: member; u=137285340; y=1SC-wvSsXjZlAKapz3RUV1VAhZcDAUts2LNweJlY8z5a\r\nX-Yahoo-Profile: gojomo\r\n\r\nNicolas Giraud wrote:\n&gt; Hi,\n&gt; \n&gt; I have browsed the code in WorkQueueFrontier, and had a look at the JMX \n&gt; service method frontierReport. I would like to know how I could obtain a \n&gt; report containing exhausted and retired queues (I am especially \n&gt; interested in knowing how much they costed). My BdbFrontier is \n&gt; configured as follows :\n&gt; \n&gt; queue-total-budget = -1\n&gt; error-penalty-amount = 1\n&gt; balance-replenish-amount = 1\n&gt; cost-policy = org.archive.crawler.frontier.ZeroCostAssignmentPolicy\n&gt; \n&gt; Is this information is present in the &quot;all&quot; report? Maybe queues with a \n&gt; zero size ?\n\nIt appears you&#39;re using H1.\n\nYes, queues with zero &#39;currentSize&#39; in the &#39;all&#39; report are empty (aka \n&#39;exhausted&#39;).\n\nQueues with &#39;totalSpend/totalBudget&#39; with the spend larger than the \nbudget can be considered &#39;retired&#39; (they&#39;re kept out of eligible rotation).\n\nNote that with ZeroCostAssignmentPolicy, trying URIs does not deduct \nanything from the running budgets -- so most of these numbers/features \nare then inoperative. You&#39;d need at least a UnitCostAssignmentPolicy in \nplace.\n\n(You many already know this, but undocumented feature of H1 is that you \ncan append a &quot;?name=all&quot; query-string to the frontier-report jsp page to \nget the all format. Also, because it&#39;s often larger than is convenient \nto view in a browser, you can further append &quot;&dumpFile=frontier.rpt&quot; to \ncause the report to be dumped to a file on the crawler machines instead.)\n\n&gt; I am using the quota enforcer to set a budget for queues : we use \n&gt; group-max-fetch-successes, and might also set a value for \n&gt; group-max-success-kb.\n&gt; \n&gt; I have also noticed that the crawl fails if I set error-penalty-amount \n&gt; and balance-replenish-amount to zero. Why ?\n\nHmm, I don&#39;t think a zero &#39;error-penalty-amount&#39; would be fatal, but if \n&#39;balance-replenish-amount&#39; is zero, then queues never have any &#39;budget&#39; \nwhich makes them eligible for active rotation. By starting at zero, they \nbegin in the &#39;inactive&#39; grouping; when they reach the point where they&#39;d \nbe active, they are granted a zero replenishment, so they&#39;re immediately \ninactive again. The replenish amount, at least, needs to be positive in \norder for a queue to ever be active.\n\n- Gordon @ IA\n\n"}}