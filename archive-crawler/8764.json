{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"YmxWOPxk2SyvWyRSJeZlCdXWSqlMkjvBIWZqy6GRyZSQjwZiq11P4IHsSieLwReYYgQ6_HvoOuWpi8pKuxaGh8PuWgXwT34","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Analysing 60TB of H3 state after 32TB of crawled data","postDate":"1444803020","msgId":8764,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDU2MURGMUNDLjcwNTA1MDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PG12ajd2OCticWV0ZW5AWWFob29Hcm91cHMuY29tPg==","referencesHeader":"PG12ajd2OCticWV0ZW5AWWFob29Hcm91cHMuY29tPg=="},"prevInTopic":8762,"nextInTopic":8767,"prevInTime":8763,"nextInTime":8765,"topicId":8761,"numMessagesInTopic":5,"msgSnippet":"Note if you ve set BdbModule.useHardLinkCheckpoints to false, obsolete log files of the environment will never be deleted, only renamed to end .DEL –","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 19100 invoked by uid 102); 14 Oct 2015 06:10:22 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m10.grp.bf1.yahoo.com with SMTP; 14 Oct 2015 06:10:22 -0000\r\nX-Received: (qmail 3012 invoked from network); 14 Oct 2015 06:10:22 -0000\r\nX-Received: from unknown (HELO mta1003.groups.mail.bf1.yahoo.com) (98.139.170.167)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 14 Oct 2015 06:10:22 -0000\r\nX-Original-Return-Path: &lt;gojomo@...&gt;\r\nX-Received-SPF: softfail (transitioning domain of archive.org does not designate 209.68.5.15 as permitted sender)\r\nX-YMailISG: q24w6xsWLDsdlLxfOraR7vhClw32IFYFym4Vrf6rKjJHC094\n f4CMzb2AToW8cUXVFbL9Hs_PtEd1FXgwuHMBrlsvg.7xCsB7j.oqFUbNC3OQ\n J4KWtGMZiQpibckncLw84xjYyFkWAHpEoeYMthBVN1DFOcprGvlu_r8c4yMg\n HM_Iq75CqbOwxZCJNciflX7hm3rJMzR2qVeQOCPHxUmyEj.dH6c0aQVPH44S\n MtMhvgsrKiAB80.29X82ercJE94nmhA38M2AzLv8V6ef8cvBzEnpGimiQLdO\n r1REE0kxS2aAjN79i7DoTGxL17UIL_ejhpSc0CjowAaTlF1s9EKcuofuqTUB\n UcJ6xszYDzfYMX3R_awGDQaugtxksrqw9Iie0mGxkJFm2E3EFS8mFlRkdGGO\n fTf5h7rUigHHagzjYuzGL27GmuOWhCjajbRUlLpSmL.r3gtLKQ_JnRsxogew\n OIqmmj0Wuq54kU33ghhh2yXuJU1aiCH7.FuoMgDljoLL0h43xyboSeLA2wpI\n vl2AtFoX_WadMag55EwZcec6QcXyaDAuLxivEgAMJBYdpitFezAF3rapOiXj\n P2mAhfwc_GLHkpv0VPqX4VJ5Bkfi.QTXz1eiuWuTCMwx2SWs.oPz5soQrH_C\n 7jQpioIwnYaq08Gok2rxPLEc_9pOx8Q8xjBbWrytMXS1BFtpJsJ8CHvF6pad\n zIoe4x292_rQGAB3x3h72u0286OwzoLECeUU_1mHqn1vmJ_WgBdNfP2euqrs\n s_2C60b4NRTA_9nM0ZHbTt7vB2sMuNozSRehjpjrrsL.EgQjfDfGvMiUQZfM\n aGIV7fRJ1P5mjAtZ6Ah6cow5_9LVCkr9rbLPFWzo08ZBGi97md9c5i9EjDdC\n id7Vql_abBiwF3vPAGxJfZiigPjUJ5587_xqatlUJZ86cSf0TvHaDFHWNRV9\n rnrOYtRFC8nw10n9vSJxA2WCyj_PMgAaNkfP1XFf_Mh0FSvtwwyfs36ZU4J.\n b.N7zMpOPRtVICZqN3IC5vMLgjctRB5XFufhmxd8G6jrSp2g.oYBV61V3xWZ\n gFX8A6Z5P0SKY4xFJA1_6JnDqYm3d9UBj8ztzypVvVM8Xzny94zuEC19oW5.\n _AlMdV.zqTf0UCOwYrF2g5k6D7.OWqTO.oD3UldJn6rW.Bop.ELdKbZfTwP2\n pSHAGAq.GSNPb8vm8vEzFOTjBlXpz1IiZaa.ZcFpepRImvNQtAcpIlAsp.Sy\n _ArdOrIbnCUm6VpWkuavJjD1Kh8n2TYzry.4WQmOwp_BX.YxgaDQFuBNnfPI\n t00mu_GA_QuXYATwcpp6jtogAMWKzvoBgfZoSgrjrNzZmZgC31Jq4sjW4rDT\n GM2LfopLXiqoK8aHBowhkwAwqInCbXAY7SOsyWxPYZHf_G6XrvoqHYOldXCi\n kqaOqjuXMHkWnm11WGqY1SClqAGIsG.QurGCGwcdKdTnvgajThlIoecq1KK2\n 0RbWLiHTPCWS5tXIQSyIoAD.t3k-\r\nAuthentication-Results: mta1003.groups.mail.bf1.yahoo.com  from=archive.org; domainkeys=neutral (no sig);  from=archive.org; dkim=neutral (no sig)\r\nX-Received: from 127.0.0.1  (EHLO relay01.pair.com) (209.68.5.15)\n  by mta1003.groups.mail.bf1.yahoo.com with SMTPS; Wed, 14 Oct 2015 06:10:21 +0000\r\nX-Received: from probook.local (50-0-89-204.dsl.dynamic.fusionbroadband.com [50.0.89.204])\n\tby relay01.pair.com (Postfix) with ESMTP id DE14DD00B88\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Wed, 14 Oct 2015 02:10:20 -0400 (EDT)\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;mvj7v8+bqeten@...&gt;\r\nMessage-ID: &lt;561DF1CC.7050501@...&gt;\r\nDate: Tue, 13 Oct 2015 23:10:20 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:38.0)\n Gecko/20100101 Thunderbird/38.3.0\r\nMIME-Version: 1.0\r\nIn-Reply-To: &lt;mvj7v8+bqeten@...&gt;\r\nContent-Type: text/plain; charset=utf-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nSubject: Re: [archive-crawler] Analysing 60TB of H3 state after 32TB of\n crawled data\r\nX-Yahoo-Group-Post: member; u=137285340; y=r53EuAvc3G-CGccNkcXQSMcHDaCiumKbcAZC-PvPAEJZ\r\nX-Yahoo-Profile: gojomo\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\n\r\nNote if you&#39;ve set BdbModule.useHardLinkCheckpoints to false, obsolete \nlog files of the environment will never be deleted, only renamed to end \n&quot;.DEL&quot; – you&#39;ll have to externally delete them when you are sure no \ncheckpoint needs them. See the comment at:\n\nhttps://github.com/internetarchive/heritrix3/blob/79ebb0e03cfe52aaaea2b0d66cd06e4c69b0731e/commons/src/main/java/org/archive/bdb/BdbModule.java#L190\n\nEven if using hard-link checkpoints, any checkpoints you retain will \nkeep older log files around (in the checkpoint subdirs of the \nenvironment), so that might also be a cause – if you&#39;re using periodic \ncheckpoints but never pruning older ones.\n\n(As Kris suggests, using a separate BdbModule for some \nlarge-state/heavy-IO purposes – like URL history info – can also be a \ngood idea. It won&#39;t change the overall space usage, but might give \ninsight into what&#39;s using the most space, or help split the IO over more \nindependent volumes for speed.)\n\n- Gordon\n\nOn 10/13/15 8:28 AM, anjackson@... [archive-crawler] wrote:\n&gt;\n&gt;\n&gt; We&#39;re running a UK domain crawl with a very recent build of Heritrix3.\n&gt; We&#39;ve crawled 32TB of WARC.GZ data so far, but the crawler state\n&gt; directory is now (incredibly) 60TB!\n&gt;\n&gt; To generate 60Tb of state metadata after only 32TB of crawled data\n&gt; smells like a memory/resource leak of some kind. So, the question is,\n&gt; how on earth do we debug this?\n&gt;\n&gt; The BDB-JE magic-black-box mixes the frontier, server cache, and URL\n&gt; history (de-duplication) data together. Is there any way of picking it\n&gt; apart again, to work out which classes are likely to be responsible?\n&gt;\n&gt; Or are these large amounts of state to be expected, for some reason?\n&gt;\n&gt; Thanks in advance for any light you can shed.\n&gt;\n&gt; Best,\n&gt; Andy Jackson (UKWA)\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}