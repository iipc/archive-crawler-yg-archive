{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"0psRqMwgRkc3A3Od8zYz_V40H0HQ97pqBDL0ZbVJhkSOLeBx7eIQrUqt6G7PsP2HHS2COE0gkOJlmDo_-JOg7w","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: limiting # of documents dowloaded per site","postDate":"1102104703","msgId":1249,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQxQjBDODdGLjYwMTAxMDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGNvbm1taCt1NG0yQGVHcm91cHMuY29tPg==","referencesHeader":"PGNvbm1taCt1NG0yQGVHcm91cHMuY29tPg=="},"prevInTopic":1244,"nextInTopic":1251,"prevInTime":1248,"nextInTime":1250,"topicId":1235,"numMessagesInTopic":20,"msgSnippet":"... The way that the DomainSensitiveFrontier works is that when it hits the max-docs-for-this-domain threshold, it marks all remaining queued URLs as ","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 14841 invoked from network); 3 Dec 2004 20:18:32 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m19.grp.scd.yahoo.com with QMQP; 3 Dec 2004 20:18:32 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta4.grp.scd.yahoo.com with SMTP; 3 Dec 2004 20:18:32 -0000\r\nReceived: (qmail 31395 invoked by uid 100); 3 Dec 2004 20:05:03 -0000\r\nReceived: from debord.archive.org (HELO ?207.241.238.140?) (stack@...@207.241.238.140)\n  by mail-dev.archive.org with SMTP; 3 Dec 2004 20:05:03 -0000\r\nMessage-ID: &lt;41B0C87F.6010101@...&gt;\r\nDate: Fri, 03 Dec 2004 12:11:43 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20041007 Debian/1.7.3-5\r\nX-Accept-Language: en-us\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;conmmh+u4m2@...&gt;\r\nIn-Reply-To: &lt;conmmh+u4m2@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.8 required=6.5 tests=AWL,CLICK_BELOW autolearn=no \n\tversion=2.63\r\nX-eGroups-Remote-IP: 207.241.224.172\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: limiting # of documents dowloaded per site\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nrobeger wrote:\n\n&gt;\n&gt; Just tried this out.  It seems that the crawl never &quot;finishes&quot;.  Tried\n&gt; it on a single URL, limiting it to 10 docs for that site.  Once it\n&gt; reaches 10, it starts giving -6000 as the status code for subsequent\n&gt; pages, but the crawl never finishes, console just sits at &quot;13 of 39\n&gt; DOWNLOADED/QUEUED RATIO&quot;.  It also seems to count docs from\n&gt; macromedia.com as part of the 10.  If I switch back to the default\n&gt; frontier, it crawls the site and finishes.\n\n\n&lt;&gt;The way that the DomainSensitiveFrontier works is that when it hits the\nmax-docs-for-this-domain threshold, it marks all remaining queued URLs as\n&#39;deleted&#39;. But Frontier continues to run. As it comes across these\ndeleted URLs that are still in the queue, it discards them logging as\ncrawl.log -- the -6000s (&#39;Deleted from Frontier by user&#39;).\n\nThat the crawl never finishes is a bug (I just tried it and had same issue.\nIs your heritrix_out.log filled with exceptions?). I made an issue to cover\nthis: &#39;[ 1078581 ] DomainSensitiveFrontier never finishes&#39;.  Let me see if\nwe can get the fella that donated this Frontier to fix it.\n\n(The macromedias being counted has to do with your scope settings.\nTry changing max-embed-hops)\n\nSt.Ack\n\n\n\n&gt;\n&gt; seed: http://www.aptas.com\n&gt; DomainSensitiveFrontier\n&gt; HostScope\n&gt; midfetch text/html content-type filter\n&gt; Tom&#39;s filetype exclude filter\n&gt;\n&gt;\n&gt; Here&#39;s the crawl log:\n&gt;\n&gt; 20041202181418695     1         56 dns:www.aptas.com P\n&gt; http://www.aptas.com/ text/dns #002 1 - -\n&gt; 20041202181420811   404        274 http://www.aptas.com/robots.txt P\n&gt; http://www.aptas.com/ text/html #002 110\n&gt; TA7E5YOEVDKWKDAY3OMY3UZIRJ5HAC37 -\n&gt; 20041202181422845   200       2919 http://www.aptas.com/ - - text/html\n&gt; #002 26 OZCPJFDKCIKBZGCYJBL3T5YGOIFFC7F3 3t\n&gt; 20041202181422898     1         65 dns:download.macromedia.com EP\n&gt; http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\n&gt; text/dns #006 0 - -\n&gt; 20041202181424934   200       3792\n&gt; http://www.aptas.com/about/index.html L http://www.aptas.com/\n&gt; text/html #002 85 6L3D4EUYU7TFYYZDZUDTANNIKAXVPZSJ -\n&gt; 20041202181425028   404        299\n&gt; http://download.macromedia.com/robots.txt EP\n&gt; http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\n&gt; text/html #013 116 Y7Z537IX2DEPQSPGQMEYQVX54EJTTFVY -\n&gt; 20041202181426979   200       2855\n&gt; http://www.aptas.com/contact/index.html L http://www.aptas.com/\n&gt; text/html #002 30 JTF7REDEPNFDR4OGNTDLWI5LDYUSJO7C -\n&gt; 20041202181427243   302        344\n&gt; http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab E\n&gt; http://www.aptas.com/ text/html #002 204\n&gt; ZYDQROCFMD3AZWCGKEFG2ZXLMCEF2NH3 3t\n&gt; 20041202181427364     1        135 dns:fpdownload.macromedia.com ERP\n&gt; http://fpdownload.macromedia.com/get/shockwave/cabs/flash/swflash.cab\n&gt; text/dns #002 86 - -\n&gt; 20041202181429025   200       3591\n&gt; http://www.aptas.com/solutions/index.html L http://www.aptas.com/\n&gt; text/html #035 36 O6ZJHW7HL73S4BN3PVCWCXGMVOWQAGKD -\n&gt; 20041202181429499   404        299\n&gt; http://fpdownload.macromedia.com/robots.txt ERP\n&gt; http://fpdownload.macromedia.com/get/shockwave/cabs/flash/swflash.cab\n&gt; text/html #008 117 Y7Z537IX2DEPQSPGQMEYQVX54EJTTFVY -\n&gt; 20041202181431094   200       5440\n&gt; http://www.aptas.com/about/news.html L http://www.aptas.com/ text/html\n&gt; #004 55 FS46CN6PZXRGLD5VDS536E2GEY2BNGHY -\n&gt; 20041202181432143   200     487462\n&gt; http://fpdownload.macromedia.com/get/shockwave/cabs/flash/swflash.cab\n&gt; ER http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\n&gt; text/plain #035 634 IV6KIS7ADLQQM6USJKLYE7VNYLENRZ6O midFetchAbort,3t\n&gt; 20041202181433099 -5000          -\n&gt; http://www.aptas.com/products/index.html L http://www.aptas.com/\n&gt; no-type #035 - - -\n&gt; 20041202181433100 -6000          - http://www.aptas.com/index.html LL\n&gt; http://www.aptas.com/about/index.html no-type #000 - - -\n&gt; 20041202181433100 -6000          -\n&gt; http://www.aptas.com/about/investors.html LL\n&gt; http://www.aptas.com/about/index.html no-type #000 - - -\n&gt; 20041202181433100 -6000          -\n&gt; http://www.aptas.com/about/board.html LL\n&gt; http://www.aptas.com/about/index.html no-type #000 - - -\n&gt; 20041202181433100 -6000          -\n&gt; http://www.aptas.com/about/management.html LL\n&gt; http://www.aptas.com/about/index.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/partners.html LL\n&gt; http://www.aptas.com/about/index.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-gallinatti.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-sensis.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-perozzii.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-dexlaunch.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-aptas.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433101 -6000          -\n&gt; http://www.aptas.com/about/pr-ypsolutions.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-aptframe.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-dalton.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-batten.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-telecom.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-365media.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433102 -6000          -\n&gt; http://www.aptas.com/about/pr-walter.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433103 -6000          -\n&gt; http://www.aptas.com/about/pr-fast.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433103 -6000          -\n&gt; http://www.aptas.com/about/pr-dex.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt; 20041202181433103 -6000          -\n&gt; http://www.aptas.com/about/pr-moore.html LL\n&gt; http://www.aptas.com/about/news.html no-type #000 - - -\n&gt;\n&gt;\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, stack &lt;stack@a...&gt; wrote:\n&gt; &gt; robeger wrote:\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I know you can put a max number of documents for a crawl, but can you\n&gt; &gt; &gt; set a max number of documents per site?\n&gt; &gt;\n&gt; &gt; Take a look at the DomainSensitiveFrontier:\n&gt; &gt;\n&gt; http://crawler.archive.org/xref/org/archive/crawler/frontier/DomainSensitiveFrontier.html.\n&gt;\n&gt; &gt; Here is from its description:\n&gt; &gt;\n&gt; &gt; 41\n&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/frontier/DomainSensitiveFrontier.html#41&gt;\n&gt; / * Behaves like {@link HostQueuesFrontier} (i.e., a basic mostly\n&gt; breadth-first frontier),/\n&gt; &gt; 42\n&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/frontier/DomainSensitiveFrontier.html#42&gt;\n&gt; / * but with the addition that you can override the number of\n&gt; documents to/\n&gt; &gt; 43\n&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/frontier/DomainSensitiveFrontier.html#43&gt;\n&gt; / * download for a specific host or domain.  Useful for case of frequent/\n&gt; &gt; 44\n&gt; &lt;http://crawler.archive.org/xref/org/archive/crawler/frontier/DomainSensitiveFrontier.html#44&gt;\n&gt; / * revisits of a site of frequent changes.\n&gt; &gt;\n&gt; &gt; St.Ack\n&gt; &gt; /\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thanks,\n&gt; &gt; &gt; Rob Eger\n&gt; &gt; &gt; Aptas, Inc.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; *Yahoo! Groups Sponsor*\n&gt; &gt; &gt; ADVERTISEMENT\n&gt; &gt; &gt; click here\n&gt; &gt; &gt;\n&gt; &lt;http://us.ard.yahoo.com/SIG=1299fh1gb/M=298184.5639630.6699735.3001176/D=groups/S=1705004924:HM/EXP=1102026902/A=2434971/R=0/SIG=11eeoolb0/*http://www.netflix.com/Default?mqso=60185400&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; *Yahoo! Groups Links*\n&gt; &gt; &gt;\n&gt; &gt; &gt;     * To visit your group on the web, go to:\n&gt; &gt; &gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * To unsubscribe from this group, send an email to:\n&gt; &gt; &gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;     \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; *Yahoo! Groups Sponsor*\n&gt; ADVERTISEMENT\n&gt; click here \n&gt; &lt;http://us.ard.yahoo.com/SIG=1290rkj35/M=294855.5468653.6549235.3001176/D=groups/S=1705004924:HM/EXP=1102098368/A=2376776/R=0/SIG=11ldm1jvc/*http://promotions.yahoo.com/ydomains2004/index.html&gt; \n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}