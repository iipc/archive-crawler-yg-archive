{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":27093708,"authorName":"SÃ¸ren Vejrup Carlsen","from":"=?iso-8859-1?Q?S=F8ren_Vejrup_Carlsen?= &lt;svc@...&gt;","profile":"svc400","replyTo":"LIST","senderId":"PBD64JRVkmUpe5M-N9CDjpqzgRIyfgyKYLuQUdqxOsyaExgvwtZXB4ixZDGFw7BFS7Iscjoy8SkFMHArkW491lkMXt6KcOoY6UaoDrXjIac2YrDygNrgY_AD","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Problems with seed regexp","postDate":"1068209476","msgId":168,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PE9GRENBNkJFMDguMzRBRTYzQTUtT05DMTI1NkRENy4wMDQ1Qzc3NEBrYi5kaz4="},"prevInTopic":167,"nextInTopic":169,"prevInTime":167,"nextInTime":169,"topicId":164,"numMessagesInTopic":5,"msgSnippet":"Dear Gordon. Hostnames with - are very common in the nordic countries, and properly in european domains generally. I have searched for the - pattern in the","rawEmail":"Return-Path: &lt;svc@...&gt;\r\nX-Sender: svc@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 50646 invoked from network); 7 Nov 2003 12:51:19 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m7.grp.scd.yahoo.com with QMQP; 7 Nov 2003 12:51:19 -0000\r\nReceived: from unknown (HELO post.kb.dk) (130.226.220.5)\n  by mta4.grp.scd.yahoo.com with SMTP; 7 Nov 2003 12:51:19 -0000\r\nReceived: from notes02.kb.dk (notes02.kb.dk [130.226.222.11])\n\tby post.kb.dk (8.11.6+Sun/8.9.1) with ESMTP id hA7CpHI29617\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 7 Nov 2003 12:51:17 GMT\r\nReceived: from notes00.kb.dk ([130.226.220.23])\n          by notes02.kb.dk (Lotus Domino Release 5.0.11)\n          with ESMTP id 2003110713511668:42682 ;\n          Fri, 7 Nov 2003 13:51:16 +0100 \r\nSubject: Re: [archive-crawler] Problems with seed regexp\r\nTo: archive-crawler@yahoogroups.com\r\nX-Mailer: Lotus Notes Release 5.07a  May 14, 2001\r\nMessage-ID: &lt;OFDCA6BE08.34AE63A5-ONC1256DD7.0045C774@...&gt;\r\nDate: Fri, 7 Nov 2003 13:51:16 +0100\r\nMIME-Version: 1.0\r\nX-MIMETrack: Serialize by Router on Notes00/Kglbib(Release 5.0.11  |July 24, 2002) at 07-11-2003\n 13:51:16,\n\tItemize by SMTP Server on Notes02/Kglbib(Release 5.0.11  |July 24, 2002) at\n 07-11-2003 13:51:17,\n\tSerialize by Router on Notes02/Kglbib(Release 5.0.11  |July 24, 2002) at 07-11-2003\n 13:51:17,\n\tSerialize complete at 07-11-2003 13:51:17\r\nContent-transfer-encoding: quoted-printable\r\nContent-type: text/plain; charset=iso-8859-1\r\nFrom: =?iso-8859-1?Q?S=F8ren_Vejrup_Carlsen?= &lt;svc@...&gt;\r\nX-Yahoo-Group-Post: member; u=27093708\r\nX-Yahoo-Profile: svc400\r\n\r\n\nDear Gordon.\n\nHostnames with &quot;-&quot; are very common in the nordic countries, =\r\nand properly in\neuropean domains generally.\nI have searched for the &quot;-&quot; pat=\r\ntern in the .dk domain-list as of\n30.04.2002, and found that out of 381.282=\r\n domains there are 87574 domains\nwith &quot;-&quot; embedded, roughly 23 %.\nSo I real=\r\nly consider it as a quite serious flaw in the java.net.URI class\nthat it re=\r\nfuses\nURIs with dashed hostnames.\n\nciao.\n----------------------------------=\r\n--------------------------\nS=F8ren Vejrup Carlsen, DDA, Det Kongelige Bibli=\r\notek\ntlf: (+45) 33 47 48 41\nemail: svc@...\nemail: svc@....n=\r\net\n-------------------------------------------------------------\nNon omnia =\r\npossumus omnes\n--- Macrobius, Saturnalia, VI, 1, 35 -------\n\n\n             =\r\n                                                                           =\r\n                                               \n                      Gordo=\r\nn Mohr                                                                     =\r\n                                 \n                      &lt;gojomo@archive.o  =\r\n      To:       archive-crawler@yahoogroups.com                            =\r\n                   \n                      rg&gt;                      cc:     =\r\n                                                                           =\r\n     \n                                               Subject:  Re: [archive=\r\n-crawler] Problems with seed regexp                               \n        =\r\n              07-11-2003 09:28                                             =\r\n                                                    \n                      =\r\nPlease respond to                                                          =\r\n                                      \n                      archive-crawle=\r\nr                                                                          =\r\n                        \n                                                  =\r\n                                                                           =\r\n          \n                                                                =\r\n                                                                       \n\n\n\n=\r\n\nYes, a problem with the seed extraction pattern and one or\nmore null-point=\r\ner exception problems were fixed today.\n\nThe main CVS code will continue to=\r\n be volatile for the\nnext week or so. Upon reaching a relatively stable poi=\r\nnt,\nwe&#39;re planning to create an explicit &quot;development&quot; branch,\nwhich should=\r\n help to insulate users of the main branch\nfrom these kinds of transient pr=\r\noblems.\n\nI think John fixed the seed extractor before seeing your\nrecommend=\r\ned pattern.\n\nI note that your pattern allows &#39;-&#39; in domains -- which\nis tec=\r\nhnically not allowed but occasionally used and supported\nby most software. =\r\nRight now, the java.net.URI class refuses\nURIs with dashed hostnames, so we=\r\n can&#39;t crawl them. See this\nbug:\n\n\nhttp://sourceforge.net/tracker/index.php=\r\n?func=3Ddetail&aid=3D808270&group_id=3D73833&atid=3D539099\n\n\nWe&#39;ll eventual=\r\nly implement some workaround, because we\nwant to be just as lenient as popu=\r\nlar web browsers in\nthese situations.\n\nAlso, we&#39;d like a pattern that allow=\r\ns &#39;localhost&#39; to work in\nseeds, just for developer local testing.\n\n- Gordon=\r\n\n\nLars Clausen wrote:\n\n&gt; Using todays CVS, we&#39;re having some problems with =\r\nthe seed regexp,\n&gt; (?i:(http(s)?://&#92;&#92;w+)|(&#92;&#92;w+&#92;&#92;.&#92;&#92;w+)(&#92;&#92;.&#92;&#92;w+)*(:&#92;&#92;d+)?(/&#92;=\r\n&#92;S*)?),\n&gt; in util/SeedsInputIterator.java.\n&gt;\n&gt; For seeds like http://www.fo=\r\no.br/ it gave http://www, since &#39;.&#39; isn&#39;t in\n&gt; &#92;w.  Additionally, sites wit=\r\nh &#39;-&#39; in them cannot be seeds, as that isn&#39;t\n&gt; in &#92;w either.  Is the intent=\r\nion that anything after http[s] is allowed,\n&gt; but otherwise we look for hos=\r\ntnames?  It is also poorly defined in the\n&gt; Java docs what the precedence i=\r\ns, so the extent of the | is uncertain.\n&gt; I propose\n&gt;\n&gt; (?i:(?:(https?://[a=\r\n-zA-Z0-9-]+)|([a-zA-Z0-9-]+&#92;&#92;.[a-zA-Z0-9-]+))\n(&#92;&#92;.[a-zA-Z0-9-]+)*(&#92;&#92;.&#92;&#92;w+)(=\r\n:&#92;&#92;d+)?(/&#92;&#92;S*)?)\n&gt;\n&gt; which allows things starting with http[s], if they con=\r\ntain any legal\n&gt; two- or more level domains plus optional ports and stuff, =\r\nor if they\n&gt; contain any legal three- or more level domain plus optional po=\r\nrts and\n&gt; stuff.  Patch for this attached.\n&gt;\n&gt; I also notice that there&#39;s a=\r\n null pointer except on any non-matched\n&gt; name, but that seems to be someth=\r\ning with the logging system.\n&gt;\n&gt; -Lars\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this gro=\r\nup, send an email to:\n&gt; archive-crawler-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt;\n&gt;=\r\n Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n=\r\n\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------=\r\n------\n&gt;\n&gt; Index: SeedsInputIterator.java\n&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D\n&gt; RCS file:\n/cvsroot/archive-crawler/ArchiveOpenCrawl=\r\ner/src/org/archive/crawler/util/SeedsInputIterator.java,v\n\n&gt; retrieving rev=\r\nision 1.3\n&gt; diff -u -r1.3 SeedsInputIterator.java\n&gt; --- SeedsInputIterator.=\r\njava        5 Nov 2003 18:59:16 -0000\n1.3\n&gt; +++ SeedsInputIterator.java    =\r\n    6 Nov 2003 13:44:50 -0000\n&gt; @@ -37,8 +37,7 @@\n&gt;  public class SeedsInpu=\r\ntIterator implements Iterator {\n&gt;            //  regexp for identifying URI=\r\ns in seed input data\n&gt;            public static final Pattern DEFAULT_SEED_=\r\nEXTRACTOR =3D\n&gt; -                      Pattern.compile(&quot;(?i:(http(s)?://&#92;&#92;w=\r\n+)|(&#92;&#92;w+&#92;&#92;.\n&#92;&#92;w+)(&#92;&#92;.&#92;&#92;w+)*(:&#92;&#92;d+)?(/&#92;&#92;S*)?)&quot;);\n&gt; -          // pattern to =\r\nextract seeds\n&gt; +                      Pattern.compile(&quot;(?i:(?:(https?://[a=\r\n-zA-Z0-9-]+)\n|([a-zA-Z0-9-]+&#92;&#92;.[a-zA-Z0-9-]+))(&#92;&#92;.[a-zA-Z0-9-]+)*(&#92;&#92;.&#92;&#92;w+)(=\r\n:\n&#92;&#92;d+)?(/&#92;&#92;S*)?)&quot;);\n&gt;            // pattern to extract seeds\n&gt;            =\r\nPattern seedExtractor =3D DEFAULT_SEED_EXTRACTOR;\n&gt;\n&gt;            CrawlContr=\r\noller controller;\n\n\n\n\nTo unsubscribe from this group, send an email to:\narc=\r\nhive-crawler-unsubscribe@yahoogroups.com\n\n\n\nYour use of Yahoo! Groups is su=\r\nbject to http://docs.yahoo.com/info/terms/\n\n\n\n\n\n\n\n\n"}}