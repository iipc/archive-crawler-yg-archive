{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":422010605,"authorName":"anas elghafari","from":"anas elghafari &lt;anas.elghafari@...&gt;","replyTo":"LIST","senderId":"OmNa-VzupykIc50Kwzc1LpRpsRqHxdFCa9-93V-jusX67V8SW5cd8J1b1QW9MiVv_NwAgIDFzZfkkEXbWxCmS3M6MiH3q3if6HzqPTeZuQA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Is this a bug? Terminating a crawl job doesn&#39;t \treduce CPU usage!","postDate":"1260819328","msgId":6220,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDZhMDI5ZTJkMDkxMjE0MTEzNXFiMmEwMDgxeDhkNGY2YTMzMTg5MmE0MWNAbWFpbC5nbWFpbC5jb20+","inReplyToHeader":"PDRCMjU4MDY1LjUwNDAzMDRAYXJjaGl2ZS5vcmc+","referencesHeader":"PDZhMDI5ZTJkMDkxMjEyMTQyM3UyZjdlYTNmNXk3OWQ2NjdkZjFiNjgyZjg4QG1haWwuZ21haWwuY29tPgkgPDRCMjU4MDY1LjUwNDAzMDRAYXJjaGl2ZS5vcmc+"},"prevInTopic":6216,"nextInTopic":6221,"prevInTime":6219,"nextInTime":6221,"topicId":6213,"numMessagesInTopic":8,"msgSnippet":"I am running Heritrix 1.14.3 and JVM 1.6. Anyway, thank you for the tip, I found where the problem is: Basically Writer processor that I wrote as a test goes","rawEmail":"Return-Path: &lt;anas.elghafari@...&gt;\r\nX-Sender: anas.elghafari@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 70342 invoked from network); 14 Dec 2009 19:35:30 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m1.grp.sp2.yahoo.com with QMQP; 14 Dec 2009 19:35:30 -0000\r\nX-Received: from unknown (HELO mail-bw0-f212.google.com) (209.85.218.212)\n  by mta2.grp.re1.yahoo.com with SMTP; 14 Dec 2009 19:35:29 -0000\r\nX-Received: by bwz4 with SMTP id 4so2507050bwz.22\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 14 Dec 2009 11:35:28 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.204.15.11 with SMTP id i11mr1333192bka.9.1260819328741; Mon, \n\t14 Dec 2009 11:35:28 -0800 (PST)\r\nIn-Reply-To: &lt;4B258065.5040304@...&gt;\r\nReferences: &lt;6a029e2d0912121423u2f7ea3f5y79d667df1b682f88@...&gt;\n\t &lt;4B258065.5040304@...&gt;\r\nDate: Mon, 14 Dec 2009 20:35:28 +0100\r\nMessage-ID: &lt;6a029e2d0912141135qb2a0081x8d4f6a331892a41c@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=000325558ee23733aa047ab5607b\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: anas elghafari &lt;anas.elghafari@...&gt;\r\nSubject: Re: [archive-crawler] Is this a bug? Terminating a crawl job doesn&#39;t \n\treduce CPU usage!\r\nX-Yahoo-Group-Post: member; u=422010605\r\n\r\n\r\n--000325558ee23733aa047ab5607b\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI am running Heritrix 1.14.3 and JVM 1.6. Anyway, thank you for the tip, I\n=\r\nfound where the problem is: Basically Writer processor that I wrote as a\nte=\r\nst goes into an infinite loop with 0.01 probability (I wrote that to test\nt=\r\nhe effects of a writer  that tries talking to an Indexer that has crashed).=\r\n\n\nIt would be nice is to be able to pause the crawl job from within a Write=\r\nr.\nCrawlJobHandler has the pauseJob() method. Is there a way for a processo=\r\nr to\naccess the CrawlJobHandler?\n\nThanks again,\n\nAnas\n\n\n\n\n\nOn Mon, Dec 14, =\r\n2009 at 1:01 AM, Gordon Mohr &lt;gojomo@...&gt; wrote:\n\n&gt;\n&gt;\n&gt; anas elghaf=\r\nari wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi there,\n&gt; &gt;\n&gt; &gt; I am running Heritrix on a Mac, I =\r\nrun an experiment to see how much CPU\n&gt; &gt; does Heritrix take (using MacOS A=\r\nctivity Monitor). While launching\n&gt; &gt; Heritrix&#39;s WUI and setting up a job, =\r\nthe CPU usage is about 4%. Strting\n&gt; &gt; a crawl job with several seeds quick=\r\nly raises CPU usage to about 99%.\n&gt; &gt; However, pausing the crawl job does N=\r\nOT reduce the CPU usage. Even more\n&gt; &gt; surprisingly, terminating a crawl jo=\r\nb does not reduce the CPU usg. Only\n&gt; &gt; when Heritrix WUI is shut down does=\r\n the CPU usage return to it was\n&gt; &gt; before the crawl job was started.\n&gt; &gt;\n&gt;=\r\n &gt; Is this a known issue? Am I doing something wrong?\n&gt;\n&gt; This is not a kno=\r\nwn issue, on MacOS or elsewhere.\n&gt;\n&gt; What JVM version and Heritrix version?=\r\n\n&gt;\n&gt; Using &#39;jstack&#39; against the Java process a few times in succession may\n=\r\n&gt; give a hint as to what Java thread(s) are still busy during a period\n&gt; (s=\r\nuch as after job termination) when there should be little to no activity.\n&gt;=\r\n\n&gt; I&#39;m not sure if the threads of a MacOS JVM are individually viewable in\n=\r\n&gt; the Activity Monitor (for example with the &#39;All Processeses,\n&gt; Hierarchic=\r\nally&#39; view), but if so, it may be possible to correlate the\n&gt; Activity Moni=\r\ntor PID with one of the thread IDs in the jstack dump, and\n&gt; thus be certai=\r\nn which thread(s) are busy.\n&gt;\n&gt; - Gordon @ IA\n&gt;\n&gt;  \n&gt;\n\r\n--000325558ee23733aa047ab5607b\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI am running Heritrix 1.14.3 and JVM 1.6. Anyway, thank you for the tip, I =\r\nfound where the problem is: Basically Writer processor that I wrote as a te=\r\nst goes into an infinite loop with 0.01 probability (I wrote that to test t=\r\nhe effects of a writer =A0that tries talking to an Indexer that has crashed=\r\n).&lt;div&gt;\n&lt;br&gt;&lt;div&gt;It would be nice is to be able to pause the crawl job from=\r\n within a Writer. CrawlJobHandler has the pauseJob() method. Is there a way=\r\n for a processor to access the CrawlJobHandler?&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;Thanks again,&lt;/div&gt;\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anas&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=A0=A0&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On =\r\nMon, Dec 14, 2009 at 1:01 AM, Gordon Mohr &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;=\r\nmailto:gojomo@...&quot;&gt;gojomo@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n&lt;bl=\r\nockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #=\r\nccc solid;padding-left:1ex;&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;div style=3D&quot;background-color:#=\r\nfff&quot;&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;=\r\n/p&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;anas elghafari wrote:&lt;br&gt;\n&gt; &lt;br&gt;\n&g=\r\nt; &lt;br&gt;\n&gt; Hi there,&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; I am running Heritrix on a Mac, I=\r\n run an experiment to see how much CPU &lt;br&gt;\n&gt; does Heritrix take (using =\r\nMacOS Activity Monitor). While launching &lt;br&gt;\n&gt; Heritrix&#39;s WUI and s=\r\netting up a job, the CPU usage is about 4%. Strting &lt;br&gt;\n&gt; a crawl job w=\r\nith several seeds quickly raises CPU usage to about 99%. &lt;br&gt;\n&gt; However,=\r\n pausing the crawl job does NOT reduce the CPU usage. Even more &lt;br&gt;\n&gt; s=\r\nurprisingly, terminating a crawl job does not reduce the CPU usg. Only &lt;br&gt;=\r\n\n&gt; when Heritrix WUI is shut down does the CPU usage return to it was &lt;b=\r\nr&gt;\n&gt; before the crawl job was started.&lt;br&gt;\n&gt; &lt;br&gt;\n&gt; Is this a know=\r\nn issue? Am I doing something wrong?&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\nThis is not a kno=\r\nwn issue, on MacOS or elsewhere.&lt;br&gt;\n&lt;br&gt;\nWhat JVM version and Heritrix ver=\r\nsion?&lt;br&gt;\n&lt;br&gt;\nUsing &#39;jstack&#39; against the Java process a few times =\r\nin succession may &lt;br&gt;\ngive a hint as to what Java thread(s) are still busy=\r\n during a period &lt;br&gt;\n(such as after job termination) when there should be =\r\nlittle to no activity.&lt;br&gt;\n&lt;br&gt;\nI&#39;m not sure if the threads of a MacOS =\r\nJVM are individually viewable in &lt;br&gt;\nthe Activity Monitor (for example wit=\r\nh the &#39;All Processeses, &lt;br&gt;\nHierarchically&#39; view), but if so, it m=\r\nay be possible to correlate the &lt;br&gt;\nActivity Monitor PID with one of the t=\r\nhread IDs in the jstack dump, and &lt;br&gt;\nthus be certain which thread(s) are =\r\nbusy.&lt;br&gt;\n&lt;br&gt;\n- Gordon @ IA&lt;br&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div s=\r\ntyle=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;=\r\n/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\n\r\n--000325558ee23733aa047ab5607b--\r\n\n"}}