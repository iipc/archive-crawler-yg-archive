{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"P3xiCnDBCNXv3nGGOBJAPwIHIgdncyzMghA8fU-IXGvMOGtR1d47zP_JWPB6m35G7aPab1ULEiMjuYoPytykwh_sGSZIvN5h","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Where do certain decide rules go? (migrating from 1.4 to 3.1)","postDate":"1323832231","msgId":7443,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRFRTgxM0E3LjIwODA1MDBAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGpidmJyait0NmFnQGVHcm91cHMuY29tPg==","referencesHeader":"PGpidmJyait0NmFnQGVHcm91cHMuY29tPg=="},"prevInTopic":7439,"nextInTopic":0,"prevInTime":7442,"nextInTime":7444,"topicId":7427,"numMessagesInTopic":3,"msgSnippet":"Hello Roland, You added a QuotaEnforcer to the CandidateScoper? Or do you mean you added it to the CandidateChain after the CandidateScoper (and before the ","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 65699 invoked from network); 14 Dec 2011 03:13:38 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m10.grp.sp2.yahoo.com with QMQP; 14 Dec 2011 03:13:38 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mta4.grp.sp2.yahoo.com with SMTP; 14 Dec 2011 03:13:38 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 1D2B3684109E;\n\tTue, 13 Dec 2011 19:13:34 -0800 (PST)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id My5xpwmg7W4W; Tue, 13 Dec 2011 19:13:25 -0800 (PST)\r\nX-Received: from [208.70.27.155] (desktop-nlevitt.sf.archive.org [208.70.27.155])\n\tby mail.archive.org (Postfix) with ESMTPSA id 100496841087;\n\tTue, 13 Dec 2011 19:10:32 -0800 (PST)\r\nMessage-ID: &lt;4EE813A7.2080500@...&gt;\r\nDate: Tue, 13 Dec 2011 19:10:31 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.23) Gecko/20110922 Thunderbird/3.1.15\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nCc: &quot;projectcow@...&quot; &lt;projectcow@...&gt;\r\nReferences: &lt;jbvbrj+t6ag@...&gt;\r\nIn-Reply-To: &lt;jbvbrj+t6ag@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Where do certain decide rules go? (migrating\n from 1.4 to 3.1)\r\nX-Yahoo-Group-Post: member; u=325624130; y=IDVDWTDPol6S40rMCjAmllWCgSDvVS_mXE8yUGt633PvEw\r\nX-Yahoo-Profile: nlevitt\r\n\r\nHello Roland,\n\nYou added a QuotaEnforcer to the CandidateScoper? Or do you mean you \nadded it to the CandidateChain after the CandidateScoper (and before the \nFrontierPreparer)? I haven&#39;t tried QuotaEnforcer myself but it looks \nlike that ought to work.\n\nPutting a ContentTypeNotMatchesRegexDecideRule in the scope \nDecideRuleSequence won&#39;t work, because when the url is scoped, the \ncontent type is unknown. It&#39;s not known until the url is fetched, so \nyou&#39;ll want to move that rule to your writer. Like you want to do with \nyour FetchStatusDecideRule.\n\nThe way you do that, to answer your primary question, is using the \nshouldProcessRule on your WARCWriterProcessor or other writer. \nhttp://tech.groups.yahoo.com/group/archive-crawler/message/7375 has an \nexample.\n\nNoah\n\nOn 12/10/2011 02:21 AM, projectcow@... wrote:\n&gt; Hi!\n&gt; I have been using 1.4 for a while and am now switching to 3.1. I (1) crawl text content only and (2) don&#39;t want to archive anything but successful pages. I also want to have (3) strict quota rules for all servers. So far, I&#39;ve been expanding/modifying the default job that 3.1 generates with some success.\n&gt;\n&gt; However, is the following correct?\n&gt;\n&gt; - I added a QuotaEnforcer to the CandidateScoper to enforce quotas.\n&gt; - I added a ContentTypeNotMatchesRegexDecideRule to the &quot;scope&quot; DecideRuleSequence, which REJECTs for regex &quot;text&#92;/.*&quot; to download only text content.\n&gt;\n&gt; And finally, my primary question: Where do I add the FetchStatusDecideRule to store only sucessful (basically &quot;200&quot;) pages? In 1.4, the Archiver accepted its own rule sequence. How is that achieved in 3.1.\n&gt;\n&gt; Sorry if the question/s is/are redundant. I am under a bit of time pressure and would normally have done more research before asking.\n&gt;\n&gt; Thanks&  cheers\n&gt; Roland\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n\n"}}