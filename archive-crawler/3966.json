{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"bwpVktgas2cDTOkyxb_PzDzWf5ty-WzDWM_j0OAU7xSx-oU51s9j40ursfR1Bu4AnRfG99wtTcOcjH72Vx2J_YJbCMPHKKA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] manually retiring queue","postDate":"1174957060","msgId":3966,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MDg2QzA0LjYwNTAxMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGV1ODY0Yys1OG9hQGVHcm91cHMuY29tPg==","referencesHeader":"PGV1ODY0Yys1OG9hQGVHcm91cHMuY29tPg=="},"prevInTopic":3961,"nextInTopic":0,"prevInTime":3965,"nextInTime":3967,"topicId":3961,"numMessagesInTopic":2,"msgSnippet":"One way to quickly stop crawling a host, presuming you re using the Preselector to recheck scope when URIs come out of the frontier for processing: set an","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 46700 invoked from network); 27 Mar 2007 00:55:43 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m42.grp.scd.yahoo.com with QMQP; 27 Mar 2007 00:55:43 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta9.grp.scd.yahoo.com with SMTP; 27 Mar 2007 00:55:43 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 2A1F6141BC366\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 26 Mar 2007 17:55:43 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 06358-03-14 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 26 Mar 2007 17:55:42 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id C3767141BC360\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 26 Mar 2007 17:55:42 -0700 (PDT)\r\nMessage-ID: &lt;46086C04.6050109@...&gt;\r\nDate: Mon, 26 Mar 2007 17:57:40 -0700\r\nUser-Agent: Thunderbird 1.5.0.9 (X11/20070104)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;eu864c+58oa@...&gt;\r\nIn-Reply-To: &lt;eu864c+58oa@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] manually retiring queue\r\nX-Yahoo-Group-Post: member; u=137285340; y=3drpJCQOXwmvTHr13_hlMgVGl8RkFFzXZMSkTvzl0EQo\r\nX-Yahoo-Profile: gojomo\r\n\r\nOne way to quickly stop crawling a host, presuming you&#39;re using the \nPreselector to recheck scope when URIs come out of the frontier for \nprocessing: set an override for just that host or domain on the \nPreselector, making &#39;block-all&#39; true. The URIs will be marked blocked \nand not crawled. (This also effectively empties the queue, too, which \nmay not be what you want.)\n\nIf you want the queue to stay full but &#39;retired&#39;, I would suggest \ninstead setting the queue totalBudget to something less than what has \nalready been crawled. An override on &quot;queue-total-budget&quot; is a start, \nbut that setting is only automatically consulted when a queue enters the \nactive groups, so you might have to programmatically set the queue&#39;s \ntotalBudget field as well. Then, the next time the queue&#39;s budget is \nchecked -- after any URI finishes, success or failure -- the queue will \nbe safely retired, and stay retired.\n\nNote that both places retireQueue() is directly called, the queue \naffected has already been removed from any of the other holding \nstructures. Even synchronizing on allQueues, calling retireQueue \nelsewhere (as in your example) might result in the queue being both in \nthe retired set *and* in some other holding group (like ready or snoozed \nqueues), which would have unpredictable results. So it&#39;d be better to \nmake budget changes that trigger retirement at a safe time than to move \nthe queue directly between states in response to operator actions.\n\n- Gordon @ IA\n\npandae667 wrote:\n&gt; Dear IA-Team,\n&gt; \n&gt; due to some negative customer feedback I need to implement a feature\n&gt; to manually &quot;retire&quot; queues via the WebUI. \n&gt; (I presume this would be the quickest way to stop crawling a host.)\n&gt; \n&gt; The basic thing I&#39;d intend to do would be something like:\n&gt; \n&gt; String classKey = curi.getClassKey();\n&gt; synchronized (allQueues) {\n&gt;   wq = (WorkQueue)allQueues.get(classKey);\n&gt;   retireQueue(wq);\n&gt; }\n&gt; \n&gt; But there is one thing I&#39;m not sure yet - how do I assure the queue\n&gt; doesn&#39;t get unretired on a kickUpdate() ?\n&gt; \n&gt; Regards\n&gt;   Olaf Freyer\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}