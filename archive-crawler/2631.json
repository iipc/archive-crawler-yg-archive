{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr (archive.org)","from":"&quot;Gordon Mohr (archive.org)&quot; &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"vTwhRvOEJUvcnVyWZLzJpdYOH_wobPHe_chu5y6m_UrcepydbZ0GI7Okj-FLx-2gkpIzJ7ooNuR3H-amPL6WwrAz94MedLxqVz4Mb9uIAo49Q8_uTQGf","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Exhausted work queues/domain","postDate":"1139697207","msgId":2631,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQzRUU2NjM3LjYwOTAwMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDQzRUMzREFGLjIwNTAyMDdAYW9sLmNvbT4=","referencesHeader":"PDQzRTk4ODExLjIwODAwMDdAYW9sLmNvbT4gPDQzRUJDODRBLjQwMTAxMDJAYXJjaGl2ZS5vcmc+IDw0M0VDM0RBRi4yMDUwMjA3QGFvbC5jb20+"},"prevInTopic":2628,"nextInTopic":2634,"prevInTime":2630,"nextInTime":2632,"topicId":2624,"numMessagesInTopic":6,"msgSnippet":"Look for the call to clearHeld() in WorkQueueFrontier: that s the point where the queue is no longer actively held by the other queues-of-queues, because","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 34775 invoked from network); 11 Feb 2006 22:33:25 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m25.grp.scd.yahoo.com with QMQP; 11 Feb 2006 22:33:25 -0000\r\nReceived: from unknown (HELO relay00.pair.com) (209.68.5.9)\n  by mta6.grp.scd.yahoo.com with SMTP; 11 Feb 2006 22:33:25 -0000\r\nReceived: (qmail 62186 invoked from network); 11 Feb 2006 22:33:21 -0000\r\nReceived: from unknown (HELO ?172.16.244.251?) (unknown)\n  by unknown with SMTP; 11 Feb 2006 22:33:21 -0000\r\nX-pair-Authenticated: 71.198.76.24\r\nMessage-ID: &lt;43EE6637.6090009@...&gt;\r\nDate: Sat, 11 Feb 2006 14:33:27 -0800\r\nUser-Agent: Thunderbird 1.5 (Windows/20051201)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;43E98811.2080007@...&gt; &lt;43EBC84A.4010102@...&gt; &lt;43EC3DAF.2050207@...&gt;\r\nIn-Reply-To: &lt;43EC3DAF.2050207@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Gordon Mohr (archive.org)&quot; &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Exhausted work queues/domain\r\nX-Yahoo-Group-Post: member; u=137285340; y=ircO5A5Wo47zXdUwlA_0OTdwhFbAZegazUkxY2OZZviH\r\nX-Yahoo-Profile: gojomo\r\n\r\nLook for the call to clearHeld() in WorkQueueFrontier: that&#39;s the\npoint where the queue is no longer actively &#39;held&#39; by the other\nqueues-of-queues, because it&#39;s both empty and and its lingering\npoliteness snooze has finished. That&#39;s equivalent to the state\ncounted by the &#39;exhausted&#39; statistic.\n\nIf this is an important extension point for you, we would consider\n(a patch?) making this step more prominent by factoring it out of\nthe overgrown next() method.\n\nHope this helps,\n\n- Gordon @ IA\n\nPrasenjit Mukherjee wrote:\n&gt; Not via UI. I was trying to find out the code section where we could \n&gt; possibly determine that a particular WorkQueue is exhausted. I looked \n&gt; into WorkQueuefrontier&#39;s activateInactive(),next() and schedule() \n&gt; methods but couldn&#39;t figure it out :(\n&gt; \n&gt; Any kind of pointer  is very much appreciated.\n&gt; \n&gt; thanks,\n&gt; prasen\n&gt; \n&gt; gojomo@... wrote:\n&gt; \n&gt;&gt; Prasenjit Mukherjee wrote:\n&gt;&gt;  \n&gt;&gt;\n&gt;&gt;&gt; Is there a way to figure out the domains(or WorkQueues) which are \n&gt;&gt;&gt; completed(rather exhausted) ?\n&gt;&gt;&gt;    \n&gt;&gt;&gt;\n&gt;&gt; Programmatically, or as a crawl operator seeking a summary report?\n&gt;&gt;\n&gt;&gt; If the latter, there are not-yet-documented query-string parameters\n&gt;&gt; that may be added to the Frontier report URL to (1) select a non-default\n&gt;&gt; Frontier report format to use; and (2) request that the report be dumped\n&gt;&gt; to a file rather than to the browser.\n&gt;&gt;\n&gt;&gt; Specifically:\n&gt;&gt;\n&gt;&gt; * the &#39;name&#39; parameter may be specified as &#39;nonempty&#39; or &#39;all&#39;. Each\n&gt;&gt;   of these non-default formats reports one queue per line, and does\n&gt;&gt;   not truncate the lists after a few thousand, like the default\n&gt;&gt;   report does. Thus, in a large crawl, they can take a while to dump.\n&gt;&gt;   As the names suggest, &#39;all&#39; shows all queues -- even those that\n&gt;&gt;   have been exhausted -- and &#39;nonempty&#39; only those with items remaining.\n&gt;&gt;   A legend explaining each field of the single-line display will\n&gt;&gt;   appear at top.\n&gt;&gt; * the &#39;dumpFile&#39; parameter may give the name of file, relative to the\n&gt;&gt;   crawler working directory, to which to dump the report rather than\n&gt;&gt;   to the browser.\n&gt;&gt;\n&gt;&gt; So for example, the following URL...\n&gt;&gt;\n&gt;&gt;   http://localhost:8080/reports/frontier.jsp?name=all&dumpFile=frontier-all.report\n&gt;&gt;\n&gt;&gt; ...would dump the queue-per-line all-queues Frontier report to the\n&gt;&gt; file &#39;frontier-all.report&#39; in the working directory in which\n&gt;&gt; the crawler was launched.\n&gt;&gt;\n&gt;&gt; Someday, UI controls to reach these options will be added.\n&gt;&gt;\n&gt;&gt; Keep in mind that a queue can be temporarily exhausted -- with more\n&gt;&gt; URLs to be discovered from offsite inlinks right around the corner.\n&gt;&gt; This might even be quite common early in crawls, if a few lone\n&gt;&gt; resources are referenced from a site before reaching its own\n&gt;&gt; interlinked content.\n&gt;&gt;\n&gt;&gt; Hope this helps,\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n"}}