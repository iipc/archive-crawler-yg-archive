{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"RiQAbRKRnD7w-nb6QLGOFVEkAL1MSDweK80ktBGRk0DxPbU7lWaJIOYkzNbHJCh5B_NbzvOxp24ynO8jwVQBe3ulzFTOqiM","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] poor performance","postDate":"1245310082","msgId":5891,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBMzlFQzgyLjUwNTA2MDFAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGgxYm03Nys3bmJoQGVHcm91cHMuY29tPg==","referencesHeader":"PGgxYm03Nys3bmJoQGVHcm91cHMuY29tPg=="},"prevInTopic":5890,"nextInTopic":5892,"prevInTime":5890,"nextInTime":5892,"topicId":5890,"numMessagesInTopic":7,"msgSnippet":"... How many seeds are used to start your crawl, and what does the summary QUEUES section of the frontier report show (with totals of ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 83627 invoked from network); 18 Jun 2009 07:29:05 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m7.grp.re1.yahoo.com with QMQP; 18 Jun 2009 07:29:05 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta1.grp.re1.yahoo.com with SMTP; 18 Jun 2009 07:29:05 -0000\r\nX-Received: (qmail 73211 invoked from network); 18 Jun 2009 07:28:04 -0000\r\nX-Received: from 70.137.144.169 (HELO ?10.0.10.194?) (70.137.144.169)\n  by relay02.pair.com with SMTP; 18 Jun 2009 07:28:04 -0000\r\nX-pair-Authenticated: 70.137.144.169\r\nMessage-ID: &lt;4A39EC82.5050601@...&gt;\r\nDate: Thu, 18 Jun 2009 00:28:02 -0700\r\nUser-Agent: Thunderbird 2.0.0.21 (Windows/20090302)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;h1bm77+7nbh@...&gt;\r\nIn-Reply-To: &lt;h1bm77+7nbh@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] poor performance\r\nX-Yahoo-Group-Post: member; u=137285340; y=k68VvV3Ql-wcE0IvQ-XOtUC6mOA0qbE_zweeVGUo70qE\r\nX-Yahoo-Profile: gojomo\r\n\r\nnukleonrus wrote:\n&gt; Hello\n&gt; \n&gt; We are using heritrix on a dual opteron server with fiber optic connection, but crawling speed is unfortunately very low.\n&gt; It is mostly around 130 KB/s, sometimes it jumps to x MB/s but after few seconds it goes back[we are going to crawl thousands of sites]\n\nHow many seeds are used to start your crawl, and what does the summary \n&quot;QUEUES&quot; section of the &quot;frontier report&quot; show (with totals of \nactive/inactive/retired/exhausted queues) during the slow periods?\n\n&gt; I have set no. of ToeThreads to 25/55/111/222 but with no results.\n&gt; I noticed in h2  that only around 10 threads are used for HTTP and others are used for archiver threads\n\nYou mention &#39;h2&#39;; we still recommend 1.14.3 for people getting started \nwith Heritrix.\n\nUsually, the limiting factor when a crawl isn&#39;t progressing as fast as \nexpected is that only small number of sites have pending URIs. Heritrix \nwill only fetch one URI from a site at a time, and waits a polite delay \nbetween fetches.\n\nYou can decrease the politeness delay via settings on the frontier, but \nshould only do this if you&#39;re confident it won&#39;t delay or anger the \ntarget sites. (They can, after all, block you entirely if they notice \nimpolite traffic.)\n\nHeritrix doesn&#39;t provide a setting to fetch more than one URI from a \nsingle host simultaneously.\n\nEach worker thread handles a URI through all processing steps: so it&#39;s \njust a matter of sampling time as to whether you see it inside HTTP \noperations, writing to disk, scheduling discovered URIs for fetching, \nand so forth.\n\nWhen the thread finishes one URI, it checks if any other URIs are ready \nto be fetched. If the total of active threads is less than your \nconfigured maximum, that means there aren&#39;t enough eligible URIs/queues.\n\n&gt; Increasing no. of threads has impact on CPU resources but we are crawling at slow speeds even when heretrix uses all cpus. It is true that speed is influenced by speed at the other side of a link so it would be good to have adaptive no. of threads = when speed is low to automatically dramatically increase no. of HTTP threads and vice versa\n\nIf in fact the target sites are slow, increasing the number of threads \nwon&#39;t necessarily help, because Heritrix won&#39;t open multiple \nsimultaneous fetches against the same hostname. Even if it did, the \nmultiple connections might then just compete with each other for the \nsame bottlenecked resource.\n\nHope this helps,\n\n- Gordon @ IA\n\n\n&gt; maybe the problem is in configuration - I left everything in its default configuration, only with mirror writer set  and java_opts is set to 384m[memory is almost unused]\n&gt; \n&gt; thanks in advance\n&gt; \n&gt; Ivan\n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}