{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"rJId-oCdClYC7s8yh3LDAeSoDc9dQRKEg7SNDW8arSHg6apWsxb0--Dm9CdnaDweY8aWs-KcAx4fE661hp1tASGdJdLh78ff","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Do we need the check for 0.0.0.0 in DefaultServerCache?","postDate":"1424727686","msgId":8679,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBMQ3F6NlN0N1BmUV81X0V3NlFQeT1mazNIc3B6K3VMaVorUi1udkMxVjd3QUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJERkQxQzJFQGJsaWtpLmJva2hsYWRhLmxvY2FsPg==","referencesHeader":"PEU0ODZEOTNFMzcyRDhDNDI4MkU4REYwNzgzOTJGMTJERkQxQzJFQGJsaWtpLmJva2hsYWRhLmxvY2FsPg=="},"prevInTopic":8678,"nextInTopic":8680,"prevInTime":8678,"nextInTime":8680,"topicId":8678,"numMessagesInTopic":4,"msgSnippet":"Hello Kris, To answer your question, I m very wary of simply removing that code without replacing it, or without better understanding the implications. I can","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 54481 invoked by uid 102); 23 Feb 2015 21:41:28 -0000\r\nX-Received: from unknown (HELO mtaq5.grp.bf1.yahoo.com) (10.193.84.36)\n  by m16.grp.bf1.yahoo.com with SMTP; 23 Feb 2015 21:41:28 -0000\r\nX-Received: (qmail 12540 invoked from network); 23 Feb 2015 21:41:28 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (98.138.100.120)\n  by mtaq5.grp.bf1.yahoo.com with SMTP; 23 Feb 2015 21:41:28 -0000\r\nX-Received: from mail.archive.org (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 30D4CC031\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 23 Feb 2015 21:41:27 +0000 (UTC)\r\nX-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on mail.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-1.0 required=5.0 tests=ALL_TRUSTED,SHORTCIRCUIT,\n\tURIBL_BLOCKED autolearn=disabled version=3.4.0\r\nX-Received: from mail-oi0-f41.google.com (mail-oi0-f41.google.com [209.85.218.41])\n\t(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))\n\t(No client certificate requested)\n\t(Authenticated sender: nlevitt@...)\n\tby mail.archive.org (Postfix) with ESMTPSA id 09A8ABA76\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 23 Feb 2015 21:41:27 +0000 (UTC)\r\nX-Received: by mail-oi0-f41.google.com with SMTP id z81so15939176oif.0\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 23 Feb 2015 13:41:26 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.202.80.72 with SMTP id e69mr8501030oib.75.1424727686144;\n Mon, 23 Feb 2015 13:41:26 -0800 (PST)\r\nX-Received: by 10.76.96.174 with HTTP; Mon, 23 Feb 2015 13:41:26 -0800 (PST)\r\nIn-Reply-To: &lt;E486D93E372D8C4282E8DF078392F12DFD1C2E@...&gt;\r\nReferences: &lt;E486D93E372D8C4282E8DF078392F12DFD1C2E@...&gt;\r\nDate: Mon, 23 Feb 2015 13:41:26 -0800\r\nMessage-ID: &lt;CAA-z70LCqz6St7PfQ_5_Ew6QPy=fk3Hspz+uLiZ+R-nvC1V7wA@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\nSubject: Re: [archive-crawler] Do we need the check for 0.0.0.0 in DefaultServerCache?\r\nX-Yahoo-Group-Post: member; u=325624130; y=4UT-hiNPC8pK4gJ5fdZ7S3Q8lyN_IlcZHyklm1Y6No2ylw\r\nX-Yahoo-Profile: nlevitt\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\n\r\nHello Kris,\n\nTo answer your question, I&#39;m very wary of simply removing that=\r\n code\nwithout replacing it, or without better understanding the\nimplication=\r\ns.\n\nI can remember some of the background on this commit, but\nunfortunately=\r\n I can&#39;t remember all of it. I&#39;m sorry now that I didn&#39;t\nwrite a better com=\r\nmit message or code comment.\n\nI remember that heritrix was trying to crawl =\r\n0.0.0.0, which resolves\nto localhost (on ubuntu at least). That could argua=\r\nbly be a security\nproblem, as well as a confusing problem of archival accur=\r\nacy. I\nremember that we discovered that sometimes dns servers return 0.0.0.=\r\n0\nfor certain hosts, and we were trying to figure if 0.0.0.0 might also\npop=\r\n up because of bdb corruption or similar. I&#39;m not sure if we\nresolved the l=\r\natter question. I also remember thinking at the time\nthat this check was no=\r\nt a very good solution to the problem, but that\na good solution would be a =\r\nlot more work and might involve breaking\nAPIs.\n\nWhat I can&#39;t remember right=\r\n now is what exactly the good solution\nwould be, if I had a specific one in=\r\n mind. I also can&#39;t remember how\nthe problem came to our attention. Nor if =\r\nthere was a good reason to\ncheck only for 0.0.0.0 and not for other unrouta=\r\nble addresses, or\nother addresses that resolve to localhost.\n\n&gt; This can ca=\r\nuse a lot of alerts when using the IpAddressSetDecideRule to apply sheets t=\r\no candidate URIs.\n\nIs that because dns resolves some host as 0.0.0.0 in you=\r\nr crawl job,\nor is it happening for some other reason?\n\nNoah\n\n\nOn Mon, Feb =\r\n23, 2015 at 5:17 AM, Kristinn Sigur=C3=B0sson\nkristinn@... [ar=\r\nchive-crawler]\n&lt;archive-crawler@yahoogroups.com&gt; wrote:\n&gt; The DefaultServer=\r\nCache.getHostFor(String hostname) method has the following peculiar check:\n=\r\n&gt;\n&gt; if (host !=3D null && host.getIP() !=3D null && &quot;0.0.0.0&quot;.equals(host.g=\r\netIP().getHostAddress())) {\n&gt;    throw new IllegalStateException(&quot;got suspi=\r\ncious value 0.0.0.0 for &quot; + hostname);\n&gt; }\n&gt;\n&gt; https://github.com/interneta=\r\nrchive/heritrix3/blob/master/modules/src/main/java/org/archive/modules/fetc=\r\nher/DefaultServerCache.java#L110\n&gt;\n&gt; This was introduced in this commit: ht=\r\ntps://github.com/internetarchive/heritrix3/commit/df2a313797b15d01e3959e309=\r\n842b25ebb92ca91\n&gt;\n&gt; This can cause a lot of alerts when using the IpAddress=\r\nSetDecideRule to apply sheets to candidate URIs.\n&gt;\n&gt; While this doesn&#39;t act=\r\nually lead to us miss any content it creates a lot of noise in the alert lo=\r\ng, possibly obscuring a more important alert. This also seems a very peculi=\r\nar thing to do, checking for just one particular non-routable address.\n&gt;\n&gt; =\r\nCan we lose this check?\n&gt;\n&gt; - Kris\n&gt; --------------------------------------=\r\n-----------------------------------\n&gt; Landsb=C3=B3kasafn =C3=8Dslands - H=\r\n=C3=A1sk=C3=B3lab=C3=B3kasafn | Arngr=C3=ADmsg=C3=B6tu 3 - 107 Reykjav=C3=\r\n=ADk\n&gt; S=C3=ADmi/Tel: +354 5255600 | www.landsbokasafn.is\n&gt; ---------------=\r\n----------------------------------------------------------\n&gt; fyrirvari/disc=\r\nlaimer - http://fyrirvari.landsbokasafn.is\n&gt;\n&gt;\n&gt; --------------------------=\r\n----------\n&gt; Posted by: =3D?utf-8?B?S3Jpc3Rpbm4gU2lndXLDsHNzb24=3D?=3D &lt;kri=\r\nstinn@...&gt;\n&gt; ------------------------------------\n&gt;\n&gt;\n&gt; ------=\r\n------------------------------\n&gt;\n&gt; Yahoo Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}