{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":69666792,"authorName":"Adam","from":"&quot;Adam&quot; &lt;adamwilmer@...&gt;","profile":"adamwilmer","replyTo":"LIST","senderId":"UdoeWSVUVuO0954jJ9PvcTiH0Qlnq4krH6hJ18w849FEBqTpnYaF7vcmR3MnYUGsoAjewlTnUeBvzzJyFb56krTye0X1NA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"HTTP Authentication and scheme priority","postDate":"1311864527","msgId":7243,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGowcnNzZitpMWpwQGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":7247,"prevInTime":7242,"nextInTime":7244,"topicId":7243,"numMessagesInTopic":2,"msgSnippet":"Hi, An intranet site I am trying to crawl with the current Heritrix 3.1.0 snapshot offers 3 authentication types: NTLM, Digest, Basic in that order of","rawEmail":"Return-Path: &lt;adamwilmer@...&gt;\r\nReceived: (qmail 97426 invoked from network); 28 Jul 2011 16:54:34 -0000\r\nReceived: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 28 Jul 2011 16:54:34 -0000\r\nReceived: from unknown (HELO ng18-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.102)\n  by mta1.grp.sp2.yahoo.com with SMTP; 28 Jul 2011 16:54:34 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1311872074; bh=/L3dxweeQwqHszHmBp/HgVRlQvdu3d9ecADZjZRAsqA=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=aJXbLesXC8uVhw7+7cqEjwVApzmDGnJv/p74lhRT17TBmve5Lhwa29/0YzkvdJZINd+HrQ2wEM807O2ox2iNAcWbGsxXBh2yq+UJR7I3HQXkPe3OzTzwXUzPcywvaKag\r\nReceived: from [98.138.217.182] by ng18.bullet.mail.ne1.yahoo.com with NNFMP; 28 Jul 2011 16:54:34 -0000\r\nReceived: from [69.147.65.149] by tg7.bullet.mail.ne1.yahoo.com with NNFMP; 28 Jul 2011 16:54:34 -0000\r\nReceived: from [98.137.34.51] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 28 Jul 2011 16:54:33 -0000\r\nX-Sender: adamwilmer@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 34747 invoked from network); 28 Jul 2011 14:48:50 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m17.grp.re1.yahoo.com with QMQP; 28 Jul 2011 14:48:50 -0000\r\nX-Received: from unknown (HELO n46b.bullet.mail.sp1.yahoo.com) (66.163.168.160)\n  by mta2.grp.re1.yahoo.com with SMTP; 28 Jul 2011 14:48:50 -0000\r\nX-Received: from [69.147.65.174] by n46.bullet.mail.sp1.yahoo.com with NNFMP; 28 Jul 2011 14:48:49 -0000\r\nX-Received: from [98.137.34.34] by t12.bullet.mail.sp1.yahoo.com with NNFMP; 28 Jul 2011 14:48:49 -0000\r\nDate: Thu, 28 Jul 2011 14:48:47 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j0rssf+i1jp@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nFrom: &quot;Adam&quot; &lt;adamwilmer@...&gt;\r\nSubject: HTTP Authentication and scheme priority\r\nX-Yahoo-Group-Post: member; u=69666792; y=F3L5dUAZyc0UCChhcbOAlHTDfSX3BAIfoh7IbYUosKtGJ_cC7g\r\nX-Yahoo-Profile: adamwilmer\r\nX-eGroups-Approved-By: gojomo &lt;gojomo@...&gt; via web; 28 Jul 2011 16:54:33 -0000\r\n\r\nHi,\n\nAn intranet site I am trying to crawl with the current Heritrix 3.1.0 =\r\nsnapshot offers 3 authentication types: NTLM, Digest, Basic in that order o=\r\nf priority. The crawler HTTP client fails to deal with NTLM which is fine b=\r\nut I&#39;d then expect it to try and negotiate with Digest and then Basic which=\r\n doesn&#39;t happen. To work around this I had to set the AuthPolicy priority i=\r\nn the org.archive.modules.credential.HttpAuthenticationCredential populate(=\r\n) method as follows:\n\nList authPrefs =3D new ArrayList(2);\nauthPrefs.add(Au=\r\nthPolicy.DIGEST);\nauthPrefs.add(AuthPolicy.BASIC);\nhttp.getParams().setPara=\r\nmeter(AuthPolicy.AUTH_SCHEME_PRIORITY, authPrefs)\n\nand then the HTTP client=\r\n successfully negotiated the authentication.\n\nAdam\n\n\n\n\n"}}