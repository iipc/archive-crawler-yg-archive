{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"sIVpoURh-vrS6u31JAIz3H3SmhSo9YgiTY-ftfbj6WyX6Pf_Tss7OFt3bmKEQdNi94ExDCKo_n9jiflWdpzv1fcNic8fEL8","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: java.lang.OutOfMemoryError: Java heap space With Heritrix 1.14.1 and","postDate":"1219940239","msgId":5436,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4QjZDRjhGLjcwNzAyQGFyY2hpdmUub3JnPg==","inReplyToHeader":"PGc5NW9kMCtrdG9jQGVHcm91cHMuY29tPg==","referencesHeader":"PGc5NW9kMCtrdG9jQGVHcm91cHMuY29tPg=="},"prevInTopic":5435,"nextInTopic":5437,"prevInTime":5435,"nextInTime":5437,"topicId":5427,"numMessagesInTopic":8,"msgSnippet":"Thanks for the details and trying the new JVM. The good news is: a problem that reproduces this reliably and quickly is usually easy to solve. You had","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 46494 invoked from network); 28 Aug 2008 16:17:19 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m48.grp.scd.yahoo.com with QMQP; 28 Aug 2008 16:17:19 -0000\r\nX-Received: from unknown (HELO relay02.pair.com) (209.68.5.16)\n  by mta15.grp.scd.yahoo.com with SMTP; 28 Aug 2008 16:17:19 -0000\r\nX-Received: (qmail 13257 invoked from network); 28 Aug 2008 16:17:18 -0000\r\nX-Received: from unknown (HELO ?192.168.1.87?) (unknown)\n  by unknown with SMTP; 28 Aug 2008 16:17:18 -0000\r\nX-pair-Authenticated: 67.170.220.186\r\nMessage-ID: &lt;48B6CF8F.70702@...&gt;\r\nDate: Thu, 28 Aug 2008 09:17:19 -0700\r\nUser-Agent: Thunderbird 2.0.0.16 (Windows/20080708)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;g95od0+ktoc@...&gt;\r\nIn-Reply-To: &lt;g95od0+ktoc@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: java.lang.OutOfMemoryError: Java heap space\n With Heritrix 1.14.1 and\r\nX-Yahoo-Group-Post: member; u=137285340; y=SlXvBdclXqMXB3o4BPPfffxjUQFihGBRxogLK1e_3m3b\r\nX-Yahoo-Profile: gojomo\r\n\r\nThanks for the details and trying the new JVM.\n\nThe good news is: a problem that reproduces this reliably and quickly is \nusually easy to solve.\n\nYou had originally mentioned the problem occurred in both 1.14.1 and \n2.0.1. With the new OOME in Java 1.6, are you using 1.14.1 or 2.0.1?\n\nAre you running from one of the standard .tar.gz packages at our \nSourceforge project, or something from SVN or otherwise altered in any way?\n\nI didn&#39;t understand what you meant by &quot;First of all heritrix keeps \npreparing new jobs if run with only 256Mb of heap for ages.&quot; Does that \nmean trying to start one job hangs in &#39;preparing&#39; state, or something \nelse?  Are you ever starting more than one job at a time in the same \nJVM, by any means?\n\nThere wasn&#39;t full context in your previous description of your crawl \nconfiguration -- I&#39;m assuming the &#39;1000000000&#39; max-size-bytes value was \na max-size for ARC files. From what I could tell, there didn&#39;t seem to \nbe anything problematic, but the use of the &#39;most-favored&#39; robots policy \nand the 1GB max-size-bytes for ARCs are less commonly-used options. It \nwould be worth a try to set both these back to the defaults to see if \nthe OOME goes away.\n\nIf you would like to send me a full copy of your order.xml offline, I&#39;ll \nsee if I can reproduce the problem here. Do you get the same problem \nwith any set of ~1800 seed URLs?\n\n- Gordon @ IA\n\nrhispm wrote:\n&gt;&gt; For reference, what is your OS (distro & 32/64bit) and hardware \n&gt;&gt; (processor)?\n&gt; \n&gt; Debian GNU/Linux 4.0 on i386, Intel Pentium D 2.8Ghz and 2Gb RAM,\n&gt; \n&gt;&gt; Also, is anything else running on the machine?\n&gt; \n&gt; this is my work pc, so yes there is other software running, (e.g.,\n&gt; email, webbrowser, IDE, ...)\n&gt; \n&gt;&gt; I suspect this may be an instance of one of these issues:\n&gt;&gt;\n&gt;&gt; http://webteam.archive.org/jira/browse/HER-1449\n&gt;&gt; http://webteam.archive.org/jira/browse/HER-588\n&gt;&gt;\n&gt;&gt; Both are ultimately caused by Sun Java/JVM bugs which appear to have \n&gt;&gt; been improved in later versions.\n&gt; \n&gt; see below\n&gt; \n&gt;&gt; If possible, I recommend using a recent Java 6/1.6 version. (The latest \n&gt;&gt; appears to be either &quot;u10 RC&quot; or &quot;u7&quot;.) It&#39;s faster and can give more \n&gt;&gt; information about OOME and low-memory conditions. (For this reason, it \n&gt;&gt; can be worth running for temporary debugging purposes even if you must \n&gt;&gt; eventually deploy to an older Java.)\n&gt; \n&gt; now I&#39;m using as suggested:\n&gt; java version &quot;1.6.0_07&quot;\n&gt; Java(TM) SE Runtime Environment (build 1.6.0_07-b06)\n&gt; Java HotSpot(TM) Client VM (build 10.0-b23, mixed mode, sharing)\n&gt; \n&gt; the experience is even worse. First of all heritrix keeps preparing\n&gt; new jobs if run with only 256Mb of heap for ages. Once I bump heap\n&gt; space to 512M the same OOME occures after ~15mins. (10275 URIs\n&gt; downloaded, 36893 queued)\n&gt; \n&gt; the alert is:\n&gt; \n&gt; Serious error occured trying to process &#39;CrawlURI\n&gt; http://thehill.com/leading-the-news/obama-camp-not-nervous-about-bill-clinton-speech-2008-08-27.html\n&gt; LL http://thehill.com/leading-the-news/ in ExtractorHTML&#39;\n&gt; [ToeThread #19:\n&gt; http://thehill.com/leading-the-news/obama-camp-not-nervous-about-bill-clinton-speech-2008-08-27.html\n&gt;  CrawlURI\n&gt; http://thehill.com/leading-the-news/obama-camp-not-nervous-about-bill-clinton-speech-2008-08-27.html\n&gt; LL http://thehill.com/leading-the-news/    0 attempts\n&gt;     in processor: ExtractorHTML\n&gt;     ACTIVE for 1m38s88ms\n&gt;     step: ABOUT_TO_BEGIN_PROCESSOR for 1m36s540ms\n&gt;     java.lang.Thread.getStackTrace(Thread.java:1426)\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:514)\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:592)\n&gt;     org.archive.util.DevUtils.extraInfo(DevUtils.java:65)\n&gt;    \n&gt; org.archive.crawler.framework.ToeThread.seriousError(ToeThread.java:230)\n&gt;    \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:325)\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; ]\n&gt;            timestamp  discovered      queued   downloaded      \n&gt; doc/s(avg)  KB/s(avg)   dl-failures   busy-thread   mem-use-KB \n&gt; heap-size-KB   congestion   max-depth   avg-depth\n&gt; 2008-08-28T08:30:39Z       47553       36776        10252        \n&gt; 0(10.53)     0(170)             0            25       520195       \n&gt; 520256       323.96        1964           4\n&gt;  (in thread &#39;ToeThread #19:\n&gt; http://thehill.com/leading-the-news/obama-camp-not-nervous-about-bill-clinton-speech-2008-08-27.html&#39;;\n&gt; in processor &#39;ExtractorHTML&#39;)\n&gt; \n&gt; Exception:  \t\n&gt; \n&gt; java.lang.OutOfMemoryError: Java heap space\n&gt; Stacktrace: java.lang.OutOfMemoryError: Java heap space\n&gt; \tat java.util.Arrays.copyOf(Arrays.java:2882)\n&gt; \tat java.lang.String.(String.java:179)\n&gt; \tat\n&gt; org.apache.commons.httpclient.URI.removeFragmentIdentifier(URI.java:3421)\n&gt; \tat org.apache.commons.httpclient.URI.setRawPath(URI.java:2830)\n&gt; \tat org.archive.net.LaxURI.parseUriReference(LaxURI.java:401)\n&gt; \tat org.apache.commons.httpclient.URI.(URI.java:147)\n&gt; \tat org.archive.net.LaxURI.(LaxURI.java:76)\n&gt; \tat org.archive.net.UURI.(UURI.java:135)\n&gt; \tat org.archive.net.UURIFactory.create(UURIFactory.java:340)\n&gt; \tat org.archive.net.UURIFactory.getInstance(UURIFactory.java:289)\n&gt; \tat\n&gt; org.archive.crawler.datamodel.CrawlURI.createAndAddLinkRelativeToBase(CrawlURI.java:1314)\n&gt; \tat\n&gt; org.archive.crawler.extractor.ExtractorHTML.addLinkFromString(ExtractorHTML.java:477)\n&gt; \tat\n&gt; org.archive.crawler.extractor.ExtractorHTML.processLink(ExtractorHTML.java:462)\n&gt; \tat\n&gt; org.archive.crawler.extractor.ExtractorHTML.processGeneralTag(ExtractorHTML.java:285)\n&gt; \tat\n&gt; org.archive.crawler.extractor.ExtractorHTML.extract(ExtractorHTML.java:611)\n&gt; \tat\n&gt; org.archive.crawler.extractor.ExtractorHTML.extract(ExtractorHTML.java:557)\n&gt; \tat\n&gt; org.archive.crawler.extractor.Extractor.innerProcess(Extractor.java:67)\n&gt; \tat org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt; \tat\n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt; \tat org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}