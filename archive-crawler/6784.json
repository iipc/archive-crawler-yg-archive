{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":361563137,"authorName":"Adam Broke≈°","from":"=?UTF-8?B?QWRhbSBCcm9rZcWh?= &lt;adam.brokes@...&gt;","profile":"goblin_cz","replyTo":"LIST","senderId":"9BUAFZwKlskH8sT48XXrJ_k6NMwWG05arhPcbjheDcYpIEbANzeoJfHHnKvBVY2MXYNqHMta3cVZnIYq7G_4bnXcy4hhni7y18fm7pY2-_AB5ymPsLZG8AI3dw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"SSL certificate problem and integration of heritrix3","postDate":"1288166465","msgId":6784,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEFBTkxrVGltTlJlank0X0dHbXY0dHpSbzFDQW1XMEt6bUpwWVIxN3ZacXRYaUBtYWlsLmdtYWlsLmNvbT4="},"prevInTopic":0,"nextInTopic":6787,"prevInTime":6783,"nextInTime":6785,"topicId":6784,"numMessagesInTopic":5,"msgSnippet":"Hallo, I am trying to use REST connection to heritrix 3 engine in my groovy/grails application and I have encounter strange problem which I am not sure how to ","rawEmail":"Return-Path: &lt;adam.brokes@...&gt;\r\nX-Sender: adam.brokes@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 91043 invoked from network); 27 Oct 2010 08:01:07 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m10.grp.re1.yahoo.com with QMQP; 27 Oct 2010 08:01:07 -0000\r\nX-Received: from unknown (HELO mail-ww0-f45.google.com) (74.125.82.45)\n  by mta1.grp.re1.yahoo.com with SMTP; 27 Oct 2010 08:01:06 -0000\r\nX-Received: by wwj40 with SMTP id 40so387937wwj.2\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 27 Oct 2010 01:01:06 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.227.154.18 with SMTP id m18mr1735886wbw.124.1288166465496;\n Wed, 27 Oct 2010 01:01:05 -0700 (PDT)\r\nX-Received: by 10.227.158.19 with HTTP; Wed, 27 Oct 2010 01:01:05 -0700 (PDT)\r\nDate: Wed, 27 Oct 2010 10:01:05 +0200\r\nMessage-ID: &lt;AANLkTimNRejy4_GGmv4tzRo1CAmW0KzmJpYR17vZqtXi@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=0016e64c3ed89667e8049394a0b2\r\nFrom: =?UTF-8?B?QWRhbSBCcm9rZcWh?= &lt;adam.brokes@...&gt;\r\nReply-To: adam.brokes@...\r\nSubject: SSL certificate problem and integration of heritrix3\r\nX-Yahoo-Group-Post: member; u=361563137; y=x0JlnsC48VVoWNZq6oIkTwToNRwgG0uQt5byeyf85fHP5xOg\r\nX-Yahoo-Profile: goblin_cz\r\n\r\n\r\n--0016e64c3ed89667e8049394a0b2\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHallo,\n\nI am trying to use REST connection to heritrix 3 engine in my groov=\r\ny/grails\napplication and I have encounter strange problem which I am not su=\r\nre how to\nsolve.\n\nIn the application the REST Client plugin is installed, w=\r\nhich is nothing\nelse than HTTPBuilder class wrapper. Used without any modif=\r\nication it throw\nUntrusted certificate exception.\nAfter reading documentati=\r\non on\nhttp://groovy.codehaus.org/modules/http-builder/doc/ssl.html I figure=\r\n out\nthat I need manually add heritrix certificate to keystore. I have:\n\n  =\r\n 1. exported certificate (chrome, firefox)\n   2. added certificate to trust=\r\nore with java keytool\n   3. copied trustore file to my application director=\r\ny\n   4. inserted this code to application:\n\nwithRest(uri: &quot;https://localhos=\r\nt:8443/engine&quot;) {\n           def keyStore =3D KeyStore.getInstance(KeyStore=\r\n.defaultType)\n\n\n           getClass().getResource(&quot;/truststore.jks&quot;).withIn=\r\nputStream {\n               keyStore.load(it, &quot;password&quot;.toCharArray())\n    =\r\n       }\n\n           client.connectionManager.schemeRegistry.register(\n    =\r\n               new Scheme(&quot;https&quot;, new SSLSocketFactory(keyStore), 443))\n  =\r\n         [rest: client]\n           auth.basic &quot;admin&quot;, &quot;admin&quot;\n           d=\r\nef response =3D post(createpath: &quot;restJob&quot;, action: &quot;create&quot;)\n}\n\nafter exec=\r\nution this I always get this exception:\n\njavax.net.ssl.SSLException: hostna=\r\nme in certificate didn&#39;t match:\n&lt;localhost&gt; !=3D &lt;heritrix ad-hoc https cer=\r\ntificate&gt;\n\nI tried few other combinations:\n\n   - install heritrix on other =\r\nhost than localhost\n   - give heritrix3 -s parameter at start to use other =\r\nthan default\n   keystore, password\n\n\nNothing helped me and honestly I am no=\r\nt big expert in certificates, so I run\nout of ideas and time earmarked for =\r\nthat.\n\nWhat is best practice to use REST from my application?\n\nAnd aside al=\r\nl of that, I will probably need more tight integration of\nHeritrix3 with my=\r\n groovy app (it will be basically simpler NetarchiveSuite),\nI am going to d=\r\niscuss that in other mail, just to get the right direction:\nis there any do=\r\ncumentation on that? I need to do basic crawler stuff, like\nstarting jobs, =\r\nmonitoring jobs and getting information about finished jobs.\nI like the scr=\r\nipt console idea, could I communicate with that console from\noutside? In he=\r\nritrix 1, the JMX is used extensively, is there still need for\nthat in H3? =\r\nWell, there are so many possibilities to explore, but I will be\ndelighted i=\r\nf someone with deep knowledge will point the direction.\n\nThank you very muc=\r\nh and have nice day.\n\nBest regards,\n\nAdam Brokes\n--\nAdam Broke=C5=A1\nhttp:/=\r\n/www.brokes.net\nadam.brokes@...\n42799740\n\r\n--0016e64c3ed89667e8049394a0b2\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHallo,&lt;br&gt;&lt;br&gt;I am trying to use REST connection to heritrix 3 engine in my=\r\n groovy/grails application and I have encounter strange problem which I am =\r\nnot sure how to solve.&lt;br&gt;&lt;br&gt;In the application the REST Client plugin is =\r\ninstalled, which is nothing else than HTTPBuilder class wrapper. Used witho=\r\nut any modification it throw Untrusted certificate exception.&lt;br&gt;\nAfter rea=\r\nding documentation on &lt;a href=3D&quot;http://groovy.codehaus.org/modules/http-bu=\r\nilder/doc/ssl.html&quot;&gt;http://groovy.codehaus.org/modules/http-builder/doc/ssl=\r\n.html&lt;/a&gt; I figure out that I need manually add heritrix certificate to key=\r\nstore. I have:&lt;br&gt;\n&lt;ol&gt;&lt;li&gt;exported certificate (chrome, firefox)&lt;/li&gt;&lt;li&gt;a=\r\ndded certificate to trustore with java keytool&lt;/li&gt;&lt;li&gt;copied trustore file=\r\n to my application directory&lt;/li&gt;&lt;li&gt;inserted this code to application:&lt;/li=\r\n&gt;&lt;/ol&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&#39;courier new&#39;, monos=\r\npace&quot;&gt;withRest(uri: &quot;&lt;a href=3D&quot;https://localhost:8443/engine&quot;&gt;https:/=\r\n/localhost:8443/engine&lt;/a&gt;&quot;) {&lt;br&gt;\n =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=\r\n =C2=A0def keyStore =3D KeyStore.getInstance(KeyStore.defaultType) =C2=A0 =\r\n=C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;br&gt;&lt;br&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=\r\n=A0getClass().getResource(&quot;/truststore.jks&quot;).withInputStream {&lt;br=\r\n&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0keyStore.load(it, =\r\n&quot;password&quot;.toCharArray())&lt;br&gt;\n =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=\r\n =C2=A0}&lt;br&gt;&lt;br&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0client.connection=\r\nManager.schemeRegistry.register(&lt;br&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=\r\n=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0new Scheme(&quot;https&quot;, new SSLSocketF=\r\nactory(keyStore), 443))&lt;br&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[rest:=\r\n client]&lt;br&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0auth.basic &quot;admi=\r\nn&quot;, &quot;admin&quot;&lt;br&gt;\n =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0de=\r\nf response =3D post(createpath: &quot;restJob&quot;, action: &quot;create&q=\r\nuot;)&lt;br&gt;}&lt;/font&gt;&lt;br&gt;&lt;br&gt;after execution this I always get this exception:&lt;=\r\nbr&gt;&lt;br&gt;&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&#39;courier new&#39;, mono=\r\nspace&quot;&gt;javax.net.ssl.SSLException: hostname in certificate didn&#39;t match=\r\n: &lt;localhost&gt; !=3D &lt;heritrix ad-hoc https certificate&gt;&lt;/font&gt;&lt;b=\r\nr&gt;\n&lt;br&gt;I tried few other combinations:&lt;br&gt;&lt;ul&gt;&lt;li&gt;install heritrix on other=\r\n host than localhost&lt;/li&gt;&lt;li&gt;give heritrix3 -s parameter at start to use ot=\r\nher than default keystore, password&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;Nothing helped me and hone=\r\nstly I am not big expert in certificates, so I run out of ideas and time ea=\r\nrmarked for that.&lt;br&gt;\n&lt;br&gt;What is best practice to use REST from my applica=\r\ntion?&lt;br&gt;&lt;br&gt;And aside all of that, I will probably need more tight integra=\r\ntion of Heritrix3 with my groovy app (it will be basically simpler Netarchi=\r\nveSuite), I am going to discuss that in other mail, just to get the right d=\r\nirection: is there any documentation on that? I need to do basic crawler st=\r\nuff, like starting jobs, monitoring jobs and getting information about fini=\r\nshed jobs. I like the script console idea, could I communicate with that co=\r\nnsole from outside? In heritrix 1, the JMX is used extensively, is there st=\r\nill need for that in H3? Well, there are so many possibilities to explore, =\r\nbut I will be delighted if someone with deep knowledge will point the direc=\r\ntion.&lt;br&gt;\n&lt;br&gt;Thank you very much and have nice day.&lt;br&gt;&lt;br&gt;Best regards,&lt;b=\r\nr&gt;&lt;br&gt;Adam Brokes&lt;br&gt;--&lt;br&gt;Adam Broke=C5=A1&lt;br&gt;&lt;a href=3D&quot;http://www.brokes=\r\n.net&quot;&gt;http://www.brokes.net&lt;/a&gt;&lt;br&gt;&lt;a href=3D&quot;mailto:adam.brokes@...&quot;=\r\n&gt;adam.brokes@...&lt;/a&gt;&lt;br&gt;\n42799740&lt;br&gt;&lt;br&gt;\n\r\n--0016e64c3ed89667e8049394a0b2--\r\n\n"}}