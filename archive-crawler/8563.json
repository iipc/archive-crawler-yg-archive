{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"ZjrsoqFlpXmIdUiontJjIwikm_zdgpRQLy752gHJjs39NX-Pv0ljhtAuJ7fQLy6q-pwhsBe0-EGfYB_QnyM108Z99Z8rgYg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] How to replace html content after it is fetched by FetchHttp","postDate":"1404770057","msgId":8563,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUzQkIxNzA5LjkwODAwMDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PENBQS16NzBKOGFhSldIWHlOMVprKzFkNzRWQUQ3Tys9cm1NLV8reHI3dEJHS0VYS1BGUUBtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGxwNXQ1Nys0dHE3bDFAWWFob29Hcm91cHMuY29tPiA8Q0FBLXo3MEo4YWFKV0hYeU4xWmsrMWQ3NFZBRDdPKz1ybU0tXyt4cjd0QkdLRVhLUEZRQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":8562,"nextInTopic":8566,"prevInTime":8562,"nextInTime":8566,"topicId":8561,"numMessagesInTopic":4,"msgSnippet":"As Noah notes, the recommended place to disregard some links is in the scoping rules. If you definitely needed to create a transformed version of content, you ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 60285 invoked by uid 102); 7 Jul 2014 21:54:19 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m9.grp.bf1.yahoo.com with SMTP; 7 Jul 2014 21:54:19 -0000\r\nX-Received: (qmail 1944 invoked from network); 7 Jul 2014 21:54:19 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 7 Jul 2014 21:54:19 -0000\r\nX-Received: (qmail 16290 invoked by uid 0); 7 Jul 2014 21:54:18 -0000\r\nX-Received: from 50.1.86.49 (HELO probook.local) (50.1.86.49)\n  by relay01.pair.com with SMTP; 7 Jul 2014 21:54:18 -0000\r\nX-pair-Authenticated: 50.1.86.49\r\nMessage-ID: &lt;53BB1709.9080005@...&gt;\r\nDate: Mon, 07 Jul 2014 14:54:17 -0700\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:24.0) Gecko/20100101 Thunderbird/24.6.0\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;lp5t57+4tq7l1@...&gt; &lt;CAA-z70J8aaJWHXyN1Zk+1d74VAD7O+=rmM-_+xr7tBGKEXKPFQ@...&gt;\r\nIn-Reply-To: &lt;CAA-z70J8aaJWHXyN1Zk+1d74VAD7O+=rmM-_+xr7tBGKEXKPFQ@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nSubject: Re: [archive-crawler] How to replace html content after it is fetched\n by FetchHttp\r\nX-Yahoo-Group-Post: member; u=137285340; y=qUZeHqauLub9Ohn-D8jfqDKHyLwPMcrRYna0Z_n8a838\r\nX-Yahoo-Profile: gojomo\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\n\r\nAs Noah notes, the recommended place to disregard some links is in the \nscoping rules.\n\nIf you definitely needed to create a transformed version of content, you \nshould study the &#39;recording&#39;-related classes, and their use in the \nFetchHTML and ExtractorHTML processors. You could mimic that use to \nre-read and re-write a second recorded block. You could then carry that \nalong in addition to the original verbatim content (and somehow alter \nlater steps to use that instead), or perhaps replace the existing \nrecording (though that&#39;d break a lot of assumptions how the normal steps \nprogress).\n\nIf the real aim is to simply exclude contiguous ranges of content from \nlink-extraction, another suitable approach might be to:\n\n(a) add another custom processor that, using the raw-verbatim content, \nidentifies the ranges and stores them in the CrawlURI\n\n(b) modify the standard processors to remember, inside discovered \ncandidate outlinks the location within a page (by character-offset) \nwhere a link was discovered\n\n(c) add a step to scoping, or just before, that discards candidate \noutlinks outside the relevant ranges\n\n- Gordon\n\nOn 7/6/14, 2:14 PM, Noah Levitt nlevitt@... [archive-crawler] wrote:\n&gt;\n&gt;\n&gt; Hello Bruce,\n&gt;\n&gt; Heritrix is designed for archiving web pages verbatim. Anything is\n&gt; possible with some coding, but modifying html sounds like a bad idea to me.\n&gt;\n&gt;  &gt; In order to get rid of unexpected links\n&gt;\n&gt; What do mean by &quot;get rid of&quot; exactly? Do you mean &quot;not crawl&quot;? If so,\n&gt; you&#39;ll probably want to edit your scope rules to exclude the unwanted urls.\n&gt;\n&gt; Noah\n&gt;\n&gt; On Jul 4, 2014 2:46 AM, &quot;hpdgy@... &lt;mailto:hpdgy@...&gt;\n&gt; [archive-crawler]&quot; &lt;archive-crawler@yahoogroups.com\n&gt; &lt;mailto:archive-crawler@yahoogroups.com&gt;&gt; wrote:\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Hi\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; In order to get rid of unexpected links, I want to use JSoup to\n&gt; filter the html content and then store the result to CrawlURI. Thus\n&gt; ExtractorHtml etc. will extract links based on the filtered content.\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Unfortunately I&#39;m not able to locate where exactly the html content\n&gt; is fetched and has not been filled into CrawlURI. Besides, I don&#39;t konw\n&gt; how to replace the html content stored in CrawlURI(Seems related to\n&gt; RecordingInputStream in Recorder).\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Any Suggestion is appreciated.\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt; Regards\n&gt;  &gt;\n&gt;  &gt; Bruce\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;  &gt;\n&gt;\n&gt;\n&gt;\n&gt; \n\n"}}