{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"uLMEyAx0GArWMaXJugV0Wwq4DNo9jYCpURi51HwINK4AJzKc9xmE2n_NXPjnk4fhRkuDhEnVE01i5lvpr3NOmvfQAPDN3Bz2","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heretrix downloads URIs I want to reject; how to fix?","postDate":"1396893515","msgId":8497,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBQS16NzBMM1lmOUJvNHJKK0NzWmN6ZDA1cEtPK0pqRVY5Q1dSQUpHOGFQUmFrSHhWQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PGxoczU3NSs0cTdxYm9AWWFob29Hcm91cHMuY29tPg==","referencesHeader":"PGxoczU3NSs0cTdxYm9AWWFob29Hcm91cHMuY29tPg=="},"prevInTopic":8496,"nextInTopic":8503,"prevInTime":8496,"nextInTime":8498,"topicId":8496,"numMessagesInTopic":3,"msgSnippet":"Hello, When you say you added some ExtractorHTML rules to the default profile , do you mean to the shouldProcessRule? If so that would mean that urls accepted","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 31664 invoked by uid 102); 7 Apr 2014 17:58:42 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m12.grp.bf1.yahoo.com with SMTP; 7 Apr 2014 17:58:42 -0000\r\nX-Received: (qmail 16961 invoked from network); 7 Apr 2014 17:58:42 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 7 Apr 2014 17:58:42 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id E59FAA62047\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  7 Apr 2014 10:58:41 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id a7NnVC03iz8x for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon,  7 Apr 2014 10:58:36 -0700 (PDT)\r\nX-Received: from mail-ob0-f169.google.com (mail-ob0-f169.google.com [209.85.214.169])\n\tby mail.archive.org (Postfix) with ESMTPSA id A3FAEA62031\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon,  7 Apr 2014 10:58:36 -0700 (PDT)\r\nX-Received: by mail-ob0-f169.google.com with SMTP id va2so7057218obc.0\n        for &lt;archive-crawler@yahoogroups.com&gt;; Mon, 07 Apr 2014 10:58:35 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.173.233 with SMTP id bn9mr36335867oec.9.1396893515889;\n Mon, 07 Apr 2014 10:58:35 -0700 (PDT)\r\nX-Received: by 10.76.3.211 with HTTP; Mon, 7 Apr 2014 10:58:35 -0700 (PDT)\r\nIn-Reply-To: &lt;lhs575+4q7qbo@...&gt;\r\nReferences: &lt;lhs575+4q7qbo@...&gt;\r\nDate: Mon, 7 Apr 2014 10:58:35 -0700\r\nMessage-ID: &lt;CAA-z70L3Yf9Bo4rJ+CsZczd05pKO+JjEV9CWRAJG8aPRakHxVA@...&gt;\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: Re: [archive-crawler] Heretrix downloads URIs I want to reject; how\n to fix?\r\nX-Yahoo-Group-Post: member; u=325624130; y=477Fg85rq9hU7-Zz4eKJhpkw7JujlxfmzCzVbNBx-gDueA\r\nX-Yahoo-Profile: nlevitt\r\n\r\nHello,\n\nWhen you say you &quot;added some ExtractorHTML rules to the default\npro=\r\nfile&quot;, do you mean to the shouldProcessRule? If so that would mean\nthat url=\r\ns accepted by your rules would have the extractor run on them.\nI&#39;m not real=\r\nly familiar with httrack, but it sounds like that&#39;s not\nwhat you want. Mayb=\r\ne what you want is those rules 1,2,3 as your scope,\ninstead?\n\nNoah\n\nOn Sun,=\r\n Apr 6, 2014 at 11:08 AM,  &lt;iain_elder@...&gt; wrote:\n&gt; I&#39;m trying to do=\r\nwnload parts of the SAA&#39;s council tax valuation list, the tax rate for ever=\r\ny dwelling in Scotland.\n&gt;\n&gt; The list is presented as a series of search res=\r\nults. You can view the results as multi-record pages and single record page=\r\ns. I want to download only the multi-record pages to save time and space.\n&gt;=\r\n\n&gt; I&#39;m struggling to make Heritrix ignore the single-record pages.\n&gt;\n&gt; I ca=\r\nn make it work in HTTrack, but I&#39;d prefer to use Heritrix because it&#39;s more=\r\n stable for long crawls.\n&gt;\n&gt; As a small example, I tried to download all th=\r\ne records for Leith Walk in Edinburgh.\n&gt;\n&gt; The command for HTTrack is\n&gt;\n&gt;  =\r\n   httrack $LEITHWALK --robots=3D0 -* +*SEARCHED=3D1* -*DISPLAY_MODE=3DFULL=\r\n*\n&gt;\n&gt; Where LEITHWALK is an environment variable set to the value of the se=\r\ned URI\n&gt;\n&gt;     http://saa.gov.uk/search.php?SEARCHED=3D1&ST=3D&SEARCH_TERM=\r\n=3D.%2C+EDINBURGH%2C+Edinburgh%2C+City+Of&ASSESSOR_ID=3D&SEARCH_TABLE=3Dcou=\r\nncil_tax&x=3D0&y=3D0&__utma=3D203509138.417446144.1391957024.1391969789.139=\r\n1985451.4&__utmc=3D203509138&__utmz=3D203509138.1391957024.1.1.utmcsr%3D%28=\r\ndirect%29|utmccn%3D%28direct%29|utmcmd%3D%28none%29&saacookiepolicy=3D1&__u=\r\ntmb=3D203509138.10.10.1391985451&PAGE=3D0&DISPLAY_COUNT=3D100&TYPE_FLAG=3DC=\r\n&ORDER_BY=3DSET+DESC&ORIGINAL_SEARCH_TERM=3D.&DRILL_SEARCH_TERM=3DLEITH+WAL=\r\nK%2C+EDINBURGH%2C+Edinburgh%2C+City+Of&DD_UNITARY_AUTHORITY=3DEdinburgh%2C+=\r\nCity+Of&DD_TOWN=3DEDINBURGH&DD_STREET=3DLEITH+WALK\n&gt;\n&gt; I used a web browser=\r\n to generate the URI. It takes you to page 1 of the search results for Leit=\r\nh Walk.\n&gt;\n&gt; httrack dowloads just the multi-record pages, and nothing else.=\r\n\n&gt;\n&gt; To do the same in Heritrix I added some ExtractorHTML rules to the def=\r\nault profile.\n&gt;\n&gt; Rule 1 is a RejectDecideRule called rejectByDefault.\n&gt;\n&gt; =\r\nRule 2 is a MatchesRegexpDecideRule called acceptIfMatches. The decision is=\r\n ACCEPT if the URI matches\n&gt; the expression .*SEARCHED=3D1.* .\n&gt;\n&gt; This pat=\r\ntern occurs only in search result pages (you can see it in the seed example=\r\n).\n&gt;\n&gt; Rule 3 is a MatchesRegExpDecideRule called rejectIfMatches. The deci=\r\nsion is REJECT if the URI matches the expression .*DISPLAY_MODE=3DFULL.* .\n=\r\n&gt;\n&gt; This pattern occurs in the single-record pages but not in the multi-rec=\r\nord pages.\n&gt;\n&gt; The log for the crawl job shows that Heritrix still download=\r\ns pages that should rejected by rule 3. Here is the first such log record f=\r\nor a URI containing &quot;DISPLAY_MODE=3DFULL&quot;:\n&gt;\n&gt; 2014-04-06T16:28:10.361Z   2=\r\n00      14743 http://saa.gov.uk/search.php?SEARCHED=3D1&ST=3D&SEARCH_TERM=\r\n=3D.%2C+LEITH+WALK%2C+EDINBURGH%2C+Edinburgh%2C+City+Of&ASSESSOR_ID=3D&SEAR=\r\nCH_TABLE=3Dcouncil_tax&x=3D0&y=3D0&__utma=3D203509138.417446144.1391957024.=\r\n1391969789.1391985451.4&__utmc=3D203509138&__utmz=3D203509138.1391957024.1.=\r\n1.utmcsr%3D%28direct%29%7Cutmccn%3D%28direct%29%7Cutmcmd%3D%28none%29&saaco=\r\nokiepolicy=3D1&__utmb=3D203509138.10.10.1391985451&DISPLAY_COUNT=3D100&TYPE=\r\n_FLAG=3DC&ORDER_BY=3DSET+DESC&DRILL_SEARCH_TERM=3DLEITH+WALK%2C+EDINBURGH%2=\r\nC+Edinburgh%2C+City+Of&DD_UNITARY_AUTHORITY=3DEdinburgh%2C+City+Of&DD_TOWN=\r\n=3DEDINBURGH&DD_STREET=3DLEITH+WALK&DISPLAY_MODE=3DFULL&UARN=3D121L41112%2F=\r\n1&PPRN=3D000000000439301&ASSESSOR_IDX=3D10& L http://saa.gov.uk/search.php?=\r\nSEARCHED=3D1&ST=3D&SEARCH_TERM=3D.,%20EDINBURGH,%20Edinburgh,%20City%20Of&A=\r\nSSESSOR_ID=3D&SEARCH_TABLE=3Dcouncil_tax&x=3D0&y=3D0&__utma=3D203509138.417=\r\n446144.1391957024.1391969789.1391985451.4&__utmc=3D203509138&__utmz=3D20350=\r\n9138.1391957024.1.1.utmcsr=3D(direct)|utmccn=3D(direct)|utmc\n&gt;  md=3D(none)=\r\n&saacookiepolicy=3D1&__utmb=3D203509138.10.10.1391985451&PAGE=3D0&DISPLAY_C=\r\nOUNT=3D100&TYPE_FLAG=3DC&ORDER_BY=3DSET%20DESC&ORIGINAL_SEARCH_TERM=3D.&DRI=\r\nLL_SEARCH_TERM=3DLEITH%20WALK,%20EDINBURGH,%20Edinburgh,%20City%20Of&DD_UNI=\r\nTARY_AUTHORITY=3DEdinburgh,%20City%20Of&DD_TOWN=3DEDINBURGH&DD_STREET=3DLEI=\r\nTH%20WALK text/html #035 20140406162809964+396 sha1:JP65ICPU6XUB3WDW442E4YA=\r\nSPH24TSFX - -\n&gt;\n&gt; Why is Heritrix still downloading the pages I want to rej=\r\nect?\n&gt;\n&gt; How do I make it behave like HTTrack for this example?\n&gt;\n&gt; -------=\r\n-----------------------------\n&gt;\n&gt; Yahoo Groups Links\n&gt;\n&gt;\n&gt;\n\n"}}