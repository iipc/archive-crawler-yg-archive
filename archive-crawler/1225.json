{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"stack","from":"stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"CS86BJahCQGZwK_KVTQV-V8JCJxzds_-rmD8juGDsyQ8HW8O8AM-lo3kTMjtKXZoQ9PUMu5ViuouE2BVxviFHw","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: crawling the top 5 sports stories of the wpost - with explorer","postDate":"1101331691","msgId":1225,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQxQTRGQ0VCLjYwNDAwQGFyY2hpdmUub3JnPg==","inReplyToHeader":"PGNvMnE0cCtwaDBzQGVHcm91cHMuY29tPg==","referencesHeader":"PGNvMnE0cCtwaDBzQGVHcm91cHMuY29tPg=="},"prevInTopic":1224,"nextInTopic":1226,"prevInTime":1224,"nextInTime":1226,"topicId":1211,"numMessagesInTopic":11,"msgSnippet":"Its a powerful idea swapping in mozilla for our httpclient lib.  The mozilla/firefox remote control facility would need to be further developed; its lacking","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 83834 invoked from network); 24 Nov 2004 21:34:56 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m8.grp.scd.yahoo.com with QMQP; 24 Nov 2004 21:34:56 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta3.grp.scd.yahoo.com with SMTP; 24 Nov 2004 21:34:56 -0000\r\nReceived: (qmail 17838 invoked by uid 100); 24 Nov 2004 21:21:54 -0000\r\nReceived: from debord.archive.org (HELO ?207.241.238.140?) (stack@...@207.241.238.140)\n  by mail-dev.archive.org with SMTP; 24 Nov 2004 21:21:54 -0000\r\nMessage-ID: &lt;41A4FCEB.60400@...&gt;\r\nDate: Wed, 24 Nov 2004 13:28:11 -0800\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20041007 Debian/1.7.3-5\r\nX-Accept-Language: en-us\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;co2q4p+ph0s@...&gt;\r\nIn-Reply-To: &lt;co2q4p+ph0s@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=0.8 required=6.5 tests=AWL,CLICK_BELOW autolearn=no \n\tversion=2.63\r\nX-eGroups-Remote-IP: 207.241.224.172\r\nFrom: stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: crawling the top 5 sports stories of the\n wpost - with explorer\r\nX-Yahoo-Group-Post: member; u=168599281\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nIts a powerful idea swapping in mozilla for our httpclient lib.  The \nmozilla/firefox remote control facility would need to be further \ndeveloped; its lacking currently, \nhttp://www.mozilla.org/unix/remote.html (NS4.7 was more controllable.  \nE.g the &#39;saveas&#39; doesn&#39;t work in mozilla 1.7/1.8).   Might be better \ndeveloping an openoffice-like socket that a java client could connect to \nto drive the page fetching rather than going via the commandline.  Would \nbe &#39;heavyweight&#39; but would have an incontext JS-engine, etc.,  and if \nyou could run multiple concurrent fetchings in the one instance, the \n&#39;weight&#39; wouldn&#39;t be so bad.  Would be sweet too if could ask mozilla to \ndo page parsing extracting links (though Heritrix is more aggressive \nthan browsers about link extraction).  I&#39;m guessing hooking up Mozilla \nwould take a long time to develop requiring intimate knowledge of \nMozilla, a large application.\nSt.Ack\n\n\nozimmels wrote:\n\n&gt;\n&gt; first - thanks for all the help and support.\n&gt;\n&gt; so - i was at a dead end with heritirx.\n&gt;\n&gt; though i&#39;m a linux fan , my boss is a windows fan ( what can one do ? )\n&gt;\n&gt; and we had to solve the problem asap.\n&gt;\n&gt; IE (windoz - internet explorer) had a download option (sync a web site\n&gt; to disk )  - but it looks at robots.txt\n&gt; so you proxy ie and make sure it doesn&#39;t get robots.txt.\n&gt; (shhhhh - don&#39;t tell anyone :-)\n&gt;\n&gt; which brings me to my next subject:\n&gt; there is no way one can keep up with the capabilities of the major\n&gt; browsers ( ie, firefox .. )\n&gt;\n&gt; web sites are interested in having those browsers work and so the\n&gt; browsers know every trick in the book.\n&gt;\n&gt; web sites are firefox friendly but not heritirx friendly.\n&gt;\n&gt; taking that into consideration -\n&gt; why not build heritrix into firefox, or using firefox , or something\n&gt; like that.\n&gt;\n&gt; then ...\n&gt; there is no need to battle javascript , web tricks , etc ....\n&gt; and firefox will always be compatible.\n&gt;\n&gt; heritrix is the engine that uses firefox as the browser part.\n&gt;\n&gt; but .....\n&gt; i know that anytime i come up with any idea - someone already thought\n&gt; of it before me.\n&gt; if that is the case my apologies.\n&gt;\n&gt; and thanks you so much for the help .\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com, stack &lt;stack@a...&gt; wrote:\n&gt; &gt; ozimmels wrote:\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; well - i have been workin on this for 2 weeks now.\n&gt; &gt; &gt; and .. nothing.\n&gt; &gt; &gt;\n&gt; &gt; &gt; to be honest - i&#39;m at the point where i&#39;m thinking of paying someone\n&gt; &gt; &gt; to descover how to do it.\n&gt; &gt; &gt;\n&gt; &gt; &gt; what ever i do - wpost always sends me to the registration page.\n&gt; &gt; &gt;\n&gt; &gt; &gt; i myself have written a prel crawler a couple of years ago and i used\n&gt; &gt; &gt; cookies from a mozilla cookie file.\n&gt; &gt; &gt;\n&gt; &gt; &gt; anyone interested in pursuing this ?\n&gt; &gt; &gt; maybe as a contract job ?\n&gt; &gt; &gt;\n&gt; &gt; I took a look.  Apart from the two JS-set cookies, TEST_P, and TEST_S,\n&gt; &gt; there are other interesting issues around WP login.\n&gt; &gt;\n&gt; &gt; The expiry date sent over by the washington post is beginning of the\n&gt; &gt; epoch.  The httpclient lib that underpins heritrix is choosing to treat\n&gt; &gt; cookies marked with this expiration date as &#39;expired&#39; which seems\n&gt; proper.\n&gt; &gt;\n&gt; &gt; Here are the set-cookie headers sent by the WP login page:\n&gt; &gt;\n&gt; &gt; 1. Set-Cookie: TEST_P=; domain=.washingtonpost.com; expires=Thursday,\n&gt; &gt; 01-Jan-1970 01:00:00 GMT; path=/\n&gt; &gt; 2. Set-Cookie: TEST_S=; domain=.washingtonpost.com; expires=Thursday,\n&gt; &gt; 01-Jan-1970 01:00:00 GMT; path=/\n&gt; &gt; 3. Set-Cookie:\n&gt; &gt;\n&gt; UPROF=WU9CPTE5NjArRz1tYWxlK1pJUD05NDExNytVVD1leHBsaWNpdCtDPVVuaXRlZCBTdGF0ZXMrQj1QUk9GRVMrQj1FTkdOK0I9U09GVERFVitCPVNJWkVfMQ==;\n&gt;\n&gt; &gt; domain=.washingtonpost.com; expires=Thursday, 01-Jan-1970 01:00:00 GMT;\n&gt; &gt; path=/\n&gt; &gt; 4. Set-Cookie: UPDATED=1101314587; domain=.washingtonpost.com;\n&gt; &gt; expires=Thursday, 01-Jan-1970 01:00:00 GMT; path=/\n&gt; &gt; 5. Set-Cookie: wpniuser=stack@d...; domain=.washingtonpost.com;\n&gt; &gt; expires=Thursday, 01-Jan-1970 01:00:00 GMT; path=/\n&gt; &gt; NODATE,NODOMAIN BUT GETS RETURNED BY CRAWLER+++Set-Cookie:\n&gt; &gt;\n&gt; WebLogicSessionAc2=Bk6bKOkXvrj1aj0sF81Sd2RCmzF4j1B7g3t1ni1qSzcL3fdLrNd5!1390141459!-763422351;\n&gt;\n&gt; &gt; path=/+Set-Cookie:\n&gt; &gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3;\n&gt; &gt; domain=.washingtonpost.com; path=/\n&gt; &gt; 6. Set-Cookie:\n&gt; &gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3;\n&gt; &gt; domain=.washingtonpost.com; expires=Saturday, 26-Jan-2008 02:29:46 GMT;\n&gt; &gt; path=/\n&gt; &gt; 7. Set-Cookie: SESSIONREM=stack@d...; domain=.washingtonpost.com;\n&gt; &gt; path=/\n&gt; &gt;\n&gt; &gt; Here is what the browser sends back when it goes against the\n&gt; &gt; washingtonpost.com domain:\n&gt; &gt;\n&gt; &gt; Cookie:\n&gt; &gt;\n&gt; UPROF=WU9CPTE5NjArRz1tYWxlK1pJUD05NDExNytVVD1leHBsaWNpdCtDPVVuaXRlZCBTdGF0ZXMrQj1QUk9GRVMrQj1FTkdOK0I9U09GVERFVitCPVNJWkVfMQ==;\n&gt;\n&gt; &gt; UPDATED=1101314409; SESSIONREM=stack@d...;\n&gt; &gt; wpniuser=stack@d...;\n&gt; &gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3\n&gt; &gt;\n&gt; &gt; Here is what Heritrix sends back if its under the &#39;/ac&#39; path:\n&gt; &gt;\n&gt; &gt; Cookie: SESSIONREM=stack@d...;\n&gt; &gt; WPATC=A=1:D=3:C=2:E=JEBBH:S=8:S=245:B=7:B=29:B=78:B=100:VS=3\n&gt; &gt;\n&gt; &gt; Heritrix is missing the &#39;UPROF&#39;, &#39;UPDATED&#39;, and &#39;wpniuser&#39; cookie\n&gt; &gt; elements (Items 3., 4., and 5. above).  Notice that the expiration date\n&gt; &gt; set on these cookie elements is &#39;Thursday, 01-Jan-1970 01:00:00 GMT&#39;. \n&gt; &gt; Browsers seem to return cookies marked with this date as unexpired.\n&gt; The\n&gt; &gt; httpclient lib passes them over.\n&gt; &gt;\n&gt; &gt; There&#39;s a configuration on the heritrix CookiePolicy to say whether\n&gt; &gt; cookie policy should be strict or browser compatible.   Heritrix has it\n&gt; &gt; set to browser compatible but looks like 1970 is a special date as far\n&gt; &gt; as browsers are concerned (Looking in httpclient lib source, there\n&gt; is no\n&gt; &gt; special handling for the 1970 date that I can see).  Anyone know\n&gt; &gt; anything about this?  Otherwise, time to look in browser src.\n&gt; &gt;\n&gt; &gt; I tried using the cookies file from the browser.  That got me\n&gt; further in\n&gt; &gt; that the Heritrix &#39;cookie&#39; header looked more like the browsers but I&#39;m\n&gt; &gt; still not getting in (Perhaps something to do with TEST_P and TEST_S).\n&gt; &gt; St.Ack\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; write to me.\n&gt; &gt; &gt; thanks.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In archive-crawler@yahoogroups.com, stack &lt;stack@a...&gt; wrote:\n&gt; &gt; &gt; &gt; ozimmels wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; i want to crawl the top 5 stories of wpost.com\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; but of course wpost has login etc ...\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; i&#39;ve tried using firefox cookie files\n&gt; &gt; &gt; &gt; &gt; and i&#39;ve tried to do a credentials login with heritrix.\n&gt; &gt; &gt; &gt; &gt; but alas i have failed\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; anyone have a clue ?\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; help .......\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; You&#39;ll have to supply  more info. if we&#39;re to help.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &lt;aside&gt;Does WPOST let crawlers get content (Is there a robots.txt on\n&gt; &gt; &gt; &gt; this site that bars crawler access?)  Does the online policy\n&gt; explicitly\n&gt; &gt; &gt; &gt; bar robots?  The NYT policy seems to allow crawler access if the\n&gt; &gt; &gt; &gt; downloads are for personal use only.  Perhaps WPOST is the\n&gt; same.&lt;/aside&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Back to debugging.  You can log in with your browser, right?\n&gt; &gt; &gt; &gt; Programmatic login by Heritrix is difficult to debug;  You could\n&gt; &gt; &gt; look in\n&gt; &gt; &gt; &gt; crawl logs to see whats happening on submission (Are you\n&gt; redirected, is\n&gt; &gt; &gt; &gt; it 200 on POST?) and in the ARC files to see what the login result\n&gt; &gt; &gt; pages\n&gt; &gt; &gt; &gt; you&#39;re getting back look like -- how do they compare to the browser\n&gt; &gt; &gt; &gt; pages?  You might try doing the login negotiation using CURL\n&gt; first --\n&gt; &gt; &gt; &gt; because it&#39;ll be easier to follow the login vagaries in a tool like\n&gt; &gt; &gt; CURL\n&gt; &gt; &gt; &gt; -- to learn more about how it works before trying the login in\n&gt; Heritrix.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; St.Ack\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; *Yahoo! Groups Sponsor*\n&gt; &gt; &gt; &gt; &gt; ADVERTISEMENT\n&gt; &gt; &gt; &gt; &gt; click here\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &lt;http://us.ard.yahoo.com/SIG=129q2nfnt/M=298184.5584357.6650215.3001176/D=groups/S=1705004924:HM/EXP=1101238079/A=2434971/R=0/SIG=11eeoolb0/*http://www.netflix.com/Default?mqso=60185400&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; &gt; &gt; *Yahoo! Groups Links*\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;     * To visit your group on the web, go to:\n&gt; &gt; &gt; &gt; &gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt; &gt; &gt; &gt;      \n&gt; &gt; &gt; &gt; &gt;     * To unsubscribe from this group, send an email to:\n&gt; &gt; &gt; &gt; &gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt; &gt; &gt;    \n&gt; &gt; &gt;\n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt; &gt; &gt;      \n&gt; &gt; &gt; &gt; &gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; *Yahoo! Groups Sponsor*\n&gt; &gt; &gt;\n&gt; &lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=0/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449 \n&gt; &lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=0/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449&gt;&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Get unlimited calls to\n&gt; &gt; &gt;\n&gt; &gt; &gt; U.S./Canada\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=1/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449 \n&gt; &lt;http://us.ard.yahoo.com/SIG=1296kmas5/M=296572.5585671.6651487.3001176/D=groups/S=1705004924:HM/EXP=1101242698/A=2343726/R=1/SIG=12ig9gfcv/*http://clk.atdmt.com/VON/go/yhxxxvon01900091von/direct/01/&time=1101156298212449&gt;&gt;\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; ------------------------------------------------------------------------\n&gt; &gt; &gt; *Yahoo! Groups Links*\n&gt; &gt; &gt;\n&gt; &gt; &gt;     * To visit your group on the web, go to:\n&gt; &gt; &gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * To unsubscribe from this group, send an email to:\n&gt; &gt; &gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;     \n&gt; &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt; &gt;       \n&gt; &gt; &gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; *Yahoo! Groups Sponsor*\n&gt; ADVERTISEMENT\n&gt; click here \n&gt; &lt;http://us.ard.yahoo.com/SIG=1294v6e9r/M=298184.5639630.6699735.3001176/D=groups/S=1705004924:HM/EXP=1101413840/A=2434970/R=0/SIG=11edksnhv/*http://www.netflix.com/Default?mqso=60185402&gt; \n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; *Yahoo! Groups Links*\n&gt;\n&gt;     * To visit your group on the web, go to:\n&gt;       http://groups.yahoo.com/group/archive-crawler/\n&gt;        \n&gt;     * To unsubscribe from this group, send an email to:\n&gt;       archive-crawler-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:archive-crawler-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     * Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n\n\n"}}