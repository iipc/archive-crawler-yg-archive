{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"Pfhikr23LrycsWRE_5DVBQ8ROxFXXrQ08pz0u51GKDoJWgPcU0tP1r_jANVYiYEDWumuUb-o3KJKVZ1SWqbfIg_ye3_8xbo","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Re: What&#39;s the easiest way of getting the original seed in a customized writer?","postDate":"1221658756","msgId":5479,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4RDEwODg0LjEwNzA4MDhAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGdhcjAybys0cG9uQGVHcm91cHMuY29tPg==","referencesHeader":"PGdhcjAybys0cG9uQGVHcm91cHMuY29tPg=="},"prevInTopic":5478,"nextInTopic":5480,"prevInTime":5478,"nextInTime":5480,"topicId":5473,"numMessagesInTopic":8,"msgSnippet":"The source-tag is inherited by each discovered URI. So when it is set to be the seed URI, that seed URI appears on all subsequent URIs. The ","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 19185 invoked from network); 17 Sep 2008 13:39:14 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m46.grp.scd.yahoo.com with QMQP; 17 Sep 2008 13:39:14 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta16.grp.scd.yahoo.com with SMTP; 17 Sep 2008 13:39:13 -0000\r\nX-Received: (qmail 28041 invoked from network); 17 Sep 2008 13:39:12 -0000\r\nX-Received: from unknown (HELO ?192.168.1.19?) (unknown)\n  by unknown with SMTP; 17 Sep 2008 13:39:12 -0000\r\nX-pair-Authenticated: 130.225.26.227\r\nMessage-ID: &lt;48D10884.1070808@...&gt;\r\nDate: Wed, 17 Sep 2008 06:39:16 -0700\r\nUser-Agent: Thunderbird 2.0.0.16 (Windows/20080708)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;gar02o+4pon@...&gt;\r\nIn-Reply-To: &lt;gar02o+4pon@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Re: What&#39;s the easiest way of getting the original\n seed in a customized writer?\r\nX-Yahoo-Group-Post: member; u=137285340; y=UwBb-09obSChnjihUARWmTi933Z690A4sQT4stVLW8i7\r\nX-Yahoo-Profile: gojomo\r\n\r\nThe &#39;source-tag&#39; is inherited by each discovered URI. So when it is set \nto be the seed URI, that seed URI appears on all subsequent URIs. The \nimmediate-predecessor URI is available as the &#39;via&#39; URI, which also \nappears in the crawl.log.\n\nFor example, starting with...\n\nseed:\n  uri: http://www.example.com\n  hops-path: (none)\n  via: (none)\n  source-tag: http://www.example.com\n\n...you might then discover an clickable outlink (an &#39;N&#39; hop) in an &lt;A&gt; \nHREF attribute...\n\nfirst discovered URI:\n  uri: http://www.example.com/subsection\n  hops-path: N\n  via: http://www.example.com\n  source-tag: http://www.example.com\n\n...and then discover an inline image URI (an &#39;E&#39; hop) in an &lt;IMG&gt; SRC \nattribute...\n\nsecond discovered URI:\n  uri: http://www.example.com/images/header.gif\n  hops-path: NE\n  via: http://www.example.com/subsection\n  source-tag: http://www.example.com\n\nSo you can construct the graph *as the crawler followed it* from the \ncrawl.log, but you can also read the origin-seed and \nimmediate-predecessor URIs from each line.\n\n- Gordon @ IA\n\nalihoaliho wrote:\n&gt; is the &#39;source&#39; just the parent page of which the url was extracted\n&gt; from? So to get all the way to the originate seed, i need to construct\n&gt; a graph and follow the path to the root?\n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;&gt; If you set the &#39;source-tag-seeds&#39; setting of your Frontier to &#39;true&#39;, \n&gt;&gt; each seed URI will be tagged with itself, and then each URI discovered \n&gt;&gt; from those seeds will inherit this same source seed. This source tag \n&gt;&gt; will appear in the second-to-last field of the crawl.log.\n&gt;&gt;\n&gt;&gt; So, you&#39;ll be able to see from the crawl.log the seed from which any\n&gt; URI \n&gt;&gt; was discovered.\n&gt;&gt;\n&gt;&gt; Note that it&#39;s not guaranteed to be the seed from which the shortest \n&gt;&gt; path to the URI can be found -- the crawler sometimes follows\n&gt; longer-hop \n&gt;&gt; paths more quickly than shorter-hop paths, and the source tag will be \n&gt;&gt; the seed from which the URi was actually discovered.\n&gt;&gt;\n&gt;&gt; (The above is true for 1.14.1; it looks like a bug in 2.0.1 is \n&gt;&gt; preventing the source tag from appearing in the crawl.log.)\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt; alihoaliho wrote:\n&gt;&gt;&gt; Hi, i am trying to create a customize writer that needs to write out\n&gt;&gt;&gt; the crawled document as well as the seed of which the document was\n&gt;&gt;&gt; originated from (so that I can tell which document was from which\n&gt; seed).\n&gt;&gt;&gt; I&#39;ve tried a few things (modifying/recompiling the sources codes) and\n&gt;&gt;&gt; none of the solution are elegant because it touches too many files.\n&gt;&gt;&gt; Can someone who knows the heritrix codebase tell me what would be the\n&gt;&gt;&gt; easiest way to achieve this?\n&gt;&gt;&gt;\n&gt;&gt;&gt; thanks\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}