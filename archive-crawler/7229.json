{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":140025715,"authorName":"progre55","from":"&quot;progre55&quot; &lt;ikromchik@...&gt;","profile":"progre55","replyTo":"LIST","senderId":"AA1G_Ffa0G5Ox0Py3q3fLZkQiHbJNqefl6vT-62zYNWOsgQIWxbNYAcCHM4vqzFrv2B7qYHr-GM2d3os6XQgwctJ0b1MJmw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Loading cookies from a file on H3","postDate":"1311686918","msgId":7229,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGowbWZlNityMHUxQGVHcm91cHMuY29tPg==","inReplyToHeader":"PGowbWRkdSthMG40QGVHcm91cHMuY29tPg=="},"prevInTopic":7228,"nextInTopic":7230,"prevInTime":7228,"nextInTime":7230,"topicId":7227,"numMessagesInTopic":7,"msgSnippet":"Anyways, I just have a manual fix for now, adding result.put(cookie.getSortKey(), cookie); after it has been created (loaded) from the file, and now loading","rawEmail":"Return-Path: &lt;ikromchik@...&gt;\r\nX-Sender: ikromchik@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 77739 invoked from network); 26 Jul 2011 13:28:40 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m1.grp.sp2.yahoo.com with QMQP; 26 Jul 2011 13:28:40 -0000\r\nX-Received: from unknown (HELO ng15-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.128)\n  by mta1.grp.sp2.yahoo.com with SMTP; 26 Jul 2011 13:28:40 -0000\r\nX-Received: from [98.139.164.120] by ng15.bullet.mail.bf1.yahoo.com with NNFMP; 26 Jul 2011 13:28:39 -0000\r\nX-Received: from [69.147.65.150] by tg1.bullet.mail.bf1.yahoo.com with NNFMP; 26 Jul 2011 13:28:39 -0000\r\nX-Received: from [98.137.35.12] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 26 Jul 2011 13:28:39 -0000\r\nDate: Tue, 26 Jul 2011 13:28:38 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;j0mfe6+r0u1@...&gt;\r\nIn-Reply-To: &lt;j0mddu+a0n4@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;progre55&quot; &lt;ikromchik@...&gt;\r\nSubject: Re: Loading cookies from a file on H3\r\nX-Yahoo-Group-Post: member; u=140025715; y=ztt_piIqxS0M62hrH4bH6h-5laM_mjG1Q3KiN5OuQ_OsoRbN\r\nX-Yahoo-Profile: progre55\r\n\r\nAnyways, I just have a manual fix for now, adding \n    result.put(cookie.ge=\r\ntSortKey(), cookie);\nafter it has been created (loaded) from the file, and =\r\nnow loading cookies from a file works as expected.\n\n--- In archive-crawler@=\r\nyahoogroups.com, &quot;progre55&quot; &lt;ikromchik@...&gt; wrote:\n&gt;\n&gt; \n&gt; \n&gt; Gordon, please=\r\n comment here if you think it&#39;s indeed a bug and commit a fix into svn. App=\r\nreciate.\n&gt; \n&gt; --- In archive-crawler@yahoogroups.com, &quot;progre55&quot; &lt;ikromchik=\r\n@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi guys,\n&gt; &gt; \n&gt; &gt; I&#39;ve been playing around with H3, and n=\r\noticed that loading cookies from a file doesn&#39;t really work. When tried ana=\r\nlyzing the code, I found out that the loadCookies() method reads the file, =\r\nbut doesn&#39;t store the cookies read. Here is the method in original form, an=\r\nd as you can see, Cookie objects are created, but not put into the SortedMa=\r\np:\n&gt; &gt; \n&gt; &gt;     public static void loadCookies(String cookiesFile, \n&gt; &gt;    =\r\n         SortedMap&lt;String,Cookie&gt; result) {\n&gt; &gt; \n&gt; &gt;         // Do nothing =\r\nif cookiesFile is not specified.\n&gt; &gt;         if (cookiesFile =3D=3D null ||=\r\n cookiesFile.length() &lt;=3D 0) {\n&gt; &gt;             return;\n&gt; &gt;         }\n&gt; &gt;  =\r\n       RandomAccessFile raf =3D null;\n&gt; &gt;         try {\n&gt; &gt;             raf=\r\n =3D new RandomAccessFile(cookiesFile, &quot;r&quot;);\n&gt; &gt;             String[] cooki=\r\neParts;\n&gt; &gt;             String line;\n&gt; &gt;             Cookie cookie =3D null=\r\n;\n&gt; &gt;             while ((line =3D raf.readLine()) !=3D null) {\n&gt; &gt;        =\r\n         // Line that starts with # is commented line, therefore skip it.\n&gt;=\r\n &gt;                 if (!line.startsWith(&quot;#&quot;)) {\n&gt; &gt;                     coo=\r\nkieParts =3D line.split(&quot;&#92;&#92;t&quot;);\n&gt; &gt;                     if (cookieParts.len=\r\ngth =3D=3D 7) {\n&gt; &gt;                         // Create cookie with not expir=\r\nation date (-1 value).\n&gt; &gt;                         // TODO: add this as an =\r\noption.\n&gt; &gt;                         cookie =3D new Cookie(cookieParts[0], c=\r\nookieParts[5],\n&gt; &gt;                                 cookieParts[6], cookiePa=\r\nrts[2], -1, Boolean\n&gt; &gt;                                         .valueOf(co=\r\nokieParts[3]).booleanValue());\n&gt; &gt; \n&gt; &gt;                         if (cookieP=\r\narts[1].toLowerCase().equals(&quot;true&quot;)) {\n&gt; &gt;                             coo=\r\nkie.setDomainAttributeSpecified(true);\n&gt; &gt;                         } else {=\r\n\n&gt; &gt;                             cookie.setDomainAttributeSpecified(false);=\r\n\n&gt; &gt;                         }\n&gt; &gt;                         \n&gt; &gt;            =\r\n             LOGGER.fine(&quot;Adding cookie: &quot;\n&gt; &gt;                             =\r\n            + cookie.toExternalForm());\n&gt; &gt;                     }\n&gt; &gt;      =\r\n           }\n&gt; &gt;             }\n&gt; &gt;         } catch (FileNotFoundException e=\r\n) {\n&gt; &gt;             LOGGER.log(Level.WARNING,&quot;Could not find file: &quot; + cook=\r\niesFile, e);\n&gt; &gt;         } catch (IOException e) {\n&gt; &gt;             LOGGER.l=\r\nog(Level.WARNING,e.getMessage(), e);\n&gt; &gt;         } finally {\n&gt; &gt;           =\r\n  ArchiveUtils.closeQuietly(raf);\n&gt; &gt;         }\n&gt; &gt;     }\n&gt; &gt; \n&gt; &gt; Or am I =\r\nmissing something here? I have just checked out heritrix 3 from this svn ur=\r\nl https://archive-crawler.svn.sourceforge.net/svnroot/archive-crawler/trunk=\r\n/heritrix3/ and hope it&#39;s the right place.\n&gt; &gt; \n&gt; &gt; Regards,\n&gt; &gt; progre55\n&gt;=\r\n &gt;\n&gt;\n\n\n\n"}}