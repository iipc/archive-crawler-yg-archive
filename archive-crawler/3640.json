{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":193394005,"authorName":"blah_1977","from":"&quot;blah_1977&quot; &lt;hwangs@...&gt;","profile":"blah_1977","replyTo":"LIST","senderId":"hBDHmqiBGvGMEqQGYZ2U96Lp88eamA_55gUIr_GekOjgIy4Kry4pJSzV5qKuTvS4vB6UQ3vOyMXMu5jeIGQobTfejpbECxQb","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: heritrix stuck","postDate":"1167770943","msgId":3640,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGVuZWdmditzdTQ3QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ1OTE3RkRDLjkwMjA3MDNAYXJjaGl2ZS5vcmc+"},"prevInTopic":3639,"nextInTopic":0,"prevInTime":3639,"nextInTime":3641,"topicId":3603,"numMessagesInTopic":9,"msgSnippet":"... Were ... I was calling the toString() method on the ReplayCharSequence and then putting the resulting String into the AList. ... I can try this, but will","rawEmail":"Return-Path: &lt;hwangs@...&gt;\r\nX-Sender: hwangs@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 95863 invoked from network); 2 Jan 2007 20:50:32 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m39.grp.scd.yahoo.com with QMQP; 2 Jan 2007 20:50:32 -0000\r\nReceived: from unknown (HELO n21a.bullet.scd.yahoo.com) (66.94.237.50)\n  by mta8.grp.scd.yahoo.com with SMTP; 2 Jan 2007 20:50:32 -0000\r\nReceived: from [66.218.69.4] by n21.bullet.scd.yahoo.com with NNFMP; 02 Jan 2007 20:49:06 -0000\r\nReceived: from [66.218.66.83] by t4.bullet.scd.yahoo.com with NNFMP; 02 Jan 2007 20:49:06 -0000\r\nDate: Tue, 02 Jan 2007 20:49:03 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;enegfv+su47@...&gt;\r\nIn-Reply-To: &lt;45917FDC.9020703@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;blah_1977&quot; &lt;hwangs@...&gt;\r\nSubject: Re: heritrix stuck\r\nX-Yahoo-Group-Post: member; u=193394005; y=ajiTPmxPzy3Qh50tgm3dq_th654BDdSuzIKXOX8ppM-9O7Q7b0k\r\nX-Yahoo-Profile: blah_1977\r\n\r\n--- In archive-crawler@yahoogroups.com, Michael Stack &lt;stack@...&gt; wrote:\n&gt;\n=\r\n&gt; Thats an odd error.  Implication is that the memory-mapped file -- the \n&gt;=\r\n one w/ the UTF-16BE suffix -- needs to be closed only ByteBuffers don&#39;t \n&gt;=\r\n have a close method (The CharSequence given to extractors in Multibyte \n&gt; =\r\ncase is a ByteBuffer.  If we are replaying a large download, its a \n&gt; Mappe=\r\ndByteBuffer onto a backing file).    At the head of \n&gt; http://java.sun.com/=\r\nj2se/1.4.2/docs/api/java/nio/MappedByteBuffer.html \n&gt; it says: &quot;A mapped by=\r\nte buffer and the file mapping that it represents \n&gt; remain valid until the=\r\n buffer itself is garbage-collected&quot; from .  \nWere \n&gt; you putting a copy of=\r\n the ReplayCharSequence into the AList or a \n&gt; reference? \n\nI was calling t=\r\nhe toString() method on the ReplayCharSequence and then\nputting the resulti=\r\nng String into the AList.\n\n\n&gt; \n&gt; What if you ran a crawler w/ 2 or 3 HTML e=\r\nxtractors running in series, \n&gt; do you have the same issue? \n\nI can try thi=\r\ns, but will won&#39;t the 2nd and 3rd ExtractorHTML objects\nnot do anything bec=\r\nause of the following check in the extract() method?\n\nif (!isHttpTransactio=\r\nnContentToProcess(curi) || ...)\n    return;\n\nI suppose I can comment that c=\r\nheck out.  Hmmm, let me try this and get\nback to you on the results.\n\n\n&gt; Ha=\r\nppens on linux and windows?   \n\nHappens on windows.  Will try test on linux=\r\n and report back with results.\n\n\n&gt; Error \n&gt; happens in your extractor or in=\r\n your postprocessor?  The exact error \n&gt; string would help or if you can tu=\r\nrn it up or any other info on the \n&gt; issue (We&#39;ve had a long-lived annoying=\r\n bug in here in this multi-byte \n&gt; replay).\n&gt; \n\nError seems to happen in bo=\r\nth the extractor and in the postprocessor.\n Will report back the exact erro=\r\nr strings from the tests above. \n\n\n\n&gt; Your workaround seems fine (Let us kn=\r\now if there is anything we should \n&gt; change in ExtractorHTML to make subcla=\r\nssing the easier).\n&gt; \n&gt; I also played w/ Heritrix unit tests trying to repr=\r\noduce but to no \n&gt; avail.  I also played w/ reusing the same multibyte RIS =\r\nin series\nbut it \n&gt; seems to work fine in unit tests at least.\n&gt; \n&gt; If you =\r\nhave a problematic website that reliably triggers the error, \n&gt; share it wi=\r\nth us (off-list if you prefer).\n\nHere is a site that seems to cause this pr=\r\noblem with regularity:\n\nhttp://www.agilent.apply2jobs.com/index.cfm?fuseact=\r\nion=3DmExternal.searchJobs\n\nThe default crawl order profile that comes pack=\r\naged with Heritrix is\nfine for crawling the above site.  Error won&#39;t occur =\r\nright away, but\nseems to consistently appear after a minute or 2 of crawlin=\r\ng.\n\nThanks much!\n\n\n"}}