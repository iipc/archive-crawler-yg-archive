{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"FVCjTZ_-NrOy4FeDRon_exDOSnWFDMvpKcduNhYOiyGICEGknbrldgDnQoBscj4JLSNuIRzDWhXWsTPM595LoBMYqEzbukY","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] surt prefix truncated to host/domain level","postDate":"1177973593","msgId":4209,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MzY3MzU5LjIwMTAxMDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDg5MmY2YTM0MDcwNDI4MTkwOW40NjA2ODJkMHczMDE5YjRkYmU0ZmQxMGQyQG1haWwuZ21haWwuY29tPg==","referencesHeader":"PGYwdHJzZStvajNiQGVHcm91cHMuY29tPiA8NDYzMjdBMDguOTAyMDZAYXJjaGl2ZS5vcmc+CSA8ODkyZjZhMzQwNzA0MjgxMjE1eTc1N2E1Yjg1Z2Q1MjA1NDY2NDdkNTdjYzZAbWFpbC5nbWFpbC5jb20+CSA8ODkyZjZhMzQwNzA0MjgxMzAxdDQzNjRkZDcxamMxYmE0YTM4MGJiMzBkOTVAbWFpbC5nbWFpbC5jb20+CSA8NDYzM0IzRTQuMTA4MDYwNkBhcmNoaXZlLm9yZz4gPDg5MmY2YTM0MDcwNDI4MTkwOW40NjA2ODJkMHczMDE5YjRkYmU0ZmQxMGQyQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":4203,"nextInTopic":0,"prevInTime":4208,"nextInTime":4210,"topicId":4197,"numMessagesInTopic":7,"msgSnippet":"Mike - Take a look at the also-check-via expert setting on the SurtPrefix-based DecideRules. It checks if either the URI itself is accepted by the SURT","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 6490 invoked from network); 30 Apr 2007 22:51:36 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m46.grp.scd.yahoo.com with QMQP; 30 Apr 2007 22:51:36 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta13.grp.scd.yahoo.com with SMTP; 30 Apr 2007 22:51:36 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 1D1EC141C6F9F\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 30 Apr 2007 15:50:05 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 00781-02 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tMon, 30 Apr 2007 15:50:03 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id F20D9141C6F5C\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Mon, 30 Apr 2007 15:50:02 -0700 (PDT)\r\nMessage-ID: &lt;46367359.2010107@...&gt;\r\nDate: Mon, 30 Apr 2007 15:53:13 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (X11/20070306)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;f0trse+oj3b@...&gt; &lt;46327A08.90206@...&gt;\t &lt;892f6a340704281215y757a5b85gd520546647d57cc6@...&gt;\t &lt;892f6a340704281301t4364dd71jc1ba4a380bb30d95@...&gt;\t &lt;4633B3E4.1080606@...&gt; &lt;892f6a340704281909n460682d0w3019b4dbe4fd10d2@...&gt;\r\nIn-Reply-To: &lt;892f6a340704281909n460682d0w3019b4dbe4fd10d2@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] surt prefix truncated to host/domain level\r\nX-Yahoo-Group-Post: member; u=137285340; y=_j7kVLyjwR1XL5kN7nFsJly0iOj2YOfvFTCTC9MoCfYR\r\nX-Yahoo-Profile: gojomo\r\n\r\nMike -\n\nTake a look at the &#39;also-check-via&#39; expert setting on the \nSurtPrefix-based DecideRules. It checks if either the URI itself is \naccepted by the SURT prefixes, *or* its &#39;via&#39; (referring) URI is \naccepted. It essentially expands the SURT-based test to also rule-in \none-hop-off URIs.\n\n(Someday Heritrix may support N-hops-off but that will require a \ndifferent approach carrying forward more state.)\n\n- Gordon @ IA\n\nmikej wrote:\n&gt; Gordon,\n&gt; \n&gt; I am using ScopePlusOneDecideRule which when I tested it again the straight\n&gt; - SurtPrefixDecideRule - it does just as you described below and trims to\n&gt; the prefix to the Host level. I did not send the scope section of the\n&gt; order.xml as you answered my question.\n&gt; \n&gt; Do you know how I can accomplish the same crawl I was attempting to do?. I\n&gt; wanted a crawl to be constrained to a fairly restrictive path - several\n&gt; directories down from the host level - but also wanted the crawl to be\n&gt; allowed to do the plus one, where plus one could be any location regardless\n&gt; of the crawl restrictions.\n&gt; \n&gt; i.e.\n&gt; seed item:\n&gt; http://sportsillustrated.cnn.com/2007/baseball/mlb/04/27/redsox2.yankees.ap/index.html \n&gt; \n&gt; \n&gt; restrict crawl to:\n&gt; http://sportsillustrated.cnn.com/2007/baseball/\n&gt; \n&gt; but allow crawl to do the plus one and go to:\n&gt; http://just.anothersite.com\n&gt; if it came upon this link in one of the pages in scope\n&gt; \n&gt; Thanks,\n&gt; Mike\n&gt; \n&gt; On 4/28/07, Gordon Mohr &lt;gojomo@...&gt; wrote:\n&gt;&gt;\n&gt;&gt;   By any chance are you using an OnHostsDecideRule or \n&gt;&gt; OnDomainsDecideRule?\n&gt;&gt;\n&gt;&gt; They are based on the SurtPrefixedDecideRule -- but always trim the\n&gt;&gt; prefixes to the desired breadth.\n&gt;&gt;\n&gt;&gt; Could you forward the entire &#39;scope&#39; section of your order.xml?\n&gt;&gt;\n&gt;&gt; - Gordon @ IA\n&gt;&gt;\n&gt;&gt; mikej wrote:\n&gt;&gt; &gt; Sorry,\n&gt;&gt; &gt;\n&gt;&gt; &gt; I gave you the wrong seed item:\n&gt;&gt; &gt;\n&gt;&gt; http://web.banktest.org/WBSITE/EXTERNAL/EXTDEC/EXTRESEARCH/EXTPRRS/index.html \n&gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; I also confirmed I am getting the same behavior for any seed item \n&gt;&gt; and no\n&gt;&gt;\n&gt;&gt; &gt; surts-source-file as below. I specify a surts-dump-file to inspect the\n&gt;&gt; &gt; genertated SURT-PREFIX list.\n&gt;&gt; &gt;\n&gt;&gt; &gt; seed item:\n&gt;&gt; &gt;\n&gt;&gt; http://sportsillustrated.cnn.com/2007/baseball/mlb/04/27/redsox2.yankees.ap/index.html \n&gt;&gt;\n&gt;&gt; &gt; surts-source-file: (Blank)\n&gt;&gt; &gt; surts-dump-file: surtdump.bos\n&gt;&gt; &gt; seeds-as-surt-prefixes: TRUE\n&gt;&gt; &gt;\n&gt;&gt; &gt; Text in surtdump.bos\n&gt;&gt; &gt; http://(com,cnn,sportsillustrated,)\n&gt;&gt; &gt;\n&gt;&gt; &gt; Let me know if you reproduce the same,\n&gt;&gt; &gt; Mike\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; On 4/28/07, *mikej* &lt; bosoxchamps@... &lt;bosoxchamps%40gmail.com&gt;\n&gt;&gt; &gt; &lt;mailto:bosoxchamps@... &lt;bosoxchamps%40gmail.com&gt;&gt;&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; Gordon,\n&gt;&gt; &gt;\n&gt;&gt; &gt; I just confirmed that I do have &#39;seeds-as-surt-prefixes&#39; set to\n&gt;&gt; &gt; false and the only seed item I have is:\n&gt;&gt; &gt; http://web.banktest.org/WBSITE/EXTERNAL/TEST/index.html\n&gt;&gt; &gt; &lt;http://web.banktest.org/WBSITE/EXTERNAL/TEST/index.html&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; So I am still unsure why it is creating such broad searching SURT\n&gt;&gt; &gt; prefixes.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Mike\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; On 4/27/07, * Gordon Mohr* &lt; gojomo@... &lt;gojomo%40archive.org&gt;\n&gt;&gt; &gt; &lt;mailto:gojomo@... &lt;gojomo%40archive.org&gt;&gt;&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; mjjjhjemj wrote:\n&gt;&gt; &gt; &gt; Here are the contents of my surts-source-file:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; +http://(org,banktest,econ,)/WBSITE/EXTERNAL/EXTDEC/EXTRESEARCH/EXTPRRS\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; +http://(org,banktest,web,)/WBSITE/EXTERNAL/EXTDEC/EXTRESEARCH/EXTPRRS\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Here are the contents of the resulting surts-dump-file:\n&gt;&gt; &gt; &gt; http://(org,banktest,econ,)\n&gt;&gt; &gt; &gt; http://(org,banktest,web,)\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; The above truncation happens whether I provide the two surt\n&gt;&gt; &gt; items in\n&gt;&gt; &gt; &gt; standard URL or as a surt prefix as above. I thought the\n&gt;&gt; &gt; truncation\n&gt;&gt; &gt; &gt; would only go back to leaving 3 /&#39;s - i.e.\n&gt;&gt; &gt; &gt; http://(org,banktest,econ,)/WBSITE/EXTERNAL/\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Have I setup something wrong?\n&gt;&gt; &gt;\n&gt;&gt; &gt; I suspect you have &#39;seeds-as-surt-prefixes&#39; set, and seeds of\n&gt;&gt; &gt; the sites&#39;\n&gt;&gt; &gt; root pages. They get converted to SURT prefixes, and then make the\n&gt;&gt; &gt; more-narrow prefixes of your surts-source-file redundant.\n&gt;&gt; &gt;\n&gt;&gt; &gt; - Gordon @ IA\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt; \n\n\n"}}