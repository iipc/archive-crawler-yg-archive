{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":168599281,"authorName":"Michael Stack","from":"Michael Stack &lt;stack@...&gt;","profile":"stackarchiveorg","replyTo":"LIST","senderId":"Hlg2eOmcapXGyrCpzuV3rKTgAfuFruNBx1oxORXJPmYfQW_mYBL1xH2qrcwdUxVfjP15PFqylBi5A2rQqUDEvSN9jph2AZcX","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] Re: Beanshell script format (?)","postDate":"1161116205","msgId":3459,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ1MzUzQTJELjUwNDA1MDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGVoMzE4aCs4c25oQGVHcm91cHMuY29tPg==","referencesHeader":"PGVoMzE4aCs4c25oQGVHcm91cHMuY29tPg=="},"prevInTopic":3452,"nextInTopic":3460,"prevInTime":3458,"nextInTime":3460,"topicId":3452,"numMessagesInTopic":4,"msgSnippet":"... Is CrawlURI#getPathFromSeed() what you are after?  (And perhaps CrawlURI#getUURI()#getPath()?) St.Ack","rawEmail":"Return-Path: &lt;stack@...&gt;\r\nX-Sender: stack@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 57546 invoked from network); 17 Oct 2006 20:41:41 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m30.grp.scd.yahoo.com with QMQP; 17 Oct 2006 20:41:41 -0000\r\nReceived: from unknown (HELO dns.duboce.net) (63.203.238.114)\n  by mta5.grp.scd.yahoo.com with SMTP; 17 Oct 2006 20:41:40 -0000\r\nReceived: by dns.duboce.net (Postfix, from userid 1008)\n\tid CAE0FCDA8; Tue, 17 Oct 2006 11:55:47 -0700 (PDT)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on dns.duboce.net\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-4.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 \n\tautolearn=ham version=3.1.4\r\nReceived: from [192.168.1.10] (debord.duboce.net [192.168.1.10])\n\tby dns.duboce.net (Postfix) with ESMTP id A89C4BF7B;\n\tTue, 17 Oct 2006 11:55:43 -0700 (PDT)\r\nMessage-ID: &lt;45353A2D.5040507@...&gt;\r\nDate: Tue, 17 Oct 2006 13:16:45 -0700\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.1b2) Gecko/20060823 SeaMonkey/1.1a\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;eh318h+8snh@...&gt;\r\nIn-Reply-To: &lt;eh318h+8snh@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Michael Stack &lt;stack@...&gt;\r\nSubject: Re: [archive-crawler] Re: Beanshell script format (?)\r\nX-Yahoo-Group-Post: member; u=168599281; y=dFj3dm6SrcJDZfQRIVk1RNS6B2BBziF5sbQCyBfNLqKZYzmO9Ek5qQBx\r\nX-Yahoo-Profile: stackarchiveorg\r\n\r\nastar_t wrote:\n&gt;\n&gt; Okay, so I am getting closer now. I have managed to get a beanshell\n&gt; script to modify the CrawlURI and ignore robots.txt using this:\n&gt;\n&gt; //---- allow_robots.bsh ---\n&gt;\n&gt; addClassPath( &quot;/home/heritrix/local/heritrix-1.10.1/lib&quot; );\n&gt; import *;\n&gt;\n\n\n\n\n\n&gt;\n&gt; process(CrawlURI curi) {\n&gt; if (curi.getFetchStatus() == FetchStatusCodes.S_ROBOTS_PRECLUDED)\n&gt; curi.setFetchStatus(FetchStatusCodes.S_UNATTEMPTED);\n&gt; }\n&gt; //:~\n&gt;\n&gt; Now this script will ignore all robots.txt. Obviously not what I&#39;m\n&gt; trying to so next step is to check the last hop type of the CrawlURI to\n&gt; see if it is &#39;E&#39; or &#39;X&#39; or has file extension such as bmp, gif, jpe?g,\n&gt; png, etc.\n&gt;\n\n\n\n\n\n\n\n\n\n\n\n\nIs CrawlURI#getPathFromSeed() what you are after?  (And perhaps \nCrawlURI#getUURI()#getPath()?)\n\nSt.Ack\n\n\n&gt;\n&gt; Is there a method to get last hop type of the CrawlURI ? I have looked\n&gt; in the Javadoc and couldn&#39;t find one. I&#39;ll take another look and\n&gt; document my findings ......\n&gt;\n&gt; --- In archive-crawler@yahoogroups.com \n&gt; &lt;mailto:archive-crawler%40yahoogroups.com&gt;, &quot;astar_t&quot; &lt;astar_t@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi, I am wondering how exactly to write a Beanshell script. I\n&gt; &gt; understand that a process method is required that gets a passed in\n&gt; &gt; Crawl URI. Does the script require a main method or a specific class\n&gt; &gt; name?\n&gt; &gt;\n&gt; &gt; Specifically, I&#39;d like to place it between the Precondition enforcer\n&gt; &gt; and the fetchers so I can allow specific folders to be ignored from\n&gt; &gt; robots.txt. i.e. I&#39;d like to change the status of a CrawlURI from -\n&gt; &gt; 9998 to an &quot;accept&quot; code only if it is in a specific path to all an\n&gt; &gt; images folder that is in robots.txt to still be crawled.\n&gt; &gt;\n&gt; &gt; By chance does anyone have an example beanshell script that would do\n&gt; &gt; this?\n&gt; &gt;\n&gt; &gt; Thanks\n&gt; &gt; Adam T.\n&gt; &gt;\n&gt;\n&gt;  \n\n\n"}}