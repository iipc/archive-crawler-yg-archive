{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":215515511,"authorName":"Mike Schwartz","from":"Mike Schwartz &lt;mschwartz@...&gt;","profile":"mfschwartz","replyTo":"LIST","senderId":"hS-kwUWa2Ci21D8Hcqo3C_RgpFlHQQKwPHFaJYyeVDfzDFQzn9o8a5eWj3_k9158rhwHj0xpd33jGChMl3asmzpdkicyTIyad64","spamInfo":{"isSpam":false,"reason":"12"},"subject":"non-ASCII chars in URIs","postDate":"1119636637","msgId":1997,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDYuMi4xLjIuMi4yMDA1MDYyNDEyMDkzMi4wMmM0NTJmOEB2aG9zdDYuYXRvbWljc2VydmVycy5jb20+","inReplyToHeader":"PGQ5aGI3OCtlbmpuQGVHcm91cHMuY29tPg==","referencesHeader":"PGQ5aGI3OCtlbmpuQGVHcm91cHMuY29tPg=="},"prevInTopic":1996,"nextInTopic":1998,"prevInTime":1996,"nextInTime":1998,"topicId":1996,"numMessagesInTopic":3,"msgSnippet":"hi, When crawling some Finnish site we see some Exceptions like the following in the heretrix_out.log: org.apache.commons.httpclient.URIException: Failed parse","rawEmail":"Return-Path: &lt;mschwartz@...&gt;\r\nX-Sender: mschwartz@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 57657 invoked from network); 24 Jun 2005 18:10:38 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m22.grp.scd.yahoo.com with QMQP; 24 Jun 2005 18:10:38 -0000\r\nReceived: from unknown (HELO vhost6.atomicservers.com) (216.58.160.194)\n  by mta2.grp.scd.yahoo.com with SMTP; 24 Jun 2005 18:10:38 -0000\r\nReceived: from dev4lt.localmatters.com ([64.78.237.253])\n\t(authenticated (0 bits))\n\tby vhost6.atomicservers.com (8.11.6/8.11.6) with ESMTP id j5OIAYY30092\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Fri, 24 Jun 2005 12:10:34 -0600\r\nMessage-Id: &lt;6.2.1.2.2.20050624120932.02c452f8@...&gt;\r\nX-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2\r\nDate: Fri, 24 Jun 2005 12:10:37 -0600\r\nTo: archive-crawler@yahoogroups.com\r\nIn-Reply-To: &lt;d9hb78+enjn@...&gt;\r\nReferences: &lt;d9hb78+enjn@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;=====================_774102718==.ALT&quot;\r\nX-eGroups-Msg-Info: 1:12:0\r\nX-eGroups-From: Mike Schwartz &lt;mschwartz@...&gt;\r\nFrom: Mike Schwartz &lt;mschwartz@...&gt;\r\nSubject: non-ASCII chars in URIs\r\nX-Yahoo-Group-Post: member; u=215515511; y=PyiI1e93Utc9cult-ZACv9jAmiYSDoSoRCxDyDV3XZOWWSVtkg\r\nX-Yahoo-Profile: mfschwartz\r\n\r\n\r\n--=====================_774102718==.ALT\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed\r\n\r\nhi,\n\nWhen crawling some Finnish site we see some Exceptions like the following \nin the heretrix_out.log:\n     org.apache.commons.httpclient.URIException: Failed parse of \ninvalid:http://www.jpkeittiokalusteet.fi/index.php?Malleja:Keitti?\n             at \norg.archive.crawler.datamodel.UURIFactory.fixup(UURIFactory.java:430)\n             at \norg.archive.crawler.datamodel.UURIFactory.create(UURIFactory.java:308)\n             at \norg.archive.crawler.datamodel.UURIFactory.create(UURIFactory.java:297)\n             at \norg.archive.crawler.datamodel.UURIFactory.getInstance(UURIFactory.java:246)\n             at \norg.archive.crawler.datamodel.CandidateURI.readUuri(CandidateURI.java:602)\n             at \norg.archive.crawler.datamodel.CandidateURI.readObject(CandidateURI.java:580)\n             at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n             at \nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n             at java.lang.reflect.Method.invoke(Method.java:324)\n             at \njava.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n             at \njava.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n             at \njava.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n             at \njava.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n             at \njava.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n             at \ncom.sleepycat.bind.serial.SerialBinding.entryToObject(SerialBinding.java:89)\n             at \norg.archive.crawler.frontier.BdbMultipleWorkQueues.get(BdbMultipleWorkQueues.java:254)\n             at \norg.archive.crawler.frontier.BdbWorkQueue.peekItem(BdbWorkQueue.java:106)\n             at org.archive.crawler.frontier.WorkQueue.peek(WorkQueue.java:124)\n             at \norg.archive.crawler.frontier.WorkQueueFrontier.next(WorkQueueFrontier.java:526)\n             at org.archive.crawler.framework.ToeThread.run(ToeThread.java:141)\n\nIn all cases the URLs contain what look like high-ASCII chars.\n\nI also tried looking at one of these web pages, and noticed that it contains\n     &lt;meta http-equiv=&quot;content-type&quot; CONTENT=&quot;text/html;charset=iso-8859-15&quot;&gt;\nvs the ISO-8859-1 default-encoding we have configured in our crawl order.\n\nFinally, I noticed the following closed bug notice: [ 896878 ] Heritrix \nignores charset \n(https://sourceforge.net/tracker/index.php?func=detail&aid=896878&group_id=73833&atid=539099).\n\nSo, my questions are:\na) does Heretrix assume URL characters are all ASCII?\nb) does Heretrix still ignore charset information it finds in web pages, \nand is that related to the problem we&#39;re seeing above?\nc) is there something we need to configure differently to avoid these parse \nfailures?\n\nThanks\n  - Mike Schwartz\n    Local Matters, Inc. \r\n--=====================_774102718==.ALT\r\nContent-Type: text/html; charset=&quot;us-ascii&quot;\r\n\r\n&lt;html&gt;\n&lt;body&gt;\n&lt;font size=3&gt;hi,&lt;br&gt;&lt;br&gt;\nWhen crawling some Finnish site we see some Exceptions like the following\nin the heretrix_out.log: &lt;br&gt;\n&nbsp;&nbsp;&nbsp; org.apache.commons.httpclient.URIException: Failed\nparse of\ninvalid:http://www.jpkeittiokalusteet.fi/index.php?Malleja:Keitti?&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.UURIFactory.fixup(UURIFactory.java:430)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.UURIFactory.create(UURIFactory.java:308)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.UURIFactory.create(UURIFactory.java:297)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.UURIFactory.getInstance(UURIFactory.java:246)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.CandidateURI.readUuri(CandidateURI.java:602)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.datamodel.CandidateURI.readObject(CandidateURI.java:580)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown\nSource)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.lang.reflect.Method.invoke(Method.java:324)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\njava.io.ObjectInputStream.readObject(ObjectInputStream.java:324)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\ncom.sleepycat.bind.serial.SerialBinding.entryToObject(SerialBinding.java:89)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.frontier.BdbMultipleWorkQueues.get(BdbMultipleWorkQueues.java:254)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.frontier.BdbWorkQueue.peekItem(BdbWorkQueue.java:106)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.frontier.WorkQueue.peek(WorkQueue.java:124)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.frontier.WorkQueueFrontier.next(WorkQueueFrontier.java:526)&lt;br&gt;\n&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;\n&nbsp;&nbsp;&nbsp; at\norg.archive.crawler.framework.ToeThread.run(ToeThread.java:141)&lt;br&gt;&lt;br&gt;\nIn all cases the URLs contain what look like high-ASCII chars.&lt;br&gt;&lt;br&gt;\nI also tried looking at one of these web pages, and noticed that it\ncontains&lt;br&gt;\n&nbsp;&nbsp;&nbsp; &lt;meta http-equiv=&quot;content-type&quot;\nCONTENT=&quot;text/html;charset=iso-8859-15&quot;&gt;&lt;br&gt;\nvs the ISO-8859-1 default-encoding we have configured in our crawl\norder.&lt;br&gt;&lt;br&gt;\nFinally, I noticed the following closed bug notice: [ 896878 ] Heritrix\nignores charset\n(&lt;a href=&quot;https://sourceforge.net/tracker/index.php?func=detail&amp;aid=896878&amp;group_id=73833&amp;atid=539099&quot; eudora=&quot;autourl&quot;&gt;\nhttps://sourceforge.net/tracker/index.php?func=detail&amp;aid=896878&amp;group_id=73833&amp;atid=539099&lt;/a&gt;\n).&lt;br&gt;&lt;br&gt;\nSo, my questions are:&lt;br&gt;\na) does Heretrix assume URL characters are all ASCII?&lt;br&gt;\nb) does Heretrix still ignore charset information it finds in web pages,\nand is that related to the problem we&#39;re seeing above?&lt;br&gt;\nc) is there something we need to configure differently to avoid these\nparse failures?&lt;br&gt;&lt;br&gt;\nThanks&lt;br&gt;\n&nbsp;- Mike Schwartz&lt;br&gt;\n&nbsp;&nbsp; Local Matters, Inc.&lt;/font&gt;&lt;/body&gt;\n&lt;/html&gt;\n\r\n--=====================_774102718==.ALT--\r\n\n"}}