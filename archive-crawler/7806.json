{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":325624130,"authorName":"Noah Levitt","from":"Noah Levitt &lt;nlevitt@...&gt;","profile":"nlevitt","replyTo":"LIST","senderId":"1x-B1QnVvoilXjdTP546aFFOvHsE_4bTH_JFfIvXmXOcYrhqxjsum3zfT8QSAJfec1aviRTwVTz2INloKnGE5xE59QS1EpN7","spamInfo":{"isSpam":false,"reason":"12"},"subject":"warc revisit records for url-agnostic content digest deduplicated records","postDate":"1349209123","msgId":7806,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDUwNkI0QzIzLjMwNzAyQGFyY2hpdmUub3JnPg=="},"prevInTopic":0,"nextInTopic":7807,"prevInTime":7805,"nextInTime":7807,"topicId":7806,"numMessagesInTopic":3,"msgSnippet":"Hello IIPC and heritrix communities, I recently pushed code implementing url-agnostic identical content payload digest deduplication to the heritrix source","rawEmail":"Return-Path: &lt;nlevitt@...&gt;\r\nX-Sender: nlevitt@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 8432 invoked from network); 2 Oct 2012 20:18:46 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m2.grp.sp2.yahoo.com with QMQP; 2 Oct 2012 20:18:46 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.224.6)\n  by mta2.grp.sp2.yahoo.com with SMTP; 2 Oct 2012 20:18:46 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id B2DB36840153;\n\tTue,  2 Oct 2012 13:18:46 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id Y6SwJeMskIB1; Tue,  2 Oct 2012 13:18:44 -0700 (PDT)\r\nX-Received: from [208.70.27.155] (desktop-nlevitt.sf.archive.org [208.70.27.155])\n\tby mail.archive.org (Postfix) with ESMTPSA id A69C368401E8;\n\tTue,  2 Oct 2012 13:18:43 -0700 (PDT)\r\nMessage-ID: &lt;506B4C23.30702@...&gt;\r\nDate: Tue, 02 Oct 2012 13:18:43 -0700\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20120827 Thunderbird/15.0\r\nMIME-Version: 1.0\r\nTo: members@..., archive-crawler@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Noah Levitt &lt;nlevitt@...&gt;\r\nSubject: warc revisit records for url-agnostic content digest deduplicated\n records\r\nX-Yahoo-Group-Post: member; u=325624130; y=lQvsQttgsfLpin1lD9zwOA0Er42ZgzGv4G61DgzOv-McqQ\r\nX-Yahoo-Profile: nlevitt\r\n\r\nHello IIPC and heritrix communities,\n\nI recently pushed code implementing url-agnostic identical content \npayload digest deduplication to the heritrix source code repository (see \nhttps://webarchive.jira.com/browse/HER-2022). The idea is that if two \nurls have the same content, that content need only be archived once.\n\nHere is an example warc record for a deduplicated payload, as currently \nwritten:\n\nWARC/1.0\nWARC-Type: revisit\nWARC-Target-URI: http://archive-it.org/image/account/logo/643\nWARC-Date: 2012-09-14T00:23:34Z\nWARC-Payload-Digest: sha1:RUQRLRH2XOX6DQWUUVFXHO25OBQBWUJG\nWARC-IP-Address: 207.241.235.232\nWARC-Profile: \nhttp://netpreserve.org/warc/1.0/revisit/identical-payload-digest\nWARC-Truncated: length\nWARC-Refers-To: &lt;urn:uuid:38d12614-19dc-4bb0-9b6c-f98ebcf7cc52&gt;\nWARC-Refers-To-Target-URI: \nhttp://archive-it.org/image/featured-organizations/643/tn\nWARC-Refers-To-Date: 2012-09-13T23:06:21Z\nWARC-Refers-To-Filename: \nWEB-20120913230526198-00000-32360~localhost.archive.org~6440.warc.gz\nWARC-Refers-To-File-Offset: 2002421\nWARC-Record-ID: &lt;urn:uuid:306e9752-9b8c-49dd-bbd2-de06feace703&gt;\nContent-Type: application/http; msgtype=response\nContent-Length: 149\n\nHTTP/1.1 200 OK\nDate: Fri, 14 Sep 2012 00:23:34 GMT\nServer: Apache-Coyote/1.1\nContent-Type: image/png\nContent-Length: 7904\nConnection: close\n\nThese records are very similar to old url-specific revisit records, but \nwith the addition of the WARC-Refers-To* group of fields.\n\nBut this similarity could cause problems. For example, warc consumers \nthat are not aware of this new kind of deduplication might encounter \nsuch a record and look for the payload in a previous fetch of the same \nurl, and silently replay incorrect content.\n\nIn addition, the warc spec seems to specify that that WARC-Profile \nhttp://netpreserve.org/warc/1.0/revisit/identical-payload-digest should \nonly be used for recrawls of the same url. It &quot;may be used whenever a \nsubsequent consideration of a URI provides payload content which a \nstrong digest function, such as SHA-1, indicates is identical to a \npreviously recorded version.&quot; \nhttp://bibnum.bnf.fr/WARC/WARC_ISO_28500_version1_latestdraft.pdf\n\nThe &quot;WARC-Type: revisit&quot; appears to be flexible enough to allow for \ndifferent urls. &quot;A &#39;revisit&#39; record describes the revisitation of \ncontent already archived&quot;. However it&#39;s not clear that the possibility \nof different urls was considered.\n\nSo we should discuss and decide what this kind of warc record ought to \nlook like. I&#39;ll offer an initial proposal that it be like the example \nabove, except with a new WARC-Profile \n&quot;http://netpreserve.org/warc/1.0/revisit/uri-agnostic-identical-payload-digest&quot;. \n\n\nNoah\n\n"}}