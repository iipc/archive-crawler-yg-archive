{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":468881551,"authorName":"Mohamed Elsayed","from":"Mohamed Elsayed &lt;mohammed.elsayyed@...&gt;","profile":"mody1first","replyTo":"LIST","senderId":"gvaUYvcBGY_GjIzLaSH_lsxQY43Y_fnqsm9A-GfzOVQS6YpARtUpzbe-hBcDNfRifDZL0HHvzmAJ3Q5DOGrr1KNTGY15KpR0weW8bYxsKa7jnDCuTZ4","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] unexpected slowness with SVN head build of heritrix-1.15.5","postDate":"1290930070","msgId":6832,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRDRjIwNzk2LjMwNjA4MDBAYmliYWxleC5vcmc+","inReplyToHeader":"PGljbnFrcStiZW9kQGVHcm91cHMuY29tPg==","referencesHeader":"PGljbnFrcStiZW9kQGVHcm91cHMuY29tPg=="},"prevInTopic":6830,"nextInTopic":0,"prevInTime":6831,"nextInTime":6833,"topicId":6827,"numMessagesInTopic":3,"msgSnippet":"I prefer to try Heritrix 3.0, but anyway I suggest to run Heritrix with 50 threads. If that works well, then try to increase #threads. I hope that helps you.","rawEmail":"Return-Path: &lt;Mohammed.Elsayyed@...&gt;\r\nX-Sender: Mohammed.Elsayyed@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 53022 invoked from network); 28 Nov 2010 07:40:15 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m16.grp.re1.yahoo.com with QMQP; 28 Nov 2010 07:40:15 -0000\r\nX-Received: from unknown (HELO mail.bibalex.org) (196.204.161.5)\n  by mta1.grp.re1.yahoo.com with SMTP; 28 Nov 2010 07:40:14 -0000\r\nX-Received: from [10.8.33.68] (10.8.33.68) by mail.bibalex.org (10.202.2.22)\n with Microsoft SMTP Server (TLS) id 8.3.106.1; Sun, 28 Nov 2010 09:36:52\n +0200\r\nMessage-ID: &lt;4CF20796.3060800@...&gt;\r\nDate: Sun, 28 Nov 2010 09:41:10 +0200\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.15) Gecko/20101027 Thunderbird/3.0.10\r\nMIME-Version: 1.0\r\nTo: &quot;archive-crawler@yahoogroups.com&quot; &lt;archive-crawler@yahoogroups.com&gt;\r\nCc: pandae667 &lt;aaron667@...&gt;\r\nReferences: &lt;icnqkq+beod@...&gt;\r\nIn-Reply-To: &lt;icnqkq+beod@...&gt;\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;------------060401010702050605010505&quot;\r\nReturn-Path: mohammed.elsayyed@...\r\nFrom: Mohamed Elsayed &lt;mohammed.elsayyed@...&gt;\r\nSubject: Re: [archive-crawler] unexpected slowness with SVN head build of\n heritrix-1.15.5\r\nX-Yahoo-Group-Post: member; u=468881551; y=s8XkmFj8W93i_axy3vg7SzjhbMywejzQdAMua_EPzX2NWQmiPA\r\nX-Yahoo-Profile: mody1first\r\n\r\n\r\n--------------060401010702050605010505\r\nContent-Type: text/plain; charset=&quot;windows-1252&quot;; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\n\r\nI prefer to try Heritrix 3.0, but anyway I suggest to run Heritrix with \n50 threads. If that works well, then try to increase #threads. I hope \nthat helps you. Finally, let us know your results.\n\nMohamed Elsayed\nBibliotheca Alexandrina\n\nOn 11/26/2010 10:20 AM, pandae667 wrote:\n&gt;\n&gt; Dear IA-Team,\n&gt;\n&gt; after a long time of running a heritrix-1.14.x based crawler I decided \n&gt; to update my code yesterday to heritrix 1.15.5 SVN head. I noticed \n&gt; several optimizations and cleanups and were happy to start up my \n&gt; crawlers with the new code without encountering any issue.\n&gt;\n&gt; That is until after about half an hour into the crawl, when I noticed \n&gt; that about 180-190 of 200 toe threads were permanently waiting at:\n&gt; org.archive.crawler.postprocessor.FrontierScheduler.innerProcess(FrontierScheduler.java:76) \n&gt; (Some of the toe threads are waiting at this point for up to 30 seconds.)\n&gt; A single toe thread made it past this point (as intended by the \n&gt; synchronization) and hangs at another lock:\n&gt; java.lang.Thread.State: BLOCKED (on object monitor)\n&gt; at \n&gt; org.archive.crawler.frontier.BdbFrontier.getQueueFor(BdbFrontier.java:275)\n&gt; - locked &lt;0x00007f1b45d6f698&gt; (a org.archive.util.ObjectIdentityBdbCache)\n&gt; at \n&gt; org.archive.crawler.frontier.WorkQueueFrontier.sendToQueue(WorkQueueFrontier.java:465)\n&gt; at \n&gt; org.archive.crawler.frontier.WorkQueueFrontier.receive(WorkQueueFrontier.java:444)\n&gt; at \n&gt; org.archive.crawler.util.SetBasedUriUniqFilter.add(SetBasedUriUniqFilter.java:90)\n&gt; at \n&gt; org.archive.crawler.frontier.WorkQueueFrontier.schedule(WorkQueueFrontier.java:428)\n&gt; at \n&gt; org.archive.crawler.postprocessor.FrontierScheduler.schedule(FrontierScheduler.java:92)\n&gt; at \n&gt; org.archive.crawler.postprocessor.FrontierScheduler.innerProcess(FrontierScheduler.java:78)\n&gt; - locked &lt;0x00007f1b45cc5d60&gt; (a \n&gt; org.archive.crawler.postprocessor.FrontierScheduler)\n&gt; at org.archive.crawler.framework.Processor.process(Processor.java:109)\n&gt; at \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:306)\n&gt; at org.archive.crawler.framework.ToeThread.run(ToeThread.java:154)\n&gt;\n&gt; Any hints what I am doing wrong? Have I just encountered a bug in \n&gt; backported code? Is there any additional information I can provide to \n&gt; help track down the cause?\n&gt;\n&gt; Thanks in advance\n&gt; Olaf Freyer\n&gt;\n&gt; \n\n\n-- \nMohamed Elsayed\nBibliotheca Alexandrina\n\n\r\n--------------060401010702050605010505\r\nContent-Type: text/html; charset=&quot;windows-1252&quot;\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta content=&quot;text/html; charset=windows-1252&quot;\n http-equiv=&quot;Content-Type&quot;&gt;\n&lt;/head&gt;\n&lt;body text=&quot;#000000&quot; bgcolor=&quot;#ffffff&quot;&gt;\nI prefer to try Heritrix 3.0, but anyway I suggest to run Heritrix with\n50 threads. If that works well, then try to increase #threads. I hope\nthat helps you. Finally, let us know your results.&lt;br&gt;\n&lt;br&gt;\nMohamed Elsayed&lt;br&gt;\nBibliotheca Alexandrina&lt;br&gt;\n&lt;br&gt;\nOn 11/26/2010 10:20 AM, pandae667 wrote:\n&lt;blockquote cite=&quot;mid:icnqkq+beod@...&quot; type=&quot;cite&quot;&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot;\n content=&quot;text/html; charset=windows-1252&quot;&gt;\n  &lt;span style=&quot;display: none;&quot;&gt;ï¿½&lt;/span&gt;\n\n  &lt;div id=&quot;ygrp-text&quot;&gt;\n  &lt;p&gt;Dear IA-Team,&lt;br&gt;\n  &lt;br&gt;\nafter a long time of running a heritrix-1.14.x based crawler I decided\nto update my code yesterday to heritrix 1.15.5 SVN head. I noticed\nseveral optimizations and cleanups and were happy to start up my\ncrawlers with the new code without encountering any issue.&lt;br&gt;\n  &lt;br&gt;\nThat is until after about half an hour into the crawl, when I noticed\nthat about 180-190 of 200 toe threads were permanently waiting at:&lt;br&gt;\norg.archive.crawler.postprocessor.FrontierScheduler.innerProcess(FrontierScheduler.java:76)\n(Some of the toe threads are waiting at this point for up to 30\nseconds.)&lt;br&gt;\nA single toe thread made it past this point (as intended by the\nsynchronization) and hangs at another lock:&lt;br&gt;\njava.lang.Thread.State: BLOCKED (on object monitor)&lt;br&gt;\nat\norg.archive.crawler.frontier.BdbFrontier.getQueueFor(BdbFrontier.java:275)&lt;br&gt;\n- locked &lt;0x00007f1b45d6f698&gt; (a\norg.archive.util.ObjectIdentityBdbCache)&lt;br&gt;\nat\norg.archive.crawler.frontier.WorkQueueFrontier.sendToQueue(WorkQueueFrontier.java:465)&lt;br&gt;\nat\norg.archive.crawler.frontier.WorkQueueFrontier.receive(WorkQueueFrontier.java:444)&lt;br&gt;\nat\norg.archive.crawler.util.SetBasedUriUniqFilter.add(SetBasedUriUniqFilter.java:90)&lt;br&gt;\nat\norg.archive.crawler.frontier.WorkQueueFrontier.schedule(WorkQueueFrontier.java:428)&lt;br&gt;\nat\norg.archive.crawler.postprocessor.FrontierScheduler.schedule(FrontierScheduler.java:92)&lt;br&gt;\nat\norg.archive.crawler.postprocessor.FrontierScheduler.innerProcess(FrontierScheduler.java:78)&lt;br&gt;\n- locked &lt;0x00007f1b45cc5d60&gt; (a\norg.archive.crawler.postprocessor.FrontierScheduler)&lt;br&gt;\nat org.archive.crawler.framework.Processor.process(Processor.java:109)&lt;br&gt;\nat\norg.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:306)&lt;br&gt;\nat org.archive.crawler.framework.ToeThread.run(ToeThread.java:154)&lt;br&gt;\n  &lt;br&gt;\nAny hints what I am doing wrong? Have I just encountered a bug in\nbackported code? Is there any additional information I can provide to\nhelp track down the cause?&lt;br&gt;\n  &lt;br&gt;\nThanks in advance&lt;br&gt;\nOlaf Freyer&lt;br&gt;\n  &lt;br&gt;\n  &lt;/p&gt;\n  &lt;/div&gt;\n\n\n&lt;!-- end group email --&gt;&lt;/blockquote&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;pre class=&quot;moz-signature&quot; cols=&quot;72&quot;&gt;-- \nMohamed Elsayed\nBibliotheca Alexandrina&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------060401010702050605010505--\r\n\n"}}