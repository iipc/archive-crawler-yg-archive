{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137477665,"authorName":"igor@archive.org","from":"igor@...","profile":"iranitovic","replyTo":"LIST","senderId":"XDYcIMZGe1cXPIx1zyPHBllsgi__b6xm_H5hS8lZKrV_5nJV1Cw7EvEUqCURimgGYKjzo4Z6tA","spamInfo":{"isSpam":false,"reason":"3"},"subject":"Re: [archive-crawler] ServerCache lookup stuck","postDate":"1252887000","msgId":6028,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDYyODEyLjk4LjIzNC44Ni4xNjcuMTI1Mjg4NzAwMC5zcXVpcnJlbEBtYWlsLmFyY2hpdmUub3JnPg==","inReplyToHeader":"PDYxNzA2Ljk4LjIzNC44Ni4xNjcuMTI1Mjg2ODU1Ni5zcXVpcnJlbEBtYWlsLmFyY2hpdmUub3JnPg==","referencesHeader":"PGg4aXBmcytsaHBwQGVHcm91cHMuY29tPiAgICA8NjE3MDYuOTguMjM0Ljg2LjE2Ny4xMjUyODY4NTU2LnNxdWlycmVsQG1haWwuYXJjaGl2ZS5vcmc+"},"prevInTopic":6027,"nextInTopic":6029,"prevInTime":6027,"nextInTime":6029,"topicId":6026,"numMessagesInTopic":15,"msgSnippet":"I got more info on this one. It seems that the thread is in the while-true loop in CachedBdbMap._getMem where CachedBdbMap.isExpunged aways returns true. Here","rawEmail":"Return-Path: &lt;igor@...&gt;\r\nX-Sender: igor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 79209 invoked from network); 14 Sep 2009 00:09:51 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m6.grp.re1.yahoo.com with QMQP; 14 Sep 2009 00:09:51 -0000\r\nX-Received: from unknown (HELO mail.archive.org) (207.241.231.239)\n  by mta1.grp.sp2.yahoo.com with SMTP; 14 Sep 2009 00:09:51 -0000\r\nX-Received: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id B5EC0264838\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Sun, 13 Sep 2009 17:10:01 -0700 (PDT)\r\nX-Received: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id cwx+T5PJdgpJ for &lt;archive-crawler@yahoogroups.com&gt;;\n\tSun, 13 Sep 2009 17:10:00 -0700 (PDT)\r\nX-Received: from mail.archive.org (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 07AAB2646F3\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Sun, 13 Sep 2009 17:10:00 -0700 (PDT)\r\nX-Received: from 98.234.86.167\n        (SquirrelMail authenticated user igor@...)\n        by mail.archive.org with HTTP;\n        Sun, 13 Sep 2009 17:10:00 -0700 (PDT)\r\nMessage-ID: &lt;62812.98.234.86.167.1252887000.squirrel@...&gt;\r\nIn-Reply-To: &lt;61706.98.234.86.167.1252868556.squirrel@...&gt;\r\nReferences: &lt;h8ipfs+lhpp@...&gt;\n    &lt;61706.98.234.86.167.1252868556.squirrel@...&gt;\r\nDate: Sun, 13 Sep 2009 17:10:00 -0700 (PDT)\r\nTo: archive-crawler@yahoogroups.com\r\nUser-Agent: SquirrelMail/1.4.10a\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nX-Priority: 3 (Normal)\r\nImportance: Normal\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: igor@...\r\nSubject: Re: [archive-crawler] ServerCache lookup stuck\r\nX-Yahoo-Group-Post: member; u=137477665; y=9gg_mTbIZAnKGpjZVQQGUiG405AKzDDXlCmhWHMAUBSXov1D8g\r\nX-Yahoo-Profile: iranitovic\r\n\r\nI got more info on this one.\nIt seems that the thread is in the while-true loop in\nCachedBdbMap._getMem where CachedBdbMap.isExpunged aways returns true.\n\nHere are two more stacks where startExpunge returns false:\n\norg.archive.util.CachedBdbMap$SoftEntry.getPhantom(CachedBdbMap.java:1625)\n  org.archive.util.CachedBdbMap$SoftEntry.isCleared(CachedBdbMap.java:1632)\norg.archive.util.CachedBdbMap$SoftEntry.startExpunge(CachedBdbMap.java:1693)\n    org.archive.util.CachedBdbMap.isExpunged(CachedBdbMap.java:490)\n    org.archive.util.CachedBdbMap._getMem(CachedBdbMap.java:698)\n\norg.archive.util.CachedBdbMap$SoftEntry.getPhantom(CachedBdbMap.java:1625)\n  org.archive.util.CachedBdbMap$SoftEntry.isCleared(CachedBdbMap.java:1632)\norg.archive.util.CachedBdbMap$SoftEntry.awaitExpunge(CachedBdbMap.java:1711)\n    org.archive.util.CachedBdbMap.isExpunged(CachedBdbMap.java:500)\n    org.archive.util.CachedBdbMap._getMem(CachedBdbMap.java:698)\n\nAny ideas? Thanks.\ni.\n\n&gt; I got a stuck thread that is disrupting the crawl.\n&gt;\n&gt; Heritrix verion:\n&gt; 1.15.4 (checked out on 9/9/2009)\n&gt;\n&gt; Java env:\n&gt; Linux 2.6.18-128.1.10.el5PAE #1 SMP Thu May 7 11:14:31 EDT 2009 i686 i686\n&gt; i386 GNU/Linux\n&gt; java version &quot;1.6.0_10&quot;\n&gt; Java(TM) SE Runtime Environment (build 1.6.0_10-b33)\n&gt; Java HotSpot(TM) Server VM (build 11.0-b15, mixed mode)\n&gt; JAVA_OPTS=-Xmx512m\n&gt;\n&gt; Sleepycat:\n&gt; je-3.3.82.jar\n&gt;\n&gt; Here is the thread dump:\n&gt; ToeThread #19: http://newyork.craigslist.org/mnh/tix/1371733715.html\n&gt;  CrawlURI http://newyork.craigslist.org/mnh/tix/1371733715.html      1\n&gt; attempts\n&gt;     in processor: Preprocessor\n&gt;     ACTIVE for 16h25m22s108ms\n&gt;     step: ABOUT_TO_BEGIN_PROCESSOR for 16h25m22s108ms\n&gt;     org.archive.util.CachedBdbMap$SoftEntry.getPhantom(CachedBdbMap.java:1625)\n&gt;     org.archive.util.CachedBdbMap$SoftEntry.isCleared(CachedBdbMap.java:1632)\n&gt;     org.archive.util.CachedBdbMap$SoftEntry.startExpunge(CachedBdbMap.java:1693)\n&gt;     org.archive.util.CachedBdbMap.isExpunged(CachedBdbMap.java:490)\n&gt;     org.archive.util.CachedBdbMap._getMem(CachedBdbMap.java:698)\n&gt;     org.archive.util.CachedBdbMap.get(CachedBdbMap.java:627)\n&gt;     org.archive.crawler.datamodel.ServerCache.getServerFor(ServerCache.java:99)\n&gt;     org.archive.crawler.datamodel.ServerCache.getServerFor(ServerCache.java:124)\n&gt;     org.archive.crawler.prefetch.PreconditionEnforcer.considerDnsPreconditions(PreconditionEnforcer.java:227)\n&gt;     org.archive.crawler.prefetch.PreconditionEnforcer.innerProcess(PreconditionEnforcer.java:111)\n&gt;     org.archive.crawler.framework.Processor.process(Processor.java:112)\n&gt;     org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:302)\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt;\n&gt; i.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n"}}