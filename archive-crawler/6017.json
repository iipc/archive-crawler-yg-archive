{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"_39VH93o2cHq9ntdca3tAKMfM3M73WcLD1u_-x9qEct7SgKuERf7r1N_h58XxPz62ywBb5DVLQHmMcZs3yz_341ANcg0hpM","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: [archive-crawler] Propose antitraps.txt for seeds.txt and its handling module","postDate":"1252458710","msgId":6017,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDRBQTcwMEQ2LjYwNTA3MDVAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDgyNDIzZDhlMDkwOTAzMDc1MnA5ZDEzN2Njd2ExOTQ3MDBjZWI5MDE3ZTFAbWFpbC5nbWFpbC5jb20+","referencesHeader":"PDgyNDIzZDhlMDkwOTAzMDc1MnA5ZDEzN2Njd2ExOTQ3MDBjZWI5MDE3ZTFAbWFpbC5nbWFpbC5jb20+"},"prevInTopic":6011,"nextInTopic":0,"prevInTime":6016,"nextInTime":6018,"topicId":6011,"numMessagesInTopic":2,"msgSnippet":"Hi, Minas. This is a good idea -- and very compatible with existing best-practice and upcoming plans. Discussion below... ... This is our typical practice too:","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 76405 invoked from network); 9 Sep 2009 01:12:04 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m1.grp.re1.yahoo.com with QMQP; 9 Sep 2009 01:12:04 -0000\r\nX-Received: from unknown (HELO relay01.pair.com) (209.68.5.15)\n  by mta1.grp.re1.yahoo.com with SMTP; 9 Sep 2009 01:12:02 -0000\r\nX-Received: (qmail 35830 invoked from network); 9 Sep 2009 01:11:49 -0000\r\nX-Received: from 67.188.14.54 (HELO ?192.168.1.84?) (67.188.14.54)\n  by relay01.pair.com with SMTP; 9 Sep 2009 01:11:49 -0000\r\nX-pair-Authenticated: 67.188.14.54\r\nMessage-ID: &lt;4AA700D6.6050705@...&gt;\r\nDate: Tue, 08 Sep 2009 18:11:50 -0700\r\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;82423d8e0909030752p9d137ccwa194700ceb9017e1@...&gt;\r\nIn-Reply-To: &lt;82423d8e0909030752p9d137ccwa194700ceb9017e1@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] Propose antitraps.txt for seeds.txt and its\n handling module\r\nX-Yahoo-Group-Post: member; u=137285340; y=erTi1T2qJRS1s1_bB8AolqxoC73lGVa9t1lJfhxNyd22\r\nX-Yahoo-Profile: gojomo\r\n\r\nHi, Minas.\n\nThis is a good idea -- and very compatible with existing best-practice \nand upcoming plans. Discussion below...\n\nMinas Abrahamyan wrote:\n&gt; Hello,\n&gt; \n&gt; I propose to add new deciding rule for easy restricting URLs en mass:\n&gt; \n&gt; 1 Seed URLs give origins of URLs, which are then expanding very broad\n&gt; \n&gt; 2 Among right URLs are appearing many unwanted URLs: traps, full \n&gt; duplicates, and content duplucates (maybe the last case is more \n&gt; interesting for search engine crawler applications then for archiving \n&gt; crawler, but anyway, they are duplicates too)\n&gt; \n&gt; 3 The problem is solved by applying constraint regexps on URLs flow by \n&gt; deciding rules \n&gt; Particularly, common schema is:\n&gt;  new separate deciding rule, REJECT on MatchesListRegExpDecideRule,\n&gt;  set as last rule - to not make next rule allow disallowed URL \n&gt; Regexps list disallows those trap and duplicate URLs.\n&gt; So do I in my crawler, so does NetachiveSuite, their order.xml of \n&gt; heritrix 1.12 set up to avoid only traps and only calendar-type ones.\n\nThis is our typical practice too: even if there are no block-expressions \nat the beginning of a crawl, we include an empty REJECTing \nMatchesListRegExpDecideRule in the scope. Then, as issues are discovered \nduring the crawl, patterns can be added. With domain-specific settings \noverlays, patterns can be added for only specific domains.\n\nWe plan for the default profile(s) in the Heritrix 3 release later this \nyear will include this practice -- plus another related idea, a \nREJECTing SurtPrefixedDecideRule. This provides another convenient place \nto initialize a crawl with, or dynamically-add, a growing list of \nsites/subsites to be blocked.\n\n&gt; I suppose that any non-trivial crawl should contain such constraints, \n&gt; and taking into account that they will be edited frequentely and added \n&gt; by bricks for any URL, it would be great to have such special mechanism.\n&gt; \n&gt; Moreover many sites in Internet use commonly spreaded web software \n&gt; components, such as forums, blogs, other open source or close software, \n&gt; so finding trap&dup URLs for forum for example on one domain will help \n&gt; to compose trap&dup URLs for same type forum on other domains.\n&gt; \n&gt; Ideal solution will allow to keep own antitrap/antidup regexps list for \n&gt; every seedURL, and allow easy editing of it.\n&gt; \n&gt; So I propose to make such new module.\n&gt; \n&gt; My view of implemetation details is to \n&gt; * keep antitrap-antidup Regexps in one text file near the seeds.txt\n&gt; * Load this list internally into that same MatchesListRegExpDecideRule \n&gt; with REJECT on \n&gt; match and \n&gt; * edit them through special page, similar to one of seeds.txt\n&gt;   With two more buttons on that page: \n&gt;  1 to remove URLs from current Frontier state, when it is in paused \n&gt; state, yet; \n&gt;  Would be better if it show deleted URLs, not like silent behavior of \n&gt; DeleteURLs of frontier on console page\n&gt; \n&gt;  2 and to test URLs matching: in crawl log, in frontier or manually entered\n&gt; \n&gt; I&#39;m biased to latest stable version of Heritrix, i.e. 2.0.2, but could \n&gt; upgrade to any newest version with working automatic checkpointing.\n&gt; \n&gt; Are there any ideas - about implementation or related with general \n&gt; concerns??\n\nFor such work to have the longest/most-beneficial future, I would \nsuggest skipping forward to the pre-release H3 branch. It doesn&#39;t yet \nhave full checkpointing but that&#39;s coming soon.\n\nThe new Spring/XML configuration format offers many benefits (and a few \nlimitations) for such new components. An example benefit: something like \na simple textual list of URIs, prefixes, or patterns can easily be \nspecified inline for a single all-inclusive configuration file, or \ndelegated to an external file. (See the ConfigString/ConfigFile classes \nfor examples.) An example limitation (at least for now): dynamic changes \nto a running crawl aren&#39;t automatically recorded to the configuration to \naffect the next launch.\n\nWe&#39;ve never had a good system for components to promote their own custom \nconfiguration pages to the web-UI, but I can picture the broad outlines \nof such a system: some component classes (&#39;beans&#39; per Spring parlance) \nwould advertise classes that could implement their custom interface when \nplugged into part of the URL-space of our web framework. Right now in \nthe H3 dev branch that&#39;s the &#39;Restlet&#39; framework -- but this code needs \nsome cleanup/templatization/fleshing-out before release, and it&#39;s \npossible we&#39;d port the current H3 interface to SpringMVC if that&#39;d \nprovide a better base for future pluggable UI work.\n\nIn any case, we&#39;d welcome your code contributions and ideas in this area \n-- be they simple components, UI enhancements, or more/combinations.\n\n- Gordon @ IA\n\n\n"}}