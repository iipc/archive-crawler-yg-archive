{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr (Internet Archive)","from":"&quot;Gordon Mohr (Internet Archive)&quot; &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"PuT5WVW6kKFKPUjp4KAodhp_QCX1sZSOy_gOdKnTSq8AIZaYOHe3Jwd0zf21N6bx_E6gOuCvuDjQ1BdJAYmMd_U0FiTqmjQeckM8eM0rpIV9fSjqoddQCrRdpGs","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] What does the &quot;.invalid&quot; suffix on an ARC file mean?","postDate":"1114557705","msgId":1758,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQyNkVDRDA5LjQwODAxMDlAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PDE3MDA2LjMxNDU4Ljc4NzUyMi4xNTc0OTRAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4=","referencesHeader":"PDE3MDA1LjE1NTM3LjE1OTc3NS44MDExOThAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4JPDQyNkQ0QTA4LjEwMTA5MDRAYXJjaGl2ZS5vcmc+CTw0MjZENUUxNC42MDkwMTAyQGFyY2hpdmUub3JnPgk8MTcwMDYuMTIzNTcuOTkyNzQ3Ljg0Njk4NkB0aXBoYXJlcy5iYXNpc3RlY2gubmV0Pgk8NDI2RTc5OEMuNjAwMDIwOUBhcmNoaXZlLm9yZz4gPDE3MDA2LjMxNDU4Ljc4NzUyMi4xNTc0OTRAdGlwaGFyZXMuYmFzaXN0ZWNoLm5ldD4="},"prevInTopic":1757,"nextInTopic":1763,"prevInTime":1757,"nextInTime":1759,"topicId":1750,"numMessagesInTopic":10,"msgSnippet":"... Both are good ideas! ... BerkeleyDB-JE should be deleting older segments of its storage that have few or no active records. (You can set it to be more","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 71119 invoked from network); 26 Apr 2005 23:21:51 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m30.grp.scd.yahoo.com with QMQP; 26 Apr 2005 23:21:51 -0000\r\nReceived: from unknown (HELO ia00524.archive.org) (207.241.224.172)\n  by mta2.grp.scd.yahoo.com with SMTP; 26 Apr 2005 23:21:51 -0000\r\nReceived: (qmail 30666 invoked by uid 100); 26 Apr 2005 23:21:46 -0000\r\nReceived: from b116-dyn-239.archive.org (HELO ?207.241.238.239?) (gojomo@...@207.241.238.239)\n  by mail-dev.archive.org with SMTP; 26 Apr 2005 23:21:46 -0000\r\nMessage-ID: &lt;426ECD09.4080109@...&gt;\r\nDate: Tue, 26 Apr 2005 16:21:45 -0700\r\nUser-Agent: Mozilla Thunderbird 1.0 (X11/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;17005.15537.159775.801198@...&gt;\t&lt;426D4A08.1010904@...&gt;\t&lt;426D5E14.6090102@...&gt;\t&lt;17006.12357.992747.846986@...&gt;\t&lt;426E798C.6000209@...&gt; &lt;17006.31458.787522.157494@...&gt;\r\nIn-Reply-To: &lt;17006.31458.787522.157494@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Spam-DCC: : \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org\r\nX-Spam-Level: \r\nX-Spam-Status: No, hits=-56.3 required=7.0 tests=AWL,USER_IN_WHITELIST \n\tautolearn=no version=2.63\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Gordon Mohr (Internet Archive)&quot; &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] What does the &quot;.invalid&quot; suffix on an ARC file\n mean?\r\nX-Yahoo-Group-Post: member; u=137285340\r\nX-Yahoo-Profile: gojomo\r\n\r\nTom Emerson wrote:\n&gt; Gordon Mohr (Internet Archive) writes:\n&gt; \n&gt;&gt;[ 1189825 ] ARC problem causing .invalid suffix needs better reporting\n&gt;&gt;http://sourceforge.net/tracker/index.php?func=detail&aid=1189825&group_id=73833&atid=539099\n&gt; \n&gt; \n&gt; Or just document &quot;.invalid&quot; in the user&#39;s guide. ;-)\n&gt; \n\nBoth are good ideas!\n\n&gt;&gt;Separately, if you are crawling on a machine where &#39;df&#39; is available,\n&gt;&gt;you can add a LowDiskPauseProcessor to your crawls. It regularly checks\n&gt;&gt;a given set of mounts for sufficient free space. If the amount of free\n&gt;&gt;space gets too low, the crawl will be paused, giving you a chance to\n&gt;&gt;clear space before proceeding.\n&gt; \n&gt; \n&gt; Ah, that would be a good thing to do: I didn&#39;t know about that.\n&gt; \n&gt; Is it possible to incrementally clean up the state directory as the\n&gt; crawl moves along? I was a bit surprised to see it using 150% of the\n&gt; space used by the ARCs.\n\nBerkeleyDB-JE should be deleting older segments of its storage that\nhave few or no active records. (You can set it to be more aggressive\nabout consolidating sparse segments,  or conversely to never delete\nold segments, but we leave these seetings at their defaults.)\n\nThe state directory could legitimately be gigantic if you&#39;ve encountered\na large number of hosts and/or have some very large queues, perhaps with\njunk URLs.\n\nHow many URLs are shown as &#39;queued&#39; in the last valid lines of the\nprogress-statistics.log?\n\nHave the early BDBJE storage files -- eg &#39;00000000.jdb&#39; and other\nlow numbers -- disappeared from your &#39;state&#39; directory (indicating\nthat normal cleaning of old segments is happening)?\n\nWe are now persisting more objects to disk than before, so it&#39;s\nalso possible that someplace, we&#39;re pulling a lot more out than\nintended to disk. (The BDBJE record values are serialized objects,\nso are subject to the same gotchas as other serialization.) Are\nyou noticing a larger state directory in the latest code, compared\nto older runs?\n\n- Gordon @ IA\n\n\n\n\n\n\n"}}