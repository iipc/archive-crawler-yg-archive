{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":385173050,"authorName":"Coram, Roger","from":"&quot;Coram, Roger&quot; &lt;Roger.Coram@...&gt;","replyTo":"LIST","senderId":"uan6ybPbuGFGiEIkhrVg4RvsXq9t0-8xRNrSA8JjT9_VBh2ulO9CfsHkHdEyh0rkJ5arz7baNfZ4yXyr-0BYj1PwNZA357-bug","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [archive-crawler] Slow (?) loading millions of seeds","postDate":"1334215120","msgId":7651,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MEVBNDVENDhAdzJrMy1ic3BleDE+","inReplyToHeader":"PEM2MzE3NDZBLUFCQkMtNDU3RS04Q0NELURFNTE0MDJGODg0NkBhcmNoaXZlLm9yZz4=","referencesHeader":"PDc0Qzk3RTdERjVBNzc4NEQ5OTcyMTdGRjc1RDEyMTY2MEVBNDVCQ0VAdzJrMy1ic3BleDE+IDw3RDMxNjA3RS0yNkQ4LTRGRUEtQTE0Ni05MUQ0NjBBREREOEFAYXJjaGl2ZS5vcmc+IDxDNjMxNzQ2QS1BQkJDLTQ1N0UtOENDRC1ERTUxNDAyRjg4NDZAYXJjaGl2ZS5vcmc+"},"prevInTopic":7650,"nextInTopic":7652,"prevInTime":7650,"nextInTime":7652,"topicId":7645,"numMessagesInTopic":9,"msgSnippet":"Hi Kris, Many thanks for the advice. We ll amend our configuration and see what happens. Thanks, Roger From: archive-crawler@yahoogroups.com ","rawEmail":"Return-Path: &lt;Roger.Coram@...&gt;\r\nX-Sender: Roger.Coram@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 22219 invoked from network); 12 Apr 2012 07:18:43 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m3.grp.sp2.yahoo.com with QMQP; 12 Apr 2012 07:18:43 -0000\r\nX-Received: from unknown (HELO w2k3-bspex1.bl.uk) (194.66.236.30)\n  by mta5.grp.sp2.yahoo.com with SMTP; 12 Apr 2012 07:18:42 -0000\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----_=_NextPart_001_01CD187C.7D23A24A&quot;\r\nDate: Thu, 12 Apr 2012 08:18:40 +0100\r\nMessage-ID: &lt;74C97E7DF5A7784D997217FF75D121660EA45D48@w2k3-bspex1&gt;\r\nIn-Reply-To: &lt;C631746A-ABBC-457E-8CCD-DE51402F8846@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [archive-crawler] Slow (?) loading millions of seeds\r\nThread-Index: Ac0YMZamkJtFAeGWS8ucwSlX0bbZlQASs7pg\r\nReferences: &lt;74C97E7DF5A7784D997217FF75D121660EA45BCE@w2k3-bspex1&gt; &lt;7D31607E-26D8-4FEA-A146-91D460ADDD8A@...&gt; &lt;C631746A-ABBC-457E-8CCD-DE51402F8846@...&gt;\r\nTo: &lt;archive-crawler@yahoogroups.com&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Coram, Roger&quot; &lt;Roger.Coram@...&gt;\r\nSubject: RE: [archive-crawler] Slow (?) loading millions of seeds\r\nX-Yahoo-Group-Post: member; u=385173050\r\n\r\n\r\n------_=_NextPart_001_01CD187C.7D23A24A\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Kris,\n\nMany thanks for the advice. We&#39;ll amend our configuration and see=\r\n what\nhappens.\n\n \n\nThanks,\n\nRoger\n\n \n\nFrom: archive-crawler@yahoogroups.com=\r\n\n[mailto:archive-crawler@yahoogroups.com] On Behalf Of Kris Carpenter\nNegul=\r\nescu\nSent: 11 April 2012 23:22\nTo: archive-crawler@yahoogroups.com\nCc: Kris=\r\n Carpenter Negulescu\nSubject: Re: [archive-crawler] Slow (?) loading millio=\r\nns of seeds\n\n \n\n  \n\nYou might also want to look at leveraging the Action Di=\r\nrectory and\nsplitting the seeds into multiple files that get loaded increme=\r\nntally vs\nas a single monolithic file....\n\n \n\nhttps://webarchive.jira.com/w=\r\niki/display/Heritrix/H3+Dev+Notes+for+Crawl\n+Operators#H3DevNotesforCrawlOp=\r\nerators-MillionsofseedsOK\n\n\nActionDirectory for post-launch URI-loading\n\n\nA=\r\n bean class ActionDirectory, if present in a crawl configuration (and\nit is=\r\n recommended to become part of all standard configurations),\nwatches a conf=\r\nigured &#39;action&#39; directory for any files which appear\n(rechecking a configur=\r\nable interval, default 30 seconds). For each file,\nan action is taken in ac=\r\ncordance with the file&#39;s suffix, then the file\nis moved to a &#39;done&#39; directo=\r\nry.\n\nA file ending &#39;.seeds&#39; will trigger the addition of more seeds. A file=\r\n\nending &#39;.recover&#39; will be treated as a traditional recovery log -- with\nal=\r\nl &#39;Fs&#39; lines considered included (to suppress recrawling) then all\n&#39;F+&#39; lin=\r\nes rescheduled. A file ending &#39;.include&#39;, &#39;.schedule&#39;, or\n&#39;.force&#39; respecti=\r\nvely will be treated as if a recovery-log format (with\n3-character prefix t=\r\nag per line), but all URIs listed (regardless of\nprefix-tag) will be consid=\r\nered-included, scheduled, or force-scheduled\nrespectively.\n\nAny of these fi=\r\nles may be gzip-compressed (with a &#39;.gz&#39; extension), and\nthose in recovery-=\r\nlog-format may have a &#39;.s.&#39; inserted prior to the\nfunctional suffix (eg &#39;fr=\r\nontier.s.recover.gz&#39;) to indicate that prior to\nother steps, scoping should=\r\n be attempted against the included URIs.\n\nDropping the proper files (possib=\r\nly filtered) into this directory will\nlikely be the recommended way to reco=\r\nver prior crawl frontier state, or\nperform other bulk adds to a running cra=\r\nwler.\n\n \n\nOn Apr 11, 2012, at 3:15 PM, Kris Carpenter Negulescu wrote:\n\n\n\n\n=\r\n\n  \n\nFor very large crawls you will want to consider using the\nHashCrawlMap=\r\nper to spread the crawl over multiple crawl instances.\n\n \n\nhttps://webarchi=\r\nve.jira.com/wiki/display/Heritrix/Multiple+Machine+Crawl\ning\n\n \n\nFor the vo=\r\nlume of seeds you describe, you will want to distribute across\n10 or more c=\r\nrawl instances.\n\n \n\nLet us know if you need more detail/help in getting sta=\r\nrted.\n\n \n\nKris\n\n \n\nKris Carpenter Negulescu\nDirector, Web Group\nInternet Ar=\r\nchive\nkcarpenter@...\nskypeid: kris.carpenter \n\n \n\nOn Apr 11, 2012, =\r\nat 12:55 AM, Coram, Roger wrote:\n\n\n\n\n\n  \n\n \n\nWe&#39;re trying to begin a slash-=\r\npage crawl of 10,000,000+ seeds using\nHeritrix 3.0.0. While the initial few=\r\n million load relatively quickly\nafter a few hours the rate slows to a (par=\r\ndon the pun) crawl. The time\ntake thus far is now measurable in days. \n\n \n\n=\r\nWe&#39;ve tried doubling the memory allocated to the JVM, switching to the\nlate=\r\nst version of Java and tried launching a crawl with Heritrix 3.1.0\nfor comp=\r\narison but the results don&#39;t seem noticeably improved. Is this\nto be expect=\r\ned? How long should 10 or even 20 million seeds optimally\ntake to read? Is =\r\nthere anything obvious we can do to improve things?\n\n \n\nMany thanks,\n\nRoger=\r\n\n\n \n\n \n\n \n\n \n\n\n\n\r\n------_=_NextPart_001_01CD187C.7D23A24A\r\nContent-Type: text/html;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;html xmlns:v=3D&quot;urn:schemas-microsoft-com:vml&quot; xmlns:o=3D&quot;urn:schemas-micr=\r\nosoft-com:office:office&quot; xmlns:w=3D&quot;urn:schemas-microsoft-com:office:word&quot; =\r\nxmlns:m=3D&quot;http://schemas.microsoft.com/office/2004/12/omml&quot; xmlns=3D&quot;http:=\r\n//www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=\r\n=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;&lt;meta name=3DGenerator content=3D&quot;Micros=\r\noft Word 14 (filtered medium)&quot;&gt;&lt;!--[if !mso]&gt;&lt;style&gt;v&#92;:* {behavior:url(#def=\r\nault#VML);}\no&#92;:* {behavior:url(#default#VML);}\nw&#92;:* {behavior:url(#default#=\r\nVML);}\n.shape {behavior:url(#default#VML);}\n&lt;/style&gt;&lt;![endif]--&gt;&lt;style&gt;&lt;!--=\r\n\n/* Font Definitions */\n@font-face\n\t{font-family:Wingdings;\n\tpanose-1:5 0 0=\r\n 0 0 0 0 0 0 0;}\n@font-face\n\t{font-family:Wingdings;\n\tpanose-1:5 0 0 0 0 0 =\r\n0 0 0 0;}\n@font-face\n\t{font-family:Calibri;\n\tpanose-1:2 15 5 2 2 2 4 3 2 4;=\r\n}\n@font-face\n\t{font-family:Tahoma;\n\tpanose-1:2 11 6 4 3 5 4 4 2 4;}\n@font-f=\r\nace\n\t{font-family:Verdana;\n\tpanose-1:2 11 6 4 3 5 4 4 2 4;}\n@font-face\n\t{fo=\r\nnt-family:Consolas;\n\tpanose-1:2 11 6 9 2 2 4 3 2 4;}\n/* Style Definitions *=\r\n/\np.MsoNormal, li.MsoNormal, div.MsoNormal\n\t{margin:0cm;\n\tmargin-bottom:.00=\r\n01pt;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\nh3\n\t{mso-=\r\nstyle-priority:9;\n\tmso-style-link:&quot;Heading 3 Char&quot;;\n\tmso-margin-top-alt:aut=\r\no;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-=\r\nsize:13.5pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;\n\tfont-weight:bold;}\na:=\r\nlink, span.MsoHyperlink\n\t{mso-style-priority:99;\n\tcolor:#1E66AE;\n\ttext-deco=\r\nration:underline;}\na:visited, span.MsoHyperlinkFollowed\n\t{mso-style-priorit=\r\ny:99;\n\tcolor:#1E66AE;\n\ttext-decoration:underline;}\np\n\t{mso-style-priority:9=\r\n9;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto=\r\n;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;seri=\r\nf&quot;;}\ncode\n\t{mso-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\npre\n\t{mso-s=\r\ntyle-priority:99;\n\tmso-style-link:&quot;HTML Preformatted Char&quot;;\n\tmargin:0cm;\n\tm=\r\nargin-bottom:.0001pt;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Courier New&quot;;}\ntt\n\t{=\r\nmso-style-priority:99;\n\tfont-family:&quot;Courier New&quot;;}\nspan.Heading3Char\n\t{mso=\r\n-style-name:&quot;Heading 3 Char&quot;;\n\tmso-style-priority:9;\n\tmso-style-link:&quot;Headi=\r\nng 3&quot;;\n\tfont-family:&quot;Cambria&quot;,&quot;serif&quot;;\n\tcolor:#4F81BD;\n\tfont-weight:bold;}\n=\r\nspan.cat\n\t{mso-style-name:cat;}\nspan.ct\n\t{mso-style-name:ct;}\nspan.HTMLPref=\r\normattedChar\n\t{mso-style-name:&quot;HTML Preformatted Char&quot;;\n\tmso-style-priority=\r\n:99;\n\tmso-style-link:&quot;HTML Preformatted&quot;;\n\tfont-family:Consolas;}\np.attach,=\r\n li.attach, div.attach\n\t{mso-style-name:attach;\n\tmso-margin-top-alt:auto;\n\t=\r\nmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size=\r\n:9.0pt;\n\tfont-family:&quot;Arial&quot;,&quot;sans-serif&quot;;}\np.bold, li.bold, div.bold\n\t{mso=\r\n-style-name:bold;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-=\r\nbottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:10.0pt;\n\tfont-family:&quot;Arial&quot;,=\r\n&quot;sans-serif&quot;;\n\tfont-weight:bold;}\np.green, li.green, div.green\n\t{mso-style-=\r\nname:green;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom=\r\n-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Rom=\r\nan&quot;,&quot;serif&quot;;\n\tcolor:#628C2A;}\np.replbq, li.replbq, div.replbq\n\t{mso-style-n=\r\name:replbq;\n\tmargin:3.0pt;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman=\r\n&quot;,&quot;serif&quot;;}\np.ad, li.ad, div.ad\n\t{mso-style-name:ad;\n\tmso-margin-top-alt:au=\r\nto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont=\r\n-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.underline, li.unde=\r\nrline, div.underline\n\t{mso-style-name:underline;\n\tmso-margin-top-alt:auto;\n=\r\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-siz=\r\ne:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\nspan.yshortcuts\n\t{mso-st=\r\nyle-name:yshortcuts;}\np.ad1, li.ad1, div.ad1\n\t{mso-style-name:ad1;\n\tmso-mar=\r\ngin-top-alt:auto;\n\tmargin-right:0cm;\n\tmso-margin-bottom-alt:auto;\n\tmargin-l=\r\neft:0cm;\n\tfont-size:12.0pt;\n\tfont-family:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.ad2,=\r\n li.ad2, div.ad2\n\t{mso-style-name:ad2;\n\tmso-margin-top-alt:auto;\n\tmargin-ri=\r\nght:0cm;\n\tmargin-bottom:7.5pt;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-f=\r\namily:&quot;Times New Roman&quot;,&quot;serif&quot;;}\np.underline1, li.underline1, div.underlin=\r\ne1\n\t{mso-style-name:underline1;\n\tmso-margin-top-alt:auto;\n\tmargin-right:0cm=\r\n;\n\tmso-margin-bottom-alt:auto;\n\tmargin-left:0cm;\n\tfont-size:12.0pt;\n\tfont-f=\r\namily:&quot;Times New Roman&quot;,&quot;serif&quot;;\n\ttext-decoration:underline;}\nspan.yshortcu=\r\nts1\n\t{mso-style-name:yshortcuts1;\n\tfont-family:&quot;Verdana&quot;,&quot;sans-serif&quot;;\n\tfon=\r\nt-weight:bold;}\nspan.yshortcuts2\n\t{mso-style-name:yshortcuts2;\n\tfont-family=\r\n:&quot;Verdana&quot;,&quot;sans-serif&quot;;\n\tfont-weight:normal;}\nspan.EmailStyle37\n\t{mso-styl=\r\ne-type:personal-reply;\n\tfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\n\tcolor:#1F497D;=\r\n}\n.MsoChpDefault\n\t{mso-style-type:export-only;\n\tfont-size:10.0pt;}\n@page Wo=\r\nrdSection1\n\t{size:612.0pt 792.0pt;\n\tmargin:72.0pt 72.0pt 72.0pt 72.0pt;}\ndi=\r\nv.WordSection1\n\t{page:WordSection1;}\n/* List Definitions */\n@list l0\n\t{mso-=\r\nlist-id:581724684;\n\tmso-list-template-ids:1468015172;}\n@list l0:level1\n\t{ms=\r\no-level-number-format:bullet;\n\tmso-level-text:&#92;F0B7;\n\tmso-level-tab-stop:36=\r\n.0pt;\n\tmso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font=\r\n-size:10.0pt;\n\tfont-family:Symbol;}\n@list l0:level2\n\t{mso-level-number-form=\r\nat:bullet;\n\tmso-level-text:o;\n\tmso-level-tab-stop:72.0pt;\n\tmso-level-number=\r\n-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-fam=\r\nily:&quot;Courier New&quot;;\n\tmso-bidi-font-family:&quot;Times New Roman&quot;;}\n@list l0:level=\r\n3\n\t{mso-level-number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-s=\r\ntop:108.0pt;\n\tmso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-an=\r\nsi-font-size:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:level4\n\t{mso-level-n=\r\number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:144.0pt;\n\tm=\r\nso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10=\r\n.0pt;\n\tfont-family:Wingdings;}\n@list l0:level5\n\t{mso-level-number-format:bu=\r\nllet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:180.0pt;\n\tmso-level-number=\r\n-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-fam=\r\nily:Wingdings;}\n@list l0:level6\n\t{mso-level-number-format:bullet;\n\tmso-leve=\r\nl-text:&#92;F0A7;\n\tmso-level-tab-stop:216.0pt;\n\tmso-level-number-position:left;=\r\n\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:Wingdings;}=\r\n\n@list l0:level7\n\t{mso-level-number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\t=\r\nmso-level-tab-stop:252.0pt;\n\tmso-level-number-position:left;\n\ttext-indent:-=\r\n18.0pt;\n\tmso-ansi-font-size:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:level=\r\n8\n\t{mso-level-number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-s=\r\ntop:288.0pt;\n\tmso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-an=\r\nsi-font-size:10.0pt;\n\tfont-family:Wingdings;}\n@list l0:level9\n\t{mso-level-n=\r\number-format:bullet;\n\tmso-level-text:&#92;F0A7;\n\tmso-level-tab-stop:324.0pt;\n\tm=\r\nso-level-number-position:left;\n\ttext-indent:-18.0pt;\n\tmso-ansi-font-size:10=\r\n.0pt;\n\tfont-family:Wingdings;}\nol\n\t{margin-bottom:0cm;}\nul\n\t{margin-bottom:=\r\n0cm;}\n--&gt;&lt;/style&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapedefaults v:ext=3D&quot;edit&quot; s=\r\npidmax=3D&quot;1026&quot; /&gt;\n&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;\n&lt;o:shapelayou=\r\nt v:ext=3D&quot;edit&quot;&gt;\n&lt;o:idmap v:ext=3D&quot;edit&quot; data=3D&quot;1&quot; /&gt;\n&lt;/o:shapelayout&gt;&lt;/x=\r\nml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body bgcolor=3Dwhite lang=3DEN-GB link=3D&quot;#1E66AE&quot; v=\r\nlink=3D&quot;#1E66AE&quot;&gt;&lt;div class=3DWordSection1&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=\r\n=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;Hi K=\r\nris,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.=\r\n0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;Many thanks for the a=\r\ndvice. We&#8217;ll amend our configuration and see what happens.&lt;o:p&gt;&lt;/o:p&gt;=\r\n&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family=\r\n:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=\r\n=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-se=\r\nrif&quot;;color:#1F497D&#39;&gt;Thanks,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span=\r\n style=3D&#39;font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D=\r\n&#39;&gt;Roger&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;font-size:=\r\n11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;=\r\n/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div style=3D&#39;border:none;border-top:solid #B5C4DF 1.0pt;pad=\r\nding:3.0pt 0cm 0cm 0cm&#39;&gt;&lt;p class=3DMsoNormal&gt;&lt;b&gt;&lt;span lang=3DEN-US style=3D=\r\n&#39;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&#39;&gt;From:&lt;/span&gt;&lt;/b&gt;&lt;span =\r\nlang=3DEN-US style=3D&#39;font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;&#39;&gt; =\r\narchive-crawler@yahoogroups.com [mailto:archive-crawler@yahoogroups.com] &lt;b=\r\n&gt;On Behalf Of &lt;/b&gt;Kris Carpenter Negulescu&lt;br&gt;&lt;b&gt;Sent:&lt;/b&gt; 11 April 2012 23=\r\n:22&lt;br&gt;&lt;b&gt;To:&lt;/b&gt; archive-crawler@yahoogroups.com&lt;br&gt;&lt;b&gt;Cc:&lt;/b&gt; Kris Carpen=\r\nter Negulescu&lt;br&gt;&lt;b&gt;Subject:&lt;/b&gt; Re: [archive-crawler] Slow (?) loading mil=\r\nlions of seeds&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&=\r\nnbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&nbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div id=3Dygrp-ml=\r\nmsg&gt;&lt;div id=3Dygrp-msg&gt;&lt;div id=3Dygrp-text&gt;&lt;p&gt;You might also want to look a=\r\nt leveraging the Action Directory and splitting the seeds into multiple fil=\r\nes that get loaded incrementally vs as a single monolithic file....&lt;o:p&gt;&lt;/o=\r\n:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=\r\n=3DMsoNormal&gt;&lt;a href=3D&quot;https://webarchive.jira.com/wiki/display/Heritrix/H=\r\n3+Dev+Notes+for+Crawl+Operators#H3DevNotesforCrawlOperators-Millionsofseeds=\r\nOK&quot;&gt;https://webarchive.jira.com/wiki/display/Heritrix/H3+Dev+Notes+for+Craw=\r\nl+Operators#H3DevNotesforCrawlOperators-MillionsofseedsOK&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;h3 id=3DH3DevNotesforCrawlOperators-ActionDirectoryforpost-lau=\r\nnchURI-loading&gt;&lt;span style=3D&#39;font-size:14.0pt;font-family:&quot;Arial&quot;,&quot;sans-se=\r\nrif&quot;;color:#003366&#39;&gt;ActionDirectory for post-launch URI-loading&lt;o:p&gt;&lt;/o:p&gt;&lt;=\r\n/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span style=3D&#39;font-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-ser=\r\nif&quot;;color:black&#39;&gt;A bean class ActionDirectory, if present in a crawl config=\r\nuration (and it is recommended to become part of all standard configuration=\r\ns), watches a configured &#39;action&#39; directory for any files which appear (rec=\r\nhecking a configurable interval, default 30 seconds). For each file, an act=\r\nion is taken in accordance with the file&#39;s suffix, then the file is moved t=\r\no a &#39;done&#39; directory.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=3D&#39;font-size:10.0=\r\npt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;color:black&#39;&gt;A file ending &#39;.seeds&#39; wil=\r\nl trigger the addition of more seeds. A file ending &#39;.recover&#39; will be trea=\r\nted as a traditional recovery log -- with all &#39;Fs&#39; lines considered include=\r\nd (to suppress recrawling) then all &#39;F+&#39; lines rescheduled. A file ending &#39;=\r\n.include&#39;, &#39;.schedule&#39;, or &#39;.force&#39; respectively will be treated as if a re=\r\ncovery-log format (with 3-character prefix tag per line), but all URIs list=\r\ned (regardless of prefix-tag) will be considered-included, scheduled, or fo=\r\nrce-scheduled respectively.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=3D&#39;font-siz=\r\ne:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;color:black&#39;&gt;Any of these files m=\r\nay be gzip-compressed (with a &#39;.gz&#39; extension), and those in recovery-log-f=\r\normat may have a &#39;.s.&#39; inserted prior to the functional suffix (eg &#39;frontie=\r\nr.s.recover.gz&#39;) to indicate that prior to other steps, scoping should be a=\r\nttempted against the included URIs.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=3D&#39;=\r\nfont-size:10.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;color:black&#39;&gt;Dropping the=\r\n proper files (possibly filtered) into this directory will likely be the re=\r\ncommended way to recover prior crawl frontier state, or perform other bulk =\r\nadds to a running crawler.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&=\r\nnbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;p class=3DMsoNormal&gt;On Apr 11, 2012, at 3:15 PM, =\r\nKris Carpenter Negulescu wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p class=3DMsoNormal&gt;&lt;b=\r\nr&gt;&lt;br&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;background:white&#39;&gt;&=\r\nnbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div id=3Dygrp-text&gt;&lt;p style=3D&#39;background:white&#39;&gt;For =\r\nvery large crawls you will want to consider using the HashCrawlMapper to sp=\r\nread the crawl over multiple crawl instances.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p class=\r\n=3DMsoNormal style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p =\r\nclass=3DMsoNormal style=3D&#39;background:white&#39;&gt;&lt;a href=3D&quot;https://webarchive.=\r\njira.com/wiki/display/Heritrix/Multiple+Machine+Crawling&quot;&gt;https://webarchiv=\r\ne.jira.com/wiki/display/Heritrix/Multiple+Machine+Crawling&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/=\r\np&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o=\r\n:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;background:white&#39;&gt;For the v=\r\nolume of seeds you describe, you will want to distribute across 10 or more =\r\ncrawl instances.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;bac=\r\nkground:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=\r\n=3D&#39;background:white&#39;&gt;Let us know if you need more detail/help in getting s=\r\ntarted.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;background:w=\r\nhite&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;backgro=\r\nund:white&#39;&gt;Kris&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D=\r\n&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal sty=\r\nle=3D&#39;background:white&#39;&gt;Kris Carpenter Negulescu&lt;br&gt;Director, Web Group&lt;br&gt;=\r\nInternet Archive&lt;br&gt;&lt;a href=3D&quot;mailto:kcarpenter@...&quot;&gt;kcarpenter@ar=\r\nchive.org&lt;/a&gt;&lt;br&gt;skypeid: kris.carpenter &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p class=3DMs=\r\noNormal style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;p class=\r\n=3DMsoNormal style=3D&#39;background:white&#39;&gt;On Apr 11, 2012, at 12:55 AM, Coram=\r\n, Roger wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p class=3DMsoNormal style=3D&#39;background=\r\n:white&#39;&gt;&lt;br&gt;&lt;br&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p class=3DMsoNormal style=3D&#39;backgroun=\r\nd:white&#39;&gt;&nbsp; &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div id=3Dygrp-text&gt;&lt;div&gt;&lt;p class=3DMsoNorma=\r\nl style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMso=\r\nNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;backgrou=\r\nnd:white&#39;&gt;We&#8217;re trying to begin a slash-page crawl of 10,000,000+ see=\r\nds using Heritrix 3.0.0. While the initial few million load relatively quic=\r\nkly after a few hours the rate slows to a (pardon the pun) crawl. The time =\r\ntake thus far is now measurable in days. &lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNorma=\r\nl style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;background:wh=\r\nite&#39;&gt;&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:=\r\nauto;mso-margin-bottom-alt:auto;background:white&#39;&gt;We&#8217;ve tried doublin=\r\ng the memory allocated to the JVM, switching to the latest version of Java =\r\nand tried launching a crawl with Heritrix 3.1.0 for comparison but the resu=\r\nlts don&#8217;t seem noticeably improved. Is this to be expected? How long =\r\nshould 10 or even 20 million seeds optimally take to read? Is there anythin=\r\ng obvious we can do to improve things?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal s=\r\ntyle=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;background:white=\r\n&#39;&gt;&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=3DMsoNormal style=3D&#39;mso-margin-top-alt:aut=\r\no;mso-margin-bottom-alt:auto;background:white&#39;&gt;Many thanks,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;=\r\np class=3DMsoNormal style=3D&#39;mso-margin-top-alt:auto;mso-margin-bottom-alt:=\r\nauto;background:white&#39;&gt;Roger&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3DMsoNormal =\r\nstyle=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p =\r\nclass=3DMsoNormal style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;p class=3DMsoNormal style=3D&#39;background:white&#39;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/di=\r\nv&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class=3DMsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;p class=3DMsoNormal&gt;&lt;span style=3D&#39;color:white&#39;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;=\r\n&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n------_=_NextPart_001_01CD187C.7D23A24A--\r\n\n"}}