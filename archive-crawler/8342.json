{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":555706710,"authorName":"Zsolt Jur√°nyi","from":"=?ISO-8859-1?Q?Zsolt_Jur=E1nyi?= &lt;zsolt.juranyi@...&gt;","profile":"juzraai","replyTo":"LIST","senderId":"9PhRj_UP3VKozYcjbu3EpjTndSkwIHBCs29tadx8MVvP20VAen0Hc0AjZs3YdHcnDFNZxMvFenA9v5Z92ZeqGzf7PFs0C-Xcq4rSAnp2IQX1g859eMFH39u1xudNwBy9gg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] Heritrix 3.1.1 link extracting bugs","postDate":"1378806762","msgId":8342,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PENBTThSeWhaSzBjYystSCsrWmpVZUU9VDVfX0w3ZTVMdUNESlNCNnB0SE5jS0N6S0FLQUBtYWlsLmdtYWlsLmNvbT4=","inReplyToHeader":"PENBQS16NzBMQUc2d25lLVF4Mzg3X1BfaS1CVkQ9VDhUTnJmaUpUcE9SRmlSQnIrMjBtZ0BtYWlsLmdtYWlsLmNvbT4=","referencesHeader":"PGtzdGFpdStwZ2NrQGVHcm91cHMuY29tPgk8Q0FBLXo3MEx6MjJEVjFPaGcwcGRhOXdpdnYtUXRrN3JRZ0c1Y1U4Y1BISllLNm1PaHdBQG1haWwuZ21haWwuY29tPgk8Q0FNOFJ5aFpIbnd5KzFxUm5HdHpXQVZMNWR2MzczbUY4ZXVSUVV4PTVaN0FVaVo4NVJBQG1haWwuZ21haWwuY29tPgk8Q0FBLXo3MCtYeVVaTXNBUVh0RlNyZ1o2Rlg9UjUtX0pKTU8wVVE1Sll5Y2h0S2RLanBRQG1haWwuZ21haWwuY29tPgk8Q0FNOFJ5aFp6YVgrX1ErZitPeUdHaURCY1o1WndwdGtXMj1qT3RnOHhNbzIzWUNnOHl3QG1haWwuZ21haWwuY29tPgk8Q0FBLXo3MExBRzZ3bmUtUXgzODdfUF9pLUJWRD1UOFROcmZpSlRwT1JGaVJCcisyMG1nQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":8310,"nextInTopic":0,"prevInTime":8341,"nextInTime":8343,"topicId":8263,"numMessagesInTopic":8,"msgSnippet":"Hello Noah, Thanks for helping! I turned on scope log, and I see the list of extracted URLs, which looks fine. URLs like /?q=node/4014 appear in the list,","rawEmail":"Return-Path: &lt;zsolt.juranyi@...&gt;\r\nX-Sender: zsolt.juranyi@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 35800 invoked by uid 102); 10 Sep 2013 09:52:42 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m1.grp.bf1.yahoo.com with SMTP; 10 Sep 2013 09:52:42 -0000\r\nX-Received: (qmail 4097 invoked from network); 10 Sep 2013 09:52:42 -0000\r\nX-Received: from unknown (HELO mail-qc0-f169.google.com) (209.85.216.169)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 10 Sep 2013 09:52:42 -0000\r\nX-Received: by mail-qc0-f169.google.com with SMTP id c9so1910133qcz.14\n        for &lt;archive-crawler@yahoogroups.com&gt;; Tue, 10 Sep 2013 02:52:42 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.49.49.133 with SMTP id u5mr29835686qen.19.1378806762181;\n Tue, 10 Sep 2013 02:52:42 -0700 (PDT)\r\nX-Received: by 10.140.92.226 with HTTP; Tue, 10 Sep 2013 02:52:42 -0700 (PDT)\r\nIn-Reply-To: &lt;CAA-z70LAG6wne-Qx387_P_i-BVD=T8TNrfiJTpORFiRBr+20mg@...&gt;\r\nReferences: &lt;kstaiu+pgck@...&gt;\n\t&lt;CAA-z70Lz22DV1Ohg0pda9wivv-Qtk7rQgG5cU8cPHJYK6mOhwA@...&gt;\n\t&lt;CAM8RyhZHnwy+1qRnGtzWAVL5dv373mF8euRQUx=5Z7AUiZ85RA@...&gt;\n\t&lt;CAA-z70+XyUZMsAQXtFSrgZ6FX=R5-_JJMO0UQ5JYychtKdKjpQ@...&gt;\n\t&lt;CAM8RyhZzaX+_Q+f+OyGGiDBcZ5ZwptkW2=jOtg8xMo23YCg8yw@...&gt;\n\t&lt;CAA-z70LAG6wne-Qx387_P_i-BVD=T8TNrfiJTpORFiRBr+20mg@...&gt;\r\nDate: Tue, 10 Sep 2013 11:52:42 +0200\r\nMessage-ID: &lt;CAM8RyhZK0cc+-H++ZjUeE=T5__L7e5LuCDJSB6ptHNcKCzKAKA@...&gt;\r\nTo: archive-crawler@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=047d7b6788fa46389f04e604773d\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?ISO-8859-1?Q?Zsolt_Jur=E1nyi?= &lt;zsolt.juranyi@...&gt;\r\nSubject: Re: [archive-crawler] Heritrix 3.1.1 link extracting bugs\r\nX-Yahoo-Group-Post: member; u=555706710; y=KaoRYFdSdMLbYZEBHC04Gi_MsdWil7x-1SmNkSJgfhOmPDCc6lJ4TkmeoVyS5P_XgtLA0NCmChM25lc\r\nX-Yahoo-Profile: juzraai\r\n\r\n\r\n--047d7b6788fa46389f04e604773d\r\nContent-Type: text/plain; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHello Noah,\n\nThanks for helping! I turned on scope log, and I see the list =\r\nof extracted\nURLs, which looks fine.\n\nURLs like &quot;/?q=3Dnode/4014&quot; appear in=\r\n the list, but they are missing from the\nmirror directory.\n\nI began to thin=\r\nk MirrorWriter as a suspect for the missing files. I tried\nthe job with WAR=\r\nCWriter, the WARC file contains these pages.\n\nWhat I think of is that Mirro=\r\nrWriterProcessor cannot generate (proper)\nfilenames for links like &quot;/?q=3Dn=\r\node/4014&quot; - is that possible?\n\nZsolt\n\n\n\n2013/8/21 Noah Levitt &lt;nlevitt@arch=\r\nive.org&gt;\n\n&gt; **\n&gt;\n&gt;\n&gt; Zsolt,\n&gt;\n&gt; I\n&gt; ran a crawl with\n&gt; your\n&gt; cxml\n&gt;  and h=\r\nttp://archivum.asztrik.hu/?q=3Dnode/4014 was extracted. It was also\n&gt; deeme=\r\nd in scope, so it would have eventually been crawled if I&#39;d let the\n&gt; crawl=\r\n continue.\n&gt;\n&gt; If you write to warcs with default settings, the extracted o=\r\nutlinks are\n&gt; written in the warc metadata record. Also, if you enable the =\r\nlogToFile\n&gt; setting on your &quot;scope&quot; DecideRuleSequence, the scoping decisio=\r\nns will be\n&gt; logged to scope.log.\n&gt; I used these to settings to see what wa=\r\ns going on.\n&gt;\n&gt;\n&gt; Noah\n&gt;\n&gt;\n&gt; On Wed, Aug 21, 2013 at 1:26 AM, Zsolt Jur=E1n=\r\nyi &lt;zsolt.juranyi@...&gt;wrote:\n&gt;\n&gt;&gt;  [Attachment(s) &lt;#140a3ac29d5a4b93_=\r\n1409ffb42fbd3d5e_TopText&gt; from\n&gt;&gt; =3D?ISO-8859-1?Q?Zsolt_Jur=3DE1nyi?=3D in=\r\ncluded below]\n&gt;&gt;\n&gt;&gt; Hello Noah,\n&gt;&gt;\n&gt;&gt; The site which has the above link is:=\r\n http://archivum.asztrik.hu/\n&gt;&gt;\n&gt;&gt; I attach my job config.\n&gt;&gt; It&#39;s a defaul=\r\nt job config with the following modifications:\n&gt;&gt; - stay within domain - by=\r\n cutting out TransclusionDecideRule\n&gt;&gt; - ignore robots.txt\n&gt;&gt; - use MirrorW=\r\nriter\n&gt;&gt; - and some regex patterns to reject specific URIs\n&gt;&gt;\n&gt;&gt; Thanks,\n&gt;&gt;=\r\n Zsolt\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; 2013/8/17 Noah Levitt &lt;nlevitt@...&gt;\n&gt;&gt;\n&gt;&gt;&gt; **\n&gt;&gt;&gt;\n&gt;=\r\n&gt;&gt;\n&gt;&gt;&gt; Hello Zsolt,\n&gt;&gt;&gt;\n&gt;&gt;&gt; A link that appears like this\n&gt;&gt;&gt; &lt;a href=3D&quot;/?=\r\nq=3Dnode/4014&quot;&gt; in html should definitely be extracted. For it\n&gt;&gt;&gt; not to b=\r\ne extracted there would have to be something strange in your\n&gt;&gt;&gt; configurat=\r\nion, or something very strange about the page where the link\n&gt;&gt;&gt; appears.\n&gt;=\r\n&gt;&gt; I can&#39;t guess what it might be without looking at your config and/or\n&gt;&gt;&gt;=\r\n the url.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Noah\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Tue, Aug 13, 2013 at 7:32 AM, Zso=\r\nlt Jur=E1nyi &lt;zsolt.juranyi@...&gt;wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Hello guys,=\r\n\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Thanks for the quick replies.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; @Andrew:\n&gt;&gt;&gt;&gt; Yes, my jo=\r\nb is using the JavaScript extractor. Thanks for the hint,\n&gt;&gt;&gt;&gt; I&#39;ll try to =\r\nrun the job without this.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; @Noah:\n&gt;&gt;&gt;&gt; Yes, that link appears in t=\r\nhe source as a regular &lt;a&gt; tag, example:\n&gt;&gt;&gt;&gt; &lt;a href=3D&quot;/?q=3Dnode/4014&quot;&gt;\n=\r\n&gt;&gt;&gt;&gt; I also checked the robots.txt on that site, but it doesn&#39;t contain\n&gt;&gt;&gt;=\r\n&gt; disallow rule for this kind of links.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Thanks,\n&gt;&gt;&gt;&gt; Zsolt\n&gt;&gt;&gt;&gt;\n&gt;=\r\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; 2013/7/27 Noah Levitt &lt;nlevitt@...&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; **\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;=\r\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; I&#39;d encourage you to use the latest build\n&gt;&gt;&gt;&gt;&gt; http://builds.arc=\r\nhive.org:8080/maven2/org/archive/heritrix/heritrix/3.1.2-SNAPSHOT/heritrix-=\r\n3.1.2-SNAPSHOT-dist.tar.gz\n&gt;&gt;&gt;&gt;&gt; The javascript extractor has been much imp=\r\nroved since 3.1.1.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; How does this link &quot;?key=3Dsomething1/someth=\r\ning2&quot; appear in the source?\n&gt;&gt;&gt;&gt;&gt; If it&#39;s a regular a/@href or similar then=\r\n it should definitely be extracted.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; If you want to work on the =\r\nheritrix code, check it out from github\n&gt;&gt;&gt;&gt;&gt; (see https://github.com/inter=\r\nnetarchive/heritrix3). The classes\n&gt;&gt;&gt;&gt;&gt; you&#39;re interested in are probably =\r\nExtractorHTML and ExtractorJS.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Noah\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; On =\r\nFri, Jul 26, 2013 at 1:04 AM, juzraai &lt;zsolt.juranyi@...&gt;wrote:\n&gt;&gt;&gt;&gt;&gt;=\r\n\n&gt;&gt;&gt;&gt;&gt;&gt; Hello,\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; I started a crawl with Heritrix 3.1.1, and I n=\r\noticed some issues with\n&gt;&gt;&gt;&gt;&gt;&gt; link extracting.\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; Files with &quot;s=\r\ntrange&quot; names appeared in the mirror directory (I use\n&gt;&gt;&gt;&gt;&gt;&gt; MirrorWriter),=\r\n such as:\n&gt;&gt;&gt;&gt;&gt;&gt; - %2f\n&gt;&gt;&gt;&gt;&gt;&gt; - ^https:\n&gt;&gt;&gt;&gt;&gt;&gt; - &&S.3f!=3D\n&gt;&gt;&gt;&gt;&gt;&gt; - CSS se=\r\nlector\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; I think these files have the contents of the file whic=\r\nh the link\n&gt;&gt;&gt;&gt;&gt;&gt; appeared in.\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; I also noticed that links like=\r\n &quot;?key=3Dsomething1/something2&quot; were\n&gt;&gt;&gt;&gt;&gt;&gt; skipped, but they are important=\r\n links.\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; Can anyone give me some hint on how to fix these bugs=\r\n in Heritrix\n&gt;&gt;&gt;&gt;&gt;&gt; source code?\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; Thanks in advance,\n&gt;&gt;&gt;&gt;&gt;&gt; Zs=\r\nolt\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;&gt;&gt;&gt;=\r\n\n&gt;&gt;&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;=\r\n&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;  Attachment(s) from =3D?ISO-8859-1?Q?Zsolt_Jur=3DE1nyi?=3D\n&gt;&gt;\n&gt;=\r\n&gt; 1 of 1 File(s)\n&gt;&gt;    crawler-beans.cxml&lt;http://xa.yimg.com/kq/groups/8759=\r\n867/434884636/name/crawler-beans%2Ecxml&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;  \n&gt;\n\r\n--047d7b6788fa46389f04e604773d\r\nContent-Type: text/html; charset=windows-1252\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;Hello Noah,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks for helping! I turne=\r\nd on scope log, and I see the list of extracted URLs, which looks fine.&lt;/di=\r\nv&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;URLs like &quot;/?q=3Dnode/4014&quot; appear in the l=\r\nist, but they are missing from the mirror directory.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;=\r\n&lt;div&gt;I began to think MirrorWriter as a suspect for the missing files. I tr=\r\nied the job with WARCWriter, the WARC file contains these pages.&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;What I think of is that MirrorWriterProcessor cannot generat=\r\ne (proper) filenames for links like &quot;/?q=3Dnode/4014&quot; - is that p=\r\nossible?&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Zsolt&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div cl=\r\nass=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;2013/8/21 Noah Levit=\r\nt &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:nlevitt@...&quot; target=3D&quot;_b=\r\nlank&quot;&gt;nlevitt@...&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;\n&lt;blockquote class=3D&quot;gmail_quo=\r\nte&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex&quot;=\r\n&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div style&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;d=\r\niv&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;Zsolt,&lt;br&gt;&lt;br&gt;I &lt;div class=\r\n=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;ran a c=\r\nrawl with=A0&lt;/div&gt;your &lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:ar=\r\nial,helvetica,sans-serif&quot;&gt;\n\ncxml&lt;/div&gt;=A0and &lt;a href=3D&quot;http://archivum.asz=\r\ntrik.hu/?q=3Dnode/4014&quot; target=3D&quot;_blank&quot;&gt;http://archivum.asztrik.hu/?q=3Dn=\r\node/4014&lt;/a&gt; was extracted. It was also deemed in scope, so it would have e=\r\nventually been crawled if I&#39;d let the crawl continue.&lt;br&gt;\n\n&lt;br&gt;If you w=\r\nrite to warcs with default settings, the extracted outlinks are written in =\r\nthe warc metadata record. Also, if you enable the logToFile setting on your=\r\n &quot;scope&quot; DecideRuleSequence, the scoping decisions will be logged=\r\n to scope.log.&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helve=\r\ntica,sans-serif&quot;&gt;\n\n I used these to settings to see what was going on.&lt;/div=\r\n&gt;&lt;br&gt;&lt;br&gt;Noah&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_q=\r\nuote&quot;&gt;On Wed, Aug 21, 2013 at 1:26 AM, Zsolt Jur=E1nyi &lt;span dir=3D&quot;ltr&quot;&gt;&l=\r\nt;&lt;a href=3D&quot;mailto:zsolt.juranyi@...&quot; target=3D&quot;_blank&quot;&gt;zsolt.jurany=\r\ni@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; st=\r\nyle=3D&quot;border-left:1px #ccc solid&quot;&gt;\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;span sty=\r\nle=3D&quot;font-weight:bold;font-size:14px&quot;&gt;[&lt;a style=3D&quot;text-decoration:none&quot; h=\r\nref=3D&quot;#140a3ac29d5a4b93_1409ffb42fbd3d5e_TopText&quot;&gt;Attachment(s)&lt;/a&gt; from =\r\n=3D?ISO-8859-1?Q?Zsolt_Jur=3DE1nyi?=3D included below]&lt;/span&gt;\n&lt;br&gt;&lt;div&gt;&lt;div=\r\n class=3D&quot;h5&quot;&gt;&lt;br&gt;\n\n\n\n\n&lt;div dir=3D&quot;ltr&quot;&gt;Hello Noah,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The =\r\nsite which has the above link is: &lt;a href=3D&quot;http://archivum.asztrik.hu/&quot; t=\r\narget=3D&quot;_blank&quot;&gt;http://archivum.asztrik.hu/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I=\r\n attach my job config.&lt;/div&gt;\n\n&lt;div&gt;It&#39;s a default job config with the f=\r\nollowing modifications:&lt;/div&gt;\n&lt;div&gt;- stay within domain - by cutting out Tr=\r\nansclusionDecideRule&lt;/div&gt;&lt;div&gt;- ignore robots.txt&lt;/div&gt;&lt;div&gt;- use MirrorWr=\r\niter&lt;/div&gt;&lt;div&gt;- and some regex patterns to reject specific URIs&lt;/div&gt;&lt;div&gt;=\r\n&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;\n\n\n&lt;div&gt;Zsolt&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_ex=\r\ntra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;2013/8/17 Noah Levitt &lt;span dir=3D&quot;=\r\nltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:nlevitt@...&quot; target=3D&quot;_blank&quot;&gt;nlevitt@a=\r\nrchive.org&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;bor=\r\nder-left:1px #ccc solid&quot;&gt;\n\n\n\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;=\r\ndiv&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div c=\r\nlass=3D&quot;gmail_extra&quot;&gt;Hello Zsolt,&lt;br&gt;&lt;br&gt;A link that appears like this&lt;br&gt;&=\r\nlt;a href=3D&quot;/?q=3Dnode/4014&quot;&gt; in html should definitely be ex=\r\ntracted. For it not to be extracted there would have to be something strang=\r\ne in your configuration, or something very strange about the page where the=\r\n link appears. &lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family:arial,helv=\r\netica,sans-serif&quot;&gt;\n\n\n\nI can&#39;t guess what it might be without looking at=\r\n your config and/or &lt;/div&gt;&lt;div class=3D&quot;gmail_default&quot; style=3D&quot;font-family=\r\n:arial,helvetica,sans-serif&quot;&gt;the url.&lt;/div&gt;&lt;br&gt;&lt;br&gt;Noah&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;d=\r\niv class=3D&quot;gmail_quote&quot;&gt;\n\n\n\nOn Tue, Aug 13, 2013 at 7:32 AM, Zsolt Jur=E1n=\r\nyi &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:zsolt.juranyi@...&quot; target=\r\n=3D&quot;_blank&quot;&gt;zsolt.juranyi@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;&lt;blockquote cl=\r\nass=3D&quot;gmail_quote&quot; style=3D&quot;border-left-width:1px;border-left-color:rgb(20=\r\n4,204,204);border-left-style:solid&quot;&gt;\n\n\n\n\n\n\n\n\n\n\n        \n\n\n\n\n&lt;div&gt;\n\n\n\n\n\n&lt;br&gt;=\r\n&lt;br&gt;\n\n\n\n\n&lt;div dir=3D&quot;ltr&quot;&gt;Hello guys,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks for the qui=\r\nck replies.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@Andrew:&lt;/div&gt;&lt;div&gt;Yes, my job is usin=\r\ng the JavaScript extractor. Thanks for the hint, I&#39;ll try to run the jo=\r\nb without this.&lt;/div&gt;\n\n\n\n\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@Noah:&lt;/div&gt;&lt;div&gt;Yes, that l=\r\nink appears in the source as a regular &lt;a&gt; tag, example:&lt;div class=3D=\r\n&quot;gmail_default&quot; style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;/div&gt; &lt=\r\n;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; href&lt;/span&gt;=3D&quot;&lt;a&gt;/?q=3Dnode/4014&lt;/a&gt;&quot;&gt;&lt;=\r\n/div&gt;\n\n\n\n\n&lt;div&gt;I also checked the robots.txt on that site, but it doesn&#39=\r\n;t contain disallow rule for this kind of links.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;T=\r\nhanks,&lt;/div&gt;&lt;div&gt;Zsolt&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;\n&lt;br=\r\n&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;\n2013/7/27 Noah Levitt &lt;span dir=3D&quot;ltr&quot;&gt;&l=\r\nt;&lt;a href=3D&quot;mailto:nlevitt@...&quot; target=3D&quot;_blank&quot;&gt;nlevitt@archive.=\r\norg&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-lef=\r\nt-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid&quot;&gt;\n\n\n=\r\n\n\n\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div&gt;\n&lt;span&gt;=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n =\r\n     \n      \n      &lt;p&gt;&lt;/p&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div style=3D&quot;font-family:arial,=\r\nhelvetica,sans-serif&quot;&gt;I&#39;d encourage you to use the latest build=A0&lt;a hr=\r\nef=3D&quot;http://builds.archive.org:8080/maven2/org/archive/heritrix/heritrix/3=\r\n.1.2-SNAPSHOT/heritrix-3.1.2-SNAPSHOT-dist.tar.gz&quot; target=3D&quot;_blank&quot;&gt;http:/=\r\n/builds.archive.org:8080/maven2/org/archive/heritrix/heritrix/3.1.2-SNAPSHO=\r\nT/heritrix-3.1.2-SNAPSHOT-dist.tar.gz&lt;/a&gt;&lt;/div&gt;\n\n\n\n\n\n&lt;div style=3D&quot;font-fam=\r\nily:arial,helvetica,sans-serif&quot;&gt;The javascript extractor has been much impr=\r\noved since 3.1.1.&lt;/div&gt;&lt;div style=3D&quot;font-family:arial,helvetica,sans-serif=\r\n&quot;&gt;&lt;br&gt;&lt;/div&gt;\n\n&lt;div style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span s=\r\ntyle=3D&quot;font-family:monospace&quot;&gt;How does this link &quot;?key=3Dsomething1/s=\r\nomething2&quot; appear in the source? If it&#39;s a regular a/@href or simi=\r\nlar then it should definitely be extracted.&lt;/span&gt;&lt;br&gt;\n\n\n\n\n\n&lt;/div&gt;&lt;div styl=\r\ne=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span style=3D&quot;font-family:mon=\r\nospace&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace&quot;&gt;If you want to work =\r\non the heritrix code, check it out from github (see &lt;a href=3D&quot;https://gith=\r\nub.com/internetarchive/heritrix3&quot; target=3D&quot;_blank&quot;&gt;https://github.com/inte=\r\nrnetarchive/heritrix3&lt;/a&gt;). The classes you&#39;re interested in are probab=\r\nly ExtractorHTML and ExtractorJS.&lt;/font&gt;&lt;/div&gt;\n\n\n\n\n\n&lt;div&gt;&lt;font face=3D&quot;mono=\r\nspace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace&quot;&gt;Noah&lt;/font&gt;&lt;/div&gt;&lt;div=\r\n style=3D&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\n\n&lt;div cl=\r\nass=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;&lt;div&gt;On Fri, Jul 26,=\r\n 2013 at 1:04 AM, juzraai &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:zsolt.jur=\r\nanyi@...&quot; target=3D&quot;_blank&quot;&gt;zsolt.juranyi@...&lt;/a&gt;&gt;&lt;/span&gt; wr=\r\note:&lt;br&gt;\n\n\n\n\n\n&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left-=\r\nwidth:1px;border-left-color:rgb(204,204,204);border-left-style:solid&quot;&gt;&lt;div&gt;=\r\nHello,&lt;br&gt;\n&lt;br&gt;\nI started a crawl with Heritrix 3.1.1, and I noticed some i=\r\nssues with link extracting.&lt;br&gt;\n&lt;br&gt;\nFiles with &quot;strange&quot; names a=\r\nppeared in the mirror directory (I use MirrorWriter), such as:&lt;br&gt;\n- %2f&lt;br=\r\n&gt;\n- ^https:&lt;br&gt;\n- &amp;&amp;S.3f!=3D&lt;br&gt;\n- CSS selector&lt;br&gt;\n&lt;br&gt;\nI think th=\r\nese files have the contents of the file which the link appeared in.&lt;br&gt;\n&lt;br=\r\n&gt;\nI also noticed that links like &quot;?key=3Dsomething1/something2&quot; w=\r\nere skipped, but they are important links.&lt;br&gt;\n&lt;br&gt;\nCan anyone give me some=\r\n hint on how to fix these bugs in Heritrix source code?&lt;br&gt;\n&lt;br&gt;\nThanks in =\r\nadvance,&lt;br&gt;\nZsolt&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;&lt;/div&gt;\n-------------------------------=\r\n-----&lt;br&gt;\n&lt;br&gt;\nYahoo! Groups Links&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To visit your group o=\r\nn the web, go to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;http://groups.yahoo.com/group/arch=\r\nive-crawler/&quot; target=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/group/archive-crawl=\r\ner/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; Your email settings:&lt;br&gt;\n=A0 =A0 Individual Emai=\r\nl | Traditional&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change settings online go to:&lt;br&gt;\n=A0=\r\n =A0 &lt;a href=3D&quot;http://groups.yahoo.com/group/archive-crawler/join&quot; target=\r\n=3D&quot;_blank&quot;&gt;http://groups.yahoo.com/group/archive-crawler/join&lt;/a&gt;&lt;br&gt;\n=A0 =\r\n=A0 (Yahoo! ID required)&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To change settings via email:&lt;b=\r\nr&gt;\n=A0 =A0 &lt;a href=3D&quot;mailto:archive-crawler-digest@yahoogroups.com&quot; target=\r\n=3D&quot;_blank&quot;&gt;archive-crawler-digest@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n=A0 =A0 &lt;a href=\r\n=3D&quot;mailto:archive-crawler-fullfeatured@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;=\r\narchive-crawler-fullfeatured@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; To unsu=\r\nbscribe from this group, send an email to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;mailto:ar=\r\nchive-crawler-unsubscribe@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;archive-crawle=\r\nr-unsubscribe@yahoogroups.com&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;*&gt; Your use of Yahoo! Gro=\r\nups is subject to:&lt;br&gt;\n=A0 =A0 &lt;a href=3D&quot;http://docs.yahoo.com/info/terms/=\r\n&quot; target=3D&quot;_blank&quot;&gt;http://docs.yahoo.com/info/terms/&lt;/a&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;/blockq=\r\nuote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;col=\r\nor:rgb(255,255,255)&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;=\r\n/div&gt;&lt;br&gt;&lt;/div&gt;\n\n\n\n\n\n\n&lt;br&gt;\n\n    \n    \n&lt;br&gt;\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;div width=3D&quot;1&quot;=\r\n style=3D&quot;color:white&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;=\r\n/div&gt;&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff&quot;&gt;&lt;=\r\n/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\n\n\n\n\n\n=\r\n&lt;br&gt;\n\n      &lt;/div&gt;&lt;/div&gt;&lt;a name=3D&quot;140a3ac29d5a4b93_1409ffb42fbd3d5e_TopTex=\r\nt&quot;&gt;&lt;p&gt;&lt;span style=3D&quot;color:#628c2a;font-weight:bold;font-size:14px&quot;&gt; Attach=\r\nment(s) from =3D?ISO-8859-1?Q?Zsolt_Jur=3DE1nyi?=3D &lt;/span&gt; &lt;/p&gt;&lt;/a&gt;\n    \n =\r\n         &lt;p&gt;&lt;span style=3D&quot;color:#628c2a;font-weight:bold&quot;&gt; 1 of 1 File(s) =\r\n&lt;/span&gt;\n          &lt;/p&gt;\n        &lt;div&gt;\n              &lt;div&gt;\n            &lt;div&gt;\n=\r\n    &lt;div&gt; &lt;img&gt;&lt;/div&gt;\n    &lt;div&gt; &lt;a href=3D&quot;http://xa.yimg.com/kq/groups/875=\r\n9867/434884636/name/crawler-beans%2Ecxml&quot; target=3D&quot;_blank&quot;&gt;crawler-beans.c=\r\nxml&lt;/a&gt;&lt;/div&gt;\n  &lt;/div&gt;\n        &lt;/div&gt;\n          &lt;/div&gt;\n\n  \n&lt;br&gt;\n\n\n\n\n&lt;div wi=\r\ndth=3D&quot;1&quot; style=3D&quot;color:white&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;\n&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:=\r\n0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--047d7b6788fa46389f04e604773d--\r\n\n"}}