{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":191387937,"authorName":"pandae667","from":"&quot;pandae667&quot; &lt;aaron667@...&gt;","profile":"pandae667","replyTo":"LIST","senderId":"tBtjBNRrvUqqVrt7yoV6Fgb6WR7rgTnA0o7oBO3rse0E3IsI-j9ib0UjIIguFmiE9VRTKY3s8sZgBMnrDDiF7QIOLtC1","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: suspecting regression due to [#HER-1109]","postDate":"1176719906","msgId":4116,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGV2dmpuMis5amt2QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MUVENTY0LjUwNjA3MDdAYXJjaGl2ZS5vcmc+"},"prevInTopic":4107,"nextInTopic":0,"prevInTime":4115,"nextInTime":4117,"topicId":4101,"numMessagesInTopic":5,"msgSnippet":"Thanks alot Gordon, it seems to me like your fix was successful. I had a set of about 25000 seeds that caused the issue - crawling it with your fix doesn t","rawEmail":"Return-Path: &lt;aaron667@...&gt;\r\nX-Sender: aaron667@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 37195 invoked from network); 16 Apr 2007 10:39:29 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m42.grp.scd.yahoo.com with QMQP; 16 Apr 2007 10:39:29 -0000\r\nReceived: from unknown (HELO n12a.bullet.sp1.yahoo.com) (69.147.64.109)\n  by mta5.grp.scd.yahoo.com with SMTP; 16 Apr 2007 10:39:28 -0000\r\nReceived: from [216.252.122.216] by n12.bullet.sp1.yahoo.com with NNFMP; 16 Apr 2007 10:38:29 -0000\r\nReceived: from [66.218.69.6] by t1.bullet.sp1.yahoo.com with NNFMP; 16 Apr 2007 10:38:29 -0000\r\nReceived: from [66.218.66.86] by t6.bullet.scd.yahoo.com with NNFMP; 16 Apr 2007 10:38:29 -0000\r\nDate: Mon, 16 Apr 2007 10:38:26 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;evvjn2+9jkv@...&gt;\r\nIn-Reply-To: &lt;461ED564.5060707@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;pandae667&quot; &lt;aaron667@...&gt;\r\nSubject: Re: suspecting regression due to [#HER-1109]\r\nX-Yahoo-Group-Post: member; u=191387937; y=z4Fek0-3q8PvubrJSvpx1RjhnXBoPTcEmG_PRUr1ZOBFkk2u\r\nX-Yahoo-Profile: pandae667\r\n\r\nThanks alot Gordon,\n\nit seems to me like your fix was successful. \nI had a =\r\nset of about 25000 seeds that caused the issue - crawling it\nwith your fix =\r\ndoesn&#39;t reveal the issue anymore.\nIf by any chance it should ever happen ag=\r\nain I&#39;ll try to reduce this\nset of 25000 seeds to a smaller subset that tri=\r\nggers it, too. (but I\ndo hope this isn&#39;t neccessary anymore)\n\nRegards\n  Ola=\r\nf Freyer\n\n--- In archive-crawler@yahoogroups.com, Gordon Mohr &lt;gojomo@...&gt; =\r\nwrote:\n&gt;\n&gt; Though I haven&#39;t been able to reproduce, I do see a bug in \n&gt; Re=\r\ncordingOutputStream&#39;s mark/reset support that looks like it could \n&gt; cause =\r\nthis problem. The fix is committed to SVN, if you&#39;d like to\ntry on \n&gt; your =\r\nend.\n&gt; \n&gt; - Gordon @ IA\n&gt; \n&gt; Gordon Mohr wrote:\n&gt; &gt; I&#39;ve tried to reproduce=\r\n this against the site which originally\nmotivated \n&gt; &gt; the fix -- a site th=\r\nat was using &#39;chunked&#39; even when responding to an \n&gt; &gt; HTTP/1.0 request, ag=\r\nainst the HTTP/1.1 spec. However, that site has \n&gt; &gt; changed its behavior s=\r\nince -- so I can neither verify the fix nor \n&gt; &gt; reproduce the problem.\n&gt; &gt;=\r\n \n&gt; &gt; Similarly, while I see the site in your example giving &#39;chunked&#39; \n&gt; &gt;=\r\n responses for Firefox visits, from Heritrix I only get regular\nresponses \n=\r\n&gt; &gt; (and thus no hint of the problem you&#39;re reporting).\n&gt; &gt; \n&gt; &gt; This possi=\r\nbility of ARC corruption is very serious and I&#39;d like to be \n&gt; &gt; able to re=\r\nproduce and fix, so more details on how you&#39;re crawling\nwould \n&gt; &gt; be most =\r\nhelpful. You can also add comments to [#HER-1109].\n&gt; &gt; \n&gt; &gt; - Gordon @ IA\n&gt;=\r\n &gt; \n&gt; &gt; Gordon Mohr wrote:\n&gt; &gt;&gt; Thanks for the report.\n&gt; &gt;&gt;\n&gt; &gt;&gt; By any cha=\r\nnce are you crawling in a manner especially likely to \n&gt; &gt;&gt; encounter &#39;chun=\r\nked&#39; content -- for example do you change the\nrequest&#39;s \n&gt; &gt;&gt; declared vers=\r\nion to &#39;HTTP/1.1&#39;?\n&gt; &gt;&gt;\n&gt; &gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;\n&gt; &gt;&gt; pandae667 wrote:\n&gt; &gt;&gt;&gt;=\r\n Dear IA-Team,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; since updating my source branch to include (amon=\r\ng many other things)\n&gt; &gt;&gt;&gt; the proposed fix for [#HER-1109] I&#39;m getting lot=\r\ns of broken ARC\nfiles.\n&gt; &gt;&gt;&gt; To be more exact, its not the ARC file being b=\r\nroken, but the content\n&gt; &gt;&gt;&gt; in the ARC file.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Thy symphtom seem=\r\ns to always be the same. The real HTTP response\n&gt; &gt;&gt;&gt; header is mingled wit=\r\nh some non-related HTTP header snippets. Those\n&gt; &gt;&gt;&gt; non-related snippet so=\r\n far ALWAYS contained &quot;Transfer-Encoding:\n&gt; &gt;&gt;&gt; chunked&quot; - this is why I&#39;m =\r\nsuspecting [#HER-1109] to be the cause.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; This so far had two dif=\r\nferent noticable results:\n&gt; &gt;&gt;&gt;   - I were able to read the ARCRecord, pars=\r\ne HTTP-Headers but\nended up\n&gt; &gt;&gt;&gt; with some unrelated HTTP-Header stuff in =\r\nthe content (due to\n&gt; &gt;&gt;&gt; additional linebreaks from unrelated HTTP-header)=\r\n\n&gt; &gt;&gt;&gt;   - I ended up with an IndexOutOfBoundsException while reading the\n&gt;=\r\n &gt;&gt;&gt; ARCRecord ( ARCRecord.read(ARCRecord.java:410) - I think this reader\n&gt;=\r\n &gt;&gt;&gt; is still from heritrix 1.8.0 release )\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Here is a (tr=\r\nuncated by me at the end) example record:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\nhttp://www.barke-immo=\r\nbilien.de/index.php?titel=3Dimpressum&PHPSESSID=3Da4b9005c39179754329e4fefe=\r\neb1f89e\n&gt; &gt;&gt;&gt; 81.209.184.140 20070412090240 text/html 4651\n&gt; &gt;&gt;&gt; HTTP/1.1 2=\r\n00 OK^M\n&gt; &gt;&gt;&gt; Date: Thu, 12 Apr 2007 08:58:45 GMT^M\n&gt; &gt;&gt;&gt; Server: Apache^M\n=\r\n&gt; &gt;&gt;&gt; X-Powered-By: PHP/5.2.1^M\n&gt; &gt;&gt;&gt; X-UD-Host: webspace.udag.de^M\n&gt; &gt;&gt;&gt; X=\r\n-UD-Method: baukasten^M\n&gt; &gt;&gt;&gt; X-UD-Target: ^M\n&gt; &gt;&gt;&gt; Connection: close^M\n&gt; &gt;=\r\n&gt;&gt; Transfer-Encoding: chunked^M\n&gt; &gt;&gt;&gt; Content-Type: text/html^M\n&gt; &gt;&gt;&gt; ^M\n&gt; =\r\n&gt;&gt;&gt; 3Thu, 19 Nov 1981 08:52:00 GMT^M\n&gt; &gt;&gt;&gt; Cache-Control: no-store, no-cach=\r\ne, must-revalidate, post-check=3D0,\n&gt; &gt;&gt;&gt; pre-check=3D0^M\n&gt; &gt;&gt;&gt; Pragma: no-=\r\ncache^M\n&gt; &gt;&gt;&gt; Connection: close^M\n&gt; &gt;&gt;&gt; Content-Type: text/html^M\n&gt; &gt;&gt;&gt; ^M\n=\r\n&gt; &gt;&gt;&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;^M\n&gt; &gt;&gt;&gt;  &quot;ht=\r\ntp://www.w3.org/TR/xhtml1/DTD/Strict.dtd&quot;&gt;^M\n&gt; &gt;&gt;&gt; &lt;html xmlns=3D&quot;http://ww=\r\nw.w3.org/1999/xhtml&quot; xml:lang=3D&quot;de&quot;\nlang=3D&quot;de&quot;&gt;^M\n&gt; &gt;&gt;&gt; &lt;head&gt;^M\n&gt; &gt;&gt;&gt; &lt;m=\r\neta http-equiv=3D&quot;content-type&quot; content=3D&quot;text/html;\n&gt; &gt;&gt;&gt; charset=3DISO-8=\r\n859-1&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;keywords&quot; content=3D&quot;Immobilien, Vermietung=\r\nen, Verkauf,\n&gt; &gt;&gt;&gt; H=E4user, Wohnung, Wohnungen&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;a=\r\nuthor&quot; content=3D&quot;Ulf Leis&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;copyright&quot; content=3D&quot;=\r\nUlf Leis&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;organization&quot; content=3D&quot;Barke Immobilie=\r\nn&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;generator&quot; content=3D&quot;Scite&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta n=\r\name=3D&quot;owner&quot; content=3D&quot;Andre Barke&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;robots&quot; cont=\r\nent=3D&quot;all&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;description&quot; content=3D&quot;Auf unseren We=\r\nbseiten k=F6nnen Sie\n&gt; &gt;&gt;&gt; sich =FCber unsere Vermietungen und Verk=E4ufe i=\r\nnformieren.&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;meta name=3D&quot;language&quot; content=3D&quot;de&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;=\r\nlink rel=3D&quot;SHORTCUT ICON&quot; href=3D&quot;favicon.ico&quot; /&gt;^M\n&gt; &gt;&gt;&gt; &lt;title&gt;Barke Imm=\r\nobilien - impressum&lt;/title&gt;^M\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I&#39;m not yet sure if I&#39;ll be able =\r\nto provide some quick steps to\n&gt; &gt;&gt;&gt; reproduce this problem - but maybe tho=\r\nse infos allready help.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Regards\n&gt; &gt;&gt;&gt;   Olaf Freyer\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;=\r\n\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;  \n&gt; &gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;  \n&gt; &gt;&gt;=\r\n Yahoo! Groups Links\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups =\r\nLinks\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}