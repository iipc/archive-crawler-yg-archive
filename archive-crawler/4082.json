{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"z5KjXG-qMkre-ccOn-e-IoUjKmhUJGTv_f4S3qedaWEzChK8waFRyhXiV1uRrY29xBids5KF7KU-yzcIvvHGFOViCxSpccA","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [archive-crawler] questions about heritrix memory consumption","postDate":"1176253013","msgId":4082,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ2MUMzMjU1LjkwMjAxMDZAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGV2aDM5MStrMTJlQGVHcm91cHMuY29tPg==","referencesHeader":"PGV2aDM5MStrMTJlQGVHcm91cHMuY29tPg=="},"prevInTopic":4079,"nextInTopic":4084,"prevInTime":4081,"nextInTime":4083,"topicId":4079,"numMessagesInTopic":8,"msgSnippet":"Two possibilities come to mind: (1) I don t think jmap -histo forces a GC first. And, its output seems peculiar given the webUI figures: it s showing over","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 25548 invoked from network); 11 Apr 2007 00:56:04 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m45.grp.scd.yahoo.com with QMQP; 11 Apr 2007 00:56:04 -0000\r\nReceived: from unknown (HELO mail.archive.org) (207.241.233.246)\n  by mta8.grp.scd.yahoo.com with SMTP; 11 Apr 2007 00:56:04 -0000\r\nReceived: from localhost (localhost [127.0.0.1])\n\tby mail.archive.org (Postfix) with ESMTP id 722811415FD61\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 10 Apr 2007 17:54:24 -0700 (PDT)\r\nReceived: from mail.archive.org ([127.0.0.1])\n\tby localhost (mail.archive.org [127.0.0.1]) (amavisd-new, port 10024)\n\twith LMTP id 10410-10-45 for &lt;archive-crawler@yahoogroups.com&gt;;\n\tTue, 10 Apr 2007 17:54:24 -0700 (PDT)\r\nReceived: from [192.168.1.203] (c-76-102-230-209.hsd1.ca.comcast.net [76.102.230.209])\n\tby mail.archive.org (Postfix) with ESMTP id 0CF691415FD0A\n\tfor &lt;archive-crawler@yahoogroups.com&gt;; Tue, 10 Apr 2007 17:54:24 -0700 (PDT)\r\nMessage-ID: &lt;461C3255.9020106@...&gt;\r\nDate: Tue, 10 Apr 2007 17:56:53 -0700\r\nUser-Agent: Thunderbird 1.5.0.10 (X11/20070306)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;evh391+k12e@...&gt;\r\nIn-Reply-To: &lt;evh391+k12e@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Virus-Scanned: Debian amavisd-new at archive.org\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] questions about heritrix memory consumption\r\nX-Yahoo-Group-Post: member; u=137285340; y=TkYbOUi8jteuaAjMsWhQIeIOhRYs5kHRgctvXQR_799t\r\nX-Yahoo-Profile: gojomo\r\n\r\nTwo possibilities come to mind:\n\n(1) I don&#39;t think &#39;jmap -histo&#39; forces a GC first. And, its output seems \npeculiar given the webUI figures: it&#39;s showing over 1GB of byte arrays \n(&quot;[B&quot;), though the webUi reports only ~400MB heap in use. So I think the \n&#39;jmap -histo&#39; figures contain dead objects. Maybe a forced GC would give \nmore sensible figures.\n\n(2) The crawl didn&#39;t finish completely or cleanly. It&#39;s not \npaused-at-finish waiting for a possible resume with more URIs, is it?\n\n- Gordon @ IA\n\npandae667 wrote:\n&gt; Dear IA-Team,\n&gt; \n&gt; whilest analysing the results of a previous crawl I decided to also\n&gt; take a closer look at heritrix. To be more specific a closer look at\n&gt; the state heritrix was in after finishing the job.\n&gt; (basically heritrix-1.12 with some minor patches running under java 1.6)\n&gt; \n&gt; The webUI showed me the following stats:\n&gt; \n&gt; Memory\n&gt; 402591 KB used\n&gt; 950456 KB current heap\n&gt; 3063488 KB max heap\n&gt; \n&gt; Now this is quite a lot memory being used while sitting there idle.\n&gt; So I wondered what is eating up all my precious memory and this is\n&gt; what jmap -histo &lt;pid&gt; was able to tell me:\n&gt; \n&gt; num   #instances    #bytes  class name\n&gt; --------------------------------------\n&gt;   1:   7716610   1352335640  [B\n&gt;   2:   5202265   208090600  com.sleepycat.je.tree.LN\n&gt;   3:     78155    81900656  [[B\n&gt;   4:     78149    81900152  [Lcom.sleepycat.je.tree.Node;\n&gt;   5:    469864    72832376  [C\n&gt;   6:     24169    25050392  [J\n&gt;   7:    421191    20217168  java.util.Hashtable$Entry\n&gt;   8:    467772    18710880  java.lang.String\n&gt;   9:     75246    12641328  com.sleepycat.je.tree.BIN\n&gt;  10:    259687    12464976  org.archive.crawler.admin.SeedRecord\n&gt;  ...\n&gt;  ...\n&gt;  ...\n&gt; \n&gt; So what I&#39;m asking myself is: why do I still see about 5 million\n&gt; instances of com.sleepycat.je.tree.LN in memory whilest sitting there\n&gt; idle and the last job having finished about 3 days ago ?\n&gt; \n&gt; Anyone able to share some insights with me?\n&gt; \n&gt; Regards\n&gt;   Olaf Freyer\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n\n"}}