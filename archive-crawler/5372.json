{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":343342970,"authorName":"Jean-NoÃ«l Rivasseau","from":"&quot;=?UTF-8?Q?Jean-No=C3=ABl_Rivasseau?=&quot; &lt;elvanor@...&gt;","replyTo":"LIST","senderId":"JfpZVCbval4NxvkmjV_ngvUp6xiXrPd2jX0NAMqDtTPECfALZDh7kpFL0cc20Mqos4sPGLLQm7QdBSVKKUtywwxHIMs_6_7WvKBxYZqH7GO2cLiau55Oecjauuyfph_S_g","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Encoding questions and suggestions (again)","postDate":"1217432554","msgId":5372,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGQ2MWM1NzMwMDgwNzMwMDg0MnQ0YjhiOTY5MndmMDc5OGU2NTNlMTlhNjRlQG1haWwuZ21haWwuY29tPg=="},"prevInTopic":0,"nextInTopic":0,"prevInTime":5371,"nextInTime":5373,"topicId":5372,"numMessagesInTopic":1,"msgSnippet":"Hi there, When I first started playing with Heritrix I tightly coupled the running of the crawl-job with its analysis. I wrote a Processor class and ran an","rawEmail":"Return-Path: &lt;elvanor@...&gt;\r\nX-Sender: elvanor@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 9851 invoked from network); 30 Jul 2008 15:42:35 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m48.grp.scd.yahoo.com with QMQP; 30 Jul 2008 15:42:35 -0000\r\nX-Received: from unknown (HELO an-out-0708.google.com) (209.85.132.247)\n  by mta18.grp.scd.yahoo.com with SMTP; 30 Jul 2008 15:42:35 -0000\r\nX-Received: by an-out-0708.google.com with SMTP id b20so13039ana.9\n        for &lt;archive-crawler@yahoogroups.com&gt;; Wed, 30 Jul 2008 08:42:35 -0700 (PDT)\r\nX-Received: by 10.100.126.19 with SMTP id y19mr13025366anc.106.1217432554671;\n        Wed, 30 Jul 2008 08:42:34 -0700 (PDT)\r\nX-Received: by 10.100.144.8 with HTTP; Wed, 30 Jul 2008 08:42:34 -0700 (PDT)\r\nMessage-ID: &lt;d61c57300807300842t4b8b9692wf0798e653e19a64e@...&gt;\r\nDate: Wed, 30 Jul 2008 17:42:34 +0200\r\nTo: archive-crawler@yahoogroups.com\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;=?UTF-8?Q?Jean-No=C3=ABl_Rivasseau?=&quot; &lt;elvanor@...&gt;\r\nSubject: Encoding questions and suggestions (again)\r\nX-Yahoo-Group-Post: member; u=343342970\r\n\r\nHi there,\n\nWhen I first started playing with Heritrix I tightly coupled the\nrunning of the crawl-job with its analysis. I wrote a Processor class\nand ran an analysis on the downloaded files straight within the\nHeritrix engine. This led me to discover the encoding bug that has now\nbeen fixed.\n\nRecently I realized that it would be better to modularize my code and\nrun my analysis of the content once the crawl job is done. So I am now\ndealing with ARC files instead of what was sent directly from\nHeritrix. I noticed that ARC files are direct dumps of the web pages,\neg, no encoding / decoding is performed with respect to the crawler /\ndistant web server charsets.\n\nThis is ok, but the problem is that then it seems to out the burden of\ndealing with the encoding on my part, whereas Heritrix has already an\nimplementation to determine the charset of a received URL. Probably it\nlooks at the header and / or at the meta tag inside the HTML content.\nIs there a way to reuse this code? Or do I have to do everything\nmanually, eg extract the header / meta tag myself?\n\nWhat would be nice is an option that would allow Heritrix to\nautomatically save the received content using the crawler default\nencoding. Thus everything would be already saved in UTF-8 in my case.\nSure it is a bit dangerous (if issues occur, it is better to save raw\ncontent as is currently done), but this would be an useful feature to\nsome people like me.\n\nWhat do you think?\n\nJean-Noel\n\n"}}