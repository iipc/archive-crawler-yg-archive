{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":137285340,"authorName":"Gordon Mohr","from":"Gordon Mohr &lt;gojomo@...&gt;","profile":"gojomo","replyTo":"LIST","senderId":"e6dTEcHZhMqt2Bgbs4WE4zv4BV48DJvFVrXhqjXLxenXibp4FiDPgL2y8jVLstiUApn0ESnB8tTTcRzpBZjO6SKaZoNu1c4","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [archive-crawler] java.lang.OutOfMemoryError: Java heap space With Heritrix 1.14.1 and","postDate":"1219872186","msgId":5429,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDQ4QjVDNUJBLjkwNDA2MDdAYXJjaGl2ZS5vcmc+","inReplyToHeader":"PGc5Mzlkays2Nm9zQGVHcm91cHMuY29tPg==","referencesHeader":"PGc5Mzlkays2Nm9zQGVHcm91cHMuY29tPg=="},"prevInTopic":5428,"nextInTopic":5435,"prevInTime":5428,"nextInTime":5430,"topicId":5427,"numMessagesInTopic":8,"msgSnippet":"For reference, what is your OS (distro & 32/64bit) and hardware (processor)? Also, is anything else running on the machine? I suspect this may be an instance","rawEmail":"Return-Path: &lt;gojomo@...&gt;\r\nX-Sender: gojomo@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nX-Received: (qmail 34536 invoked from network); 27 Aug 2008 21:23:10 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m54.grp.scd.yahoo.com with QMQP; 27 Aug 2008 21:23:10 -0000\r\nX-Received: from unknown (HELO relay03.pair.com) (209.68.5.17)\n  by mta17.grp.scd.yahoo.com with SMTP; 27 Aug 2008 21:23:10 -0000\r\nX-Received: (qmail 5186 invoked from network); 27 Aug 2008 21:23:05 -0000\r\nX-Received: from unknown (HELO ?192.168.1.88?) (unknown)\n  by unknown with SMTP; 27 Aug 2008 21:23:05 -0000\r\nX-pair-Authenticated: 67.170.220.186\r\nMessage-ID: &lt;48B5C5BA.9040607@...&gt;\r\nDate: Wed, 27 Aug 2008 14:23:06 -0700\r\nUser-Agent: Thunderbird 2.0.0.16 (Windows/20080708)\r\nMIME-Version: 1.0\r\nTo: archive-crawler@yahoogroups.com\r\nReferences: &lt;g939dk+66os@...&gt;\r\nIn-Reply-To: &lt;g939dk+66os@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Gordon Mohr &lt;gojomo@...&gt;\r\nSubject: Re: [archive-crawler] java.lang.OutOfMemoryError: Java heap space\n With Heritrix 1.14.1 and\r\nX-Yahoo-Group-Post: member; u=137285340; y=TGEAzOoQtAJ3MnqNlMzjV8XLkBwENF4nfUaz47Mb0eE7\r\nX-Yahoo-Profile: gojomo\r\n\r\nFor reference, what is your OS (distro & 32/64bit) and hardware \n(processor)?\n\nAlso, is anything else running on the machine?\n\nI suspect this may be an instance of one of these issues:\n\nhttp://webteam.archive.org/jira/browse/HER-1449\nhttp://webteam.archive.org/jira/browse/HER-588\n\nBoth are ultimately caused by Sun Java/JVM bugs which appear to have \nbeen improved in later versions.\n\nIf you must use a Java 5/1.5 version, I recommend at least &quot;u12&quot; (rather \nthan the &quot;_05&quot; you&#39;re using). The latest, &quot;u16&quot;, would also be a good idea.\n\nIf possible, I recommend using a recent Java 6/1.6 version. (The latest \nappears to be either &quot;u10 RC&quot; or &quot;u7&quot;.) It&#39;s faster and can give more \ninformation about OOME and low-memory conditions. (For this reason, it \ncan be worth running for temporary debugging purposes even if you must \neventually deploy to an older Java.)\n\n- Gordon @ IA\n\n\nrhispm wrote:\n&gt; As requested by Gordon Mohr I&#39;m posting this bug report here.\n&gt; I&#39;m getting the above error message after crawling \n&gt; 79333 URIs (for ~50mins) with currently 401922 queued. Once this alert\n&gt; occures, the currnent job is paused, and I have to manually Resume the\n&gt; job from the web interface (upon which it runs for another couple of\n&gt; minutes before encountering the same issue again). \n&gt; Btw. Starting heritrix with 512MB or 1G Heap sizes only helps in a way\n&gt; that it takes longer until the OOME occures, i.e. ~3hrs with 1G heap,\n&gt; but it still happens)\n&gt; \n&gt; The seed file I&#39;m using (random.urls) has 1842 seeds in it.\n&gt; \n&gt; Since Gordon said that crawls of this size should not be a problem at\n&gt; all I&#39;m wondering what I might be doing wrong.\n&gt; \n&gt; If you need more information than what is below I&#39;m glad to provide it.\n&gt; \n&gt; cheers\n&gt; --pm\n&gt; \n&gt; System information:\n&gt; \n&gt; Heritirx runs as:\n&gt; /usr/bin/../bin/java -Dje.disable.java.adler32=true\n&gt; -Dheritrix.home=/opt/heritrix-1.14.1\n&gt; -Djava.protocol.handler.pkgs=org.archive.net\n&gt; -Dheritrix.out=/opt/heritrix-1.14.1/heritrix_out.log -Xmx256m\n&gt; -Dcom.sun.management.jmxremote.port=8849\n&gt; -Dcom.sun.management.jmxremote.ssl=false\n&gt; -Dcom.sun.management.jmxremote.authenticate=false\n&gt; org.archive.crawler.Heritrix -a a:a\n&gt; \n&gt; Java is:\n&gt; /usr/bin/../bin/java -version\n&gt; java version &quot;1.5.0_05&quot;\n&gt; Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_05-b05)\n&gt; Java HotSpot(TM) Client VM (build 1.5.0_05-b05, mixed mode)\n&gt; \n&gt; Stack Trace:\n&gt; Time:   \t Aug. 27, 2008 09:40:34 GMT\n&gt; Level:  \tSEVERE\n&gt; Message:  \t\n&gt; \n&gt; Serious error occured trying to process &#39;CrawlURI\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1090682.ece LLLL\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1321172.ece in\n&gt; ExtractorHTML&#39;\n&gt; [ToeThread #16:\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1090682.ece\n&gt;  CrawlURI\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1090682.ece LLLL\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1321172.ece    0\n&gt; attempts\n&gt;     in processor: ExtractorHTML\n&gt;     ACTIVE for 683ms\n&gt;     step: ABOUT_TO_BEGIN_PROCESSOR for 203ms\n&gt;     java.lang.Thread.dumpThreads(Native Method)\n&gt;     java.lang.Thread.getStackTrace(Thread.java:1383)\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:514)\n&gt;     org.archive.crawler.framework.ToeThread.reportTo(ToeThread.java:592)\n&gt;     org.archive.util.DevUtils.extraInfo(DevUtils.java:65)\n&gt;    \n&gt; org.archive.crawler.framework.ToeThread.seriousError(ToeThread.java:230)\n&gt;    \n&gt; org.archive.crawler.framework.ToeThread.processCrawlUri(ToeThread.java:325)\n&gt;     org.archive.crawler.framework.ToeThread.run(ToeThread.java:151)\n&gt; ]\n&gt;            timestamp  discovered      queued   downloaded      \n&gt; doc/s(avg)  KB/s(avg)   dl-failures   busy-thread   mem-use-KB \n&gt; heap-size-KB   congestion   max-depth   avg-depth\n&gt; 2008-08-27T09:40:34Z      483770      401760        79299     \n&gt; 23.45(26.4)   692(662)             0            25       181503      \n&gt;  260160        44.48       64038          73\n&gt;  (in thread &#39;ToeThread #16:\n&gt; http://www.thesun.co.uk/sol/homepage/travel/article1090682.ece&#39;; in\n&gt; processor &#39;ExtractorHTML&#39;)\n&gt; \n&gt; Exception:  \t\n&gt; \n&gt; java.lang.OutOfMemoryError: Java heap space\n&gt; Stacktrace: java.lang.OutOfMemoryError: Java heap space\n&gt; \n&gt; Changes in order.xml (options changed from default):\n&gt; &lt;name&gt;\n&gt; &lt;description&gt;\n&gt; &lt;date&gt;\n&gt; &lt;integer name=&quot;max-toe-threads&quot;&gt;25&lt;/integer&gt;\n&gt; &lt;string name=&quot;seedsfile&quot;&gt;random.urls&lt;/string&gt;\n&gt; &lt;integer name=&quot;max-hops&quot;&gt;5&lt;/integer&gt;\n&gt; &lt;string name=&quot;user-agent&quot;&gt;\n&gt; &lt;string name=&quot;from&quot;&gt;\n&gt; &lt;newObject name=&quot;robots-honoring-policy&quot;\n&gt; class=&quot;org.archive.crawler.datamodel.RobotsHonoringPolicy&quot;&gt;\n&gt; &lt;string name=&quot;type&quot;&gt;most-favored&lt;/string&gt;\n&gt; &lt;long name=&quot;max-length-bytes&quot;&gt;102400&lt;/long&gt;\n&gt; &lt;long name=&quot;max-size-bytes&quot;&gt;1000000000&lt;/long&gt;\n&gt; &lt;stringList name=&quot;path&quot;&gt;\n&gt; &lt;string&gt;/var/crawl/random&lt;/string&gt;\n&gt; &lt;/stringList&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n\n"}}