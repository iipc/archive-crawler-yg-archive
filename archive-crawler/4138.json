{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":226854683,"authorName":"lorengordon","from":"&quot;lorengordon&quot; &lt;mail1@...&gt;","profile":"lorengordon","replyTo":"LIST","senderId":"gyqV_65md9pqjaIxAa40egRNPU72cgXrhL_e8MfoWrwvzbn4HHn3DDXBfqEvnSe2fJOub2eCITCgSLNAkmD1m-ceg_Tmq8pTbVsjTA","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: existance of something like DomainQueueAssignementPolicy","postDate":"1176894539","msgId":4138,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGYwNHU4YituNWc3QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDQ2MjVDOTAzLjEwNzA4MDhAYXJjaGl2ZS5vcmc+"},"prevInTopic":4132,"nextInTopic":4158,"prevInTime":4137,"nextInTime":4139,"topicId":3962,"numMessagesInTopic":8,"msgSnippet":"There are probably a lot more exceptions than you might think.  A lot of the country TLDs have three letter effective TLDs, such as China (net.cn, com.cn,","rawEmail":"Return-Path: &lt;mail1@...&gt;\r\nX-Sender: mail1@...\r\nX-Apparently-To: archive-crawler@yahoogroups.com\r\nReceived: (qmail 67757 invoked from network); 18 Apr 2007 11:11:19 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m48.grp.scd.yahoo.com with QMQP; 18 Apr 2007 11:11:19 -0000\r\nReceived: from unknown (HELO n26.bullet.scd.yahoo.com) (66.94.237.55)\n  by mta7.grp.scd.yahoo.com with SMTP; 18 Apr 2007 11:11:19 -0000\r\nReceived: from [66.218.69.3] by n26.bullet.scd.yahoo.com with NNFMP; 18 Apr 2007 11:09:00 -0000\r\nReceived: from [66.218.66.90] by t3.bullet.scd.yahoo.com with NNFMP; 18 Apr 2007 11:09:00 -0000\r\nDate: Wed, 18 Apr 2007 11:08:59 -0000\r\nTo: archive-crawler@yahoogroups.com\r\nMessage-ID: &lt;f04u8b+n5g7@...&gt;\r\nIn-Reply-To: &lt;4625C903.1070808@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;lorengordon&quot; &lt;mail1@...&gt;\r\nSubject: Re: existance of something like DomainQueueAssignementPolicy\r\nX-Yahoo-Group-Post: member; u=226854683; y=egBcUZErL09xUZ7CniA3wH50YtuETVkBeemx_syYE43DdJq799k\r\nX-Yahoo-Profile: lorengordon\r\n\r\nThere are probably a lot more exceptions than you might think.  A lot \nof t=\r\nhe country TLDs have three letter &quot;effective TLDs,&quot; such as China \n(net.cn,=\r\n com.cn, edu.cn, etc).\n\nCheers,\nLoren\n\n\n--- In archive-crawler@yahoogroups.=\r\ncom, Gordon Mohr &lt;gojomo@...&gt; \nwrote:\n&gt;\n&gt; The &#39;5-letter-rule&#39; sounds intere=\r\nsting, though I&#39;m sure there are \n&gt; exceptions.\n&gt; \n&gt; I recently learned of =\r\nan effort at Mozilla to determine a set of \nrules \n&gt; for finding the &quot;effec=\r\ntive Top Level Domain&quot;, essentially what \ndomain is \n&gt; the fan-out point fo=\r\nr delegation/registration by independent \n&gt; administrators. See:\n&gt; \n&gt;    ht=\r\ntp://wiki.mozilla.org/Gecko:Effective_TLD_Service\n&gt; \n&gt; If that effort bears=\r\n fruit, it should provide rules that could be \nreused \n&gt; for crawling.\n&gt; \n&gt;=\r\n - Gordon @ IA\n&gt; \n&gt; pandae667 wrote:\n&gt; &gt; Thanks alot Bjarne for sharing you=\r\nr implementation,\n&gt; &gt; \n&gt; &gt; but during further investigations towards #HER-1=\r\n094 I came up with\n&gt; &gt; another idea that I think looks promising (but maybe=\r\n I don&#39;t just \nsee\n&gt; &gt; the caveats yet).\n&gt; &gt; \n&gt; &gt; The basic problem is &quot;wha=\r\nt constitutes a reasonable domain \npartitioning&quot; ?\n&gt; &gt; Gordon brought up th=\r\ne example of &quot;foo.bar.baz.co.uk&quot; that for sure\n&gt; &gt; shouldn&#39;t be put in a &quot;c=\r\no.uk&quot; queue but rather into a &quot;baz.co.uk&quot; \nqueue.\n&gt; &gt; \n&gt; &gt; So my first naiv=\r\ne approach would be:\n&gt; &gt; if the 2nd level domain consists of two or less le=\r\ntters also take \nthe\n&gt; &gt; 3rd level domain into account.\n&gt; &gt; \n&gt; &gt; But this a=\r\npproach might introduce some unintended side effects -\n&gt; &gt; namely with two =\r\nletter 2nd level domains under the hood of the \ngeneral\n&gt; &gt; purpose top lev=\r\nel domains like .com (for example aa.com).\n&gt; &gt; \n&gt; &gt; So the most convenient =\r\nsolution so far seems to me to be something\n&gt; &gt; like &quot;the resulting domain =\r\nshould be constructed  by as many \ndomain\n&gt; &gt; levels as it takes so that th=\r\ne result contains at least consists \nof\n&gt; &gt; five letters&quot; (notwithstanding =\r\nhttp://x.org that takes a special \nrole...)\n&gt; &gt; \n&gt; &gt; examples:\n&gt; &gt; foo.bar.=\r\nbaz.example.com =3D&gt; example.com\n&gt; &gt; foo.bar.baz.example.co.uk =3D&gt; example=\r\n.co.uk \n&gt; &gt; foo.bar.baz.aa.com &gt; aa.com\n&gt; &gt; x.org =3D&gt; x.org\n&gt; &gt; \n&gt; &gt; To ma=\r\nke sure &quot;www.x.org&quot; and &quot;x.org&quot; both enter the same queue\n&gt; &gt; stripping any=\r\n &quot;www[&#92;d]*&#92;.&quot; prefix afterwards might seem \nreasonable, too.\n&gt; &gt; \n&gt; &gt; I con=\r\nsider this idea as a &quot;request for discussion&quot; and hope to get\n&gt; &gt; some help=\r\nful comments.\n&gt; &gt; \n&gt; &gt; Regards\n&gt; &gt;   Olaf Freyer\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; --- In archi=\r\nve-crawler@yahoogroups.com, Bjarne Andersen &lt;bja@&gt; \nwrote:\n&gt; &gt;&gt; We have imp=\r\nlemented a simple version of this. It&#39;s attached to \nthis\n&gt; &gt; mail (I&#39;m uns=\r\nure if attachments get removed)\n&gt; &gt;&gt; We use that exactly to limit load on d=\r\nomain-level and to limit \nthe\n&gt; &gt; overall number of fetches / bytes on doma=\r\nin-level (with the \nQuotaEnforcer \n&gt; &gt;&gt; module which has the notion of Grou=\r\nps following the\n&gt; &gt; QueueAssignmentPolicy)\n&gt; &gt;&gt; best\n&gt; &gt;&gt; -- \n&gt; &gt;&gt; Bjarne =\r\nAndersen\n&gt; &gt;&gt; Daily Manager - netarchive.dk\n&gt; &gt;&gt;\n&gt; &gt;&gt; State & University Li=\r\nbrary\n&gt; &gt;&gt; Universitetsparken\n&gt; &gt;&gt; DK-8000 Aarhus C\n&gt; &gt;&gt; T: +45 89462165 - =\r\nC: +45 25662353\n&gt; &gt;&gt; CVR/SE 10100682 - EAN 5798000791084\n&gt; &gt;&gt; http://netarc=\r\nhive.dk\n&gt; &gt;&gt;\n&gt; &gt;&gt; pandae667 wrote:\n&gt; &gt;&gt;&gt; --- In archive-crawler@yahoogroups=\r\n.com, Gordon Mohr &lt;gojomo@&gt; \nwrote:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; pandae667 wrote:\n&gt; &gt;&gt;&gt;&gt;\n&gt; =\r\n&gt;&gt;&gt;&gt;&gt; Dear IA-Team,\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; I&#39;m wondering if there is something lik=\r\ne a\n&gt; &gt;&gt;&gt;&gt;&gt; DomainQueueAssignementPolicy (I need this to make sure not to \n=\r\ncrawl\n&gt; &gt;&gt;&gt;&gt;&gt; more than one host located on the same domain at once - \nothe=\r\nrwise I\n&gt; &gt;&gt;&gt;&gt;&gt; might DoS customers that use loads of different sub-hostnam=\r\nes \nfor\n&gt; &gt;&gt;&gt;&gt;&gt; different purposes.)\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; If nothing alike exist=\r\ns yet I&#39;d implement such a policy based \nupon\n&gt; &gt;&gt;&gt;&gt;&gt; SurtAuthorityQueueAss=\r\nignmentPolicy.\n&gt; &gt;&gt;&gt;&gt; Nothing like that yet exists.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; If it is =\r\nonly an issue only for a certain known set of domains,\n&gt; &gt; you can \n&gt; &gt;&gt;&gt;&gt; =\r\nuse the &quot;force-queue-assignment&quot; frontier setting in a domain\n&gt; &gt; override =\r\n\n&gt; &gt;&gt;&gt;&gt; to force all URIs in subdomains into the same queue.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; =\r\n(Specifically: if this setting is non-empty, all URIs to which \nthe \n&gt; &gt;&gt;&gt;&gt;=\r\n setting applies will have this string, rather than the string\n&gt; &gt; given by=\r\n \n&gt; &gt;&gt;&gt;&gt; the assignment-policy, as its queue name.)\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; A policy =\r\nto do this would be a valuable contribution. Of \ncourse, for \n&gt; &gt;&gt;&gt;&gt; differ=\r\nent top-level-domains the number of domain-segments that\n&gt; &gt; reflect \n&gt; &gt;&gt;&gt;=\r\n&gt; &quot;same domain&quot; (in a meaningful shared-ownership sense) varies.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;=\r\n&gt;&gt;&gt; - Gordon @ IA\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Hi Gordon,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I do agree that it wo=\r\nuld be usefull to make such an \nAssignementPolicy\n&gt; &gt;&gt;&gt; configurable - but =\r\nit seems to me like this isn&#39;t an available \noption.\n&gt; &gt;&gt;&gt; To offer somethi=\r\nng like addElementToDefinition the class would \nneed to\n&gt; &gt;&gt;&gt; extend Comple=\r\nxType - but currently those AssignementPolicies \nare based\n&gt; &gt;&gt;&gt; upon the a=\r\nbstract class QueueAssignementPolicy.\n&gt; &gt;&gt;&gt; Additionally to this shortcomin=\r\ng I don&#39;t know how the webUI\n&gt; &gt;&gt;&gt; would/should handle this case. The assig=\r\nnement policies are \nlisted in\n&gt; &gt;&gt;&gt; a dropdown box on the settings page - =\r\nthus propably offering no \nway to\n&gt; &gt;&gt;&gt; set additional options.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;=\r\n Regards\n&gt; &gt;&gt;&gt;   Olaf Freyer\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yaho=\r\no! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n"}}